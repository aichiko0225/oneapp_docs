{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"index.html","title":"OneApp \u67b6\u6784\u8bbe\u8ba1\u6587\u6863","text":"<p>OneApp Flutter \u5e94\u7528\u7684\u5b8c\u6574\u6280\u672f\u67b6\u6784\u8bbe\u8ba1\u548c\u6a21\u5757\u8bf4\u660e\u6587\u6863\u7ad9\u70b9</p>"},{"location":"index.html#_1","title":"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb","text":"<p>\u672c\u6587\u6863\u7ad9\u70b9\u57fa\u4e8e Docsify \u6784\u5efa\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684 OneApp Flutter \u5e94\u7528\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e\u3002</p>"},{"location":"index.html#_2","title":"\ud83d\udcd6 \u4e3b\u8981\u5185\u5bb9","text":"<ul> <li>\u67b6\u6784\u8bbe\u8ba1 - \u5b8c\u6574\u7684\u7cfb\u7edf\u67b6\u6784\u8bbe\u8ba1\u6587\u6863</li> <li>\u4e3b\u5e94\u7528\u67b6\u6784 - \u4e3b\u5e94\u7528\u7684\u8be6\u7ec6\u67b6\u6784\u8bf4\u660e  </li> <li>\u8c03\u8bd5\u5de5\u5177 - \u5f00\u53d1\u8c03\u8bd5\u5de5\u5177\u4f7f\u7528\u6307\u5357</li> </ul>"},{"location":"index.html#_3","title":"\ud83d\udcf1 \u529f\u80fd\u6a21\u5757","text":""},{"location":"index.html#_4","title":"\u6838\u5fc3\u6a21\u5757","text":"<ul> <li>\u8d26\u6237\u6a21\u5757 - \u7528\u6237\u8d26\u6237\u7ba1\u7406\u548c\u8ba4\u8bc1</li> <li>\u8f66\u8f86\u76f8\u5173 - \u8f66\u8f86\u63a7\u5236\u3001\u5145\u7535\u3001\u7ef4\u62a4\u7b49\u529f\u80fd</li> <li>\u552e\u540e\u670d\u52a1 - \u552e\u540e\u670d\u52a1\u76f8\u5173\u529f\u80fd</li> </ul>"},{"location":"index.html#_5","title":"\u57fa\u7840\u8bbe\u65bd","text":"<ul> <li>\u57fa\u7840UI - UI\u7ec4\u4ef6\u548c\u8bbe\u8ba1\u7cfb\u7edf</li> <li>\u57fa\u7840\u5de5\u5177 - \u7f51\u7edc\u3001\u5b58\u50a8\u3001\u65e5\u5fd7\u7b49\u57fa\u7840\u5de5\u5177</li> </ul>"},{"location":"index.html#_6","title":"\u4e1a\u52a1\u529f\u80fd","text":"<ul> <li>\u6c7d\u8f66\u9500\u552e - \u6c7d\u8f66\u9500\u552e\u76f8\u5173\u529f\u80fd</li> <li>\u793e\u533a\u529f\u80fd - \u7528\u6237\u793e\u533a\u4ea4\u4e92</li> <li>\u4f1a\u5458\u670d\u52a1 - \u4f1a\u5458\u6743\u76ca\u7ba1\u7406</li> <li>\u8bbe\u7f6e\u6a21\u5757 - \u5e94\u7528\u8bbe\u7f6e\u529f\u80fd</li> </ul>"},{"location":"index.html#_7","title":"\ud83d\udee0\ufe0f \u6280\u672f\u6808","text":"<ul> <li>\u6846\u67b6: Flutter 3.0+</li> <li>\u8bed\u8a00: Dart 3.0+</li> <li>\u67b6\u6784: MVVM + \u6a21\u5757\u5316</li> <li>\u72b6\u6001\u7ba1\u7406: Provider + Bloc</li> <li>\u8def\u7531: Flutter Modular</li> <li>\u7f51\u7edc: Dio</li> <li>\u5b58\u50a8: Hive + SharedPreferences</li> </ul>"},{"location":"index.html#_8","title":"\ud83d\udcd6 \u4f7f\u7528\u6307\u5357","text":""},{"location":"index.html#_9","title":"\u5728\u7ebf\u6d4f\u89c8","text":"<ul> <li>\u4f7f\u7528\u5de6\u4fa7\u5bfc\u822a\u680f\u6d4f\u89c8\u4e0d\u540c\u6a21\u5757</li> <li>\u4f7f\u7528\u53f3\u4e0a\u89d2\u641c\u7d22\u529f\u80fd\u5feb\u901f\u67e5\u627e\u5185\u5bb9</li> <li>\u70b9\u51fb\u4e3b\u9898\u5207\u6362\u6309\u94ae\u5207\u6362\u6df1\u8272/\u6d45\u8272\u6a21\u5f0f</li> </ul>"},{"location":"index.html#_10","title":"\u672c\u5730\u90e8\u7f72","text":"<pre><code># \u5b89\u88c5 docsify-cli\nnpm install -g docsify-cli\n\n# \u5728\u9879\u76ee\u76ee\u5f55\u542f\u52a8\u672c\u5730\u670d\u52a1\ndocsify serve\n\n# \u8bbf\u95ee http://localhost:3000\n</code></pre>"},{"location":"index.html#_11","title":"\ud83c\udfaf \u7279\u6027","text":"<ul> <li>\u2705 Mermaid \u56fe\u8868\u652f\u6301 - \u6240\u6709\u67b6\u6784\u56fe\u8868\u81ea\u52a8\u6e32\u67d3</li> <li>\u2705 \u54cd\u5e94\u5f0f\u8bbe\u8ba1 - \u5b8c\u7f8e\u652f\u6301\u79fb\u52a8\u7aef\u548c\u684c\u9762\u7aef</li> <li>\u2705 \u5168\u6587\u641c\u7d22 - \u5feb\u901f\u67e5\u627e\u6587\u6863\u5185\u5bb9</li> <li>\u2705 \u4e3b\u9898\u5207\u6362 - \u652f\u6301\u6d45\u8272\u548c\u6df1\u8272\u4e3b\u9898</li> <li>\u2705 \u4ee3\u7801\u9ad8\u4eae - \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\u8bed\u6cd5\u9ad8\u4eae</li> <li>\u2705 \u56fe\u7247\u7f29\u653e - \u70b9\u51fb\u56fe\u7247\u53ef\u653e\u5927\u67e5\u770b</li> </ul> <p>?&gt; \u63d0\u793a: \u6587\u6863\u4e2d\u7684\u6240\u6709 Mermaid \u56fe\u8868\u90fd\u652f\u6301\u4ea4\u4e92\u5f0f\u67e5\u770b\uff0c\u70b9\u51fb\u53ef\u83b7\u5f97\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html","title":"OneApp \u67b6\u6784\u8bbe\u8ba1\u6587\u6863","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#app","title":"App \u77e5\u8bc6","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_apk","title":"1. APK \u89e3\u538b\u5185\u5bb9\u5206\u6790","text":"<p>APK (Android Package) \u662f Android \u5e94\u7528\u7684\u5b89\u88c5\u5305\u683c\u5f0f\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u538b\u7f29\u6587\u4ef6\u3002\u901a\u8fc7\u89e3\u538b APK \u53ef\u4ee5\u4e86\u89e3\u5e94\u7528\u7684\u6784\u6210\u548c\u7ed3\u6784\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#apk","title":"APK \u6587\u4ef6\u7ed3\u6784","text":"apk \u6587\u4ef61 apk \u6587\u4ef62 <pre><code>app-debug.apk (\u89e3\u538b\u540e)\n\u251c\u2500\u2500 AndroidManifest.xml          # \u5e94\u7528\u6e05\u5355\u6587\u4ef6 (\u4e8c\u8fdb\u5236\u683c\u5f0f)\n\u251c\u2500\u2500 classes.dex                  # Dalvik\u5b57\u8282\u7801\u6587\u4ef6\n\u251c\u2500\u2500 classes2.dex                 # \u989d\u5916\u7684dex\u6587\u4ef6 (\u591adex\u5e94\u7528)\n\u251c\u2500\u2500 resources.arsc               # \u7f16\u8bd1\u540e\u7684\u8d44\u6e90\u6587\u4ef6\n\u251c\u2500\u2500 assets/                      # \u9759\u6001\u8d44\u6e90\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 flutter_assets/          # Flutter\u8d44\u6e90\u6587\u4ef6\n\u2502   \u2502   \u251c\u2500\u2500 kernel_blob.bin      # Dart\u4ee3\u7801\u7f16\u8bd1\u4ea7\u7269 (Debug\u6a21\u5f0f)\n\u2502   \u2502   \u251c\u2500\u2500 isolate_snapshot_*   # Dart\u4ee3\u7801\u5feb\u7167 (Release\u6a21\u5f0f)\n\u2502   \u2502   \u251c\u2500\u2500 vm_snapshot_*        # Dart VM\u5feb\u7167 (Release\u6a21\u5f0f)\n\u2502   \u2502   \u251c\u2500\u2500 AssetManifest.json   # \u8d44\u6e90\u6e05\u5355\n\u2502   \u2502   \u2514\u2500\u2500 packages/            # \u7b2c\u4e09\u65b9\u5305\u8d44\u6e90\n\u2502   \u2514\u2500\u2500 build.properties         # \u6784\u5efa\u5c5e\u6027\u6587\u4ef6\n\u251c\u2500\u2500 res/                         # Android\u8d44\u6e90\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 drawable/                # \u56fe\u7247\u8d44\u6e90\n\u2502   \u251c\u2500\u2500 layout/                  # \u5e03\u5c40\u6587\u4ef6 (\u4e8c\u8fdb\u5236\u683c\u5f0f)\n\u2502   \u251c\u2500\u2500 values/                  # \u5b57\u7b26\u4e32\u3001\u989c\u8272\u7b49\u8d44\u6e90\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 lib/                         # \u672c\u5730\u5e93\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 arm64-v8a/              # 64\u4f4dARM\u67b6\u6784\u5e93\n\u2502   \u2502   \u2514\u2500\u2500 libflutter.so       # Flutter\u5f15\u64ce\n\u2502   \u251c\u2500\u2500 armeabi-v7a/            # 32\u4f4dARM\u67b6\u6784\u5e93\n\u2502   \u2514\u2500\u2500 x86_64/                 # x86_64\u67b6\u6784\u5e93\n\u251c\u2500\u2500 META-INF/                    # \u7b7e\u540d\u548c\u6e05\u5355\u4fe1\u606f\n\u2502   \u251c\u2500\u2500 MANIFEST.MF             # \u6e05\u5355\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 CERT.SF                 # \u7b7e\u540d\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 CERT.RSA                # \u8bc1\u4e66\u6587\u4ef6\n\u2514\u2500\u2500 kotlin/                      # Kotlin\u5143\u6570\u636e\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_1","title":"\u5173\u952e\u6587\u4ef6\u8bf4\u660e","text":"<ul> <li> <p>classes.dex \u6587\u4ef6</p> <p>classes.dex \u6587\u4ef6\u662f Dalvik Executable (DEX) \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u5e94\u7528\u7684 Java \u6216 Kotlin \u4ee3\u7801\uff0c\u7ecf\u8fc7\u7f16\u8bd1\u540e\u7528\u4e8e Android \u865a\u62df\u673a\uff08Dalvik \u6216 ART\uff09\u6267\u884c\u3002</p> <p>\u5728 Android \u5e94\u7528\u4e2d\uff0c\u6240\u6709\u7684 Java \u6216 Kotlin \u7c7b\u90fd\u4f1a\u88ab\u7f16\u8bd1\u6210 .dex \u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u5728\u5e94\u7528\u8fd0\u884c\u65f6\u88ab\u52a0\u8f7d\u5e76\u6267\u884c\u3002\u4f60\u770b\u5230\u7684\u591a\u4e2a classes.dex \u6587\u4ef6\uff08\u5982 classes2.dex, classes3.dex\uff09\u8868\u793a\u8fd9\u5e94\u7528\u7a0b\u5e8f\u88ab\u5206\u6210\u4e86\u591a\u4e2a DEX \u6587\u4ef6\uff08\u901a\u5e38\u662f\u56e0\u4e3a APK \u6587\u4ef6\u7684\u5927\u5c0f\u8d85\u8fc7\u4e86\u5355\u4e2a DEX \u6587\u4ef6\u7684\u9650\u5236\uff0c\u4f7f\u7528\u591a\u91cd DEX \u6765\u8fdb\u884c\u5206\u5272\uff09\u3002</p> </li> <li> <p>assets/ \u6587\u4ef6\u5939</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u5939\u5305\u542b\u4e86 APK \u5185\u7684 \u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002\u8fd9\u4e9b\u8d44\u6e90\u4e0d\u53c2\u4e0e\u7f16\u8bd1\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u5e94\u7528\u8fd0\u884c\u65f6\u88ab\u8bbf\u95ee\u548c\u52a0\u8f7d\u3002\u5e38\u89c1\u7684\u6587\u4ef6\u5305\u62ec\u56fe\u50cf\u3001\u5b57\u4f53\u3001JSON \u6587\u4ef6\u7b49\u3002</p> <p>\u4f8b\u5982\uff0cassets \u4e2d\u7684\u8d44\u6e90\u53ef\u4ee5\u5728\u5e94\u7528\u4e2d\u901a\u8fc7 AssetManager \u88ab\u8bbf\u95ee\u3002</p> </li> <li> <p>lib/ \u6587\u4ef6\u5939</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u5939\u5305\u542b\u4e86\u5e94\u7528\u7684 \u539f\u751f\u4ee3\u7801\u5e93\uff0c\u5373\u7528 C \u6216 C++ \u7b49\u7f16\u5199\u7684\u672c\u5730\u4ee3\u7801\uff08\u901a\u5e38\u662f .so \u6587\u4ef6\uff09\u3002\u8fd9\u4e9b\u5e93\u901a\u5e38\u7528\u4e8e\u5b9e\u73b0\u4e00\u4e9b\u9ad8\u6027\u80fd\u7684\u529f\u80fd\u6216\u8005\u548c\u786c\u4ef6\u4ea4\u4e92\u7b49\u3002</p> <p>\u4f8b\u5982\uff0clib/ \u6587\u4ef6\u5939\u4e2d\u53ef\u80fd\u4f1a\u5305\u542b\u9002\u7528\u4e8e\u4e0d\u540c\u5e73\u53f0\uff08\u5982 x86\u3001ARM \u7b49\u67b6\u6784\uff09\u7684 .so \u6587\u4ef6\u3002</p> </li> <li> <p>META-INF/ \u6587\u4ef6\u5939</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u5939\u5305\u542b\u4e86 APK \u7684\u5143\u6570\u636e\uff0c\u901a\u5e38\u7528\u4e8e\u7b7e\u540d\u9a8c\u8bc1\u548c\u5e94\u7528\u7684\u5b8c\u6574\u6027\u9a8c\u8bc1\u3002</p> <p>\u91cc\u9762\u7684 MANIFEST.MF\u3001CERT.RSA\u3001CERT.SF \u7b49\u6587\u4ef6\u7528\u4e8e\u5b58\u50a8\u7b7e\u540d\u8bc1\u4e66\u4ee5\u53ca\u9a8c\u8bc1\u5e94\u7528\u5b8c\u6574\u6027\u6240\u9700\u7684\u6570\u636e\uff0c\u786e\u4fdd APK \u6587\u4ef6\u6ca1\u6709\u88ab\u7be1\u6539\u3002</p> </li> <li> <p>res/ \u6587\u4ef6\u5939     \u8fd9\u4e2a\u6587\u4ef6\u5939\u5305\u542b\u4e86\u5e94\u7528\u7684 \u8d44\u6e90\u6587\u4ef6\uff0c\u8fd9\u4e9b\u8d44\u6e90\u662f\u5e94\u7528 UI\u3001\u5e03\u5c40\u3001\u56fe\u50cf\u3001\u5b57\u7b26\u4e32\u7b49\u7684\u4e00\u90e8\u5206\u3002</p> <p>res/ \u6587\u4ef6\u5939\u901a\u5e38\u5305\u542b\u5b50\u6587\u4ef6\u5939\uff0c\u5982 drawable/\uff08\u56fe\u7247\u8d44\u6e90\uff09\u3001layout/\uff08\u5e03\u5c40\u6587\u4ef6\uff09\u3001values/\uff08\u5b9a\u4e49\u5b57\u7b26\u4e32\u3001\u5c3a\u5bf8\u7b49\u7684 XML \u6587\u4ef6\uff09\u7b49\u3002</p> </li> <li> <p>AndroidManifest.xml</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u662f Android \u5e94\u7528\u7684 \u6e05\u5355\u6587\u4ef6\uff0c\u7528\u4e8e\u58f0\u660e\u5e94\u7528\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u5982\u5305\u540d\u3001\u6743\u9650\u3001\u7ec4\u4ef6\uff08\u5982 Activity\u3001Service\u3001BroadcastReceiver\uff09\u7b49\u3002</p> <p>AndroidManifest.xml \u8fd8\u5305\u62ec\u4e86\u5176\u4ed6\u914d\u7f6e\u4fe1\u606f\uff0c\u5982\u5e94\u7528\u7684\u4e3b\u9898\u3001\u542f\u52a8\u6a21\u5f0f\u7b49\u3002</p> </li> <li> <p>.properties \u6587\u4ef6</p> <p>.properties \u6587\u4ef6\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u5e94\u7528\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5982\u5e93\u7684\u7248\u672c\u3001\u8def\u5f84\u914d\u7f6e\u7b49\u3002</p> <p>\u4f8b\u5982\uff0cHMSCore-base.properties\u3001play-services-location.properties \u7b49\u6587\u4ef6\u662f\u4e0e\u7279\u5b9a SDK \u6216\u670d\u52a1\uff08\u5982 HMS \u6216 Google Play \u670d\u52a1\uff09\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\u5728\u7f16\u8bd1\u65f6\u7528\u6765\u8bbe\u7f6e SDK \u7684\u7279\u6027\u3001\u7248\u672c\u53f7\u7b49\u3002</p> </li> <li> <p>resources.arsc</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u662f \u8d44\u6e90\u8868\u6587\u4ef6\uff0c\u7528\u4e8e\u5b58\u50a8\u5e94\u7528\u4e2d\u6240\u6709\u7684 \u9759\u6001\u8d44\u6e90\uff08\u5982\u5b57\u7b26\u4e32\u3001\u989c\u8272\u3001\u5c3a\u5bf8\u7b49\uff09\u3002</p> <p>\u5b83\u662f\u4e8c\u8fdb\u5236\u683c\u5f0f\uff0c\u7528\u4e8e\u52a0\u901f\u8d44\u6e90\u52a0\u8f7d\u3002Android \u7cfb\u7edf\u901a\u8fc7 resources.arsc \u6765\u7d22\u5f15\u548c\u52a0\u8f7d\u8d44\u6e90\uff0c\u800c\u4e0d\u9700\u8981\u76f4\u63a5\u8bfb\u53d6 XML \u6587\u4ef6\u3002</p> </li> </ul> <p>\u6838\u5fc3\u6267\u884c\u6587\u4ef6 - <code>classes.dex</code>: \u7f16\u8bd1\u540e\u7684Java/Kotlin\u5b57\u8282\u7801\uff0c\u8fd0\u884c\u5728Dalvik/ART\u865a\u62df\u673a\u4e0a - <code>AndroidManifest.xml</code>: \u5e94\u7528\u914d\u7f6e\u6e05\u5355\uff0c\u5b9a\u4e49\u7ec4\u4ef6\u3001\u6743\u9650\u3001\u7248\u672c\u7b49\u4fe1\u606f - <code>resources.arsc</code>: \u7f16\u8bd1\u540e\u7684XML\u8d44\u6e90\u548c\u5b57\u7b26\u4e32\u8d44\u6e90</p> <p>Flutter\u76f8\u5173\u6587\u4ef6 - <code>flutter_assets/kernel_blob.bin</code>: Debug\u6a21\u5f0f\u4e0b\u7684Dart\u4ee3\u7801\u5185\u6838\u8868\u793a - <code>flutter_assets/isolate_snapshot_*</code>: Release\u6a21\u5f0f\u4e0b\u7684AOT\u7f16\u8bd1\u5feb\u7167 - <code>lib/*/libflutter.so</code>: Flutter\u5f15\u64ce\u7684\u539f\u751f\u5e93</p> <p>\u8d44\u6e90\u6587\u4ef6 - <code>assets/</code>: \u539f\u59cb\u8d44\u6e90\u6587\u4ef6\uff0c\u8fd0\u884c\u65f6\u53ef\u76f4\u63a5\u8bbf\u95ee - <code>res/</code>: Android\u6807\u51c6\u8d44\u6e90\uff0c\u4f1a\u88ab\u7f16\u8bd1\u548c\u4f18\u5316</p> <p>\u5b89\u5168\u9a8c\u8bc1 - <code>META-INF/</code>: APK\u7b7e\u540d\u76f8\u5173\u6587\u4ef6\uff0c\u786e\u4fdd\u5e94\u7528\u5b8c\u6574\u6027\u548c\u6765\u6e90\u53ef\u4fe1</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#oneapp_1","title":"OneApp\u9879\u76ee\u4e2d\u7684\u4f53\u73b0","text":"<p>\u5728OneApp\u7684\u6784\u5efa\u4ea7\u7269\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a</p> <pre><code># build.properties \u793a\u4f8b\niid=6363\nsid=3138351\nbid=982334\nversion=12.10.0.10010731\ntime=2024-05-08 19:02:58\nFEATURE_LOCATION=1\nFEATURE_ROUTE_OVERLAY=1\nFEATURE_MVT=1\nFEATURE_3DTiles=1\nFEATURE_GLTF=1\n</code></pre> <p>\u8fd9\u4e2a\u6587\u4ef6\u8bb0\u5f55\u4e86\u6784\u5efa\u4fe1\u606f\u548c\u529f\u80fd\u7279\u6027\u5f00\u5173\uff0c\u4f53\u73b0\u4e86OneApp\u7684\u591a\u529f\u80fd\u7279\u6027\u7ba1\u7406\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_android_app","title":"2. Android App \u67b6\u6784\u6a21\u5f0f","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#android","title":"\u4f20\u7edfAndroid\u5e94\u7528\u67b6\u6784","text":"<pre><code>graph TB\n    A[Activity/Fragment] --&gt; B[Service]\n    A --&gt; C[BroadcastReceiver]\n    A --&gt; D[ContentProvider]\n    B --&gt; E[SQLite Database]\n    A --&gt; F[SharedPreferences]\n    A --&gt; G[Files/Assets]</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#android_mvvm","title":"\u73b0\u4ee3Android\u67b6\u6784 (MVVM)","text":"<pre><code>graph TB\n    A[View - Activity/Fragment] --&gt; B[ViewModel]\n    B --&gt; C[Repository]\n    C --&gt; D[Local Data Source]\n    C --&gt; E[Remote Data Source]\n    D --&gt; F[Room Database]\n    D --&gt; G[SharedPreferences]\n    E --&gt; H[Retrofit/OkHttp]\n\n    B -.-&gt;|LiveData/StateFlow| A\n    A -.-&gt;|User Actions| B</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter","title":"Flutter\u6df7\u5408\u67b6\u6784","text":"<p>\u5bf9\u4e8eOneApp\u8fd9\u6837\u7684Flutter\u5e94\u7528\uff0c\u67b6\u6784\u66f4\u4e3a\u590d\u6742\uff1a</p> <pre><code>graph TB\n    subgraph \"Flutter Layer\"\n        A[Flutter UI] --&gt; B[Dart Business Logic]\n        B --&gt; C[Platform Channel]\n    end\n\n    subgraph \"Native Layer\"\n        C --&gt; D[Android Activity]\n        D --&gt; E[Native Services]\n        E --&gt; F[System APIs]\n    end\n\n    subgraph \"Data Layer\"\n        B --&gt; G[Local Storage]\n        B --&gt; H[Network APIs]\n        E --&gt; I[Native Storage]\n    end</code></pre> <p>\u67b6\u6784\u5c42\u6b21\u8bf4\u660e</p> <ol> <li> <p>\u5c55\u793a\u5c42 (Presentation Layer)    - Flutter Widget\u6811    - \u7528\u6237\u754c\u9762\u6e32\u67d3    - \u7528\u6237\u4ea4\u4e92\u5904\u7406</p> </li> <li> <p>\u4e1a\u52a1\u903b\u8f91\u5c42 (Business Logic Layer)    - Dart\u4e1a\u52a1\u4ee3\u7801    - \u72b6\u6001\u7ba1\u7406 (Provider/Bloc)    - \u8def\u7531\u7ba1\u7406</p> </li> <li> <p>\u5e73\u53f0\u9002\u914d\u5c42 (Platform Layer)    - Platform Channel\u901a\u4fe1    - \u539f\u751f\u529f\u80fd\u8c03\u7528    - \u5e73\u53f0\u7279\u6027\u9002\u914d</p> </li> <li> <p>\u6570\u636e\u670d\u52a1\u5c42 (Data Service Layer)    - \u7f51\u7edc\u8bf7\u6c42    - \u672c\u5730\u5b58\u50a8    - \u7f13\u5b58\u7ba1\u7406</p> </li> <li> <p>\u539f\u751f\u7cfb\u7edf\u5c42 (Native System Layer)    - Android\u7cfb\u7edfAPI    - \u786c\u4ef6\u8bbe\u5907\u8bbf\u95ee    - \u7cfb\u7edf\u670d\u52a1\u8c03\u7528</p> </li> </ol>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#android_1","title":"Android \u63d2\u4ef6\u7684\u5408\u5e76\u4e0e\u52a0\u8f7d\u673a\u5236","text":"<ol> <li> <p>\u63d2\u4ef6\u4e0e Flutter \u5e94\u7528\u7684\u96c6\u6210</p> <p>\u5f53\u6211\u4eec\u628a\u4e00\u4e2a\u63d2\u4ef6\u96c6\u6210\u5230 Flutter \u9879\u76ee\u65f6\uff0c\u9996\u5148\u9700\u8981\u4e86\u89e3\u4e24\u4e2a\u4e3b\u8981\u90e8\u5206\uff1a</p> <p>Flutter \u63d2\u4ef6\u7684 Android \u90e8\u5206\uff1a\u901a\u5e38\u5305\u542b <code>src/main/java</code> \u6216 <code>src/main/kotlin</code> \u76ee\u5f55\u4e0b\u7684\u539f\u751f\u4ee3\u7801\u3002</p> <p>Flutter \u9879\u76ee\u7684 Android \u90e8\u5206\uff1a\u5373\u4f60\u521b\u5efa\u7684 Flutter \u9879\u76ee\u7684 <code>android/</code> \u76ee\u5f55\u3002</p> </li> <li> <p>\u63d2\u4ef6\u7684\u6253\u5305</p> <p>Flutter \u63d2\u4ef6\u5305\u542b\u4e86\u539f\u751f\u4ee3\u7801\uff08Android \u90e8\u5206\u901a\u5e38\u662f Java \u6216 Kotlin\uff09\uff0c\u8fd9\u4e9b\u539f\u751f\u4ee3\u7801\u88ab\u6253\u5305\u6210 .aar \u6587\u4ef6\u3002AAR \u662f Android \u7684\u7c7b\u5e93\u5305\uff0c\u5305\u542b\u4e86\u63d2\u4ef6\u7684 Java \u6216 Kotlin \u4ee3\u7801\u3001\u8d44\u6e90\u6587\u4ef6\u548c\u914d\u7f6e\u7b49\u3002</p> <p>\u5728 Flutter \u9879\u76ee\u4e2d\uff0c\u63d2\u4ef6\u7684 .aar \u6587\u4ef6\u901a\u8fc7 Flutter \u7684\u4f9d\u8d56\u7ba1\u7406\u7cfb\u7edf\uff08\u901a\u5e38\u662f pubspec.yaml \u6587\u4ef6\uff09\u8fdb\u884c\u58f0\u660e\uff0c\u7c7b\u4f3c\u4e8e\u5176\u4ed6 Dart \u5305\u3002Flutter \u4f1a\u5728\u7f16\u8bd1\u65f6\u628a\u8fd9\u4e9b\u539f\u751f\u4ee3\u7801\u4e00\u8d77\u7f16\u8bd1\u8fdb\u6700\u7ec8\u7684 Android APK \u6216 AAB \u6587\u4ef6\u4e2d\u3002\u5b83\u4eec\u7684\u7f16\u8bd1\u4ea7\u51fa\uff08.class \u6587\u4ef6\uff09\u5408\u5e76\u5230\u4e3b\u5de5\u7a0b\u7684 DEX \u6587\u4ef6\u4e2d\u3002</p> <p>\u5c06\u5b83\u4eec\u7684 AndroidManifest.xml \u5185\u5bb9\u5408\u5e76\u5230\u4e3b\u5de5\u7a0b\u7684 AndroidManifest.xml \u4e2d\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u63d2\u4ef6\u58f0\u660e\u7684\u6743\u9650\u548c\u7ec4\u4ef6\u4f1a\u5728\u6700\u7ec8 App \u4e2d\u751f\u6548\u3002</p> </li> <li> <p>\u63d2\u4ef6\u7684\u96c6\u6210</p> <p>\u4f9d\u8d56\u58f0\u660e\uff1a\u5728 <code>pubspec.yaml</code> \u6587\u4ef6\u4e2d\u58f0\u660e\u63d2\u4ef6\u7684\u4f9d\u8d56\uff1a <pre><code>dependencies:\nflutter:\n    sdk: flutter\nflutter_plugin: ^1.0.0\n</code></pre></p> <p>Gradle \u6784\u5efa\u8fc7\u7a0b\uff1a\u5f53\u4f60\u7f16\u8bd1 Flutter \u9879\u76ee\u65f6\uff0cGradle \u4f1a\u81ea\u52a8\u4e0b\u8f7d Flutter \u63d2\u4ef6\uff0c\u5e76\u628a .aar \u6587\u4ef6\uff08\u63d2\u4ef6\u7684\u539f\u751f\u90e8\u5206\uff09\u5408\u5e76\u5230\u5e94\u7528\u7684 build.gradle \u914d\u7f6e\u4e2d\uff1a</p> <p>\u5728 android/app/build.gradle \u4e2d\uff0cFlutter \u63d2\u4ef6\u7684\u539f\u751f\u4ee3\u7801\u88ab\u96c6\u6210\u5230 dependencies \u5757\u4e2d\uff1a <pre><code>dependencies {\n    implementation project(\":flutter_plugin\")\n}\n\n&lt;!--\u65b0\u7248\u672c\u53ef\u4ee5\u901a\u8fc7plugin\u7684\u65b9\u6cd5\u6765\u52a0\u8f7d\u63d2\u4ef6 --&gt;\nplugins {\n    id \"dev.flutter.flutter-gradle-plugin\"\n}\n</code></pre> \u5728<code>setting.gradle</code>\u91cc\u9762\u4e5f\u53ef\u4ee5\u6279\u91cf\u7684\u53bb\u4f9d\u8d56Flutter\u9879\u76ee\u7684\u5168\u90e8\u4f9d\u8d56 <pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }()\n\n    includeBuild(\"$flutterSdkPath/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\" // apply true\n    id \"com.android.application\" version \"{agpVersion}\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"{kotlinVersion}\" apply false\n}\n\ninclude \":app\"\n</code></pre> Flutter Gradle \u63d2\u4ef6\u7684\u547d\u4ee4\u5f0f\u5e94\u7528\u5df2\u5f03\u7528</p> <p>Deprecated imperative apply of Flutter\u2019s Gradle plugins</p> </li> <li> <p>\u63d2\u4ef6\u52a0\u8f7d\u4e0e\u542f\u52a8\u8fc7\u7a0b</p> <p>\u5728 \u5e94\u7528\u542f\u52a8\u65f6\uff0cFlutter \u4f1a\u901a\u8fc7 <code>FlutterEngine</code> \u542f\u52a8\uff0c\u5e76\u5c06\u539f\u751f\u4ee3\u7801\u7684\u63d2\u4ef6\u52a0\u8f7d\u5230\u5f15\u64ce\u4e2d\u3002 \u5f53\u5e94\u7528\u542f\u52a8\u65f6\uff0cFlutter \u63d2\u4ef6\u4f1a\u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\u88ab\u52a8\u6001\u52a0\u8f7d\u3002 \u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u6240\u6709\u63d2\u4ef6\u7684 .aar \u6587\u4ef6\u90fd\u4f1a\u88ab\u5408\u5e76\u5230\u6700\u7ec8\u7684 APK \u4e2d\u3002\u5f53\u5e94\u7528\u542f\u52a8\u65f6\uff0cFlutter \u5f15\u64ce\u4f1a\u52a0\u8f7d\u8fd9\u4e9b .aar \u6587\u4ef6\u5e76\u901a\u8fc7 MethodChannel \u8fdb\u884c\u901a\u4fe1\u3002</p> <p><pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    FlutterEngine flutterEngine = new FlutterEngine(this);\n    GeneratedPluginRegistrant.registerWith(flutterEngine);\n    setContentView(\n        FlutterActivity.createDefaultIntent(this)\n    );\n}\n</code></pre> \u73b0\u5728\u7684\u9879\u76ee\u90fd\u662f\u7ee7\u627f\u4e8e<code>FlutterActivity</code>\uff0c\u81ea\u52a8\u5b8c\u6210\u4e86\u63d2\u4ef6\u7684\u6ce8\u518c</p> </li> <li> <p>\u65b9\u6cd5\u8c03\u7528\u4e0e\u901a\u4fe1\u673a\u5236</p> <p>Flutter \u5e94\u7528\u548c Android \u63d2\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u662f\u901a\u8fc7 <code>MethodChannel</code> \u6216 <code>EventChannel</code> \u5b8c\u6210\u7684\u3002</p> <p><code>MethodChannel</code>\uff1a\u7528\u4e8e\u5f02\u6b65\u65b9\u6cd5\u8c03\u7528\u3002 \u63d2\u4ef6\u539f\u751f\u4ee3\u7801\u901a\u8fc7 MethodChannel \u5411 Dart \u5c42\u53d1\u9001\u6570\u636e\u3002 Dart \u5c42\u901a\u8fc7 MethodChannel \u53d1\u8d77\u539f\u751f\u65b9\u6cd5\u8c03\u7528\u3002</p> <p><code>EventChannel</code>\uff1a\u7528\u4e8e\u6570\u636e\u6d41\u5f0f\u4f20\u8f93\uff0c\u901a\u5e38\u7528\u4e8e\u539f\u751f\u4ee3\u7801\u5411 Flutter \u5c42\u63a8\u9001\u4e8b\u4ef6\u3002</p> </li> </ol>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_1","title":"Flutter\u77e5\u8bc6","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_flutter","title":"1. Flutter \u67b6\u6784\u6982\u89c8","text":"<p>Flutter \u662f Google \u5f00\u53d1\u7684\u8de8\u5e73\u53f0 UI \u5de5\u5177\u5305\uff0c\u91c7\u7528\u81ea\u7ed8\u5236\u5f15\u64ce\uff0c\u5b9e\u73b0\u4e86\u201d\u4e00\u5957\u4ee3\u7801\uff0c\u591a\u7aef\u8fd0\u884c\u201d\u7684\u76ee\u6807\u3002\u5b83\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u53ef\u6269\u5c55\u7684\u5206\u5c42\u7cfb\u7edf\uff0c\u5404\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\u7cfb\u5217\u5408\u96c6\uff0c\u4e0a\u5c42\u7ec4\u4ef6\u5404\u81ea\u4f9d\u8d56\u4e0b\u5c42\u7ec4\u4ef6\u3002</p> <p>\u53c2\u8003\uff1aFlutter\u67b6\u6784\u6982\u89c8\u5b98\u65b9\u6587\u6863</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_2","title":"Flutter \u67b6\u6784","text":"<p>Flutter \u91c7\u7528\u5206\u5c42\u67b6\u6784\u8bbe\u8ba1\uff0c\u4ece\u4e0a\u5230\u4e0b\u5206\u4e3a Framework \u5c42\u3001Engine \u5c42\u548c Platform \u5c42\uff1a</p> <p></p> <pre><code>graph TB\n    subgraph \"Dart App\"\n        A[\u4e1a\u52a1\u903b\u8f91&lt;br/&gt;Business Logic]\n    end\n\n    subgraph \"Framework (Dart)\"\n        B[Material/Cupertino&lt;br/&gt;\u8bbe\u8ba1\u8bed\u8a00\u5b9e\u73b0]\n        C[Widgets&lt;br/&gt;\u7ec4\u5408\u62bd\u8c61]\n        D[Rendering&lt;br/&gt;\u6e32\u67d3\u5c42]\n        E[Foundation&lt;br/&gt;\u57fa\u7840\u5e93]\n    end\n\n    subgraph \"Engine (C++)\"\n        F[Dart Runtime&lt;br/&gt;Dart\u865a\u62df\u673a]\n        G[Skia/Impeller&lt;br/&gt;\u56fe\u5f62\u5f15\u64ce]\n        H[Text Layout&lt;br/&gt;\u6587\u672c\u6392\u7248]\n        I[Platform Channels&lt;br/&gt;\u5e73\u53f0\u901a\u9053]\n    end\n\n    subgraph \"Platform\"\n        J[Android/iOS/Web/Desktop&lt;br/&gt;\u76ee\u6807\u5e73\u53f0]\n    end\n\n    A --&gt; B\n    B --&gt; C\n    C --&gt; D\n    D --&gt; E\n    E --&gt; F\n    F --&gt; G\n    F --&gt; H\n    F --&gt; I\n    I --&gt; J</code></pre> <p>\u67b6\u6784\u5c42\u6b21\u8be6\u89e3</p> \u67b6\u6784\u5c42 \u4e3b\u8981\u804c\u8d23 \u6838\u5fc3\u7ec4\u4ef6 \u5173\u952e\u7279\u70b9 Framework\u5c42 \u63d0\u4f9b\u4e0a\u5c42API\u5c01\u88c5 Material\u3001Widgets\u3001Rendering\u3001Foundation Dart\u8bed\u8a00\u5b9e\u73b0\uff0c\u54cd\u5e94\u5f0f\u7f16\u7a0b Engine\u5c42 \u5e95\u5c42\u6e32\u67d3\u548c\u8fd0\u884c\u65f6\u652f\u6301 Dart Runtime\u3001\u56fe\u5f62\u5f15\u64ce\u3001\u6587\u672c\u5e03\u5c40 C++\u5b9e\u73b0\uff0c\u9ad8\u6027\u80fd\u6e32\u67d3 Platform\u5c42 \u4e0e\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92 \u5d4c\u5165\u5c42\u3001\u7cfb\u7edfAPI \u5e73\u53f0\u7279\u5b9a\u5b9e\u73b0"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_3","title":"Flutter \u5e94\u7528\u67b6\u6784","text":"<p>\u57fa\u4e8e\u5b98\u65b9\u63a8\u8350\u7684 MVVM \u67b6\u6784\u6a21\u5f0f\uff0cFlutter \u5e94\u7528\u91c7\u7528\u5173\u6ce8\u70b9\u5206\u79bb\u539f\u5219\uff0c\u5206\u4e3a UI \u5c42\u548c\u6570\u636e\u5c42\u3002</p> <p>\u53c2\u8003\uff1aFlutter\u5e94\u7528\u67b6\u6784\u6307\u5357</p> <p></p> <p>\u5206\u5c42\u67b6\u6784\u8bbe\u8ba1</p> <pre><code>graph TB\n    subgraph \"UI Layer \u7528\u6237\u754c\u9762\u5c42\"\n        A[View&lt;br/&gt;\u89c6\u56fe\u7ec4\u4ef6]\n        B[ViewModel&lt;br/&gt;\u89c6\u56fe\u6a21\u578b]\n    end\n\n    subgraph \"Domain Layer \u9886\u57df\u5c42 (\u53ef\u9009)\"\n        E[Use Cases&lt;br/&gt;\u4e1a\u52a1\u7528\u4f8b]\n        F[Domain Models&lt;br/&gt;\u9886\u57df\u6a21\u578b]\n    end\n\n    subgraph \"Data Layer \u6570\u636e\u5c42\"\n        C[Repository&lt;br/&gt;\u6570\u636e\u4ed3\u5e93]\n        D[Service&lt;br/&gt;\u6570\u636e\u670d\u52a1]\n    end\n\n    A -.-&gt;|\u7528\u6237\u4e8b\u4ef6| B\n    B -.-&gt;|\u72b6\u6001\u66f4\u65b0| A\n    B --&gt; C\n    B --&gt; E\n    E --&gt; F\n    E --&gt; C\n    C --&gt; D</code></pre> <p>\u5b8c\u6574\u7684\u529f\u80fd\u6a21\u5757\u67b6\u6784</p> <p></p> <p>\u67b6\u6784\u7ec4\u4ef6\u804c\u8d23</p> \u7ec4\u4ef6\u5c42 \u4e3b\u8981\u804c\u8d23 \u6838\u5fc3\u7279\u70b9 \u793a\u4f8b View UI\u6e32\u67d3\u548c\u7528\u6237\u4ea4\u4e92 \u65e0\u4e1a\u52a1\u903b\u8f91\uff0c\u63a5\u6536ViewModel\u6570\u636e StatelessWidget\u9875\u9762 ViewModel \u4e1a\u52a1\u903b\u8f91\u548c\u72b6\u6001\u7ba1\u7406 \u6570\u636e\u8f6c\u6362\uff0c\u72b6\u6001\u7ef4\u62a4\uff0c\u547d\u4ee4\u5904\u7406 Bloc\u3001Provider Repository \u6570\u636e\u6e90\u7ba1\u7406 \u7f13\u5b58\u7b56\u7565\uff0c\u9519\u8bef\u5904\u7406\uff0c\u6570\u636e\u8f6c\u6362 UserRepository Service \u5916\u90e8\u6570\u636e\u6e90\u5c01\u88c5 API\u8c03\u7528\uff0c\u672c\u5730\u5b58\u50a8\uff0c\u5e73\u53f0\u670d\u52a1 ApiService Use Cases \u590d\u6742\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5 \u8de8Repository\u903b\u8f91\uff0c\u53ef\u590d\u7528\u4e1a\u52a1 LoginUseCase"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_2","title":"\u63a8\u8350\u9879\u76ee\u7ed3\u6784","text":"<p>\u57fa\u4e8e\u5b98\u65b9\u6700\u4f73\u5b9e\u8df5\u7684\u9879\u76ee\u6587\u4ef6\u7ec4\u7ec7\u65b9\u5f0f\uff1a</p> <pre><code>lib/\n\u251c\u2500\u2500 ui/                          # UI\u5c42 - \u7528\u6237\u754c\u9762\n\u2502   \u251c\u2500\u2500 core/                    # \u6838\u5fc3UI\u7ec4\u4ef6\n\u2502   \u2502   \u251c\u2500\u2500 widgets/             # \u901a\u7528Widget\u7ec4\u4ef6\n\u2502   \u2502   \u251c\u2500\u2500 themes/              # \u4e3b\u9898\u914d\u7f6e\n\u2502   \u2502   \u2514\u2500\u2500 extensions/          # UI\u6269\u5c55\u65b9\u6cd5\n\u2502   \u2514\u2500\u2500 features/                # \u529f\u80fd\u6a21\u5757\n\u2502       \u251c\u2500\u2500 home/                # \u9996\u9875\u529f\u80fd\n\u2502       \u2502   \u251c\u2500\u2500 view_models/     # \u89c6\u56fe\u6a21\u578b\n\u2502       \u2502   \u2502   \u2514\u2500\u2500 home_view_model.dart\n\u2502       \u2502   \u251c\u2500\u2500 views/           # \u89c6\u56fe\u7ec4\u4ef6\n\u2502       \u2502   \u2502   \u251c\u2500\u2500 home_screen.dart\n\u2502       \u2502   \u2502   \u2514\u2500\u2500 widgets/\n\u2502       \u2502   \u2514\u2500\u2500 models/          # UI\u72b6\u6001\u6a21\u578b\n\u2502       \u251c\u2500\u2500 car_control/         # \u8f66\u63a7\u529f\u80fd\n\u2502       \u2514\u2500\u2500 profile/             # \u4e2a\u4eba\u4e2d\u5fc3\n\u251c\u2500\u2500 domain/                      # \u9886\u57df\u5c42 - \u4e1a\u52a1\u903b\u8f91\n\u2502   \u251c\u2500\u2500 models/                  # \u9886\u57df\u6a21\u578b\n\u2502   \u2502   \u251c\u2500\u2500 car.dart\n\u2502   \u2502   \u2514\u2500\u2500 user.dart\n\u2502   \u251c\u2500\u2500 use_cases/               # \u4e1a\u52a1\u7528\u4f8b\n\u2502   \u2502   \u251c\u2500\u2500 login_use_case.dart\n\u2502   \u2502   \u2514\u2500\u2500 car_control_use_case.dart\n\u2502   \u2514\u2500\u2500 repositories/            # \u4ed3\u5e93\u63a5\u53e3\n\u2502       \u2514\u2500\u2500 i_car_repository.dart\n\u251c\u2500\u2500 data/                        # \u6570\u636e\u5c42 - \u6570\u636e\u8bbf\u95ee\n\u2502   \u251c\u2500\u2500 repositories/            # \u4ed3\u5e93\u5b9e\u73b0\n\u2502   \u2502   \u251c\u2500\u2500 car_repository_impl.dart\n\u2502   \u2502   \u2514\u2500\u2500 user_repository_impl.dart\n\u2502   \u251c\u2500\u2500 services/                # \u6570\u636e\u670d\u52a1\n\u2502   \u2502   \u251c\u2500\u2500 api/                 # API\u670d\u52a1\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 car_api_service.dart\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 auth_api_service.dart\n\u2502   \u2502   \u251c\u2500\u2500 local/               # \u672c\u5730\u5b58\u50a8\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 cache_service.dart\n\u2502   \u2502   \u2514\u2500\u2500 platform/            # \u5e73\u53f0\u670d\u52a1\n\u2502   \u2502       \u2514\u2500\u2500 bluetooth_service.dart\n\u2502   \u2514\u2500\u2500 models/                  # \u6570\u636e\u4f20\u8f93\u5bf9\u8c61\n\u2502       \u251c\u2500\u2500 api/                 # API\u6a21\u578b\n\u2502       \u2514\u2500\u2500 local/               # \u672c\u5730\u6a21\u578b\n\u251c\u2500\u2500 core/                        # \u6838\u5fc3\u57fa\u7840\u8bbe\u65bd\n\u2502   \u251c\u2500\u2500 di/                      # \u4f9d\u8d56\u6ce8\u5165\n\u2502   \u251c\u2500\u2500 network/                 # \u7f51\u7edc\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 storage/                 # \u5b58\u50a8\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 constants/               # \u5e38\u91cf\u5b9a\u4e49\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 config/                      # \u914d\u7f6e\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 app_config.dart\n\u2502   \u2514\u2500\u2500 environment.dart\n\u2514\u2500\u2500 main.dart                    # \u5e94\u7528\u5165\u53e3\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_flutter","title":"2. Flutter \u5de5\u4f5c\u539f\u7406","text":"<p>Flutter \u7684\u6838\u5fc3\u8bbe\u8ba1\u7406\u5ff5\u662f\u201d\u4e00\u5207\u7686Widget\u201c\uff0c\u901a\u8fc7\u79ef\u6781\u7684\u7ec4\u5408\u6a21\u5f0f\u6784\u5efa\u7528\u6237\u754c\u9762\u3002\u4e3a\u4e86\u652f\u6491\u5927\u91cfWidget\u7684\u9ad8\u6548\u8fd0\u884c\uff0cFlutter\u91c7\u7528\u4e86\u591a\u5c42\u6b21\u7684\u67b6\u6784\u8bbe\u8ba1\u548c\u4f18\u5316\u7b97\u6cd5\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#21_flutter","title":"2.1 Flutter \u4e09\u68f5\u6811\u67b6\u6784","text":"<p>Flutter \u4f7f\u7528\u4e09\u68f5\u6811\u6765\u7ba1\u7406UI\u72b6\u6001\u548c\u6e32\u67d3\uff1a</p> <pre><code>graph TD\n    subgraph \"Widget Tree (\u914d\u7f6e\u63cf\u8ff0)\"\n        W1[StatelessWidget] --&gt; W2[Container]\n        W1 --&gt; W3[Text]\n        W2 --&gt; W4[Padding]\n        W4 --&gt; W5[Image]\n    end\n\n    subgraph \"Element Tree (\u6865\u6881\u7ba1\u7406)\"\n        E1[StatelessElement] --&gt; E2[SingleChildRenderObjectElement]\n        E1 --&gt; E3[LeafRenderObjectElement]\n        E2 --&gt; E4[SingleChildRenderObjectElement]\n        E4 --&gt; E5[LeafRenderObjectElement]\n    end\n\n    subgraph \"RenderObject Tree (\u6e32\u67d3\u5b9e\u73b0)\"\n        R1[RenderBox] --&gt; R2[RenderPadding]\n        R1 --&gt; R3[RenderParagraph]\n        R2 --&gt; R4[RenderImage]\n    end\n\n    W1 -.-&gt;|\u521b\u5efa| E1\n    W2 -.-&gt;|\u521b\u5efa| E2\n    W3 -.-&gt;|\u521b\u5efa| E3\n    W4 -.-&gt;|\u521b\u5efa| E4\n    W5 -.-&gt;|\u521b\u5efa| E5\n\n    E2 -.-&gt;|\u521b\u5efa| R1\n    E3 -.-&gt;|\u521b\u5efa| R3\n    E4 -.-&gt;|\u521b\u5efa| R2\n    E5 -.-&gt;|\u521b\u5efa| R4</code></pre> <p>\u4e09\u68f5\u6811\u7684\u804c\u8d23\u5206\u5de5</p> \u6811\u7c7b\u578b \u4e3b\u8981\u804c\u8d23 \u751f\u547d\u5468\u671f \u7279\u70b9 Widget Tree UI\u914d\u7f6e\u63cf\u8ff0\uff0c\u5b9a\u4e49\u754c\u9762\u5e94\u8be5\u662f\u4ec0\u4e48\u6837\u5b50 \u6bcf\u5e27\u91cd\u5efa \u4e0d\u53ef\u53d8\u3001\u8f7b\u91cf\u7ea7 Element Tree Widget\u548cRenderObject\u7684\u6865\u6881 \u76f8\u5bf9\u7a33\u5b9a \u7ef4\u62a4\u72b6\u6001\u548c\u5173\u7cfb RenderObject \u5b9e\u9645\u7684\u5e03\u5c40\u3001\u7ed8\u5236\u548c\u547d\u4e2d\u6d4b\u8bd5 \u957f\u671f\u5b58\u5728 \u53ef\u53d8\u3001\u6027\u80fd\u5173\u952e"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#22_widget","title":"2.2 Widget \u6784\u5efa\u4e0e\u66f4\u65b0\u6d41\u7a0b","text":"<pre><code>sequenceDiagram\n    participant User as \u7528\u6237\u64cd\u4f5c\n    participant Widget as Widget Tree\n    participant Element as Element Tree\n    participant Render as RenderObject Tree\n    participant Engine as Flutter Engine\n\n    User-&gt;&gt;Widget: setState() \u89e6\u53d1\u66f4\u65b0\n    Widget-&gt;&gt;Widget: build() \u521b\u5efa\u65b0Widget\u6811\n    Widget-&gt;&gt;Element: \u6bd4\u8f83\u65b0\u65e7Widget\n\n    alt Widget\u76f8\u540c\n        Element-&gt;&gt;Element: \u590d\u7528\u73b0\u6709Element\n    else Widget\u4e0d\u540c\n        Element-&gt;&gt;Element: \u521b\u5efa\u65b0Element\n        Element-&gt;&gt;Render: \u66f4\u65b0RenderObject\n    end\n\n    Element-&gt;&gt;Render: markNeedsLayout()\n    Render-&gt;&gt;Render: layout() \u5e03\u5c40\u8ba1\u7b97\n    Render-&gt;&gt;Render: paint() \u7ed8\u5236\u64cd\u4f5c\n    Render-&gt;&gt;Engine: \u63d0\u4ea4\u6e32\u67d3\u6570\u636e\n    Engine-&gt;&gt;User: \u663e\u793a\u66f4\u65b0\u540e\u7684UI</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#23_layout_system","title":"2.3 \u5e03\u5c40\u7cfb\u7edf (Layout System)","text":"<p>Flutter \u91c7\u7528\u5355\u904d\u5e03\u5c40\u7b97\u6cd5\uff0c\u786e\u4fdd\u6bcf\u4e2aRenderObject\u5728\u5e03\u5c40\u8fc7\u7a0b\u4e2d\u6700\u591a\u88ab\u8bbf\u95ee\u4e24\u6b21\u3002</p> <pre><code>graph TB\n    subgraph \"\u5e03\u5c40\u7ea6\u675f\u4f20\u9012 (Constraints Down)\"\n        A[Parent RenderObject] --&gt;|BoxConstraints| B[Child RenderObject]\n        B --&gt;|BoxConstraints| C[Grandchild RenderObject]\n    end\n\n    subgraph \"\u5c3a\u5bf8\u4fe1\u606f\u56de\u4f20 (Size Up)\"\n        C --&gt;|Size| B\n        B --&gt;|Size| A\n    end\n\n    subgraph \"\u4f4d\u7f6e\u786e\u5b9a (Position)\"\n        A --&gt;|Offset| B\n        B --&gt;|Offset| C\n    end</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#24_painting_system","title":"2.4 \u7ed8\u5236\u7cfb\u7edf (Painting System)","text":"<p>\u7ed8\u5236\u7cfb\u7edf\u8d1f\u8d23\u5c06\u5e03\u5c40\u5b8c\u6210\u7684RenderObject\u8f6c\u6362\u4e3a\u5b9e\u9645\u7684\u50cf\u7d20\u3002</p> <pre><code>sequenceDiagram\n    participant RO as RenderObject\n    participant Layer as Layer Tree\n    participant Canvas as Canvas\n    participant Skia as Skia Engine\n    participant GPU as GPU\n\n    RO-&gt;&gt;RO: markNeedsPaint()\n    RO-&gt;&gt;Layer: \u521b\u5efa\u7ed8\u5236\u5c42\n    RO-&gt;&gt;Canvas: paint(Canvas, Offset)\n    Canvas-&gt;&gt;Skia: \u7ed8\u5236\u547d\u4ee4\n    Skia-&gt;&gt;GPU: \u5149\u6805\u5316\n    GPU-&gt;&gt;GPU: \u5408\u6210\u663e\u793a</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#25_render_pipeline","title":"2.5 \u6e32\u67d3\u7ba1\u7ebf (Render Pipeline)","text":"<p>Flutter\u7684\u5b8c\u6574\u6e32\u67d3\u7ba1\u7ebf\u5305\u542b\u56db\u4e2a\u4e3b\u8981\u9636\u6bb5\uff1a</p> <pre><code>graph LR\n    A[Build \u6784\u5efa] --&gt; B[Layout \u5e03\u5c40]\n    B --&gt; C[Paint \u7ed8\u5236]\n    C --&gt; D[Composite \u5408\u6210]\n\n    A1[Widget.build] --&gt; A\n    B1[RenderObject.layout] --&gt; B\n    C1[RenderObject.paint] --&gt; C\n    D1[Layer.composite] --&gt; D\n\n    subgraph \"\u4f18\u5316\u7b56\u7565\"\n        E[\u53ea\u6709\u810f\u8282\u70b9\u53c2\u4e0e]\n        F[\u6b21\u7ebf\u6027\u7b97\u6cd5]\n        G[\u7f13\u5b58\u590d\u7528]\n        H[GPU\u52a0\u901f]\n    end\n\n    E --&gt; A\n    F --&gt; B\n    G --&gt; C\n    H --&gt; D</code></pre> <p>\u6e32\u67d3\u7ba1\u7ebf\u4f18\u5316</p> <ol> <li> <p>\u6784\u5efa\u9636\u6bb5\u4f18\u5316    - \u53ea\u91cd\u5efa\u6807\u8bb0\u4e3adirty\u7684Widget    - Element\u590d\u7528\u673a\u5236    - \u6784\u5efa\u7f13\u5b58\u7b56\u7565</p> </li> <li> <p>\u5e03\u5c40\u9636\u6bb5\u4f18\u5316    - \u5355\u904d\u5e03\u5c40\u7b97\u6cd5    - \u7ea6\u675f\u4f20\u64ad\u4f18\u5316    - \u8fb9\u754c\u68c0\u6d4b\u8df3\u8fc7</p> </li> <li> <p>\u7ed8\u5236\u9636\u6bb5\u4f18\u5316    - Layer\u5c42\u7f13\u5b58    - \u91cd\u7ed8\u533a\u57df\u6700\u5c0f\u5316    - GPU\u5408\u6210\u52a0\u901f</p> </li> </ol>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_4","title":"Flutter \u6a21\u5757\u5316","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_flutter_1","title":"1. Flutter\u6a21\u5757\u5316\u57fa\u7840\u7406\u8bba","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_3","title":"\u6a21\u5757\u5316\u7684\u5fc5\u8981\u6027","text":"<p>\u968f\u7740Flutter\u5e94\u7528\u89c4\u6a21\u7684\u589e\u957f\uff0c\u5355\u4e00\u4ee3\u7801\u5e93\u4f1a\u9762\u4e34\u4ee5\u4e0b\u6311\u6218\uff1a</p> <pre><code>graph TD\n    A[\u5355\u4f53\u5e94\u7528] --&gt; B[\u4ee3\u7801\u8026\u5408\u4e25\u91cd]\n    A --&gt; C[\u6784\u5efa\u65f6\u95f4\u8fc7\u957f]\n    A --&gt; D[\u56e2\u961f\u534f\u4f5c\u56f0\u96be]\n    A --&gt; E[\u6d4b\u8bd5\u590d\u6742\u5ea6\u9ad8]\n\n    F[\u6a21\u5757\u5316\u5e94\u7528] --&gt; G[\u804c\u8d23\u5206\u79bb]\n    F --&gt; H[\u5e76\u884c\u5f00\u53d1]\n    F --&gt; I[\u72ec\u7acb\u6d4b\u8bd5]\n    F --&gt; J[\u4ee3\u7801\u590d\u7528]</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_4","title":"\u6a21\u5757\u5316\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u5355\u4e00\u804c\u8d23\u539f\u5219: \u6bcf\u4e2a\u6a21\u5757\u53ea\u8d1f\u8d23\u4e00\u4e2a\u4e1a\u52a1\u9886\u57df</li> <li>\u5f00\u95ed\u539f\u5219: \u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5c01\u95ed</li> <li>\u4f9d\u8d56\u5012\u7f6e: \u9ad8\u5c42\u6a21\u5757\u4e0d\u4f9d\u8d56\u4f4e\u5c42\u6a21\u5757\uff0c\u90fd\u4f9d\u8d56\u62bd\u8c61</li> <li>\u63a5\u53e3\u9694\u79bb: \u5ba2\u6237\u7aef\u4e0d\u4f9d\u8d56\u4e0d\u9700\u8981\u7684\u63a5\u53e3</li> </ol>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_5","title":"Flutter\u6a21\u5757\u5316\u65b9\u6848\u5bf9\u6bd4","text":"\u65b9\u6848 \u4f18\u70b9 \u7f3a\u70b9 \u9002\u7528\u573a\u666f Package\u65b9\u5f0f \u7b80\u5355\u6613\u7528\uff0c\u4f9d\u8d56\u7ba1\u7406\u6e05\u6670 \u6a21\u5757\u95f4\u901a\u4fe1\u590d\u6742 \u5de5\u5177\u5e93\u3001UI\u7ec4\u4ef6 Flutter Module \u652f\u6301\u6df7\u5408\u5f00\u53d1 \u914d\u7f6e\u590d\u6742\uff0c\u7248\u672c\u7ba1\u7406\u56f0\u96be \u539f\u751f\u5e94\u7528\u96c6\u6210 Modular\u6846\u67b6 \u5b8c\u6574\u7684\u6a21\u5757\u5316\u89e3\u51b3\u65b9\u6848 \u5b66\u4e60\u6210\u672c\u8f83\u9ad8 \u5927\u578b\u5e94\u7528"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_flutter_modular","title":"2. Flutter Modular \u6846\u67b6\u4ecb\u7ecd","text":"<p>Flutter Modular \u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u6a21\u5757\u5316\u89e3\u51b3\u65b9\u6848\uff0c\u63d0\u4f9b\u4e86\u4f9d\u8d56\u6ce8\u5165\u3001\u8def\u7531\u7ba1\u7406\u548c\u6a21\u5757\u89e3\u8026\u80fd\u529b\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_5","title":"\u6838\u5fc3\u6982\u5ff5","text":"<pre><code>// 1. \u6a21\u5757\u5b9a\u4e49\nclass HomeModule extends Module {\n  @override\n  List&lt;Bind&gt; get binds =&gt; [\n    Bind.singleton((i) =&gt; HomeRepository()),\n    Bind.factory((i) =&gt; HomeBloc(i())),\n  ];\n\n  @override\n  List&lt;ModularRoute&gt; get routes =&gt; [\n    ChildRoute('/', child: (context, args) =&gt; HomePage()),\n    ChildRoute('/detail', child: (context, args) =&gt; DetailPage()),\n  ];\n}\n\n// 2. \u5e94\u7528\u5165\u53e3\nclass AppModule extends Module {\n  @override\n  List&lt;Module&gt; get imports =&gt; [\n    CoreModule(),\n    HomeModule(),\n  ];\n}\n\n// 3. \u5e94\u7528\u542f\u52a8\nvoid main() {\n  runApp(ModularApp(module: AppModule(), child: AppWidget()));\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_6","title":"\u4f9d\u8d56\u6ce8\u5165\u673a\u5236","text":"<pre><code>graph TB\n    A[ModularApp] --&gt; B[Module Registration]\n    B --&gt; C[Dependency Container]\n    C --&gt; D[Singleton Binds]\n    C --&gt; E[Factory Binds]\n    C --&gt; F[Lazy Binds]\n\n    G[Widget] --&gt; H[\"Modular.get&amp;lt;T&amp;gt;()\"]\n    H --&gt; C</code></pre> <pre><code>// \u4f9d\u8d56\u6ce8\u5165\u4f7f\u7528\u793a\u4f8b\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    // \u83b7\u53d6\u4f9d\u8d56\u6ce8\u5165\u7684\u5b9e\u4f8b\n    final bloc = Modular.get&lt;HomeBloc&gt;();\n    final repository = Modular.get&lt;HomeRepository&gt;();\n\n    return Scaffold(\n      appBar: AppBar(title: Text('\u9996\u9875')),\n      body: BlocBuilder&lt;HomeBloc, HomeState&gt;(\n        bloc: bloc,\n        builder: (context, state) {\n          return ListView.builder(\n            itemBuilder: (context, index) =&gt; ListTile(\n              title: Text(state.items[index].title),\n              onTap: () =&gt; Modular.to.pushNamed('/detail'),\n            ),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre> <p>\u4f9d\u8d56\u6ce8\u5165\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>Service</code>\u6765\u5b8c\u6210\u67d0\u4e00\u4e9b\u529f\u80fd\u7684\u5b9e\u73b0</p> <pre><code>abstract class EmailService {\n  void sendEmail(String email, String title, String body);\n}\n\nclass XPTOEmailService implements EmailService {\n\n  final XPTOEmail xpto;\n  XPTOEmailService(this.xpto);\n\n  void sendEmail(String email, String title, String body) {\n    xpto.sendEmail(email, title, body);\n  }\n}\n\nclass Client {\n\n  final EmailService service;\n  Client(this.service);\n\n  void sendEmail(String email, String title, String body){\n    service.sendEmail(email, title, body);\n  }\n}\n</code></pre> <pre><code>class AppModule extends Module {\n  // v5 \u5199\u6cd5\n  @override\n  List&lt;Bind&gt; get binds =&gt; [\n    Bind.factory((i) =&gt; XPTOEmail())\n    Bind.factory&lt;EmailService&gt;((i) =&gt; XPTOEmailService(i()))\n    Bind.singleton((i) =&gt; Client(i()))\n  ];\n  // v6 \u5199\u6cd5\n  @override\n  void binds(i) {\n    i.add(XPTOEmail.new);\n    i.add&lt;EmailService&gt;(XPTOEmailService.new);\n    i.addSingleton(Client.new);\n\n    // Register with Key\n    i.addSingleton(Client.new, key: 'OtherClient');\n  }\n}\n</code></pre> <p>\u5728\u6a21\u5757\u4e2d\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u6ce8\u5165\u7684service\u4f9d\u8d56 <pre><code>final client = Modular.get&lt;Client&gt;();\n// or set a default value\nfinal client = Modular.get&lt;Client&gt;(defaultValue: Client());\n\n// or use tryGet\nClient? client = Modular.tryGet&lt;Client&gt;();\n\n// or get with key\nClient client = Modular.get(key: 'OtherCLient');\n\nclient.sendEmail('email@xxx.com', 'title', 'email body')\n</code></pre></p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_7","title":"\u8def\u7531\u7ba1\u7406","text":"<pre><code>// \u8def\u7531\u5b9a\u4e49\nclass AppModule extends Module {\n  @override\n  List&lt;ModularRoute&gt; get routes =&gt; [\n    ModuleRoute('/home', module: HomeModule()),\n    ModuleRoute('/user', module: UserModule()),\n    ModuleRoute('/car', module: CarModule()),\n  ];\n}\n\n// \u8def\u7531\u5bfc\u822a\nclass NavigationService {\n  static void toHome() =&gt; Modular.to.navigate('/home/');\n  static void toProfile() =&gt; Modular.to.pushNamed('/user/profile');\n  static void toCharging() =&gt; Modular.to.pushNamed('/car/charging');\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#flutter_modular_6xx","title":"Flutter Modular 6.x.x","text":"<p>Flutter Modular v5 \u548c v6 \u6709\u4e00\u4e2a\u53d8\u5316\uff0c\u4e0d\u8fc7\u6838\u5fc3\u7684\u6982\u5ff5\u4e0d\u53d8</p> <pre><code>class AppModule extends Module  {\n\n  @override\n  List&lt;Module&gt; get imports =&gt; [];\n\n  @override\n  void routes(RouteManager r) {\n    r.child('/', child: (context) =&gt; HomePage(title: 'Home Page'));\n  }\n\n  @override\n  void binds(Injector i) {\n  }\n\n  @override\n  void exportedBinds(Injector i) {\n\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#3_bloc","title":"3. Bloc \u72b6\u6001\u7ba1\u7406","text":"<p><code>Flutter</code>\u7684\u5f88\u591a\u7075\u611f\u6765\u81ea\u4e8e<code>React</code>\uff0c\u5b83\u7684\u8bbe\u8ba1\u601d\u60f3\u662f\u6570\u636e\u4e0e\u89c6\u56fe\u5206\u79bb\uff0c\u7531\u6570\u636e\u6620\u5c04\u6e32\u67d3\u89c6\u56fe\u3002\u6240\u4ee5\u5728Flutter\u4e2d\uff0c\u5b83\u7684Widget\u662f<code>immutable</code>\u7684\uff0c\u800c\u5b83\u7684\u52a8\u6001\u90e8\u5206\u5168\u90e8\u653e\u5230\u4e86\u72b6\u6001(<code>State</code>)\u4e2d\u3002</p> <p>\u5728\u9879\u76ee\u8d8a\u6765\u8d8a\u590d\u6742\u4e4b\u540e\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u72b6\u6001\u7ba1\u7406\u5e93\uff0c\u5b9e\u73b0\u9ad8\u6548\u5730\u7ba1\u7406\u72b6\u6001\u3001\u5904\u7406\u4f9d\u8d56\u6ce8\u5165\u4ee5\u53ca\u5b9e\u73b0\u8def\u7531\u5bfc\u822a\u3002</p> <p><code>BLoC\uff08Business Logic Component</code>\uff09\u662f\u4e00\u79cd\u7531 <code>Google</code> \u63a8\u51fa\u7684\u72b6\u6001\u7ba1\u7406\u6a21\u5f0f\uff0c\u6700\u521d\u4e3a <code>Angular</code> \u6846\u67b6\u8bbe\u8ba1\uff0c\u540e\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e <code>Flutter</code> \u5f00\u53d1\u4e2d\u3002\u5176\u6838\u5fc3\u601d\u60f3\u662f\u5c06\u4e1a\u52a1\u903b\u8f91\u4e0e UI \u754c\u9762\u5206\u79bb\uff0c\u901a\u8fc7\u6d41\uff08Stream\uff09\u5b9e\u73b0\u5355\u5411\u6570\u636e\u6d41\uff0c\u4f7f\u5f97\u72b6\u6001\u53d8\u5316\u53ef\u9884\u6d4b\u4e14\u6613\u4e8e\u6d4b\u8bd5\u3002</p> <ul> <li> <p><code>Bloc</code>\u6a21\u5f0f\uff1a\u8be5\u6a21\u5f0f\u5212\u5206\u56db\u5c42\u7ed3\u6784</p> </li> <li> <p>bloc\uff1a\u903b\u8f91\u5c42</p> </li> <li>state\uff1a\u6570\u636e\u5c42</li> <li>event\uff1a\u6240\u6709\u7684\u4ea4\u4e92\u4e8b\u4ef6</li> <li> <p>view\uff1a\u9875\u9762</p> </li> <li> <p><code>Cubit</code>\u6a21\u5f0f\uff1a\u8be5\u6a21\u5f0f\u5212\u5206\u4e86\u4e09\u5c42\u7ed3\u6784</p> </li> <li> <p>cubit\uff1a\u903b\u8f91\u5c42</p> </li> <li>state\uff1a\u6570\u636e\u5c42</li> <li>view\uff1a\u9875\u9762</li> </ul>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#bloc","title":"Bloc\u67b6\u6784\u6a21\u5f0f","text":"<pre><code>graph LR\n    A[UI Event] --&gt; B[Bloc]\n    B --&gt; C[Repository]\n    C --&gt; D[Data Source]\n    D --&gt; C\n    C --&gt; B\n    B --&gt; E[State]\n    E --&gt; F[UI Update]</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#oneapp_2","title":"\u5728OneApp\u4e2d\u7684\u5b9e\u73b0","text":"<p>\u57fa\u4e8eOneApp\u9879\u76ee\u4e2d\u7684\u5b9e\u9645\u4ee3\u7801\uff0c\u4ee5\u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u4e3a\u4f8b\u5c55\u793aBloc\u6a21\u5f0f\u7684\u4e09\u5c42\u67b6\u6784\uff1a</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_event","title":"1. Event\u5c42 (\u6240\u6709\u7684\u4ea4\u4e92\u4e8b\u4ef6)","text":"<p>Event\u5b9a\u4e49\u4e86\u7528\u6237\u53ef\u4ee5\u89e6\u53d1\u7684\u6240\u6709\u4e8b\u4ef6\u7c7b\u578b\uff0c\u4f7f\u7528<code>freezed</code>\u6ce8\u89e3\u751f\u6210\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff1a</p> <pre><code>/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u4e8b\u4ef6\u5b9a\u4e49\n@freezed\nclass RemoteClimatisationControlEvent with _$RemoteClimatisationControlEvent {\n  /// \u6e29\u5ea6\u8bbe\u7f6e\u4e8b\u4ef6\n  /// [temperature] \u7a7a\u8c03\u6e29\u5ea6\n  const factory RemoteClimatisationControlEvent.updateTemperatureSettingEvent({\n    required double temperature,\n  }) = UpdateTemperatureSettingEvent;\n\n  /// \u89e3\u9501\u542f\u52a8\u5f00\u5173\u4e8b\u4ef6\n  /// [climatizationAtUnlock] \u89e3\u9501\u542f\u52a8\u5f00\u5173\u72b6\u6001\n  const factory RemoteClimatisationControlEvent.updateClimatizationAtUnlockEvent({\n    required bool climatizationAtUnlock,\n  }) = UpdateClimatizationAtUnlockEvent;\n\n  /// \u6267\u884c\u7a7a\u8c03\u52a8\u4f5c\u4e8b\u4ef6\n  /// [action] \u6267\u884cClimatizationAction\u52a8\u4f5c\u7684action\n  const factory RemoteClimatisationControlEvent.updateActionExecuteEvent({\n    required ClimatizationAction action,\n  }) = UpdateActionExecuteEvent;\n\n  /// \u6ed1\u5757\u503c\u66f4\u65b0\u4e8b\u4ef6\n  /// [sliderValue] \u4e3b\u8981\u7528\u6765\u66f4\u65b0\u6ed1\u5757\u7684\u503c\n  const factory RemoteClimatisationControlEvent.updateSliderExecuteEvent({\n    required double sliderValue,\n  }) = UpdateSliderExecuteEvent;\n\n  /// \u9875\u9762\u6570\u636e\u5237\u65b0\u4e8b\u4ef6\n  /// \u5f53\u524d\u9875\u9762\u6682\u505c\u4e86\u518d\u6b21\u56de\u6765\u5c31\u6267\u884c\u8fd9\u4e2a\u65b9\u6cd5,\u5237\u65b0\u4e00\u4e0b\u9875\u9762\n  const factory RemoteClimatisationControlEvent.updatePageDataEvent() = UpdatePageDataEventEvent;\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_state","title":"2. State\u5c42 (\u6570\u636e\u5c42)","text":"<p>State\u5305\u542b\u4e86\u9875\u9762\u6240\u9700\u7684\u6240\u6709\u72b6\u6001\u6570\u636e\uff0c\u540c\u6837\u4f7f\u7528<code>freezed</code>\u786e\u4fdd\u4e0d\u53ef\u53d8\u6027\uff1a</p> <pre><code>/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u72b6\u6001\u5b9a\u4e49\n@freezed\nclass RemoteClimatisationState with _$RemoteClimatisationState {\n  /// [climatization] \u7a7a\u8c03\u670d\u52a1\u7c7b\n  /// [climatizationAtUnlock] \u89e3\u9501\u542f\u52a8\u5f00\u5173\n  /// [temperature] \u7a7a\u8c03\u6e29\u5ea6\n  /// [status] \u7a7a\u8c03\u72b6\u6001\n  /// [parameter] \u7a7a\u8c03\u6a21\u5757\u53c2\u6570\n  /// [actionStart] \u6253\u5f00\u7a7a\u8c03\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  /// [actionStop] \u5173\u95ed\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  /// [actionSetting] \u4fdd\u5b58\u8bbe\u7f6e\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  /// [updatePage] \u66f4\u65b0\u9875\u9762,bool\u503c\u53d6\u53cd\n  /// [sliderValue] \u7a7a\u8c03\u6ed1\u52a8\u6761\u7684\u503c\n  const factory RemoteClimatisationState({\n    required ClimatizationService climatization,  // \u7a7a\u8c03\u670d\u52a1\u5b9e\u4f8b\n    required bool climatizationAtUnlock,          // \u89e3\u9501\u65f6\u81ea\u52a8\u542f\u52a8\u5f00\u5173\n    required double temperature,                  // \u5f53\u524d\u8bbe\u7f6e\u6e29\u5ea6\n    ClimatisationStatus? status,                  // \u7a7a\u8c03\u8fd0\u884c\u72b6\u6001\n    ClimatizationParameter? parameter,            // \u7a7a\u8c03\u53c2\u6570\u914d\u7f6e\n    bool? actionStart,                           // \u542f\u52a8\u64cd\u4f5c\u8fdb\u884c\u4e2d\u6807\u5fd7\n    bool? actionStop,                            // \u505c\u6b62\u64cd\u4f5c\u8fdb\u884c\u4e2d\u6807\u5fd7\n    bool? actionSetting,                         // \u8bbe\u7f6e\u64cd\u4f5c\u8fdb\u884c\u4e2d\u6807\u5fd7\n    bool? updatePage,                            // \u9875\u9762\u66f4\u65b0\u6807\u5fd7\n    double? sliderValue,                         // \u6e29\u5ea6\u6ed1\u5757\u5f53\u524d\u503c\n  }) = _RemoteClimatisationState;\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#3_bloc_1","title":"3. Bloc\u5c42 (\u903b\u8f91\u5c42)","text":"<p>Bloc\u8d1f\u8d23\u5904\u7406\u4e8b\u4ef6\u5e76\u66f4\u65b0\u72b6\u6001\uff0c\u5305\u542b\u4e1a\u52a1\u903b\u8f91\u548c\u4e0e\u5916\u90e8\u670d\u52a1\u7684\u4ea4\u4e92\uff1a</p> <pre><code>/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u4e1a\u52a1\u903b\u8f91\u5c42\nclass RemoteClimatisationControlBloc extends Bloc&lt;RemoteClimatisationControlEvent, RemoteClimatisationState&gt; {\n\n  RemoteClimatisationControlBloc(\n    ClimatizationService climatization,\n    double temperature,\n    bool climatizationAtUnlock,\n    String? noticeVin,\n    BuildContext? context,\n  ) : super(\n          RemoteClimatisationState(\n            climatization: climatization,\n            temperature: temperature,\n            climatizationAtUnlock: climatizationAtUnlock,\n          ),\n        ) {\n    // \u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u5668\n    on&lt;UpdateTemperatureSettingEvent&gt;(_onUpdateTemperatureSetting);\n    on&lt;UpdateClimatizationAtUnlockEvent&gt;(_onUpdateClimatizationAtUnlockEvent);\n    on&lt;UpdateActionExecuteEvent&gt;(_onUpdateActionExecuteEvent);\n    on&lt;UpdateSliderExecuteEvent&gt;(_onUpdateSliderExecuteEvent);\n    on&lt;UpdatePageDataEventEvent&gt;(_onUpdatePageDataEventEvent);\n\n    // \u521d\u59cb\u5316\u72b6\u6001\n    _initializeState(climatization);\n\n    // \u8ba2\u9605\u7a7a\u8c03\u670d\u52a1\u53d8\u5316\n    _subscribeToClimatizationService(climatization);\n  }\n\n  /// \u5904\u7406\u6e29\u5ea6\u8bbe\u7f6e\u4e8b\u4ef6\n  FutureOr&lt;void&gt; _onUpdateTemperatureSetting(\n    UpdateTemperatureSettingEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u66f4\u65b0\u6e29\u5ea6\u8bbe\u7f6e: ${event.temperature}');\n\n    if (state.climatization.isParameterReady) {\n      // \u66f4\u65b0\u7a7a\u8c03\u8bbe\u7f6e\u53c2\u6570\n      final ClimatizationSetting setting = state.parameter!.setting.copyWith(\n        targetTemperatureC: event.temperature,\n        unitInCar: 'celsius',\n      );\n\n      // \u66f4\u65b0RPC\u53c2\u6570\n      final ClimatizationRpcParameter rpc = ClimatizationRpcParameter();\n      rpc.targetTemperature = event.temperature;\n      rpc.targetTemperatureUnit = 'celsius';\n\n      final ClimatizationParameter parameter = ClimatizationParameter();\n      parameter.setting = setting;\n      parameter.rpc = rpc;\n      parameter.timer = state.parameter!.timer;\n\n      // \u66f4\u65b0\u670d\u52a1\u53c2\u6570\n      state.climatization.parameter = parameter;\n\n      emit(state.copyWith(\n        parameter: parameter,\n        temperature: event.temperature,\n      ));\n    } else {\n      emit(state.copyWith(temperature: event.temperature));\n    }\n  }\n\n  /// \u5904\u7406\u89e3\u9501\u542f\u52a8\u5f00\u5173\u4e8b\u4ef6\n  FutureOr&lt;void&gt; _onUpdateClimatizationAtUnlockEvent(\n    UpdateClimatizationAtUnlockEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u66f4\u65b0\u89e3\u9501\u542f\u52a8\u5f00\u5173: ${event.climatizationAtUnlock}');\n\n    if (state.climatization.isParameterReady) {\n      final ClimatizationSetting setting = state.parameter!.setting\n          .copyWith(climatizationAtUnlock: event.climatizationAtUnlock);\n\n      final ClimatizationParameter parameter = \n          state.climatization.parameter as ClimatizationParameter;\n      parameter.setting = setting;\n      state.climatization.parameter = parameter;\n\n      emit(state.copyWith(\n        parameter: parameter,\n        climatizationAtUnlock: event.climatizationAtUnlock,\n      ));\n    } else {\n      emit(state.copyWith(climatizationAtUnlock: event.climatizationAtUnlock));\n    }\n  }\n\n  /// \u5904\u7406\u7a7a\u8c03\u52a8\u4f5c\u6267\u884c\u4e8b\u4ef6\n  FutureOr&lt;void&gt; _onUpdateActionExecuteEvent(\n    UpdateActionExecuteEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u6267\u884c\u7a7a\u8c03\u52a8\u4f5c: ${event.action}');\n\n    // \u6839\u636e\u4e0d\u540c\u52a8\u4f5c\u66f4\u65b0\u5bf9\u5e94\u7684\u6267\u884c\u72b6\u6001\n    if (ClimatizationAction.stop == event.action) {\n      emit(state.copyWith(actionStop: true));\n    } else if (ClimatizationAction.start == event.action) {\n      emit(state.copyWith(actionStart: true));\n    } else if (ClimatizationAction.setting == event.action) {\n      emit(state.copyWith(actionSetting: true));\n    }\n  }\n\n  /// \u8ba2\u9605\u7a7a\u8c03\u670d\u52a1\u72b6\u6001\u53d8\u5316\n  void _subscribeToClimatizationService(ClimatizationService climatization) {\n    client = Vehicle.addServiceObserver(\n      ServiceType.remoteChimatization,\n      (UpdateEvent event, ConnectorAction action, dynamic value) {\n        CarAppLog.i('\u7a7a\u8c03\u670d\u52a1\u72b6\u6001\u53d8\u5316: $event');\n\n        if (event == UpdateEvent.onStatusChange) {\n          // \u7a7a\u8c03\u72b6\u6001\u53d8\u5316\n          emit(state.copyWith(status: value as ClimatisationStatus));\n        } else if (event == UpdateEvent.onSettingChange) {\n          // \u7a7a\u8c03\u8bbe\u7f6e\u53d8\u5316\n          if (climatization.parameter.setting != null) {\n            final ClimatizationSetting setting =\n                climatization.parameter.setting as ClimatizationSetting;\n            emit(state.copyWith(\n              parameter: value as ClimatizationParameter,\n              temperature: setting.targetTemperatureC ?? 0,\n              climatizationAtUnlock: setting.climatizationAtUnlock ?? false,\n            ));\n          }\n        } else if (event == UpdateEvent.onActionStatusChange) {\n          // \u52a8\u4f5c\u6267\u884c\u72b6\u6001\u53d8\u5316\n          final ServiceAction serviceAction = value as ServiceAction;\n          _handleActionStatusChange(serviceAction, action);\n        }\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#4_uibloc","title":"4. UI\u4e2d\u4f7f\u7528Bloc","text":"<pre><code>class ClimatizationControlPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return BlocBuilder&lt;RemoteClimatisationControlBloc, RemoteClimatisationState&gt;(\n      builder: (context, state) {\n        return Scaffold(\n          appBar: AppBar(title: Text('\u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236')),\n          body: Column(\n            children: [\n              // \u6e29\u5ea6\u663e\u793a\u548c\u63a7\u5236\n              Text('\u5f53\u524d\u6e29\u5ea6: ${state.temperature.toInt()}\u00b0C'),\n\n              // \u6e29\u5ea6\u6ed1\u5757\n              Slider(\n                value: state.sliderValue ?? state.temperature,\n                min: 16.0,\n                max: 32.0,\n                onChanged: (value) {\n                  context.read&lt;RemoteClimatisationControlBloc&gt;().add(\n                    RemoteClimatisationControlEvent.updateSliderExecuteEvent(\n                      sliderValue: value,\n                    ),\n                  );\n                },\n              ),\n\n              // \u89e3\u9501\u542f\u52a8\u5f00\u5173\n              SwitchListTile(\n                title: Text('\u89e3\u9501\u65f6\u81ea\u52a8\u542f\u52a8'),\n                value: state.climatizationAtUnlock,\n                onChanged: (value) {\n                  context.read&lt;RemoteClimatisationControlBloc&gt;().add(\n                    RemoteClimatisationControlEvent.updateClimatizationAtUnlockEvent(\n                      climatizationAtUnlock: value,\n                    ),\n                  );\n                },\n              ),\n\n              // \u63a7\u5236\u6309\u94ae\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: [\n                  ElevatedButton(\n                    onPressed: state.actionStart == true ? null : () {\n                      context.read&lt;RemoteClimatisationControlBloc&gt;().add(\n                        RemoteClimatisationControlEvent.updateActionExecuteEvent(\n                          action: ClimatizationAction.start,\n                        ),\n                      );\n                    },\n                    child: state.actionStart == true \n                        ? CircularProgressIndicator() \n                        : Text('\u542f\u52a8\u7a7a\u8c03'),\n                  ),\n                  ElevatedButton(\n                    onPressed: state.actionStop == true ? null : () {\n                      context.read&lt;RemoteClimatisationControlBloc&gt;().add(\n                        RemoteClimatisationControlEvent.updateActionExecuteEvent(\n                          action: ClimatizationAction.stop,\n                        ),\n                      );\n                    },\n                    child: state.actionStop == true \n                        ? CircularProgressIndicator() \n                        : Text('\u5173\u95ed\u7a7a\u8c03'),\n                  ),\n                ],\n              ),\n            ],\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre> <p>Bloc\u6a21\u5f0f\u4e09\u5c42\u67b6\u6784\u4f18\u52bf\uff1a</p> <ol> <li>Event\u5c42: \u5b9a\u4e49\u6240\u6709\u53ef\u80fd\u7684\u7528\u6237\u4ea4\u4e92\uff0c\u7c7b\u578b\u5b89\u5168\uff0c\u6613\u4e8e\u6d4b\u8bd5</li> <li>State\u5c42: \u96c6\u4e2d\u7ba1\u7406\u9875\u9762\u72b6\u6001\uff0c\u4e0d\u53ef\u53d8\u8bbe\u8ba1\u4fdd\u8bc1\u72b6\u6001\u4e00\u81f4\u6027  </li> <li>Bloc\u5c42: \u5c01\u88c5\u4e1a\u52a1\u903b\u8f91\uff0c\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\uff0c\u4e0eUI\u5b8c\u5168\u5206\u79bb</li> </ol>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#4_oneapp","title":"4. OneApp\u4e2d\u7684\u6a21\u5757\u5316\u5b9e\u8df5","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_8","title":"\u6a21\u5757\u5206\u5c42\u67b6\u6784","text":"<pre><code>graph TB\n    subgraph \"\u5e94\u7528\u5c42\"\n        A[oneapp_main]\n    end\n\n    subgraph \"\u4e1a\u52a1\u6a21\u5757\u5c42\"\n        B[oneapp_account]\n        C[oneapp_community]\n        D[oneapp_membership]\n        E[oneapp_setting]\n    end\n\n    subgraph \"\u529f\u80fd\u6a21\u5757\u5c42\"\n        F[app_car]\n        G[app_charging]\n        H[app_order]\n        I[app_media]\n    end\n\n    subgraph \"\u670d\u52a1\u5c42\"\n        J[clr_charging]\n        K[clr_payment]\n        L[clr_order]\n    end\n\n    subgraph \"\u57fa\u7840\u8bbe\u65bd\u5c42\"\n        M[basic_network]\n        N[basic_storage]\n        O[basic_logger]\n        P[ui_basic]\n    end\n\n    A --&gt; B\n    A --&gt; C\n    A --&gt; D\n    A --&gt; E\n\n    B --&gt; F\n    C --&gt; G\n    D --&gt; H\n    E --&gt; I\n\n    F --&gt; J\n    G --&gt; K\n    H --&gt; L\n\n    J --&gt; M\n    K --&gt; N\n    L --&gt; O\n    I --&gt; P</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_9","title":"\u4f9d\u8d56\u7ba1\u7406\u7b56\u7565","text":"<pre><code># pubspec.yaml \u4e2d\u7684\u4f9d\u8d56\u7ba1\u7406\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # \u57fa\u7840\u6846\u67b6\u4f9d\u8d56\n  basic_network:\n    path: ../oneapp_basic_utils/basic_network\n  basic_storage:\n    path: ../oneapp_basic_utils/basic_storage\n  basic_modular:\n    path: ../oneapp_basic_utils/basic_modular\n\n  # \u4e1a\u52a1\u6a21\u5757\u4f9d\u8d56\n  app_car:\n    path: ../oneapp_app_car/app_car\n  app_charging:\n    path: ../oneapp_app_car/app_charging\n\n  # UI\u7ec4\u4ef6\u4f9d\u8d56\n  ui_basic:\n    path: ../oneapp_basic_uis/ui_basic\n  ui_business:\n    path: ../oneapp_basic_uis/ui_business\n\ndependency_overrides:\n  # \u89e3\u51b3\u7248\u672c\u51b2\u7a81\u7684\u4f9d\u8d56\u8986\u76d6\n  meta: ^1.9.1\n  collection: ^1.17.1\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_10","title":"\u6a21\u5757\u95f4\u901a\u4fe1\u673a\u5236","text":"<p>OneApp\u91c7\u7528\u591a\u79cd\u65b9\u5f0f\u5b9e\u73b0\u6a21\u5757\u95f4\u901a\u4fe1\uff0c\u4e3b\u8981\u5305\u62ec\u4e8b\u4ef6\u603b\u7ebf\u901a\u4fe1\u548c\u4f9d\u8d56\u6ce8\u5165\u901a\u4fe1\u4e24\u79cd\u673a\u5236\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_oneappeventbus","title":"1. \u4e8b\u4ef6\u603b\u7ebf\u901a\u4fe1 (OneAppEventBus)","text":"<p>\u57fa\u4e8e\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u7684\u4e8b\u4ef6\u603b\u7ebf\uff0c\u652f\u6301\u533f\u540d\u8ba2\u9605\u548c\u6807\u8bc6\u8ba2\u9605\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <pre><code>/// OneApp\u4e8b\u4ef6\u603b\u7ebf\u5b9e\u73b0\nclass OneAppEventBus extends Object {\n  static final _eventBus = EventBus();\n  static final OneAppEventBus _instance = OneAppEventBus._internal();\n\n  // \u63a7\u5236\u5668\u7ba1\u7406\n  final Map&lt;String, StreamController&lt;dynamic&gt;&gt; _eventControllers = {};\n  final Map&lt;String, List&lt;StreamSubscription&lt;dynamic&gt;&gt;&gt; _anonymousSubscriptions = {};\n  final Map&lt;String, Map&lt;String, StreamSubscription&lt;dynamic&gt;&gt;&gt; _identifiedSubscriptions = {};\n\n  OneAppEventBus._internal();\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u53d1\u5e03\n  static void fireEvent(event) {\n    _eventBus.fire(event);\n  }\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u76d1\u542c\n  static StreamSubscription&lt;T&gt; addListen&lt;T&gt;(\n    void Function(T event)? onData, {\n    Function? onError,\n    void Function()? onDone,\n    bool? cancelOnError,\n  }) {\n    return _eventBus.on&lt;T&gt;().listen(onData,\n        onError: onError, onDone: onDone, cancelOnError: cancelOnError);\n  }\n\n  /// \u9ad8\u7ea7\u4e8b\u4ef6\u8ba2\u9605 - \u652f\u6301\u533f\u540d\u548c\u6807\u8bc6\u8ba2\u9605\n  /// [eventType] \u4e8b\u4ef6\u7c7b\u578b\n  /// [onEvent] \u4e8b\u4ef6\u5904\u7406\u56de\u8c03\n  /// [id] \u53ef\u9009\u7684\u8ba2\u9605\u6807\u8bc6\uff0c\u7528\u4e8e\u7ba1\u7406\u8ba2\u9605\u751f\u547d\u5468\u671f\n  static void on(String eventType, Function(dynamic event) onEvent, {String? id}) {\n    var controller = _instance._eventControllers.putIfAbsent(\n      eventType,\n      () =&gt; StreamController&lt;dynamic&gt;.broadcast(),\n    );\n\n    var subscription = controller.stream.listen(onEvent);\n\n    if (id == null) {\n      // \u533f\u540d\u8ba2\u9605\n      _instance._anonymousSubscriptions\n          .putIfAbsent(eventType, () =&gt; [])\n          .add(subscription);\n    } else {\n      // \u6807\u8bc6\u8ba2\u9605 - \u81ea\u52a8\u53d6\u6d88\u540cID\u7684\u65e7\u8ba2\u9605\n      var subscriptions = _instance._identifiedSubscriptions.putIfAbsent(eventType, () =&gt; {});\n      subscriptions[id]?.cancel();\n      subscriptions[id] = subscription;\n    }\n  }\n\n  /// \u4e8b\u4ef6\u53d1\u5e03\n  /// [eventType] \u4e8b\u4ef6\u7c7b\u578b\n  /// [event] \u4e8b\u4ef6\u6570\u636e\n  static void fire(String eventType, dynamic event) {\n    _instance._eventControllers[eventType]?.add(event);\n  }\n\n  /// \u53d6\u6d88\u8ba2\u9605\n  /// [eventType] \u4e8b\u4ef6\u7c7b\u578b\n  /// [id] \u53ef\u9009\u7684\u8ba2\u9605\u6807\u8bc6\n  static void cancel(String eventType, {String? id}) {\n    if (id == null) {\n      // \u53d6\u6d88\u6240\u6709\u533f\u540d\u8ba2\u9605\n      _instance._anonymousSubscriptions[eventType]?.forEach((sub) =&gt; sub.cancel());\n      _instance._anonymousSubscriptions.remove(eventType);\n\n      // \u53d6\u6d88\u6240\u6709\u6807\u8bc6\u8ba2\u9605\n      _instance._identifiedSubscriptions[eventType]?.values.forEach((sub) =&gt; sub.cancel());\n      _instance._identifiedSubscriptions.remove(eventType);\n    } else {\n      // \u53d6\u6d88\u7279\u5b9a\u6807\u8bc6\u8ba2\u9605\n      _instance._identifiedSubscriptions[eventType]?[id]?.cancel();\n      _instance._identifiedSubscriptions[eventType]?.remove(id);\n    }\n\n    // \u6e05\u7406\u7a7a\u63a7\u5236\u5668\n    if ((_instance._anonymousSubscriptions[eventType]?.isEmpty ?? true) &amp;&amp;\n        (_instance._identifiedSubscriptions[eventType]?.isEmpty ?? true)) {\n      _instance._eventControllers[eventType]?.close();\n      _instance._eventControllers.remove(eventType);\n    }\n  }\n\n  /// \u53d6\u6d88\u6240\u6709\u8ba2\u9605\n  static void cancelAll() {\n    _instance._anonymousSubscriptions.forEach((eventType, subscriptions) {\n      for (var subscription in subscriptions) {\n        subscription.cancel();\n      }\n    });\n    _instance._anonymousSubscriptions.clear();\n\n    _instance._identifiedSubscriptions.forEach((eventType, subscriptions) {\n      for (var subscription in subscriptions.values) {\n        subscription.cancel();\n      }\n    });\n    _instance._identifiedSubscriptions.clear();\n\n    for (var controller in _instance._eventControllers.values) {\n      controller.close();\n    }\n    _instance._eventControllers.clear();\n  }\n}\n</code></pre> <p>\u4e8b\u4ef6\u603b\u7ebf\u4f7f\u7528\u793a\u4f8b\uff1a</p> <pre><code>// 1. \u5b9a\u4e49\u4e8b\u4ef6\u7c7b\u578b\nclass VehicleStatusChangedEvent {\n  final String vin;\n  final VehicleStatus status;\n  VehicleStatusChangedEvent(this.vin, this.status);\n}\n\n// 2. \u53d1\u5e03\u4e8b\u4ef6\nclass CarService {\n  void updateVehicleStatus(String vin, VehicleStatus status) {\n    // \u66f4\u65b0\u8f66\u8f86\u72b6\u6001\u540e\u53d1\u5e03\u4e8b\u4ef6\n    OneAppEventBus.fire('vehicle_status_changed', \n        VehicleStatusChangedEvent(vin, status));\n  }\n}\n\n// 3. \u8ba2\u9605\u4e8b\u4ef6\nclass HomePageBloc {\n  late StreamSubscription _statusSubscription;\n\n  void init() {\n    // \u533f\u540d\u8ba2\u9605\u65b9\u5f0f\n    _statusSubscription = OneAppEventBus.addListen&lt;VehicleStatusChangedEvent&gt;(\n      (event) {\n        // \u5904\u7406\u8f66\u8f86\u72b6\u6001\u53d8\u5316\n        emit(state.copyWith(vehicleStatus: event.status));\n      },\n    );\n\n    // \u6807\u8bc6\u8ba2\u9605\u65b9\u5f0f\n    OneAppEventBus.on('vehicle_status_changed', (event) {\n      if (event is VehicleStatusChangedEvent) {\n        emit(state.copyWith(vehicleStatus: event.status));\n      }\n    }, id: 'home_page_bloc');\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    _statusSubscription.cancel();\n    OneAppEventBus.cancel('vehicle_status_changed', id: 'home_page_bloc');\n    return super.close();\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_modular","title":"2. \u4f9d\u8d56\u6ce8\u5165\u901a\u4fe1 (Modular)","text":"<p>\u901a\u8fc7Modular\u7684\u4f9d\u8d56\u6ce8\u5165\u7cfb\u7edf\u5b9e\u73b0\u6a21\u5757\u95f4\u670d\u52a1\u5171\u4eab\u548cBloc\u5bf9\u8c61\u901a\u4fe1\uff1a</p> <pre><code>/// \u5e94\u7528\u4e3b\u6a21\u5757 - \u6a21\u5757\u6ce8\u518c\u548c\u4f9d\u8d56\u7ba1\u7406\nclass AppModule extends Module {\n  @override\n  List&lt;Module&gt; get imports =&gt; [\n    AccountModule(),        // \u8d26\u6237\u6a21\u5757\n    CarControlModule(),     // \u8f66\u63a7\u6a21\u5757\n    SettingModule(),        // \u8bbe\u7f6e\u6a21\u5757\n    AppChargingModule(),    // \u5145\u7535\u6a21\u5757\n    AppOrderModule(),       // \u8ba2\u5355\u6a21\u5757\n    MembershipModule(),     // \u4f1a\u5458\u6a21\u5757\n    CommunityModule(),      // \u793e\u533a\u6a21\u5757\n    // ... \u66f4\u591a\u4e1a\u52a1\u6a21\u5757\n  ];\n\n  @override\n  List&lt;Bind&lt;Object&gt;&gt; get binds =&gt; [\n    $AppBloc,  // \u5e94\u7528\u7ea7\u522b\u7684Bloc\n  ];\n\n  @override\n  List&lt;ModularRoute&gt; get routes {\n    // \u8def\u7531\u914d\u7f6e\uff0c\u652f\u6301\u8def\u7531\u5b88\u536b\n    final List&lt;RouteGuard&gt; carList = [const _StatisticsGuard(), LogInGuard._routeGuard];\n\n    return [\n      ModuleRoute('/account', module: AccountModule(), guards: [const _StatisticsGuard()]),\n      ModuleRoute('/car', module: CarControlModule(), guards: carList),\n      ModuleRoute('/charging', module: AppChargingModule(), guards: carList),\n      // ... \u66f4\u591a\u8def\u7531\u914d\u7f6e\n    ];\n  }\n}\n</code></pre> <p>\u4e1a\u52a1\u6a21\u5757\u4f9d\u8d56\u6ce8\u5165\u5b9e\u73b0\uff1a</p> <pre><code>/// \u8d26\u6237\u6a21\u5757 - \u5c55\u793a\u5b8c\u6574\u7684\u4f9d\u8d56\u6ce8\u5165\u914d\u7f6e\nclass AccountModule extends Module with RouteObjProvider, AppLifeCycleListener {\n  @override\n  List&lt;Module&gt; get imports =&gt; [AccountConModule()]; // \u5bfc\u5165\u5e95\u5c42\u8d26\u6237\u8fde\u63a5\u6a21\u5757\n\n  @override\n  List&lt;Bind&lt;Object&gt;&gt; get binds =&gt; [\n    // \u4e1a\u52a1\u903b\u8f91Bloc\u6ce8\u518c\n    $PhoneSignInBloc,                    // \u624b\u673a\u53f7\u767b\u5f55\u63a7\u5236\u5668\n    $VerificationCodeInputBloc,          // \u9a8c\u8bc1\u7801\u8f93\u5165\u63a7\u5236\u5668\n    $AgreementBloc,                      // \u534f\u8bae\u9875\u63a7\u5236\u5668\n    $GarageBloc,                         // \u8f66\u5e93\u9875\u63a7\u5236\u5668\n    $VehicleInfoBloc,                    // \u8f66\u8f86\u4fe1\u606f\u9875\u63a7\u5236\u5668\n\n    // \u5bf9\u5916\u66b4\u9732\u7684\u5355\u4f8b\u670d\u52a1\n    Bind&lt;PersonalCenterBloc&gt;(\n      (i) =&gt; PersonalCenterBloc(\n        i&lt;IAuthFacade&gt;(),          // \u6ce8\u5165\u8ba4\u8bc1\u670d\u52a1\u63a5\u53e3\n        i&lt;IProfileFacade&gt;(),       // \u6ce8\u5165\u7528\u6237\u8d44\u6599\u670d\u52a1\u63a5\u53e3  \n        i&lt;IGarageFacade&gt;(),        // \u6ce8\u5165\u8f66\u5e93\u670d\u52a1\u63a5\u53e3\n      ),\n      export: true,                // \u5bfc\u51fa\u7ed9\u5176\u4ed6\u6a21\u5757\u4f7f\u7528\n      isSingleton: false,          // \u975e\u5355\u4f8b\u6a21\u5f0f\n    ),\n\n    // \u66f4\u591a\u4e1a\u52a1Bloc...\n    $VehicleAuthBloc,\n    $AuthNewUserBloc,\n    $QrHuConfirmBloc,\n    $PlateNoEditBloc,\n    $UpdatePhoneBloc,\n    $CancelAccountBloc,\n  ];\n}\n</code></pre> <p>\u8de8\u6a21\u5757Bloc\u901a\u4fe1\u793a\u4f8b\uff1a</p> <pre><code>/// \u9996\u9875Bloc - \u9700\u8981\u4f7f\u7528\u8d26\u6237\u6a21\u5757\u7684\u670d\u52a1\nclass HomePageBloc extends Bloc&lt;HomeEvent, HomeState&gt; {\n  final PersonalCenterBloc _personalCenterBloc;\n  late StreamSubscription _personalCenterSubscription;\n\n  HomePageBloc() : super(HomeInitial()) {\n    // \u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u83b7\u53d6\u5176\u4ed6\u6a21\u5757\u7684Bloc\n    _personalCenterBloc = Modular.get&lt;PersonalCenterBloc&gt;();\n\n    // \u8ba2\u9605\u5176\u4ed6\u6a21\u5757Bloc\u7684\u72b6\u6001\u53d8\u5316\n    _personalCenterSubscription = _personalCenterBloc.stream.listen((state) {\n      if (state is PersonalCenterLoaded) {\n        // \u54cd\u5e94\u4e2a\u4eba\u4e2d\u5fc3\u72b6\u6001\u53d8\u5316\uff0c\u66f4\u65b0\u9996\u9875\u72b6\u6001\n        add(UpdateUserInfo(state.userProfile));\n      }\n    });\n\n    on&lt;UpdateUserInfo&gt;(_onUpdateUserInfo);\n  }\n\n  Future&lt;void&gt; _onUpdateUserInfo(UpdateUserInfo event, Emitter&lt;HomeState&gt; emit) async {\n    emit(state.copyWith(userProfile: event.userProfile));\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    _personalCenterSubscription.cancel();\n    return super.close();\n  }\n}\n\n/// \u5145\u7535\u6a21\u5757\u8c03\u7528\u8d26\u6237\u6a21\u5757\u670d\u52a1\nclass ChargingBloc extends Bloc&lt;ChargingEvent, ChargingState&gt; {\n  ChargingBloc() : super(ChargingInitial()) {\n    on&lt;StartCharging&gt;(_onStartCharging);\n  }\n\n  Future&lt;void&gt; _onStartCharging(StartCharging event, Emitter&lt;ChargingState&gt; emit) async {\n    // \u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u83b7\u53d6\u8d26\u6237\u8ba4\u8bc1\u670d\u52a1\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n\n    if (!authFacade.isLogin) {\n      emit(ChargingError('\u8bf7\u5148\u767b\u5f55'));\n      return;\n    }\n\n    // \u83b7\u53d6\u7528\u6237\u4fe1\u606f\u8fdb\u884c\u5145\u7535\n    final profileFacade = Modular.get&lt;IProfileFacade&gt;();\n    final userProfile = profileFacade.getUserProfileLocal();\n\n    // \u6267\u884c\u5145\u7535\u903b\u8f91...\n    emit(ChargingInProgress(event.stationId));\n  }\n}\n</code></pre> <p>\u8def\u7531\u5b88\u536b\u5b9e\u73b0\u6a21\u5757\u95f4\u6743\u9650\u63a7\u5236\uff1a</p> <pre><code>/// \u767b\u5f55\u5b88\u536b - \u4fdd\u62a4\u9700\u8981\u767b\u5f55\u7684\u8def\u7531\nclass LogInGuard extends RouteGuard {\n  factory LogInGuard() =&gt; _routeGuard;\n  LogInGuard._() : super();\n\n  static final LogInGuard _routeGuard = LogInGuard._();\n\n  @override\n  FutureOr&lt;bool&gt; canActivate(String path, ParallelRoute&lt;dynamic&gt; route) {\n    // \u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u83b7\u53d6\u8ba4\u8bc1\u670d\u52a1\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n    return authFacade.isLogin;\n  }\n\n  @override\n  FutureOr&lt;ParallelRoute&lt;dynamic&gt;?&gt; pos(ModularRoute route, dynamic data) async {\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n\n    if (authFacade.isLogin) {\n      return route as ParallelRoute;\n    } else {\n      // \u672a\u767b\u5f55\u65f6\u8df3\u8f6c\u5230\u767b\u5f55\u9875\n      await Modular.to.pushNamed('/account/sign_in');\n      return null;\n    }\n  }\n}\n</code></pre> <p>\u901a\u4fe1\u673a\u5236\u5bf9\u6bd4\uff1a</p> \u901a\u4fe1\u65b9\u5f0f \u9002\u7528\u573a\u666f \u4f18\u70b9 \u7f3a\u70b9 OneAppEventBus \u677e\u8026\u5408\u7684\u4e8b\u4ef6\u901a\u77e5\u3001\u72b6\u6001\u5e7f\u64ad \u89e3\u8026\u6027\u5f3a\u3001\u652f\u6301\u4e00\u5bf9\u591a\u901a\u4fe1 \u7c7b\u578b\u5b89\u5168\u6027\u8f83\u5f31\u3001\u8c03\u8bd5\u56f0\u96be \u4f9d\u8d56\u6ce8\u5165 \u670d\u52a1\u5171\u4eab\u3001Bloc\u95f4\u76f4\u63a5\u901a\u4fe1 \u7c7b\u578b\u5b89\u5168\u3001IDE\u652f\u6301\u597d \u6a21\u5757\u95f4\u8026\u5408\u5ea6\u8f83\u9ad8 <p>\u8fd9\u4e24\u79cd\u673a\u5236\u5728OneApp\u4e2d\u534f\u540c\u5de5\u4f5c\uff0c\u4e8b\u4ef6\u603b\u7ebf\u7528\u4e8e\u5e7f\u64ad\u5f0f\u901a\u77e5\uff0c\u4f9d\u8d56\u6ce8\u5165\u7528\u4e8e\u670d\u52a1\u5171\u4eab\u548c\u76f4\u63a5\u901a\u4fe1\uff0c\u5171\u540c\u6784\u5efa\u4e86\u7075\u6d3b\u800c\u9ad8\u6548\u7684\u6a21\u5757\u95f4\u901a\u4fe1\u4f53\u7cfb\u3002</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#oneapp_3","title":"OneApp\u67b6\u6784","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_oneapp","title":"1. OneApp\u67b6\u6784\u6982\u89c8","text":"<p>OneApp \u662f\u57fa\u4e8e Flutter \u7684\u8f66\u4e3b\u670d\u52a1\u5e94\u7528\uff0c\u91c7\u7528\u5206\u5c42\u6a21\u5757\u5316\u67b6\u6784\uff0c\u652f\u6301\u591a\u4e1a\u52a1\u573a\u666f\u548c\u8de8\u5e73\u53f0\u90e8\u7f72\u3002</p> <p>\u8be6\u7ec6\u4fe1\u606f\u53c2\u8003\uff1aOneApp\u67b6\u6784\u4ecb\u7ecd</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_11","title":"\u6574\u4f53\u67b6\u6784\u56fe","text":"<pre><code>graph TB\n    subgraph \"\u7528\u6237\u754c\u9762\u5c42 (UI Layer)\"\n        A[\u9996\u9875] --&gt; A1[\u8f66\u8f86\u63a7\u5236]\n        A --&gt; A2[\u5145\u7535\u670d\u52a1]\n        A --&gt; A3[\u8ba2\u5355\u7ba1\u7406]\n        A --&gt; A4[\u793e\u533a\u4e92\u52a8]\n        A --&gt; A5[\u4f1a\u5458\u4e2d\u5fc3]\n    end\n\n    subgraph \"\u4e1a\u52a1\u903b\u8f91\u5c42 (Business Layer)\"\n        B1[\u8d26\u6237\u6a21\u5757&lt;br/&gt;oneapp_account]\n        B2[\u8f66\u8f86\u6a21\u5757&lt;br/&gt;oneapp_app_car]\n        B3[\u793e\u533a\u6a21\u5757&lt;br/&gt;oneapp_community]\n        B4[\u4f1a\u5458\u6a21\u5757&lt;br/&gt;oneapp_membership]\n        B5[\u8bbe\u7f6e\u6a21\u5757&lt;br/&gt;oneapp_setting]\n    end\n\n    subgraph \"\u670d\u52a1\u63a5\u5165\u5c42 (Service Layer)\"\n        C1[\u5145\u7535\u670d\u52a1&lt;br/&gt;clr_charging]\n        C2[\u652f\u4ed8\u670d\u52a1&lt;br/&gt;clr_payment]\n        C3[\u8ba2\u5355\u670d\u52a1&lt;br/&gt;clr_order]\n        C4[\u5a92\u4f53\u670d\u52a1&lt;br/&gt;clr_media]\n        C5[\u5730\u7406\u670d\u52a1&lt;br/&gt;clr_geo]\n    end\n\n    subgraph \"\u57fa\u7840\u8bbe\u65bd\u5c42 (Infrastructure Layer)\"\n        D1[\u7f51\u7edc\u901a\u4fe1&lt;br/&gt;basic_network]\n        D2[\u672c\u5730\u5b58\u50a8&lt;br/&gt;basic_storage]\n        D3[\u65e5\u5fd7\u7cfb\u7edf&lt;br/&gt;basic_logger]\n        D4[UI\u7ec4\u4ef6&lt;br/&gt;ui_basic]\n        D5[\u5e73\u53f0\u9002\u914d&lt;br/&gt;basic_platform]\n    end\n\n    subgraph \"\u539f\u751f\u5e73\u53f0\u5c42 (Native Layer)\"\n        E1[Android&lt;br/&gt;Kotlin/Java]\n        E2[iOS&lt;br/&gt;Swift/ObjC]\n    end\n\n    A1 --&gt; B1\n    A1 --&gt; B2\n    A2 --&gt; B2\n    A3 --&gt; B4\n    A4 --&gt; B3\n    A5 --&gt; B4\n\n    B1 --&gt; C1\n    B2 --&gt; C1\n    B2 --&gt; C2\n    B4 --&gt; C3\n    B3 --&gt; C4\n    B2 --&gt; C5\n\n    C1 --&gt; D1\n    C2 --&gt; D1\n    C3 --&gt; D2\n    C4 --&gt; D3\n    C5 --&gt; D4\n\n    D1 --&gt; E1\n    D2 --&gt; E1\n    D3 --&gt; E2\n    D4 --&gt; E2\n    D5 --&gt; E1\n    D5 --&gt; E2</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2","title":"2. \u8be6\u7ec6\u67b6\u6784\u5206\u6790","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#21","title":"2.1 \u5206\u5c42\u67b6\u6784\u8bbe\u8ba1","text":"<p>\u57fa\u4e8eOneApp\u9879\u76ee\u7684\u4ee3\u7801\u7ed3\u6784\uff0c\u5c55\u793a\u5404\u5c42\u7684\u5177\u4f53\u5b9e\u73b0\u548c\u804c\u8d23\u5212\u5206\uff1a</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#ui_layer","title":"\u7528\u6237\u754c\u9762\u5c42 (UI Layer)","text":"<p>\u4e3b\u9875\u9762\u5b9e\u73b0 - \u57fa\u4e8e <code>HomePage</code> \u7684\u4ee3\u7801\uff1a</p> <pre><code>/// OneApp \u4e3b\u9875\u9762 - \u5e95\u90e8Tab\u5bfc\u822a\u67b6\u6784\nclass HomePage extends StatefulWidget with RouteObjProvider {\n  /// \u6784\u9020\u5668\n  /// [initialBottomTabKey] \u5e95\u90e8tab key, value = [HomeBottomTabKey]\n  /// [initialTopTabKey] \u9876\u90e8tab key, value = [DiscoveryTabKey]\n  /// [argsData] \u4f20\u5165\u7684\u53c2\u6570\u6570\u636e\n  HomePage({\n    String? initialBottomTabKey,\n    String? initialTopTabKey,\n    Map&lt;String, dynamic&gt;? argsData,\n    Key? key,\n  })  : initialBottomTabIndex = HomeBottomTabKeyEx.createFrom(initialBottomTabKey).index,\n        initialTopTabKey = initialTopTabKey ?? '',\n        argsMap = argsData,\n        super(key: key);\n\n  final int initialBottomTabIndex;\n  final String initialTopTabKey;\n  final Map&lt;String, dynamic&gt;? argsMap;\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _HomePageState();\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; with RouteAware {\n  final Map&lt;HomeBottomTabKey, Widget&gt; _pages = {};\n  HomeBloc? _bloc;\n  late StreamSubscription? _createEvent;\n  late StreamSubscription? _mainPageIndexChangeEvent;\n\n  @override\n  void initState() {\n    super.initState();\n    Logger.i('HomePage initState...bottom index = ${widget.initialBottomTabIndex}');\n\n    // \u521d\u59cb\u5316HomeBloc\uff0c\u6ce8\u5165\u4f9d\u8d56\u670d\u52a1\n    _bloc = HomeBloc(\n      widget.initialBottomTabIndex,\n      Modular.get&lt;IGarageFacade&gt;(),    // \u8f66\u5e93\u670d\u52a1\n      Modular.get&lt;IAuthFacade&gt;(),      // \u8ba4\u8bc1\u670d\u52a1\n    )..add(const HomeEvent.checkIfHasDefaultCar());\n\n    // \u8ba2\u9605\u793e\u533a\u6a21\u5757\u4e8b\u4ef6\n    _createEvent = OneAppEventBus.addListen&lt;UserCreationEditEvent&gt;((event) {\n      if (event.editType == UserCreationType.add) {\n        _bloc?.add(const HomeEvent.viewPagerChanged(index: 1));\n      }\n      if (event.editType == UserCreationType.buyCar) {\n        _bloc?.add(const HomeEvent.viewPagerChanged(index: 2));\n      }\n      // \u66f4\u591a\u4e8b\u4ef6\u5904\u7406...\n    });\n\n    // \u8ba2\u9605\u4e3b\u9875\u7d22\u5f15\u53d8\u5316\u4e8b\u4ef6\n    _mainPageIndexChangeEvent = OneAppEventBus.addListen&lt;MainPageIndexChangeEvent&gt;((event) {\n      _bloc?.add(HomeEvent.viewPagerChanged(index: event.oneIndex));\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) =&gt; BlocProvider.value(\n    value: _bloc!,\n    child: LocaleConsumer(\n      builder: (BuildContext context) =&gt; BlocConsumer&lt;HomeBloc, HomeState&gt;(\n        listener: (context, state) {\n          // \u72b6\u6001\u53d8\u5316\u76d1\u542c\uff0c\u63a7\u5236\u9875\u9762\u8df3\u8f6c\n          final bloc = BlocProvider.of&lt;HomeBloc&gt;(context);\n          final index = state.bottomTabIndex;\n          bloc.pageController.jumpToPage(index);\n        },\n        builder: (context, state) {\n          return Scaffold(\n            body: PageView.builder(\n              controller: state.pageController,\n              itemCount: 5, // \u5e95\u90e8Tab\u6570\u91cf\n              itemBuilder: (context, index) =&gt; _getPageWidget(context, index),\n            ),\n            bottomNavigationBar: _buildBottomNavigationBar(state),\n          );\n        },\n      ),\n    ),\n  );\n\n  /// \u83b7\u53d6\u5bf9\u5e94Tab\u7684\u9875\u9762Widget\n  Widget _getPageWidget(BuildContext context, int index) {\n    final map = {'initialTabKey': widget.initialTopTabKey};\n    final bottomTabValue = HomeBottomTabKey.values[index];\n\n    // \u6839\u636eTab\u7c7b\u578b\u8fd4\u56de\u5bf9\u5e94\u9875\u9762\n    var childWidget = bottomTabValue.getWidget(map, widget.argsMap, context);\n    return KeepAliveWrapper(child: childWidget);\n  }\n}\n\n/// \u5e95\u90e8Tab\u679a\u4e3e\u53ca\u9875\u9762\u6620\u5c04\nenum HomeBottomTabKey {\n  discovery,        // \u53d1\u73b0\u9875 0\n  community,        // \u793e\u533a\u9875 1\n  car,             // \u8f66\u8f86\u63a7\u5236\u9875 2\n  shop,            // \u5546\u57ce\u9875 3\n  personalCenter,   // \u4e2a\u4eba\u4e2d\u5fc3 4\n}\n\nextension HomeBottomTabKeyEx on HomeBottomTabKey {\n  /// \u6839\u636eTab\u8fd4\u56de\u5bf9\u5e94\u7684\u9875\u9762Widget\n  Widget getWidget(Map&lt;String, dynamic&gt; params, Map&lt;String, dynamic&gt;? argsMap, BuildContext context) {\n    switch (this) {\n      case HomeBottomTabKey.discovery:\n        return ComponentDiscoveryRecommendPage();  // \u53d1\u73b0\u9875\u63a8\u8350\u5185\u5bb9\n\n      case HomeBottomTabKey.car:\n        // \u8f66\u8f86\u63a7\u5236\u9875 - \u652f\u6301\u901a\u77e5\u680f\u53c2\u6570\u4f20\u5165\n        String? noticeVin = argsMap?['vin'] as String?;\n        String? target = argsMap?['target'] as String?;\n        bool needExecuteCarLock = (argsMap?['needExecuteCarLock'] as String?) == 'true';\n\n        Logger.i('noticeVin: $noticeVin, target: $target, needExecuteCarLock: $needExecuteCarLock');\n        return CarPageWrapper(target, noticeVin, needExecuteCarLock: needExecuteCarLock);\n\n      case HomeBottomTabKey.community:\n        return CommunityTabPage();  // \u793e\u533a\u529f\u80fd\u9875\u9762\n\n      case HomeBottomTabKey.shop:\n        return BaseWebViewPage(url: AppUtils.getMallIndexUrl(), isShowAppBar: false);\n\n      case HomeBottomTabKey.personalCenter:\n        return const PersonalCenterPage();  // \u4e2a\u4eba\u4e2d\u5fc3\u9875\u9762\n    }\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#business_layer","title":"\u4e1a\u52a1\u903b\u8f91\u5c42 (Business Layer)","text":"<p>\u4e3b\u5e94\u7528\u6a21\u5757 - \u57fa\u4e8e <code>AppModule</code> \u7684\u4ee3\u7801\uff1a</p> <pre><code>/// OneApp \u5e94\u7528\u6700\u9876\u5c42\u6a21\u5757 - \u7edf\u4e00\u7ba1\u7406\u6240\u6709\u4e1a\u52a1\u6a21\u5757\nclass AppModule extends Module {\n  @override\n  List&lt;Module&gt; get imports =&gt; [\n    // === \u8d26\u6237\u4f53\u7cfb\u6a21\u5757 ===\n    AccountModule(),              // \u7528\u6237\u8d26\u6237\u7ba1\u7406\n    AccountConModule(),           // \u8d26\u6237\u8fde\u63a5\u5c42\u670d\u52a1\n\n    // === \u8f66\u8f86\u76f8\u5173\u6a21\u5757 ===\n    CarControlModule(),           // \u8f66\u8f86\u63a7\u5236\u6838\u5fc3\u6a21\u5757\n    AppChargingModule(),          // \u5145\u7535\u670d\u52a1\u6a21\u5757\n    ClrChargingModule(),          // \u5145\u7535\u8fde\u63a5\u5c42\n    AppAvatarModule(),            // 3D\u865a\u62df\u5f62\u8c61\n    AppCarwatcherModule(),        // \u8f66\u8f86\u76d1\u63a7\n    ClrCarWatcherModule(),        // \u8f66\u8f86\u76d1\u63a7\u8fde\u63a5\u5c42\n\n    // === \u751f\u6d3b\u670d\u52a1\u6a21\u5757 ===\n    AppOrderModule(),             // \u8ba2\u5355\u7ba1\u7406\n    ClrOrderModule(),             // \u8ba2\u5355\u8fde\u63a5\u5c42\n    AppTouchgoModule(),           // Touch&amp;Go\u670d\u52a1\n    ClrTouchgoModule(),           // Touch&amp;Go\u8fde\u63a5\u5c42\n    AppWallboxModule(),           // \u5bb6\u5145\u6869\u7ba1\u7406\n    ClrWallboxModule(),           // \u5bb6\u5145\u6869\u8fde\u63a5\u5c42\n\n    // === \u5185\u5bb9\u793e\u533a\u6a21\u5757 ===\n    CommunityModule(),            // \u793e\u533a\u529f\u80fd\n    MembershipModule(),           // \u4f1a\u5458\u4f53\u7cfb\n    AfterSalesModule(),           // \u552e\u540e\u670d\u52a1\n    CarSalesModule(),             // \u6c7d\u8f66\u9500\u552e\n\n    // === \u57fa\u7840\u8bbe\u65bd\u6a21\u5757 ===\n    SettingModule(),              // \u5e94\u7528\u8bbe\u7f6e\n    SettingConModule(),           // \u8bbe\u7f6e\u8fde\u63a5\u5c42\n    GeoModule(),                  // \u5730\u7406\u4f4d\u7f6e\u670d\u52a1\n    AppMessageModule(),           // \u6d88\u606f\u670d\u52a1\n    ClrMessageModule(),           // \u6d88\u606f\u8fde\u63a5\u5c42\n\n    // === \u6269\u5c55\u529f\u80fd\u6a21\u5757 ===\n    AppTtsModule(),               // \u8bed\u97f3\u64ad\u62a5\n    AppNavigationModule(),        // \u5bfc\u822a\u670d\u52a1\n    AppVurModule(),               // VUR\u529f\u80fd\n    AppRpaModule(),               // RPA\u81ea\u52a8\u5316\n    CompanionModule(),            // \u4f34\u4fa3\u5e94\u7528\n    TouchPointModule(),           // \u89e6\u70b9\u7ba1\u7406\n    OneAppPopupModule(),          // \u5f39\u7a97\u7ba1\u7406\n\n    // === \u5f00\u53d1\u6d4b\u8bd5\u6a21\u5757 ===\n    TestModule(),                 // \u6d4b\u8bd5\u6a21\u5757\n    BasicUIModule(),              // \u57fa\u7840UI\u7ec4\u4ef6\n  ];\n\n  @override\n  List&lt;Bind&lt;Object&gt;&gt; get binds =&gt; [\n    $AppBloc,  // \u5e94\u7528\u7ea7\u522b\u72b6\u6001\u7ba1\u7406\n  ];\n\n  @override\n  List&lt;ModularRoute&gt; get routes {\n    // \u8def\u7531\u5143\u6570\u636e\u83b7\u53d6 - \u901a\u8fc7RouteCenterAPI\u7edf\u4e00\u7ba1\u7406\n    final home = RouteCenterAPI.routeMetaBy(HomeRouteExport.keyModule);\n    final account = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyModule);\n    final car = RouteCenterAPI.routeMetaBy(CarControlRouteExport.keyModule);\n    final charging = RouteCenterAPI.routeMetaBy(AppChargingRouteExport.keyModule);\n    final community = RouteCenterAPI.routeMetaBy(CommuntiyRouteExport.keyModule);\n    // ... \u66f4\u591a\u8def\u7531\u5143\u6570\u636e\n\n    // \u8def\u7531\u5b88\u536b\u914d\u7f6e\n    const basicGuards = [_StatisticsGuard()];                    // \u57fa\u7840\u7edf\u8ba1\u5b88\u536b\n    final loginRequiredGuards = [const _StatisticsGuard(), LogInGuard._routeGuard];  // \u9700\u8981\u767b\u5f55\u7684\u8def\u7531\u5b88\u536b\n\n    return [\n      // \u9996\u9875\u8def\u7531 - \u65e0\u9700\u767b\u5f55\n      ModuleRoute(home.path, module: HomeModule(), guards: basicGuards),\n\n      // \u8d26\u6237\u76f8\u5173\u8def\u7531 - \u65e0\u9700\u767b\u5f55\n      ModuleRoute(account.path, module: AccountModule(), guards: basicGuards),\n\n      // \u8f66\u8f86\u63a7\u5236\u8def\u7531 - \u9700\u8981\u767b\u5f55\n      ModuleRoute(car.path, module: CarControlModule(), guards: loginRequiredGuards),\n\n      // \u5145\u7535\u670d\u52a1\u8def\u7531 - \u9700\u8981\u767b\u5f55  \n      ModuleRoute(charging.path, module: AppChargingModule(), guards: loginRequiredGuards),\n\n      // \u793e\u533a\u529f\u80fd\u8def\u7531 - \u65e0\u9700\u767b\u5f55\n      ModuleRoute(community.path, module: CommunityModule(), guards: basicGuards),\n\n      // ... \u66f4\u591a\u6a21\u5757\u8def\u7531\u914d\u7f6e\n    ];\n  }\n}\n</code></pre> <p>\u5b50\u6a21\u5757\u5b9e\u73b0 - \u57fa\u4e8e <code>AccountModule</code> \u7684\u4e1a\u52a1\u6a21\u5757\uff1a</p> <pre><code>/// \u8d26\u6237\u6a21\u5757 - \u5c55\u793a\u5b8c\u6574\u7684\u4e1a\u52a1\u6a21\u5757\u5b9e\u73b0\nclass AccountModule extends Module with RouteObjProvider, AppLifeCycleListener {\n  @override\n  List&lt;Module&gt; get imports =&gt; [\n    AccountConModule(),  // \u5bfc\u5165\u5e95\u5c42\u8fde\u63a5\u670d\u52a1\u6a21\u5757\n  ];\n\n  @override\n  void onNotify(String status) {\n    switch (status) {\n      case 'init':\n        Logger.d('AccountModule \u521d\u59cb\u5316\u5b8c\u6210');\n        _onAppInitial();  // \u6267\u884c\u6a21\u5757\u521d\u59cb\u5316\u903b\u8f91\n        break;\n      default:\n        Logger.d('AccountModule \u6536\u5230\u901a\u77e5: $status');\n    }\n  }\n\n  @override\n  List&lt;Bind&lt;Object&gt;&gt; get binds =&gt; [\n    // === \u4e1a\u52a1\u903b\u8f91\u63a7\u5236\u5668 ===\n    $PhoneSignInBloc,                     // \u624b\u673a\u53f7\u767b\u5f55\u63a7\u5236\u5668\n    $VerificationCodeInputBloc,           // \u9a8c\u8bc1\u7801\u8f93\u5165\u63a7\u5236\u5668\n    $AgreementBloc,                       // \u534f\u8bae\u9875\u63a7\u5236\u5668\n    $GarageBloc,                          // \u8f66\u5e93\u9875\u63a7\u5236\u5668\n    $VehicleInfoBloc,                     // \u8f66\u8f86\u4fe1\u606f\u63a7\u5236\u5668\n    $VehicleAuthBloc,                     // \u8f66\u8f86\u6388\u6743\u63a7\u5236\u5668\n\n    // === \u5bf9\u5916\u66b4\u9732\u7684\u6838\u5fc3\u670d\u52a1 ===\n    Bind&lt;PersonalCenterBloc&gt;(\n      (i) =&gt; PersonalCenterBloc(\n        i&lt;IAuthFacade&gt;(),        // \u6ce8\u5165\u8ba4\u8bc1\u670d\u52a1\u63a5\u53e3\n        i&lt;IProfileFacade&gt;(),     // \u6ce8\u5165\u7528\u6237\u8d44\u6599\u670d\u52a1\u63a5\u53e3\n        i&lt;IGarageFacade&gt;(),      // \u6ce8\u5165\u8f66\u5e93\u670d\u52a1\u63a5\u53e3\n      ),\n      export: true,              // \u5bfc\u51fa\u7ed9\u5176\u4ed6\u6a21\u5757\u4f7f\u7528\n      isSingleton: false,        // \u975e\u5355\u4f8b\u6a21\u5f0f\uff0c\u6bcf\u6b21\u83b7\u53d6\u521b\u5efa\u65b0\u5b9e\u4f8b\n    ),\n\n    // === \u66f4\u591a\u4e1a\u52a1\u63a7\u5236\u5668 ===\n    $AuthNewUserBloc,                     // \u65b0\u7528\u6237\u6388\u6743\u63a7\u5236\u5668\n    $QrHuConfirmBloc,                     // \u4e8c\u7ef4\u7801\u786e\u8ba4\u63a7\u5236\u5668\n    $PlateNoEditBloc,                     // \u8f66\u724c\u53f7\u7f16\u8f91\u63a7\u5236\u5668\n    $UpdatePhoneBloc,                     // \u66f4\u65b0\u624b\u673a\u53f7\u63a7\u5236\u5668\n    $CancelAccountBloc,                   // \u6ce8\u9500\u8d26\u53f7\u63a7\u5236\u5668\n  ];\n\n  @override\n  List&lt;ModularRoute&gt; get routes {\n    // \u901a\u8fc7RouteCenterAPI\u83b7\u53d6\u8def\u7531\u5143\u6570\u636e\n    final login = RouteCenterAPI.routeMetaBy(AccountRouteExport.keySignIn);\n    final verify = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyVerifyCode);\n    final personal = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyPersonalCenter);\n    final garage = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyGarage);\n    final vehicleInfo = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyVehicleInfo);\n    // ... \u66f4\u591a\u8def\u7531\u5143\u6570\u636e\n\n    return [\n      // \u767b\u5f55\u9875\u9762\n      ChildRoute&lt;dynamic&gt;(\n        login.path,\n        child: (_, args) =&gt; login.provider(args).as(),\n        transition: TransitionType.fadeIn,\n      ),\n\n      // \u9a8c\u8bc1\u7801\u9875\u9762\n      ChildRoute&lt;dynamic&gt;(\n        verify.path,\n        child: (_, args) =&gt; verify.provider(args).as(),\n      ),\n\n      // \u4e2a\u4eba\u4e2d\u5fc3\u9875\u9762\n      ChildRoute&lt;dynamic&gt;(\n        personal.path,\n        child: (_, args) =&gt; personal.provider(args).as(),\n      ),\n\n      // \u8f66\u5e93\u9875\u9762 - \u9700\u8981\u767b\u5f55\u5b88\u536b\u4fdd\u62a4\n      ChildRoute&lt;dynamic&gt;(\n        garage.path,\n        child: (_, args) =&gt; garage.provider(args).as(),\n        guards: [AccountLoginGuard()],\n      ),\n\n      // \u8f66\u8f86\u4fe1\u606f\u9875\u9762\n      ChildRoute&lt;dynamic&gt;(\n        vehicleInfo.path,\n        child: (_, args) =&gt; vehicleInfo.provider(args).as(),\n        transition: TransitionType.noTransition,\n      ),\n\n      // ... \u66f4\u591a\u5b50\u8def\u7531\u914d\u7f6e\n    ];\n  }\n\n  /// \u6a21\u5757\u521d\u59cb\u5316\u903b\u8f91\n  void _onAppInitial() {\n    // \u521d\u59cb\u5316\u4e8c\u7ef4\u7801\u5904\u7406\u5668\n    QrCodeProcessor()\n      ..addHandler(qrTypeLoginHU, (code, additionalInfo) async {\n        // \u5904\u7406\u8f66\u673a\u767b\u5f55\u4e8c\u7ef4\u7801\u903b\u8f91\n        Logger.i('\u5904\u7406\u8f66\u673a\u767b\u5f55\u4e8c\u7ef4\u7801: $code');\n        // \u5177\u4f53\u5904\u7406\u903b\u8f91...\n      })\n      ..addHandler(qrTypeBindVehicle, (code, additionalInfo) async {\n        // \u5904\u7406\u7ed1\u8f66\u4e8c\u7ef4\u7801\u903b\u8f91\n        Logger.i('\u5904\u7406\u7ed1\u8f66\u4e8c\u7ef4\u7801: $code');\n        // \u5177\u4f53\u5904\u7406\u903b\u8f91...\n      });\n\n    // \u5237\u65b0\u8f66\u5e93\u4fe1\u606f\n    final facade = Modular.get&lt;IProfileFacade&gt;();\n    if (facade.getUserProfileLocal().toOption().toNullable() != null) {\n      final garageFacade = Modular.get&lt;IGarageFacade&gt;();\n      garageFacade.refreshGarage();\n    }\n  }\n}\n</code></pre> <p>\u8f7b\u91cf\u7ea7\u6a21\u5757\u5b9e\u73b0 - \u57fa\u4e8e <code>HomeModule</code> \u7684\u7b80\u5355\u6a21\u5757\uff1a</p> <pre><code>/// \u9996\u9875\u6a21\u5757 - \u5c55\u793a\u8f7b\u91cf\u7ea7\u6a21\u5757\u5b9e\u73b0\nclass HomeModule extends Module with RouteObjProvider {\n  @override\n  List&lt;Bind&gt; get binds =&gt; [];  // \u9996\u9875\u6a21\u5757\u4e0d\u9700\u8981\u989d\u5916\u7684\u4f9d\u8d56\u7ed1\u5b9a\n\n  @override\n  List&lt;ModularRoute&gt; get routes {\n    // \u83b7\u53d6\u9996\u9875\u8def\u7531\u5143\u6570\u636e\n    final homeRoute = RouteCenterAPI.routeMetaBy(HomeRouteExport.keyHome);\n\n    return [\n      ChildRoute&lt;dynamic&gt;(\n        homeRoute.path,\n        child: (_, args) =&gt; homeRoute.provider(args).as(),\n        transition: TransitionType.noTransition,  // \u9996\u9875\u65e0\u8fc7\u6e21\u52a8\u753b\n      ),\n    ];\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#service_layer","title":"\u670d\u52a1\u63a5\u5165\u5c42 (Service Layer)","text":"<p>OneApp\u7684\u670d\u52a1\u5c42\u901a\u8fc7\u62bd\u8c61\u63a5\u53e3\u548c\u5177\u4f53\u5b9e\u73b0\u5206\u79bb\uff0c\u652f\u6301\u7075\u6d3b\u7684\u670d\u52a1\u66ff\u6362\u548c\u6d4b\u8bd5\u3002</p> <p>\u8def\u7531\u7cfb\u7edf\u67b6\u6784 - \u57fa\u4e8e <code>RouteCenterAPI</code> \u7684\u7edf\u4e00\u8def\u7531\u7ba1\u7406\uff1a</p> <pre><code>/// \u8f66\u8f86\u63a7\u5236\u6a21\u5757\u8def\u7531\u5b9a\u4e49 - \u57fa\u4e8e route_dp.dart \u7684\u4ee3\u7801\n/// \u901a\u8fc7RouteKey\u63a5\u53e3\u7edf\u4e00\u7ba1\u7406\u8def\u7531\u8def\u5f84\n\n/// \u8fdc\u7a0b\u7a7a\u8c03\u4e3b\u9875\u8def\u7531\nclass CarClimatisationHomepageKey implements RouteKey {\n  const CarClimatisationHomepageKey();\n\n  @override\n  String get routeKey =&gt; CarControlRouteExport.keyCarClimatisationHomepage;\n\n  /// \u83b7\u53d6\u5b9e\u9645\u8def\u7531\u8def\u5f84\n  String get routePath {\n    final List&lt;RouteMeta&gt; list = CarControlRouteExport().exportRoutes();\n    return list[10].routePath;  // \u4ece\u8def\u7531\u5bfc\u51fa\u5217\u8868\u4e2d\u83b7\u53d6\u5b9e\u9645\u8def\u5f84\n  }\n}\n\n/// \u5145\u7535\u573a\u666f\u7ba1\u7406\u8def\u7531\nclass CarChargingProfilesKey implements RouteKey {\n  const CarChargingProfilesKey();\n\n  @override\n  String get routeKey =&gt; CarControlRouteExport.keyCarChargingProfiles;\n\n  String get routePath {\n    final List&lt;RouteMeta&gt; list = CarControlRouteExport().exportRoutes();\n    return list[14].routePath;\n  }\n}\n\n/// \u8f66\u8f86\u76d1\u63a7\u4e3b\u9875\u8def\u7531\nclass CarWatcherHomePageRouteKey implements RouteKey {\n  @override\n  String get routeKey =&gt; 'app_carWatcher.carWatcher_home';\n}\n\n/// \u5145\u7535\u5730\u56fe\u9996\u9875\u8def\u7531\nclass ChargingMapHomeRouteKey implements RouteKey {\n  @override\n  String get routeKey =&gt; 'app_charging.charging_map_home';\n}\n</code></pre> <p>\u8def\u7531\u5b88\u536b\u7cfb\u7edf - \u57fa\u4e8e <code>AppModule</code> \u4e2d\u7684 <code>LogInGuard</code> \u5b9e\u73b0\uff1a</p> <pre><code>/// \u767b\u5f55\u5b88\u536b - \u4fdd\u62a4\u9700\u8981\u767b\u5f55\u624d\u80fd\u8bbf\u95ee\u7684\u8def\u7531\nclass LogInGuard extends RouteGuard {\n  factory LogInGuard() =&gt; _routeGuard;\n\n  LogInGuard._() : super();\n\n  static const String _tag = '[route LogInGuard]:';\n  static final LogInGuard _routeGuard = LogInGuard._();\n\n  /// \u524d\u7f6e\u8def\u7531\u4fe1\u606f\n  ParallelRoute&lt;dynamic&gt;? preRoute;\n\n  @override\n  FutureOr&lt;bool&gt; canActivate(String path, ParallelRoute&lt;dynamic&gt; route) {\n    // \u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u83b7\u53d6\u8ba4\u8bc1\u670d\u52a1\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n    final isLogin = authFacade.isLogin;\n\n    Logger.d('\u8def\u7531\u5b88\u536b\u68c0\u67e5\u767b\u5f55\u72b6\u6001: $path, isLogin: $isLogin', _tag);\n    return isLogin;\n  }\n\n  @override\n  FutureOr&lt;ModularRoute?&gt; pre(ModularRoute route) {\n    // \u4fdd\u5b58\u5bfc\u822a\u5386\u53f2\n    if (NavigatorProxy().navigateHistory.isNotEmpty) {\n      preRoute = NavigatorProxy().navigateHistory.last;\n    }\n    return super.pre(route);\n  }\n\n  @override\n  FutureOr&lt;ParallelRoute&lt;dynamic&gt;?&gt; pos(ModularRoute route, dynamic data) async {\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n\n    if (authFacade.isLogin) {\n      return route as ParallelRoute;\n    } else {\n      Logger.d('\u7528\u6237\u672a\u767b\u5f55\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u9875', _tag);\n\n      // \u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\uff0c\u5e76\u4f20\u9012\u56de\u8c03\u53c2\u6570\n      await Modular.to.pushNamed(\n        '/account/sign_in',\n        arguments: {\n          'callback': () {\n            // \u767b\u5f55\u6210\u529f\u540e\u7684\u56de\u8c03\u5904\u7406\n            Logger.d('\u767b\u5f55\u6210\u529f\uff0c\u8fd4\u56de\u539f\u9875\u9762', _tag);\n            if (preRoute != null) {\n              Modular.to.navigate(preRoute!.name);\n            }\n          }\n        },\n      );\n      return null;\n    }\n  }\n}\n\n/// \u7edf\u8ba1\u5b88\u536b - \u8bb0\u5f55\u9875\u9762\u8bbf\u95ee\u7edf\u8ba1\nclass _StatisticsGuard implements RouteGuard {\n  const _StatisticsGuard();\n\n  static const String _tag = tagRoute;\n\n  @override\n  FutureOr&lt;bool&gt; canActivate(String path, ParallelRoute&lt;dynamic&gt; route) =&gt; true;\n\n  @override\n  FutureOr&lt;ModularRoute?&gt; pre(ModularRoute route) =&gt; route;\n\n  @override\n  FutureOr&lt;ParallelRoute&lt;dynamic&gt;?&gt; pos(ModularRoute route, ModularArguments data) async {\n    // \u8bb0\u5f55\u9875\u9762\u8bbf\u95ee\u65e5\u5fd7\n    Logger.d('\u9875\u9762\u5bfc\u822a\u7edf\u8ba1: ${route.name}', _tag);\n    Logger.d('\u5bfc\u822a\u53c2\u6570: ${data.uri}', _tag);\n\n    // \u53ef\u4ee5\u5728\u8fd9\u91cc\u6dfb\u52a0\u57cb\u70b9\u7edf\u8ba1\u903b\u8f91\n    // AnalyticsService.trackPageView(route.name, data.data);\n\n    return route as ParallelRoute?;\n  }\n\n  @override\n  String? get redirectTo =&gt; null;\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#infrastructure_layer","title":"\u57fa\u7840\u8bbe\u65bd\u5c42 (Infrastructure Layer)","text":"<p>\u4e8b\u4ef6\u603b\u7ebf\u57fa\u7840\u8bbe\u65bd - \u57fa\u4e8e <code>OneAppEventBus</code> \u7684\u5b9e\u73b0\uff1a</p> <pre><code>/// OneApp\u7edf\u4e00\u4e8b\u4ef6\u603b\u7ebf - \u652f\u6301\u6a21\u5757\u95f4\u677e\u8026\u5408\u901a\u4fe1\nclass OneAppEventBus extends Object {\n  static final _eventBus = EventBus();  // \u57fa\u7840\u4e8b\u4ef6\u603b\u7ebf\n  static final OneAppEventBus _instance = OneAppEventBus._internal();\n\n  // \u9ad8\u7ea7\u4e8b\u4ef6\u7ba1\u7406\n  final Map&lt;String, StreamController&lt;dynamic&gt;&gt; _eventControllers = {};\n  final Map&lt;String, List&lt;StreamSubscription&lt;dynamic&gt;&gt;&gt; _anonymousSubscriptions = {};\n  final Map&lt;String, Map&lt;String, StreamSubscription&lt;dynamic&gt;&gt;&gt; _identifiedSubscriptions = {};\n\n  OneAppEventBus._internal();\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u53d1\u5e03 - \u9002\u7528\u4e8e\u7b80\u5355\u4e8b\u4ef6\n  static void fireEvent(event) {\n    _eventBus.fire(event);\n  }\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u76d1\u542c - \u7c7b\u578b\u5b89\u5168\u7684\u4e8b\u4ef6\u8ba2\u9605\n  static StreamSubscription&lt;T&gt; addListen&lt;T&gt;(\n    void Function(T event)? onData, {\n    Function? onError,\n    void Function()? onDone,\n    bool? cancelOnError,\n  }) {\n    return _eventBus.on&lt;T&gt;().listen(\n      onData,\n      onError: onError,\n      onDone: onDone,\n      cancelOnError: cancelOnError,\n    );\n  }\n\n  /// \u9ad8\u7ea7\u4e8b\u4ef6\u8ba2\u9605 - \u652f\u6301\u751f\u547d\u5468\u671f\u7ba1\u7406\n  static void on(String eventType, Function(dynamic event) onEvent, {String? id}) {\n    var controller = _instance._eventControllers.putIfAbsent(\n      eventType,\n      () =&gt; StreamController&lt;dynamic&gt;.broadcast(),\n    );\n\n    var subscription = controller.stream.listen(onEvent);\n\n    if (id == null) {\n      // \u533f\u540d\u8ba2\u9605 - \u9700\u8981\u624b\u52a8\u7ba1\u7406\u751f\u547d\u5468\u671f\n      _instance._anonymousSubscriptions\n          .putIfAbsent(eventType, () =&gt; [])\n          .add(subscription);\n    } else {\n      // \u6807\u8bc6\u8ba2\u9605 - \u81ea\u52a8\u7ba1\u7406\u91cd\u590d\u8ba2\u9605\n      var subscriptions = _instance._identifiedSubscriptions.putIfAbsent(eventType, () =&gt; {});\n      subscriptions[id]?.cancel();  // \u53d6\u6d88\u65e7\u8ba2\u9605\n      subscriptions[id] = subscription;\n    }\n  }\n\n  /// \u4e8b\u4ef6\u53d1\u5e03\n  static void fire(String eventType, dynamic event) {\n    _instance._eventControllers[eventType]?.add(event);\n  }\n\n  /// \u8ba2\u9605\u7ba1\u7406 - \u652f\u6301\u7cbe\u786e\u53d6\u6d88\u548c\u6279\u91cf\u53d6\u6d88\n  static void cancel(String eventType, {String? id}) {\n    if (id == null) {\n      // \u53d6\u6d88\u8be5\u4e8b\u4ef6\u7c7b\u578b\u7684\u6240\u6709\u8ba2\u9605\n      _instance._anonymousSubscriptions[eventType]?.forEach((sub) =&gt; sub.cancel());\n      _instance._anonymousSubscriptions.remove(eventType);\n\n      _instance._identifiedSubscriptions[eventType]?.values.forEach((sub) =&gt; sub.cancel());\n      _instance._identifiedSubscriptions.remove(eventType);\n    } else {\n      // \u53d6\u6d88\u7279\u5b9a\u6807\u8bc6\u7684\u8ba2\u9605\n      _instance._identifiedSubscriptions[eventType]?[id]?.cancel();\n      _instance._identifiedSubscriptions[eventType]?.remove(id);\n    }\n\n    // \u6e05\u7406\u7a7a\u63a7\u5236\u5668\n    if ((_instance._anonymousSubscriptions[eventType]?.isEmpty ?? true) &amp;&amp;\n        (_instance._identifiedSubscriptions[eventType]?.isEmpty ?? true)) {\n      _instance._eventControllers[eventType]?.close();\n      _instance._eventControllers.remove(eventType);\n    }\n  }\n}\n</code></pre> <p>\u4f9d\u8d56\u6ce8\u5165\u57fa\u7840\u8bbe\u65bd - \u57fa\u4e8e <code>Modular</code> \u7684\u670d\u52a1\u7ba1\u7406\uff1a</p> <pre><code>/// \u4f9d\u8d56\u6ce8\u5165\u4f7f\u7528\u6a21\u5f0f - \u5c55\u793aOneApp\u4e2d\u7684\u5b9e\u9645\u4f7f\u7528\u65b9\u5f0f\n\n/// 1. \u5728HomePage\u4e2d\u83b7\u53d6\u6ce8\u5165\u7684\u670d\u52a1\nclass _HomePageState extends State&lt;HomePage&gt; {\n  @override\n  void initState() {\n    super.initState();\n\n    // \u901a\u8fc7Modular\u83b7\u53d6\u6ce8\u5165\u7684\u670d\u52a1\u5b9e\u4f8b\n    _bloc = HomeBloc(\n      widget.initialBottomTabIndex,\n      Modular.get&lt;IGarageFacade&gt;(),      // \u8f66\u5e93\u670d\u52a1 - \u6765\u81eaclr_account\u6a21\u5757\n      Modular.get&lt;IAuthFacade&gt;(),        // \u8ba4\u8bc1\u670d\u52a1 - \u6765\u81eaclr_account\u6a21\u5757\n    );\n  }\n}\n\n/// 2. \u5728\u4e1a\u52a1\u903b\u8f91\u4e2d\u4f7f\u7528\u670d\u52a1\u63a5\u53e3\nclass PersonalCenterBloc extends Bloc&lt;PersonalCenterEvent, PersonalCenterState&gt; {\n  final IAuthFacade _authFacade;\n  final IProfileFacade _profileFacade;\n  final IGarageFacade _garageFacade;\n\n  PersonalCenterBloc(\n    this._authFacade,        // \u6784\u9020\u51fd\u6570\u6ce8\u5165\n    this._profileFacade,\n    this._garageFacade,\n  ) : super(PersonalCenterInitial());\n\n  /// \u83b7\u53d6\u7528\u6237\u4fe1\u606f\n  Future&lt;void&gt; loadUserProfile() async {\n    if (!_authFacade.isLogin) {\n      emit(PersonalCenterError('\u7528\u6237\u672a\u767b\u5f55'));\n      return;\n    }\n\n    try {\n      final profile = await _profileFacade.getUserProfile();\n      final vehicles = await _garageFacade.getVehicleList();\n\n      emit(PersonalCenterLoaded(\n        userProfile: profile,\n        vehicles: vehicles,\n      ));\n    } catch (e) {\n      emit(PersonalCenterError(e.toString()));\n    }\n  }\n}\n\n/// 3. \u8de8\u6a21\u5757\u670d\u52a1\u8c03\u7528\nclass HomeBloc extends Bloc&lt;HomeEvent, HomeState&gt; {\n  final IGarageFacade _garageFacade;\n  final IAuthFacade _authFacade;\n\n  HomeBloc(int initialIndex, this._garageFacade, this._authFacade) \n      : super(HomeState.initial(initialIndex)) {\n\n    on&lt;CheckIfHasDefaultCar&gt;((event, emit) async {\n      // \u68c0\u67e5\u662f\u5426\u6709\u9ed8\u8ba4\u8f66\u8f86\n      final defaultVehicle = _garageFacade.getDefaultVehicleLocal();\n      final hasVehicle = defaultVehicle != null &amp;&amp; defaultVehicle.vin.isNotEmpty;\n\n      if (hasVehicle) {\n        emit(state.copyWith(hasDefaultVehicle: true));\n      } else {\n        emit(state.copyWith(hasDefaultVehicle: false));\n      }\n    });\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#22","title":"2.2 \u6a21\u5757\u4f9d\u8d56\u5173\u7cfb\u56fe","text":"<p>\u57fa\u4e8eOneApp\u7684\u6a21\u5757\u7ed3\u6784\uff0c\u6a21\u5757\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u5982\u4e0b\uff1a</p> <pre><code>graph TB\n    subgraph \"\u5e94\u7528\u5165\u53e3\u5c42\"\n        MAIN[oneapp_main&lt;br/&gt;AppModule]\n    end\n\n    subgraph \"\u9875\u9762\u6a21\u5757\u5c42\"\n        HOME[app_home&lt;br/&gt;HomeModule]\n        DISC[app_discover&lt;br/&gt;DiscoveryModule]  \n        TEST[app_test&lt;br/&gt;TestModule]\n    end\n\n    subgraph \"\u4e1a\u52a1\u529f\u80fd\u6a21\u5757\u5c42\"\n        ACC[oneapp_account&lt;br/&gt;AccountModule]\n        COM[oneapp_community&lt;br/&gt;CommunityModule]\n        MEM[oneapp_membership&lt;br/&gt;MembershipModule]\n        SET[oneapp_setting&lt;br/&gt;SettingModule]\n        CS[oneapp_car_sales&lt;br/&gt;CarSalesModule]\n        AS[oneapp-after-sales&lt;br/&gt;AfterSalesModule]\n        TP[oneapp-touch-point&lt;br/&gt;TouchPointModule]\n        POPUP[OneAppPopupModule]\n    end\n\n    subgraph \"\u8f66\u8f86\u529f\u80fd\u6a21\u5757\u7fa4\"\n        CAR[app_car&lt;br/&gt;CarControlModule]\n        CHARGE[app_charging&lt;br/&gt;AppChargingModule]\n        AVATAR[app_avatar&lt;br/&gt;AppAvatarModule]\n        MAINT[app_maintenance&lt;br/&gt;MaintenanceControlModule]\n        WATCH[app_carwatcher&lt;br/&gt;AppCarwatcherModule]\n        TG[app_touchgo&lt;br/&gt;AppTouchgoModule]\n        WB[app_wallbox&lt;br/&gt;AppWallboxModule]\n        VUR[app_vur&lt;br/&gt;AppVurModule]\n        RPA[app_rpa&lt;br/&gt;AppRpaModule]\n        NAV[app_navigation&lt;br/&gt;AppNavigationModule]\n    end\n\n    subgraph \"\u8fde\u63a5\u5c42\u670d\u52a1\u6a21\u5757\u7fa4 (CLR)\"\n        ACC_C[clr_account&lt;br/&gt;AccountConModule]\n        CHARGE_C[clr_charging&lt;br/&gt;ClrChargingModule]\n        ORDER_C[clr_order&lt;br/&gt;ClrOrderModule]\n        SET_C[clr_setting&lt;br/&gt;SettingConModule]\n        GEO_C[clr_geo&lt;br/&gt;GeoModule]\n        MSG_C[clr_message&lt;br/&gt;ClrMessageModule]\n        TG_C[clr_touchgo&lt;br/&gt;ClrTouchgoModule]\n        WB_C[clr_wallbox&lt;br/&gt;ClrWallboxModule]\n        WATCH_C[clr_carwatcher&lt;br/&gt;ClrCarWatcherModule]\n    end\n\n    subgraph \"UI\u57fa\u7840\u8bbe\u65bd\u5c42\"\n        UI_BASIC[ui_basic&lt;br/&gt;BasicUIModule]\n        UI_PAY[ui_payment&lt;br/&gt;PayModule]\n    end\n\n    MAIN --&gt; HOME\n    MAIN --&gt; DISC\n    MAIN --&gt; TEST\n    MAIN --&gt; ACC\n    MAIN --&gt; COM\n    MAIN --&gt; MEM\n    MAIN --&gt; CAR\n    MAIN --&gt; CHARGE\n    MAIN --&gt; AVATAR\n\n    ACC --&gt; ACC_C\n    CAR --&gt; ACC_C\n    CHARGE --&gt; CHARGE_C\n    CHARGE --&gt; ACC_C\n    SET --&gt; SET_C\n    CAR --&gt; GEO_C\n    WATCH --&gt; WATCH_C\n    TG --&gt; TG_C\n    WB --&gt; WB_C\n\n    HOME --&gt; ACC_C\n    HOME --&gt; GEO_C\n\n    UI_PAY --&gt; UI_BASIC\n    COM --&gt; UI_BASIC\n    MEM --&gt; UI_BASIC</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#23","title":"2.3 \u6280\u672f\u6808\u9009\u62e9","text":"<p>\u524d\u7aef\u6280\u672f\u6808</p> \u6280\u672f\u9886\u57df \u9009\u62e9\u65b9\u6848 \u7248\u672c \u4f5c\u7528 \u5f00\u53d1\u6846\u67b6 Flutter 3.0+ \u8de8\u5e73\u53f0UI\u6846\u67b6 \u7f16\u7a0b\u8bed\u8a00 Dart 3.0+ \u5e94\u7528\u5f00\u53d1\u8bed\u8a00 \u72b6\u6001\u7ba1\u7406 Provider + Bloc 6.0.5 + 8.1.2 \u72b6\u6001\u7ba1\u7406\u65b9\u6848 \u8def\u7531\u7ba1\u7406 Flutter Modular 5.0.3 \u6a21\u5757\u5316\u8def\u7531 \u7f51\u7edc\u8bf7\u6c42 Dio 5.3.2 HTTP\u5ba2\u6237\u7aef \u672c\u5730\u5b58\u50a8 Hive + SharedPreferences 2.2.3 \u6570\u636e\u6301\u4e45\u5316 \u54cd\u5e94\u5f0f\u7f16\u7a0b RxDart 0.27.7 \u6d41\u5f0f\u6570\u636e\u5904\u7406 <p>\u539f\u751f\u96c6\u6210\u6280\u672f\u6808</p> \u5e73\u53f0 \u4e3b\u8981\u6280\u672f \u5173\u952e\u63d2\u4ef6 Android Kotlin/Java amap_flutter_locationflutter_ingeek_carkeycariad_touch_go iOS Swift/ObjC \u9ad8\u5fb7\u5730\u56feSDK\u8f66\u94a5\u5319SDK3D\u865a\u62df\u5f62\u8c61SDK <p>\u7b2c\u4e09\u65b9\u670d\u52a1\u96c6\u6210</p> \u670d\u52a1\u7c7b\u578b \u670d\u52a1\u5546 SDK/\u63d2\u4ef6 \u5730\u56fe\u5bfc\u822a \u9ad8\u5fb7\u5730\u56fe amap_flutter_* \u652f\u4ed8\u670d\u52a1 \u5fae\u4fe1/\u652f\u4ed8\u5b9d fluwx/kit_alipay \u63a8\u9001\u670d\u52a1 \u6781\u5149\u63a8\u9001 flutter_plugin_mtpush_private \u5a92\u4f53\u64ad\u653e \u817e\u8baf\u4e91 superplayer_widget \u6027\u80fd\u76d1\u63a7 \u817e\u8bafAegis aegis_flutter_sdk"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#3","title":"3. \u6838\u5fc3\u529f\u80fd\u5b9e\u73b0\u5206\u6790","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#31","title":"3.1 \u5e94\u7528\u542f\u52a8\u6d41\u7a0b","text":"<p>\u57fa\u4e8eOneApp\u7684\u542f\u52a8\u4ee3\u7801\uff0c\u5e94\u7528\u542f\u52a8\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\u7684\u521d\u59cb\u5316\uff1a\u4e0d\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u57fa\u7840\u521d\u59cb\u5316\u548c\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u5b8c\u6574\u521d\u59cb\u5316\u3002</p> <pre><code>sequenceDiagram\n    participant User as \u7528\u6237\n    participant Main as main.dart\n    participant BasicInit as \u57fa\u7840\u521d\u59cb\u5316\n    participant Privacy as \u9690\u79c1\u68c0\u67e5\n    participant FullInit as \u5b8c\u6574\u521d\u59cb\u5316\n    participant Module as \u6a21\u5757\u7cfb\u7edf\n    participant UI as \u7528\u6237\u754c\u9762\n\n    User-&gt;&gt;Main: \u542f\u52a8\u5e94\u7528\n    Main-&gt;&gt;Main: WidgetsFlutterBinding.ensureInitialized()\n    Main-&gt;&gt;BasicInit: _initBasicPartWithoutPrivacy()\n    BasicInit-&gt;&gt;BasicInit: initStorage() \u5b58\u50a8\u521d\u59cb\u5316\n    BasicInit-&gt;&gt;BasicInit: initLoggerModule() \u65e5\u5fd7\u521d\u59cb\u5316\n    BasicInit-&gt;&gt;BasicInit: initTheme() \u4e3b\u9898\u521d\u59cb\u5316\n    BasicInit-&gt;&gt;BasicInit: initNetworkModule() \u7f51\u7edc\u521d\u59cb\u5316\n    BasicInit-&gt;&gt;BasicInit: initModular() \u8def\u7531\u521d\u59cb\u5316\n    Main-&gt;&gt;Privacy: wrapPrivacyCheck()\n    Privacy-&gt;&gt;Privacy: \u68c0\u67e5\u9690\u79c1\u653f\u7b56\u540c\u610f\u72b6\u6001\n    Privacy-&gt;&gt;Main: \u7528\u6237\u5df2\u540c\u610f\u6216\u5b8c\u6210\u540c\u610f\n    Main-&gt;&gt;FullInit: _initBasicPartWithPrivacy()\n    FullInit-&gt;&gt;FullInit: initPushAndEventBus() \u63a8\u9001\u521d\u59cb\u5316\n    FullInit-&gt;&gt;FullInit: initVehicle() \u8f66\u8f86\u670d\u52a1\u521d\u59cb\u5316\n    FullInit-&gt;&gt;FullInit: initModules() \u4e1a\u52a1\u6a21\u5757\u521d\u59cb\u5316\n    Main-&gt;&gt;Module: ModularApp(module: AppModule())\u542f\u52a8\n    Module-&gt;&gt;UI: \u6e32\u67d3\u4e3b\u754c\u9762\n    UI-&gt;&gt;User: \u663e\u793a\u5e94\u7528\u9996\u9875</code></pre> <p>\u542f\u52a8\u6d41\u7a0b\u4ee3\u7801 - \u57fa\u4e8e OneApp <code>main.dart</code>\uff1a</p> <pre><code>/// OneApp \u5e94\u7528\u5165\u53e3 - main.dart\u5b9e\u73b0\nvoid main() {\n  // \u6355\u83b7flutter\u5f02\u5e38\u5904\u7406\uff0c\u5b9e\u9645\u9879\u76ee\u4e2d\u542f\u52a8\u4e3b\u51fd\u6570\n  _realMain();\n}\n\n/// \u5e94\u7528\u542f\u52a8\u6d41\u7a0b\nFuture&lt;void&gt; _realMain() async {\n  // 1. Flutter\u6846\u67b6\u7ed1\u5b9a\u521d\u59cb\u5316\n  WidgetsFlutterBinding.ensureInitialized();\n\n  // 2. \u4e0d\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u57fa\u7840\u90e8\u5206\u521d\u59cb\u5316\n  await _initBasicPartWithoutPrivacy();\n\n  // 3. \u9690\u79c1\u5408\u89c4\u68c0\u67e5\u5305\u88c5\u5668\uff0c\u53ea\u6709\u7528\u6237\u540c\u610f\u540e\u624d\u8fdb\u884c\u5b8c\u6574\u521d\u59cb\u5316\n  await wrapPrivacyCheck(_initBasicPartWithPrivacy);\n\n  // 4. \u9501\u5b9a\u5c4f\u5e55\u65b9\u5411\u4e3a\u7ad6\u5c4f\n  SystemChrome.setPreferredOrientations([DeviceOrientation.portraitUp]);\n\n  // 5. \u542f\u52a8\u6a21\u5757\u5316\u5e94\u7528\uff0c\u6ce8\u5165AppModule\u4f5c\u4e3a\u6839\u6a21\u5757\n  runApp(ModularApp(module: AppModule(), child: const AppWidget()));\n}\n\n/// \u7b2c\u4e00\u9636\u6bb5\uff1a\u4e0d\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u57fa\u7840\u521d\u59cb\u5316\nFuture&lt;void&gt; _initBasicPartWithoutPrivacy() async {\n  // \u5168\u5c40\u6a21\u5757\u72b6\u6001\u7ba1\u7406\u521d\u59cb\u5316\n  moduleStatusMgmt = newModuleStatusMgmt();\n\n  // \u672c\u5730\u5b58\u50a8\u670d\u52a1\u521d\u59cb\u5316\n  await initStorage();\n\n  // \u5f00\u53d1\u914d\u7f6e\u5de5\u5177\u521d\u59cb\u5316\uff08IP\u4ee3\u7406\u3001\u540e\u7aef\u73af\u5883\u914d\u7f6e\uff09\n  await DeveloperConfigBoxUtil.init();\n\n  // \u65e5\u5fd7\u7cfb\u7edf\u521d\u59cb\u5316\n  await initLoggerModule(debuggable: debuggable);\n  Logger.i('\u5f00\u53d1\u914d\u7f6e\u521d\u59cb\u5316\u5b8c\u6210: environment = $environment, debuggable: $debuggable');\n\n  // \u4e3b\u9898\u7cfb\u7edf\u521d\u59cb\u5316\n  await initTheme();\n\n  // \u5b57\u4f53\u914d\u7f6e\u521d\u59cb\u5316\n  initFont();\n\n  // \u7f51\u7edc\u6a21\u5757\u521d\u59cb\u5316\n  await initNetworkModule(debuggable: !AppStoreVersion);\n\n  // \u8d44\u6e90\u4e0b\u8f7d\u6a21\u5757\u521d\u59cb\u5316\n  await initBasicResource();\n\n  // \u56fd\u9645\u5316\u6a21\u5757\u521d\u59cb\u5316\n  await initIntl();\n\n  // \u5168\u5c40\u9519\u8bef\u5904\u7406\u5668\u521d\u59cb\u5316\n  initErrorHandlers();\n\n  // \u6a21\u5757\u5316\u8def\u7531\u548c\u4f9d\u8d56\u6ce8\u5165\u5bb9\u5668\u521d\u59cb\u5316\n  initModular(debug: debuggable);\n\n  // WebView\u521d\u59cb\u5316\n  initWebView();\n\n  // Deep Link\u5904\u7406\u5668\u521d\u59cb\u5316\n  await initUniLink();\n\n  // \u7cfb\u7edfUI\u914d\u7f6e\uff08\u5f02\u6b65\u6267\u884c\uff09\n  unawaited(_initSystemUI());\n\n  // === \u8def\u7531\u914d\u7f6e\u903b\u8f91 ===\n  final signed = localPrivacySigned();  // \u68c0\u67e5\u672c\u5730\u9690\u79c1\u534f\u8bae\u7b7e\u7f72\u72b6\u6001\n  final showAd = await SplashAdDataManager().shouldShowSplashAd();  // \u68c0\u67e5\u5f00\u5c4f\u5e7f\u544a\n\n  if (signed) {\n    if (showAd) {\n      // \u5df2\u7b7e\u7f72\u534f\u8bae\u4e14\u6709\u5e7f\u544a\uff1a\u663e\u793a\u542f\u52a8\u5e7f\u544a\u9875\n      Modular.setInitialRoute(RouteCenterAPI.getRoutePathBy(LaunchAdPageKey()));\n    } else {\n      // \u5df2\u7b7e\u7f72\u534f\u8bae\u4e14\u65e0\u5e7f\u544a\uff1a\u76f4\u63a5\u8fdb\u5165\u9996\u9875\n      Modular.setInitialRoute(RouteCenterAPI.getRoutePathBy(const HomeRouteKey()));\n    }\n  } else {\n    // \u672a\u7b7e\u7f72\u534f\u8bae\uff1a\u663e\u793a\u9690\u79c1\u653f\u7b56\u9875\n    Modular.setInitialRoute('/app/app_privacy');\n  }\n\n  // Debug\u5de5\u5177\u521d\u59cb\u5316\uff08\u4ec5Debug/Profile\u6a21\u5f0f\uff09\n  initDebugTools();\n\n  // \u6dfb\u52a0\u8def\u7531\u76d1\u63a7\n  NavigatorProxy().addObserver(AppRouteObserver().routeObserver);\n\n  // \u8f93\u51fa\u7248\u672c\u4fe1\u606f\n  final packageInfo = await PackageInfo.fromPlatform();\n  Logger.i('''\n    ################################\n    VersionName: ${packageInfo.version}\n    VersionCode: ${packageInfo.buildNumber}\n    ConnectivityVersion: $versionConnectivity\n    Integration: $integrationNum\n    ################################\n  ''');\n}\n\n/// \u7b2c\u4e8c\u9636\u6bb5\uff1a\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u5b8c\u6574\u521d\u59cb\u5316\nFuture&lt;void&gt; _initBasicPartWithPrivacy() async {\n  // Token\u7ba1\u7406\u5668\u5fc5\u987b\u5c31\u7eea\n  await tokenMgmt.hasInitialized();\n\n  // \u8bbe\u7f6e\u9690\u79c1\u68c0\u67e5\u5b8c\u6210\u6807\u8bb0\n  await bs.globalBox.put('key_user_privacy_check', true);\n\n  // \u7f51\u7edc\u8fde\u63a5\u68c0\u67e5\u548c\u63a8\u9001\u521d\u59cb\u5316\n  final connectivityResult = await Connectivity().checkConnectivity();\n  if (connectivityResult != ConnectivityResult.none) {\n    await initPushAndEventBus(debuggable: debuggable);\n  }\n\n  // \u5e73\u53f0\u76f8\u5173\u670d\u52a1\u521d\u59cb\u5316\n  await initPlatform(debug: debuggable);\n\n  // \u5206\u4eab\u529f\u80fd\u521d\u59cb\u5316\n  await initBasicShare();\n\n  // \u8f66\u8f86\u670d\u52a1\u521d\u59cb\u5316\n  initVehicle();\n\n  // TTS\u548c\u8d2d\u7269\u670d\u52a1\u521d\u59cb\u5316\n  initTtsShop();\n\n  // 3D\u865a\u62df\u5f62\u8c61\u670d\u52a1\u521d\u59cb\u5316\n  initAvatar();\n\n  // CLR\u4f34\u4fa3\u670d\u52a1\u521d\u59cb\u5316\n  initClrCompanion(DeveloperConfigBoxUtil.getBaseUrlHost());\n\n  // \u5404\u4e2a\u4e1a\u52a1\u6a21\u5757\u521d\u59cb\u5316\n  initModules();\n\n  // \u4e8c\u7ef4\u7801\u5904\u7406\u5668\u521d\u59cb\u5316\n  initQrProcessor();\n\n  // \u9879\u76ee\u914d\u7f6e\u521d\u59cb\u5316\uff08\u5f02\u6b65\uff09\n  unawaited(initBasicConfig());\n\n  // \u8ba2\u5355\u670d\u52a1\u521d\u59cb\u5316\n  initOrder();\n\n  // \u73af\u5883\u914d\u7f6e\u521d\u59cb\u5316\uff08\u9700\u8981\u5728\u5b58\u50a8\u521d\u59cb\u5316\u540e\uff09\n  await initEnvironmentConfig();\n\n  // \u817e\u8bafAegis\u76d1\u63a7SDK\u521d\u59cb\u5316\n  await initAegisSDK();\n\n  // \u817e\u8baf\u4e91\u5bf9\u8c61\u5b58\u50a8SDK\u521d\u59cb\u5316\n  initCosFileManagerSDK();\n\n  // \u7528\u6237\u884c\u4e3a\u57cb\u70b9\u521d\u59cb\u5316\n  UserBehaviorTrackManager().initDefaultInfo();\n\n  // \u8f66\u94a5\u5319SDK\u521d\u59cb\u5316\n  initInGeekCarKeySDK();\n\n  // \u8d85\u7ea7\u64ad\u653e\u5668\u8bb8\u53ef\u8bc1\u8bbe\u7f6e\n  SuperPlayerPlugin.setGlobalLicense(licenceURL, licenceKey);\n\n  Logger.i('\u5b8c\u6574\u521d\u59cb\u5316\u6d41\u7a0b\u5b8c\u6210');\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#32","title":"3.2 \u6a21\u5757\u5316\u4f9d\u8d56\u6ce8\u5165\u5b9e\u73b0","text":"<p>\u57fa\u4e8eOneApp\u7684AppModule\u5b9e\u73b0\uff0c\u5c55\u793a30+\u4e1a\u52a1\u6a21\u5757\u7684\u5b8c\u6574\u4f9d\u8d56\u6ce8\u5165\u548c\u8def\u7531\u914d\u7f6e\uff1a</p> <p>AppModule\u5b9e\u73b0 - OneApp\u4e3b\u5e94\u7528\u6a21\u5757\uff1a</p> <pre><code>/// OneApp \u5e94\u7528\u6700\u9876\u5c42\u6a21\u5757 - \u7ba1\u740630+\u4e2a\u4e1a\u52a1\u548c\u57fa\u7840\u670d\u52a1\u6a21\u5757\nclass AppModule extends Module {\n  @override\n  List&lt;Module&gt; get imports =&gt; [\n    // === \u8d26\u6237\u4f53\u7cfb\u6a21\u5757 ===\n    AccountModule(),              // \u7528\u6237\u8d26\u6237\u7ba1\u7406\u6a21\u5757\n    AccountConModule(),           // \u8d26\u6237\u8fde\u63a5\u5c42\u670d\u52a1\u6a21\u5757\n\n    // === \u8f66\u8f86\u63a7\u5236\u6a21\u5757\u7fa4 ===\n    CarControlModule(),           // \u8f66\u8f86\u63a7\u5236\u6838\u5fc3\u6a21\u5757\n    AppChargingModule(),          // \u5145\u7535\u670d\u52a1\u6a21\u5757\n    ClrChargingModule(),          // \u5145\u7535\u8fde\u63a5\u5c42\u670d\u52a1\n    AppAvatarModule(),            // 3D\u865a\u62df\u5f62\u8c61\u6a21\u5757\n    AppCarwatcherModule(),        // \u8f66\u8f86\u76d1\u63a7\u6a21\u5757\n    ClrCarWatcherModule(),        // \u8f66\u8f86\u76d1\u63a7\u8fde\u63a5\u5c42\n    AppTouchgoModule(),           // TouchGo\u514d\u5bc6\u652f\u4ed8\n    ClrTouchgoModule(),           // TouchGo\u8fde\u63a5\u5c42\n    AppWallboxModule(),           // \u5bb6\u5145\u6869\u7ba1\u7406\n    ClrWallboxModule(),           // \u5bb6\u5145\u6869\u8fde\u63a5\u5c42\n    MaintenanceControlModule(),   // \u4fdd\u517b\u7ef4\u62a4\u6a21\u5757\n    AppVurModule(),               // \u8f66\u8f86\u5347\u7ea7\u8bb0\u5f55\n    CarVurModule(),               // \u8f66\u8f86\u5347\u7ea7\u8fde\u63a5\u5c42\n    AppRpaModule(),               // RPA\u81ea\u52a8\u5316\n    CarRpaModule(),               // RPA\u8fde\u63a5\u5c42\n\n    // === \u57fa\u7840\u529f\u80fd\u6a21\u5757 ===\n    DiscoveryModule(),            // \u53d1\u73b0\u9875\u6a21\u5757\n    TestModule(),                 // \u6d4b\u8bd5\u529f\u80fd\u6a21\u5757\n    SettingModule(),              // \u8bbe\u7f6e\u6a21\u5757\n    SettingConModule(),           // \u8bbe\u7f6e\u8fde\u63a5\u5c42\n    GeoModule(),                  // \u5730\u7406\u4f4d\u7f6e\u670d\u52a1\n    PayModule(),                  // \u652f\u4ed8\u6a21\u5757\n    AppOrderModule(),             // \u8ba2\u5355\u7ba1\u7406\u6a21\u5757\n    ClrOrderModule(),             // \u8ba2\u5355\u8fde\u63a5\u5c42\u670d\u52a1\n    AppNavigationModule(),        // \u5bfc\u822a\u6a21\u5757\n    AppConsentModule(),           // \u7528\u6237\u534f\u8bae\u6a21\u5757\n\n    // === \u5a92\u4f53\u548c\u901a\u4fe1\u6a21\u5757 ===\n    AppTtsModule(),               // \u8bed\u97f3\u5408\u6210\u6a21\u5757\n    AppMessageModule(),           // \u6d88\u606f\u6a21\u5757\n    ClrMessageModule(),           // \u6d88\u606f\u8fde\u63a5\u5c42\n    AppMnoModule(),               // \u79fb\u52a8\u7f51\u7edc\u670d\u52a1\n    ClrMnoModule(),               // \u79fb\u52a8\u7f51\u7edc\u8fde\u63a5\u5c42\n    AppComposerModule(),          // \u5185\u5bb9\u7f16\u8f91\u5668\n\n    // === \u4e1a\u52a1\u5e94\u7528\u6a21\u5757 ===\n    CommunityModule(),            // \u793e\u533a\u6a21\u5757\n    MembershipModule(),           // \u4f1a\u5458\u6a21\u5757\n    CarSalesModule(),             // \u6c7d\u8f66\u9500\u552e\u6a21\u5757\n    AfterSalesModule(),           // \u552e\u540e\u670d\u52a1\u6a21\u5757\n    TouchPointModule(),           // \u89e6\u70b9\u7ba1\u7406\u6a21\u5757\n    CompanionModule(),            // \u4f34\u4fa3\u670d\u52a1\u6a21\u5757\n    AppConfigurationModule(),     // \u5e94\u7528\u914d\u7f6e\u6a21\u5757\n    OneAppPopupModule(),          // \u5f39\u7a97\u7ba1\u7406\u6a21\u5757\n\n    // === UI\u57fa\u7840\u8bbe\u65bd\u6a21\u5757 ===\n    BasicUIModule(),              // \u57fa\u7840UI\u7ec4\u4ef6\u5e93\n  ];\n\n  @override\n  List&lt;Bind&lt;Object&gt;&gt; get binds =&gt; [\n    $AppBloc,  // \u5e94\u7528\u7ea7\u522b\u7684Bloc\u72b6\u6001\u7ba1\u7406\u5668\n  ];\n\n  @override\n  List&lt;ModularRoute&gt; get routes {\n    // \u901a\u8fc7RouteCenterAPI\u83b7\u53d6\u5404\u6a21\u5757\u7684\u8def\u7531\u5143\u6570\u636e\n    final home = RouteCenterAPI.routeMetaBy(HomeRouteExport.keyModule);\n    final discovery = RouteCenterAPI.routeMetaBy(DiscoveryRouteExport.keyModule);\n    final car = RouteCenterAPI.routeMetaBy(CarControlRouteExport.keyModule);\n    final tts = RouteCenterAPI.routeMetaBy(TtsRouteExport.keyModule);\n    final account = RouteCenterAPI.routeMetaBy(AccountRouteExport.keyModule);\n    final setting = RouteCenterAPI.routeMetaBy(SettingRouteExport.keyModule);\n    final webview = RouteCenterAPI.routeMetaBy(WebViewRouteExport.keyModule);\n    final maintenance = RouteCenterAPI.routeMetaBy(MaintenanceRouteExport.keyModule);\n    final pay = RouteCenterAPI.routeMetaBy(PayRouteExport.keyModule);\n    final order = RouteCenterAPI.routeMetaBy(AppOrderRouteExport.keyModule);\n    final appCharging = RouteCenterAPI.routeMetaBy(AppChargingRouteExport.keyModule);\n    final appNavigation = RouteCenterAPI.routeMetaBy(AppNavigationRouteExport.keyModule);\n    final appAvatar = RouteCenterAPI.routeMetaBy(AvatarRouteExport.keyModule);\n    final community = RouteCenterAPI.routeMetaBy(CommuntiyRouteExport.keyModule);\n    final membership = RouteCenterAPI.routeMetaBy(MembershipRouteExport.keyModule);\n    final wallbox = RouteCenterAPI.routeMetaBy(AppWallboxRouteExport.keyModule);\n    final appMessage = RouteCenterAPI.routeMetaBy(AppMessageRouteExport.keyModule);\n    final appTouchGo = RouteCenterAPI.routeMetaBy(AppTouchgoRouteExport.keyModule);\n    // ... \u66f4\u591a\u8def\u7531\u5143\u6570\u636e\u83b7\u53d6\n\n    // \u5b9a\u4e49\u4e0d\u540c\u7684\u8def\u7531\u5b88\u536b\u5217\u8868\n    const list = [_StatisticsGuard()];  // \u57fa\u7840\u7edf\u8ba1\u5b88\u536b\n    final carList = [const _StatisticsGuard(), LogInGuard._routeGuard];  // \u8f66\u8f86\u529f\u80fd\u5b88\u536b\uff08\u9700\u8981\u767b\u5f55\uff09\n    final composerList = [const _StatisticsGuard(), LogInGuard._routeGuard];  // \u7f16\u8f91\u529f\u80fd\u5b88\u536b\n\n    return [\n      // === \u6838\u5fc3\u9875\u9762\u8def\u7531 ===\n      ModuleRoute(home.path, module: home.provider(emptyArgs()).as(), guards: list),\n\n      // \u9690\u79c1\u653f\u7b56\u9875\u9762\uff08\u7279\u6b8a\u5904\u7406\uff09\n      ChildRoute('/app/app_privacy', \n        child: (BuildContext context, ModularArguments args) =&gt; LocalPrivacyPage()),\n\n      ModuleRoute(discovery.path, module: discovery.provider(emptyArgs()).as(), guards: list),\n      ModuleRoute(account.path, module: account.provider(emptyArgs()).as(), guards: list),\n      ModuleRoute(setting.path, module: setting.provider(emptyArgs()).as(), guards: list),\n\n      // === \u8f66\u8f86\u76f8\u5173\u8def\u7531\uff08\u9700\u8981\u767b\u5f55\u5b88\u536b\uff09 ===\n      ModuleRoute(car.path, module: car.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(maintenance.path, module: maintenance.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(appCharging.path, module: appCharging.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(appNavigation.path, module: appNavigation.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(wallbox.path, module: wallbox.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(appMessage.path, module: appMessage.provider(emptyArgs()).as(), guards: carList),\n\n      // === \u4e1a\u52a1\u529f\u80fd\u8def\u7531 ===\n      ModuleRoute(community.path, module: community.provider(emptyArgs()).as(), guards: list),\n      ModuleRoute(membership.path, module: membership.provider(emptyArgs()).as(), guards: list),\n      ModuleRoute(pay.path, module: pay.provider(emptyArgs()).as(), guards: list),\n      ModuleRoute(order.path, module: order.provider(emptyArgs()).as(), guards: carList),\n\n      // === \u7279\u6b8a\u529f\u80fd\u8def\u7531 ===\n      ModuleRoute(appAvatar.path, module: appAvatar.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(tts.path, module: tts.provider(emptyArgs()).as(), guards: carList),\n      ModuleRoute(appTouchGo.path, module: appTouchGo.provider(emptyArgs()).as(), guards: list),\n\n      // \u66f4\u591a\u8def\u7531\u914d\u7f6e...\n    ];\n  }\n\n  @override\n  Map&lt;ModularKey, ModularRoute&gt; init() {\n    // \u901a\u77e5\u5e94\u7528\u751f\u547d\u5468\u671f\u76d1\u542c\u5668\n    notifyAppLifeCycle(this, 'init');\n    return super.init();\n  }\n}\n</code></pre> <p>\u8def\u7531\u5b88\u536b\u5b9e\u73b0 - \u57fa\u4e8eOneApp\u7684LogInGuard\uff1a</p> <pre><code>/// \u767b\u5f55\u5b88\u536b - \u4fdd\u62a4\u9700\u8981\u767b\u5f55\u624d\u80fd\u8bbf\u95ee\u7684\u8f66\u8f86\u76f8\u5173\u529f\u80fd\nclass LogInGuard extends RouteGuard {\n  factory LogInGuard() =&gt; _routeGuard;\n  LogInGuard._() : super();\n\n  static const String _tag = '[route LogInGuard]:';\n  static final LogInGuard _routeGuard = LogInGuard._();\n\n  ParallelRoute&lt;dynamic&gt;? preRoute;  // \u524d\u7f6e\u8def\u7531\u4fe1\u606f\n\n  @override\n  FutureOr&lt;bool&gt; canActivate(String path, ParallelRoute&lt;dynamic&gt; route) {\n    // \u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u83b7\u53d6\u8ba4\u8bc1\u670d\u52a1\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n    final isLogin = authFacade.isLogin;\n    return isLogin;\n  }\n\n  @override\n  FutureOr&lt;ModularRoute?&gt; pre(ModularRoute route) {\n    // \u4fdd\u5b58\u5f53\u524d\u5bfc\u822a\u5386\u53f2\n    if (NavigatorProxy().navigateHistory.isNotEmpty) {\n      preRoute = NavigatorProxy().navigateHistory.last;\n    }\n    return super.pre(route);\n  }\n\n  @override\n  FutureOr&lt;ParallelRoute&lt;dynamic&gt;?&gt; pos(ModularRoute route, dynamic data) async {\n    final authFacade = Modular.get&lt;IAuthFacade&gt;();\n    final isLogin = authFacade.isLogin;\n\n    if (isLogin) {\n      return route as ParallelRoute;\n    } else {\n      // \u521b\u5efa\u767b\u5f55\u540c\u6b65\u5668\n      final c = Completer&lt;bool&gt;();\n\n      // \u542f\u52a8\u767b\u5f55\u6d41\u7a0b\n      await startLoginForResult(\n        mode: LaunchMode.navigator,\n        onSuccess: () {\n          Logger.i('\u767b\u5f55\u6210\u529f', _tag);\n          c.complete(true);\n        },\n        onError: () {\n          Logger.i('\u767b\u5f55\u5931\u8d25', _tag);\n          c.complete(false);\n        },\n        onCancel: () {\n          Logger.i('\u7528\u6237\u53d6\u6d88\u767b\u5f55', _tag);\n          c.complete(false);\n        },\n      );\n\n      final loginResult = await c.future;\n      final isLoginAfter = authFacade.isLogin;\n\n      Logger.d('\u767b\u5f55\u7ed3\u679c: $loginResult, \u5f53\u524d\u767b\u5f55\u72b6\u6001: $isLoginAfter', _tag);\n\n      return null;  // \u963b\u6b62\u8def\u7531\u7ee7\u7eed\n    }\n  }\n}\n\n/// \u7edf\u8ba1\u5b88\u536b - \u8bb0\u5f55\u6240\u6709\u8def\u7531\u8df3\u8f6c\u7684\u7edf\u8ba1\u4fe1\u606f\nclass _StatisticsGuard implements RouteGuard {\n  const _StatisticsGuard();\n  static const String _tag = tagRoute;\n\n  @override\n  FutureOr&lt;bool&gt; canActivate(String path, ParallelRoute&lt;dynamic&gt; route) =&gt; true;\n\n  @override\n  FutureOr&lt;ModularRoute?&gt; pre(ModularRoute route) =&gt; route;\n\n  @override\n  FutureOr&lt;ParallelRoute&lt;dynamic&gt;?&gt; pos(ModularRoute route, ModularArguments data) async {\n    // \u8bb0\u5f55\u8def\u7531\u8df3\u8f6c\u65e5\u5fd7\n    Logger.d('\u8def\u7531\u8df3\u8f6c\u5230: ${route.name}', _tag);\n    Logger.d('\u8def\u7531\u53c2\u6570: ${data.uri}', _tag);\n\n    // \u8fd9\u91cc\u53ef\u4ee5\u6dfb\u52a0\u57cb\u70b9\u7edf\u8ba1\u903b\u8f91\n    // AnalyticsService.trackPageView(route.name, data.data);\n\n    return route as ParallelRoute?;\n  }\n\n  @override\n  String? get redirectTo =&gt; null;\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#33","title":"3.3 \u8de8\u6a21\u5757\u901a\u4fe1\u673a\u5236","text":"<p>\u57fa\u4e8eOneApp\u7684\u4e8b\u4ef6\u603b\u7ebf\u7cfb\u7edf\uff0c\u5c55\u793a\u6a21\u5757\u95f4\u677e\u8026\u5408\u901a\u4fe1\u7684\u5b8c\u6574\u5b9e\u73b0\uff1a</p> <p>OneAppEventBus\u5b9e\u73b0 - \u652f\u6301\u533f\u540d\u548c\u6807\u8bc6\u8ba2\u9605\u7684\u4e8b\u4ef6\u603b\u7ebf\uff1a</p> <pre><code>/// OneApp\u7edf\u4e00\u4e8b\u4ef6\u603b\u7ebf - \u652f\u6301\u6a21\u5757\u95f4\u677e\u8026\u5408\u901a\u4fe1\u7684\u5b9e\u73b0\nclass OneAppEventBus extends Object {\n  static final _eventBus = EventBus();  // \u57fa\u7840\u4e8b\u4ef6\u603b\u7ebf\n  static final OneAppEventBus _instance = OneAppEventBus._internal();\n\n  // \u9ad8\u7ea7\u4e8b\u4ef6\u7ba1\u7406\u5668\n  final Map&lt;String, StreamController&lt;dynamic&gt;&gt; _eventControllers = {};\n  final Map&lt;String, List&lt;StreamSubscription&lt;dynamic&gt;&gt;&gt; _anonymousSubscriptions = {};\n  final Map&lt;String, Map&lt;String, StreamSubscription&lt;dynamic&gt;&gt;&gt; _identifiedSubscriptions = {};\n\n  OneAppEventBus._internal();\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u53d1\u5e03 - \u9002\u7528\u4e8e\u7b80\u5355\u4e8b\u4ef6\u901a\u4fe1\n  static void fireEvent(event) {\n    _eventBus.fire(event);\n  }\n\n  /// \u57fa\u7840\u4e8b\u4ef6\u76d1\u542c - \u7c7b\u578b\u5b89\u5168\u7684\u4e8b\u4ef6\u8ba2\u9605\n  static StreamSubscription&lt;T&gt; addListen&lt;T&gt;(\n    void Function(T event)? onData, {\n    Function? onError,\n    void Function()? onDone,\n    bool? cancelOnError,\n  }) {\n    return _eventBus.on&lt;T&gt;().listen(\n      onData,\n      onError: onError,\n      onDone: onDone,\n      cancelOnError: cancelOnError,\n    );\n  }\n\n  /// \u9ad8\u7ea7\u4e8b\u4ef6\u8ba2\u9605 - \u652f\u6301\u751f\u547d\u5468\u671f\u7ba1\u7406\u548c\u91cd\u590d\u8ba2\u9605\u63a7\u5236\n  static void on(String eventType, Function(dynamic event) onEvent, {String? id}) {\n    var controller = _instance._eventControllers.putIfAbsent(\n      eventType,\n      () =&gt; StreamController&lt;dynamic&gt;.broadcast(),\n    );\n\n    var subscription = controller.stream.listen(onEvent);\n\n    if (id == null) {\n      // \u533f\u540d\u8ba2\u9605 - \u9700\u8981\u624b\u52a8\u7ba1\u7406\u751f\u547d\u5468\u671f\n      _instance._anonymousSubscriptions\n          .putIfAbsent(eventType, () =&gt; [])\n          .add(subscription);\n    } else {\n      // \u6807\u8bc6\u8ba2\u9605 - \u81ea\u52a8\u7ba1\u7406\u91cd\u590d\u8ba2\u9605\uff0c\u65b0\u8ba2\u9605\u4f1a\u66ff\u6362\u65e7\u8ba2\u9605\n      var subscriptions = _instance._identifiedSubscriptions.putIfAbsent(eventType, () =&gt; {});\n      subscriptions[id]?.cancel();  // \u53d6\u6d88\u65e7\u7684\u540c\u540d\u8ba2\u9605\n      subscriptions[id] = subscription;\n    }\n  }\n\n  /// \u4e8b\u4ef6\u53d1\u5e03\n  static void fire(String eventType, dynamic event) {\n    _instance._eventControllers[eventType]?.add(event);\n  }\n\n  /// \u8ba2\u9605\u7ba1\u7406 - \u652f\u6301\u7cbe\u786e\u53d6\u6d88\u548c\u6279\u91cf\u53d6\u6d88\n  static void cancel(String eventType, {String? id}) {\n    if (id == null) {\n      // \u53d6\u6d88\u8be5\u4e8b\u4ef6\u7c7b\u578b\u7684\u6240\u6709\u8ba2\u9605\n      _instance._anonymousSubscriptions[eventType]?.forEach((sub) =&gt; sub.cancel());\n      _instance._anonymousSubscriptions.remove(eventType);\n\n      _instance._identifiedSubscriptions[eventType]?.values.forEach((sub) =&gt; sub.cancel());\n      _instance._identifiedSubscriptions.remove(eventType);\n    } else {\n      // \u53d6\u6d88\u7279\u5b9a\u6807\u8bc6\u7684\u8ba2\u9605\n      _instance._identifiedSubscriptions[eventType]?[id]?.cancel();\n      _instance._identifiedSubscriptions[eventType]?.remove(id);\n    }\n\n    // \u6e05\u7406\u7a7a\u7684\u4e8b\u4ef6\u63a7\u5236\u5668\n    if ((_instance._anonymousSubscriptions[eventType]?.isEmpty ?? true) &amp;&amp;\n        (_instance._identifiedSubscriptions[eventType]?.isEmpty ?? true)) {\n      _instance._eventControllers[eventType]?.close();\n      _instance._eventControllers.remove(eventType);\n    }\n  }\n}\n</code></pre> <p>\u8de8\u6a21\u5757\u901a\u4fe1\u4f7f\u7528\u6848\u4f8b - \u8f66\u8f86\u63a7\u5236\u4e8b\u4ef6\u901a\u4fe1\uff1a</p> <pre><code>/// \u4e8b\u4ef6\u53d1\u5e03\u65b9 - \u8f66\u8f86\u63a7\u5236\u670d\u52a1\u6a21\u5757\nclass CarControlService {\n  /// \u6267\u884c\u8f66\u8f86\u9501\u5b9a\u64cd\u4f5c\u5e76\u53d1\u5e03\u4e8b\u4ef6\n  Future&lt;void&gt; lockCar(String vin) async {\n    try {\n      // 1. \u6267\u884c\u5b9e\u9645\u7684\u8f66\u8f86\u9501\u5b9aAPI\u8c03\u7528\n      final result = await Vehicle.rlu().doAction(RluAction.lock);\n\n      // 2. \u53d1\u5e03\u8f66\u8f86\u9501\u5b9a\u6210\u529f\u4e8b\u4ef6\uff0c\u901a\u77e5\u5176\u4ed6\u6a21\u5757\n      OneAppEventBus.fire('car_control_result', {\n        'action': 'lock',\n        'vin': vin,\n        'success': true,\n        'timestamp': DateTime.now().toIso8601String(),\n        'result': result.toString(),\n      });\n\n      Logger.i('\u8f66\u8f86\u9501\u5b9a\u6210\u529f\uff0c\u4e8b\u4ef6\u5df2\u53d1\u5e03');\n\n    } catch (error) {\n      // 3. \u53d1\u5e03\u8f66\u8f86\u9501\u5b9a\u5931\u8d25\u4e8b\u4ef6\n      OneAppEventBus.fire('car_control_result', {\n        'action': 'lock',\n        'vin': vin,\n        'success': false,\n        'error': error.toString(),\n        'timestamp': DateTime.now().toIso8601String(),\n      });\n\n      Logger.e('\u8f66\u8f86\u9501\u5b9a\u5931\u8d25: $error');\n    }\n  }\n\n  /// \u6267\u884c\u7a7a\u8c03\u5f00\u542f\u64cd\u4f5c\n  Future&lt;void&gt; startClimatization() async {\n    try {\n      final result = await Vehicle.climatization().doAction(ClimatizationAction.start);\n\n      OneAppEventBus.fire('climatization_status_changed', {\n        'action': 'start',\n        'status': 'running',\n        'timestamp': DateTime.now().toIso8601String(),\n      });\n\n    } catch (error) {\n      OneAppEventBus.fire('climatization_status_changed', {\n        'action': 'start',\n        'status': 'error',\n        'error': error.toString(),\n      });\n    }\n  }\n}\n\n/// \u4e8b\u4ef6\u8ba2\u9605\u65b91 - \u901a\u77e5\u670d\u52a1\u6a21\u5757\nclass NotificationService {\n  void initialize() {\n    // \u8ba2\u9605\u8f66\u8f86\u63a7\u5236\u7ed3\u679c\u4e8b\u4ef6\n    OneAppEventBus.on('car_control_result', (event) {\n      final data = event as Map&lt;String, dynamic&gt;;\n      final action = data['action'] as String;\n      final success = data['success'] as bool;\n\n      if (success) {\n        switch (action) {\n          case 'lock':\n            _showSuccessNotification('\u8f66\u8f86\u5df2\u6210\u529f\u9501\u5b9a');\n            break;\n          case 'unlock':\n            _showSuccessNotification('\u8f66\u8f86\u5df2\u6210\u529f\u89e3\u9501');\n            break;\n        }\n      } else {\n        _showErrorNotification('\u8f66\u8f86\u64cd\u4f5c\u5931\u8d25: ${data['error']}');\n      }\n    }, id: 'notification_service');  // \u4f7f\u7528\u6807\u8bc6ID\uff0c\u907f\u514d\u91cd\u590d\u8ba2\u9605\n\n    // \u8ba2\u9605\u7a7a\u8c03\u72b6\u6001\u53d8\u5316\u4e8b\u4ef6\n    OneAppEventBus.on('climatization_status_changed', (event) {\n      final data = event as Map&lt;String, dynamic&gt;;\n      final status = data['status'] as String;\n\n      switch (status) {\n        case 'running':\n          _showInfoNotification('\u7a7a\u8c03\u5df2\u542f\u52a8');\n          break;\n        case 'stopped':\n          _showInfoNotification('\u7a7a\u8c03\u5df2\u5173\u95ed');\n          break;\n        case 'error':\n          _showErrorNotification('\u7a7a\u8c03\u64cd\u4f5c\u5931\u8d25');\n          break;\n      }\n    }, id: 'notification_climatization');\n  }\n\n  void _showSuccessNotification(String message) {\n    // \u663e\u793a\u6210\u529f\u901a\u77e5\u7684\u5b9e\u73b0\n    Logger.i('\u6210\u529f\u901a\u77e5: $message');\n  }\n\n  void _showErrorNotification(String message) {\n    // \u663e\u793a\u9519\u8bef\u901a\u77e5\u7684\u5b9e\u73b0\n    Logger.e('\u9519\u8bef\u901a\u77e5: $message');\n  }\n\n  void _showInfoNotification(String message) {\n    // \u663e\u793a\u4fe1\u606f\u901a\u77e5\u7684\u5b9e\u73b0\n    Logger.i('\u4fe1\u606f\u901a\u77e5: $message');\n  }\n}\n\n/// \u4e8b\u4ef6\u8ba2\u9605\u65b92 - \u7edf\u8ba1\u670d\u52a1\u6a21\u5757\nclass AnalyticsService {\n  void initialize() {\n    // \u533f\u540d\u8ba2\u9605\uff0c\u7528\u4e8e\u7edf\u8ba1\u5206\u6790\n    OneAppEventBus.on('car_control_result', (event) {\n      final data = event as Map&lt;String, dynamic&gt;;\n\n      // \u8bb0\u5f55\u8f66\u8f86\u64cd\u4f5c\u7edf\u8ba1\n      _recordCarControlEvent(\n        action: data['action'],\n        success: data['success'],\n        vin: data['vin'],\n        timestamp: data['timestamp'],\n      );\n    });  // \u4e0d\u63d0\u4f9bid\u53c2\u6570\uff0c\u521b\u5efa\u533f\u540d\u8ba2\u9605\n  }\n\n  void _recordCarControlEvent({\n    required String action,\n    required bool success,\n    required String vin,\n    required String timestamp,\n  }) {\n    // \u57cb\u70b9\u7edf\u8ba1\u5b9e\u73b0\n    Logger.i('\u7edf\u8ba1\u8bb0\u5f55: \u8f66\u8f86\u64cd\u4f5c[$action] \u7ed3\u679c[$success] VIN[$vin]');\n  }\n}\n\n/// \u4e8b\u4ef6\u8ba2\u9605\u65b93 - \u9996\u9875Widget\u72b6\u6001\u66f4\u65b0\nclass HomePageBloc extends Bloc&lt;HomeEvent, HomeState&gt; {\n  StreamSubscription? _carControlSubscription;\n\n  HomePageBloc() : super(HomeInitial()) {\n    _initEventSubscriptions();\n  }\n\n  void _initEventSubscriptions() {\n    // \u8ba2\u9605\u8f66\u8f86\u63a7\u5236\u4e8b\u4ef6\uff0c\u66f4\u65b0\u9996\u9875UI\u72b6\u6001\n    _carControlSubscription = OneAppEventBus.addListen&lt;Map&lt;String, dynamic&gt;&gt;((event) {\n      if (event['action'] == 'lock' &amp;&amp; event['success'] == true) {\n        add(UpdateCarLockStatus(isLocked: true));\n      } else if (event['action'] == 'unlock' &amp;&amp; event['success'] == true) {\n        add(UpdateCarLockStatus(isLocked: false));\n      }\n    });\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    _carControlSubscription?.cancel();\n    return super.close();\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#34","title":"3.4 \u6570\u636e\u6d41\u7ba1\u7406","text":"<p>\u57fa\u4e8eOneApp\u7684Bloc\u5b9e\u73b0\uff0c\u5c55\u793a\u5b8c\u6574\u7684\u6570\u636e\u6d41\u4eceUI\u4e8b\u4ef6\u5230\u72b6\u6001\u66f4\u65b0\u7684\u5904\u7406\u8fc7\u7a0b\uff1a</p> <pre><code>graph LR\n    A[\u7528\u6237\u64cd\u4f5c] --&gt; B[RemoteClimatisationControlBloc]\n    B --&gt; C[ClimatizationService]\n    C --&gt; D[Vehicle.climatization]\n    D --&gt; E[\u8f66\u8f86API]\n\n    E --&gt; D\n    D --&gt; F[ObserverClient\u76d1\u542c]\n    F --&gt; B\n    B --&gt; G[RemoteClimatisationState]\n    G --&gt; H[UI\u66f4\u65b0]\n\n    I[OneAppEventBus] --&gt; J[\u8de8\u6a21\u5757\u901a\u77e5]</code></pre> <p>Bloc\u6570\u636e\u6d41\u5b9e\u73b0 - \u57fa\u4e8eOneApp\u7684\u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\uff1a</p> <pre><code>/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u72b6\u6001 - \u4f7f\u7528Freezed\u786e\u4fdd\u4e0d\u53ef\u53d8\u6027\n@freezed\nclass RemoteClimatisationState with _$RemoteClimatisationState {\n  const factory RemoteClimatisationState({\n    required ClimatizationService climatization,      // \u7a7a\u8c03\u670d\u52a1\u5b9e\u4f8b\n    required bool climatizationAtUnlock,              // \u89e3\u9501\u542f\u52a8\u5f00\u5173\n    required double temperature,                      // \u7a7a\u8c03\u6e29\u5ea6\n    ClimatisationStatus? status,                      // \u7a7a\u8c03\u72b6\u6001\n    ClimatizationParameter? parameter,                // \u7a7a\u8c03\u53c2\u6570\n    bool? actionStart,                                // \u5f00\u542f\u64cd\u4f5c\u6267\u884c\u72b6\u6001\n    bool? actionStop,                                 // \u5173\u95ed\u64cd\u4f5c\u6267\u884c\u72b6\u6001\n    bool? actionSetting,                              // \u8bbe\u7f6e\u4fdd\u5b58\u64cd\u4f5c\u72b6\u6001\n    bool? updatePage,                                 // \u9875\u9762\u66f4\u65b0\u6807\u8bb0\n    double? sliderValue,                              // \u6e29\u5ea6\u6ed1\u52a8\u6761\u503c\n  }) = _RemoteClimatisationState;\n}\n\n/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236\u4e8b\u4ef6\n@freezed\nclass RemoteClimatisationControlEvent with _$RemoteClimatisationControlEvent {\n  /// \u6e29\u5ea6\u8bbe\u7f6e\u4e8b\u4ef6\n  const factory RemoteClimatisationControlEvent.updateTemperatureSettingEvent({\n    required double temperature,\n  }) = UpdateTemperatureSettingEvent;\n\n  /// \u89e3\u9501\u542f\u52a8\u5f00\u5173\u4e8b\u4ef6\n  const factory RemoteClimatisationControlEvent.updateClimatizationAtUnlockEvent({\n    required bool climatizationAtUnlock,\n  }) = UpdateClimatizationAtUnlockEvent;\n\n  /// \u6267\u884c\u7a7a\u8c03\u64cd\u4f5c\u4e8b\u4ef6\n  const factory RemoteClimatisationControlEvent.updateActionExecuteEvent({\n    required ClimatizationAction action,\n  }) = UpdateActionExecuteEvent;\n\n  /// \u6ed1\u52a8\u6761\u503c\u66f4\u65b0\u4e8b\u4ef6\n  const factory RemoteClimatisationControlEvent.updateSliderExecuteEvent({\n    required double sliderValue,\n  }) = UpdateSliderExecuteEvent;\n\n  /// \u9875\u9762\u6570\u636e\u5237\u65b0\u4e8b\u4ef6\n  const factory RemoteClimatisationControlEvent.updatePageDataEvent() = UpdatePageDataEventEvent;\n}\n\n/// \u8fdc\u7a0b\u7a7a\u8c03\u63a7\u5236Bloc\nclass RemoteClimatisationControlBloc\n    extends Bloc&lt;RemoteClimatisationControlEvent, RemoteClimatisationState&gt; {\n\n  /// \u8f66\u8f86\u670d\u52a1\u89c2\u5bdf\u8005\u5ba2\u6237\u7aef\n  late ObserverClient client;\n\n  RemoteClimatisationControlBloc(\n    ClimatizationService climatization,\n    double temperature,\n    bool climatizationAtUnlock,\n    String? noticeVin,  // \u901a\u77e5\u680f\u4f20\u5165\u7684VIN\u7801\n    BuildContext? context,\n  ) : super(RemoteClimatisationState(\n        climatization: climatization,\n        temperature: temperature,\n        climatizationAtUnlock: climatizationAtUnlock,\n      )) {\n\n    // \u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u5668\n    on&lt;UpdateTemperatureSettingEvent&gt;(_onUpdateTemperatureSetting);\n    on&lt;UpdateClimatizationAtUnlockEvent&gt;(_onUpdateClimatizationAtUnlockEvent);\n    on&lt;UpdateActionExecuteEvent&gt;(_onUpdateActionExecuteEvent);\n    on&lt;UpdateSliderExecuteEvent&gt;(_onUpdateSliderExecuteEvent);\n    on&lt;UpdatePageDataEventEvent&gt;(_onUpdatePageDataEventEvent);\n\n    // \u68c0\u67e5\u670d\u52a1\u72b6\u6001\u5e76\u521d\u59cb\u5316\n    if (climatization.isStatusReady &amp;&amp; climatization.isParameterReady) {\n      // \u72b6\u6001\u548c\u53c2\u6570\u90fd\u51c6\u5907\u5c31\u7eea\n      _updateCompleteState();\n    } else if (climatization.isStatusReady) {\n      // \u4ec5\u72b6\u6001\u51c6\u5907\u5c31\u7eea\n      emit(state.copyWith(status: climatization.status as ClimatisationStatus));\n    } else if (climatization.isParameterReady) {\n      // \u4ec5\u53c2\u6570\u51c6\u5907\u5c31\u7eea\n      _updateParameterState();\n    }\n\n    CarAppLog.i('RemoteClimatisationControlBloc \u521d\u59cb\u5316\u5b8c\u6210');\n    CarAppLog.i('actionStart: ${state.actionStart}');\n    CarAppLog.i('actionStop: ${state.actionStop}');\n    CarAppLog.i('actionSetting: ${state.actionSetting}');\n\n    // \u5237\u65b0\u7a7a\u8c03\u6570\u636e\n    climatization.doAction(ClimatizationAction.refresh);\n\n    // \u8ba2\u9605\u7a7a\u8c03\u670d\u52a1\u53d8\u5316\n    _subscribeToClimatizationService(climatization);\n\n    // \u68c0\u67e5\u9ed8\u8ba4\u8f66\u8f86\uff08\u5f02\u6b65\uff09\n    checkDefaultVehicle(context, noticeVin);\n  }\n\n  /// \u8ba2\u9605\u7a7a\u8c03\u670d\u52a1\u53d8\u5316\n  void _subscribeToClimatizationService(ClimatizationService climatization) {\n    client = Vehicle.addServiceObserver(\n      serviceCategory: VehicleServiceCategory.climatisation,\n      onChange: (serviceBase) {\n        final service = serviceBase as ClimatizationService;\n        CarAppLog.i('\u7a7a\u8c03\u670d\u52a1\u72b6\u6001\u53d8\u5316\u56de\u8c03');\n\n        // \u68c0\u67e5\u5404\u79cd\u64cd\u4f5c\u72b6\u6001\n        final actionStartRunning = checkActionStartRun(service);\n        final actionStopRunning = checkActionStopRun(service);\n        final actionSettingRunning = checkActionSettingRun(service);\n\n        // \u66f4\u65b0\u72b6\u6001\n        emit(state.copyWith(\n          climatization: service,\n          status: service.status as ClimatisationStatus?,\n          parameter: service.parameter,\n          actionStart: actionStartRunning,\n          actionStop: actionStopRunning,\n          actionSetting: actionSettingRunning,\n          updatePage: !(state.updatePage ?? false),  // \u5207\u6362\u66f4\u65b0\u6807\u8bb0\n        ));\n\n        CarAppLog.i('\u7a7a\u8c03\u72b6\u6001\u5df2\u66f4\u65b0: start=$actionStartRunning, stop=$actionStopRunning');\n      },\n    );\n  }\n\n  /// \u68c0\u67e5\u7a7a\u8c03\u542f\u52a8\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  bool checkActionStartRun(ClimatizationService climatization) {\n    final InProcessActions inProcessActions = climatization.inProcessActions;\n    return inProcessActions.getServiceAction(ClimatizationAction.start) != null;\n  }\n\n  /// \u68c0\u67e5\u7a7a\u8c03\u505c\u6b62\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  bool checkActionStopRun(ClimatizationService climatization) {\n    final InProcessActions inProcessActions = climatization.inProcessActions;\n    return inProcessActions.getServiceAction(ClimatizationAction.stop) != null;\n  }\n\n  /// \u68c0\u67e5\u7a7a\u8c03\u8bbe\u7f6e\u64cd\u4f5c\u662f\u5426\u6b63\u5728\u6267\u884c\n  bool checkActionSettingRun(ClimatizationService climatization) {\n    final InProcessActions inProcessActions = climatization.inProcessActions;\n    return inProcessActions.getServiceAction(ClimatizationAction.setting) != null;\n  }\n\n  /// \u6e29\u5ea6\u8bbe\u7f6e\u4e8b\u4ef6\u5904\u7406\n  FutureOr&lt;void&gt; _onUpdateTemperatureSetting(\n    UpdateTemperatureSettingEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u5904\u7406\u6e29\u5ea6\u8bbe\u7f6e\u4e8b\u4ef6: ${event.temperature}');\n\n    if (state.climatization.isParameterReady) {\n      // \u53c2\u6570\u51c6\u5907\u5c31\u7eea\uff0c\u66f4\u65b0\u6e29\u5ea6\u8bbe\u7f6e\n      final updatedParameter = state.parameter?.copyWith(\n        targetTemperature: TargetTemperature.fromCelsius(event.temperature),\n      );\n\n      emit(state.copyWith(\n        temperature: event.temperature,\n        parameter: updatedParameter,\n      ));\n    } else {\n      CarAppLog.w('\u7a7a\u8c03\u53c2\u6570\u672a\u51c6\u5907\u5c31\u7eea\uff0c\u8df3\u8fc7\u6e29\u5ea6\u8bbe\u7f6e');\n    }\n  }\n\n  /// \u89e3\u9501\u542f\u52a8\u5f00\u5173\u4e8b\u4ef6\u5904\u7406\n  FutureOr&lt;void&gt; _onUpdateClimatizationAtUnlockEvent(\n    UpdateClimatizationAtUnlockEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u5904\u7406\u89e3\u9501\u542f\u52a8\u5f00\u5173\u4e8b\u4ef6: ${event.climatizationAtUnlock}');\n\n    emit(state.copyWith(climatizationAtUnlock: event.climatizationAtUnlock));\n\n    // \u4fdd\u5b58\u8bbe\u7f6e\u5230\u672c\u5730\u5b58\u50a8\u6216\u53d1\u9001\u5230\u670d\u52a1\u5668\n    // \u5177\u4f53\u5b9e\u73b0\u7565...\n  }\n\n  /// \u7a7a\u8c03\u64cd\u4f5c\u6267\u884c\u4e8b\u4ef6\u5904\u7406\n  FutureOr&lt;void&gt; _onUpdateActionExecuteEvent(\n    UpdateActionExecuteEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u6267\u884c\u7a7a\u8c03\u64cd\u4f5c: ${event.action}');\n\n    // \u6267\u884c\u5177\u4f53\u7684\u7a7a\u8c03\u64cd\u4f5c\n    state.climatization.doAction(event.action);\n\n    // \u66f4\u65b0\u5bf9\u5e94\u7684\u64cd\u4f5c\u72b6\u6001\n    switch (event.action) {\n      case ClimatizationAction.start:\n        emit(state.copyWith(actionStart: true));\n        break;\n      case ClimatizationAction.stop:\n        emit(state.copyWith(actionStop: true));\n        break;\n      case ClimatizationAction.setting:\n        emit(state.copyWith(actionSetting: true));\n        break;\n      default:\n        break;\n    }\n  }\n\n  /// \u6ed1\u52a8\u6761\u503c\u66f4\u65b0\u4e8b\u4ef6\u5904\u7406\n  FutureOr&lt;void&gt; _onUpdateSliderExecuteEvent(\n    UpdateSliderExecuteEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    emit(state.copyWith(sliderValue: event.sliderValue));\n  }\n\n  /// \u9875\u9762\u6570\u636e\u5237\u65b0\u4e8b\u4ef6\u5904\u7406\n  FutureOr&lt;void&gt; _onUpdatePageDataEventEvent(\n    UpdatePageDataEventEvent event,\n    Emitter&lt;RemoteClimatisationState&gt; emit,\n  ) {\n    CarAppLog.i('\u5237\u65b0\u9875\u9762\u6570\u636e');\n\n    // \u5207\u6362\u66f4\u65b0\u6807\u8bb0\uff0c\u89e6\u53d1UI\u91cd\u65b0\u6784\u5efa\n    emit(state.copyWith(updatePage: !(state.updatePage ?? false)));\n\n    // \u5237\u65b0\u7a7a\u8c03\u670d\u52a1\u6570\u636e\n    state.climatization.doAction(ClimatizationAction.refresh);\n  }\n\n  /// \u68c0\u67e5\u9ed8\u8ba4\u8f66\u8f86\n  Future&lt;void&gt; checkDefaultVehicle(BuildContext? context, String? noticeVin) async {\n    await VehicleUtils.checkDefaultVehicle(context, noticeVin, (value) {\n      // \u8f66\u8f86\u68c0\u67e5\u56de\u8c03\u5904\u7406\n      CarAppLog.i('\u9ed8\u8ba4\u8f66\u8f86\u68c0\u67e5\u5b8c\u6210: $value');\n    });\n  }\n\n  /// \u66f4\u65b0\u5b8c\u6574\u72b6\u6001\n  void _updateCompleteState() {\n    emit(state.copyWith(\n      status: state.climatization.status as ClimatisationStatus,\n      parameter: state.climatization.parameter,\n      actionStart: checkActionStartRun(state.climatization),\n      actionStop: checkActionStopRun(state.climatization),\n      actionSetting: checkActionSettingRun(state.climatization),\n    ));\n  }\n\n  /// \u66f4\u65b0\u53c2\u6570\u72b6\u6001\n  void _updateParameterState() {\n    emit(state.copyWith(\n      parameter: state.climatization.parameter,\n      actionSetting: checkActionSettingRun(state.climatization),\n    ));\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    CarAppLog.i('RemoteClimatisationControlBloc \u8d44\u6e90\u6e05\u7406');\n    Vehicle.removeServiceObserver(client);  // \u53d6\u6d88\u670d\u52a1\u8ba2\u9605\n    return super.close();\n  }\n}\n</code></pre> <p>\u4f7f\u7528Repository\u6a21\u5f0f\u7684\u6570\u636e\u6d41\u5b9e\u73b0\uff1a</p> <pre><code>/// \u5145\u7535\u6869Repository - \u6570\u636e\u6e90\u7ba1\u7406\u5b9e\u73b0\nclass ChargingStationRepository {\n  final ChargingStationApi _api = Modular.get&lt;ChargingStationApi&gt;();\n  final ChargingStationCache _cache = Modular.get&lt;ChargingStationCache&gt;();\n\n  /// \u67e5\u627e\u9644\u8fd1\u5145\u7535\u6869 - \u5b9e\u73b0\u7f13\u5b58\u4f18\u5148\u7b56\u7565\n  Future&lt;List&lt;ChargingStation&gt;&gt; findNearbyStations(\n    LatLng location, {\n    int radius = 5000,\n  }) async {\n    try {\n      // 1. \u4f18\u5148\u4ece\u7f13\u5b58\u83b7\u53d6\u6570\u636e\n      final cached = await _cache.getNearbyStations(location, radius);\n      if (cached.isNotEmpty &amp;&amp; !_cache.isExpired(location)) {\n        Logger.i('\u4ece\u7f13\u5b58\u83b7\u53d6\u5145\u7535\u6869\u6570\u636e: ${cached.length}\u4e2a');\n        return cached;\n      }\n\n      // 2. \u7f13\u5b58\u8fc7\u671f\u6216\u65e0\u6570\u636e\uff0c\u4eceAPI\u83b7\u53d6\n      Logger.i('\u4eceAPI\u83b7\u53d6\u5145\u7535\u6869\u6570\u636e');\n      final stations = await _api.findNearbyStations(location, radius);\n\n      // 3. \u66f4\u65b0\u7f13\u5b58\n      await _cache.cacheStations(location, stations);\n\n      return stations;\n    } catch (error) {\n      Logger.e('\u83b7\u53d6\u5145\u7535\u6869\u6570\u636e\u5931\u8d25: $error');\n\n      // 4. \u51fa\u9519\u65f6\u8fd4\u56de\u7f13\u5b58\u6570\u636e\uff08\u5982\u679c\u6709\uff09\n      final cached = await _cache.getNearbyStations(location, radius);\n      if (cached.isNotEmpty) {\n        Logger.w('\u8fd4\u56de\u8fc7\u671f\u7f13\u5b58\u6570\u636e: ${cached.length}\u4e2a');\n        return cached;\n      }\n\n      rethrow;\n    }\n  }\n}\n\n/// \u5145\u7535\u6869\u641c\u7d22Bloc - \u5b8c\u6574\u7684\u6570\u636e\u6d41\u7ba1\u7406\nclass ChargingStationBloc extends Bloc&lt;ChargingStationEvent, ChargingStationState&gt; {\n  final ChargingStationRepository repository;\n\n  ChargingStationBloc(this.repository) : super(ChargingStationInitial()) {\n    on&lt;LoadNearbyStations&gt;(_onLoadNearbyStations);\n    on&lt;RefreshStations&gt;(_onRefreshStations);\n  }\n\n  /// \u52a0\u8f7d\u9644\u8fd1\u5145\u7535\u6869\n  Future&lt;void&gt; _onLoadNearbyStations(\n    LoadNearbyStations event,\n    Emitter&lt;ChargingStationState&gt; emit,\n  ) async {\n    emit(ChargingStationLoading());\n\n    try {\n      // \u901a\u8fc7Repository\u83b7\u53d6\u6570\u636e\n      final stations = await repository.findNearbyStations(\n        event.location,\n        radius: event.radius,\n      );\n\n      emit(ChargingStationLoaded(\n        stations: stations,\n        location: event.location,\n        lastUpdateTime: DateTime.now(),\n      ));\n\n      // \u53d1\u5e03\u4e8b\u4ef6\u901a\u77e5\u5176\u4ed6\u6a21\u5757\n      OneAppEventBus.fire('charging_stations_loaded', {\n        'count': stations.length,\n        'location': event.location,\n        'timestamp': DateTime.now().toIso8601String(),\n      });\n\n    } catch (error) {\n      emit(ChargingStationError(error.toString()));\n\n      // \u53d1\u5e03\u9519\u8bef\u4e8b\u4ef6\n      OneAppEventBus.fire('charging_stations_error', {\n        'error': error.toString(),\n        'location': event.location,\n      });\n    }\n  }\n\n  /// \u5237\u65b0\u5145\u7535\u6869\u6570\u636e\n  Future&lt;void&gt; _onRefreshStations(\n    RefreshStations event,\n    Emitter&lt;ChargingStationState&gt; emit,\n  ) async {\n    if (state is ChargingStationLoaded) {\n      final currentState = state as ChargingStationLoaded;\n      emit(ChargingStationRefreshing(currentState.stations));\n\n      try {\n        final stations = await repository.findNearbyStations(\n          currentState.location,\n          radius: 5000,\n        );\n\n        emit(ChargingStationLoaded(\n          stations: stations,\n          location: currentState.location,\n          lastUpdateTime: DateTime.now(),\n        ));\n      } catch (error) {\n        emit(ChargingStationLoaded(\n          stations: currentState.stations,\n          location: currentState.location,\n          lastUpdateTime: currentState.lastUpdateTime,\n          error: error.toString(),\n        ));\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#_12","title":"\u603b\u7ed3","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#1_oneapp_1","title":"1. OneApp\u67b6\u6784\u8bbe\u8ba1\u4f18\u52bf","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#11","title":"1.1 \u6280\u672f\u67b6\u6784\u4f18\u52bf","text":"<p>\u6a21\u5757\u5316\u8bbe\u8ba1 - \u2705 \u72ec\u7acb\u5f00\u53d1: \u5404\u4e1a\u52a1\u6a21\u5757\u53ef\u5e76\u884c\u5f00\u53d1\uff0c\u63d0\u5347\u56e2\u961f\u534f\u4f5c\u6548\u7387 - \u2705 \u7248\u672c\u7ba1\u7406: \u6a21\u5757\u72ec\u7acb\u7248\u672c\u63a7\u5236\uff0c\u964d\u4f4e\u53d1\u7248\u98ce\u9669 - \u2705 \u4ee3\u7801\u590d\u7528: \u57fa\u7840\u8bbe\u65bd\u6a21\u5757\u5728\u591a\u4e2a\u4e1a\u52a1\u6a21\u5757\u95f4\u590d\u7528 - \u2705 \u6d4b\u8bd5\u9694\u79bb: \u6a21\u5757\u7ea7\u522b\u7684\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5</p> <p>\u5206\u5c42\u67b6\u6784 - \u2705 \u804c\u8d23\u6e05\u6670: UI\u5c42\u3001\u4e1a\u52a1\u5c42\u3001\u670d\u52a1\u5c42\u3001\u57fa\u7840\u8bbe\u65bd\u5c42\u804c\u8d23\u660e\u786e - \u2705 \u6613\u4e8e\u7ef4\u62a4: \u5206\u5c42\u8bbe\u8ba1\u4f7f\u4ee3\u7801\u7ed3\u6784\u6e05\u6670\uff0c\u4fbf\u4e8e\u7ef4\u62a4\u548c\u6269\u5c55 - \u2705 \u6280\u672f\u6808\u7edf\u4e00: Flutter + Dart \u7edf\u4e00\u6280\u672f\u6808\uff0c\u964d\u4f4e\u5b66\u4e60\u6210\u672c - \u2705 \u5e73\u53f0\u4e00\u81f4\u6027: \u8de8\u5e73\u53f0UI\u548c\u4e1a\u52a1\u903b\u8f91\u4e00\u81f4\u6027</p> <p>\u6027\u80fd\u4e0e\u7a33\u5b9a\u6027 - \u2705 AOT\u7f16\u8bd1: Release\u6a21\u5f0f\u4e0bAOT\u7f16\u8bd1\u4fdd\u8bc1\u8fd0\u884c\u6027\u80fd - \u2705 \u8d44\u6e90\u4f18\u5316: \u6309\u9700\u52a0\u8f7d\u548c\u7f13\u5b58\u673a\u5236\u4f18\u5316\u8d44\u6e90\u4f7f\u7528 - \u2705 \u9519\u8bef\u9694\u79bb: \u6a21\u5757\u95f4\u9519\u8bef\u9694\u79bb\uff0c\u63d0\u5347\u5e94\u7528\u7a33\u5b9a\u6027 - \u2705 \u76d1\u63a7\u5b8c\u5907: \u6027\u80fd\u76d1\u63a7\u3001\u9519\u8bef\u4e0a\u62a5\u3001\u65e5\u5fd7\u7cfb\u7edf\u5b8c\u5907</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#12","title":"1.2 \u4e1a\u52a1\u67b6\u6784\u4f18\u52bf","text":"<p>\u529f\u80fd\u4e30\u5bcc\u5ea6 <pre><code>graph TB\n    OneApp[OneApp\u529f\u80fd]\n\n    subgraph \"\u8f66\u8f86\u670d\u52a1\"\n        A1[\u8fdc\u7a0b\u63a7\u5236]\n        A2[\u72b6\u6001\u76d1\u63a7]\n        A3[\u7ef4\u62a4\u63d0\u9192]\n        A4[\u865a\u62df\u94a5\u5319]\n    end\n\n    subgraph \"\u5145\u7535\u670d\u52a1\"\n        B1[\u5145\u7535\u6869\u67e5\u627e]\n        B2[\u5145\u7535\u9884\u7ea6]\n        B3[\u652f\u4ed8\u7ed3\u7b97]\n        B4[\u5145\u7535\u8bb0\u5f55]\n    end\n\n    subgraph \"\u751f\u6d3b\u670d\u52a1\"\n        C1[\u8ba2\u5355\u7ba1\u7406]\n        C2[\u793e\u533a\u4e92\u52a8]\n        C3[\u4f1a\u5458\u6743\u76ca]\n        C4[\u4e2a\u4eba\u8bbe\u7f6e]\n    end\n\n    subgraph \"\u589e\u503c\u670d\u52a1\"\n        D1[Touch&amp;Go]\n        D2[\u5bb6\u5145\u6869\u7ba1\u7406]\n        D3[\u6c7d\u8f66\u9500\u552e]\n        D4[\u552e\u540e\u670d\u52a1]\n    end\n\n    OneApp --&gt; A1\n    OneApp --&gt; B1\n    OneApp --&gt; C1\n    OneApp --&gt; D1</code></pre></p> <p>\u7528\u6237\u4f53\u9a8c - \ud83c\udfaf \u4e00\u81f4\u6027: \u8de8\u5e73\u53f0UI\u548c\u4ea4\u4e92\u4e00\u81f4\u6027 - \ud83c\udfaf \u6d41\u7545\u6027: 60fps\u6e32\u67d3\u548c\u6d41\u7545\u7684\u52a8\u753b\u6548\u679c - \ud83c\udfaf \u54cd\u5e94\u6027: \u5feb\u901f\u7684\u9875\u9762\u52a0\u8f7d\u548c\u6570\u636e\u54cd\u5e94 - \ud83c\udfaf \u53ef\u7528\u6027: \u79bb\u7ebf\u529f\u80fd\u548c\u7f51\u7edc\u5f02\u5e38\u5904\u7406</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#2_1","title":"2. \u9762\u4e34\u7684\u6311\u6218","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#21_1","title":"2.1 \u6280\u672f\u6311\u6218","text":"<p>\u4f9d\u8d56\u7ba1\u7406\u590d\u6742\u6027 <pre><code># \u5927\u91cf\u7684dependency_overrides\u8868\u660e\u4f9d\u8d56\u7248\u672c\u51b2\u7a81\u95ee\u9898\ndependency_overrides:\n  meta: ^1.9.1\n  collection: ^1.17.1\n  path: ^1.8.3\n  # ... \u66f4\u591a\u7248\u672c\u8986\u76d6\n</code></pre> - \u26a0\ufe0f \u7248\u672c\u51b2\u7a81: \u5927\u91cf<code>dependency_overrides</code>\u5bfc\u81f4\u7248\u672c\u7ba1\u7406\u56f0\u96be - \u26a0\ufe0f \u6784\u5efa\u65f6\u95f4: \u4f17\u591a\u672c\u5730\u4f9d\u8d56\u5bfc\u81f4\u6784\u5efa\u65f6\u95f4\u8f83\u957f - \u26a0\ufe0f \u4f9d\u8d56\u7ef4\u62a4: \u672c\u5730\u8def\u5f84\u4f9d\u8d56\u7684\u7248\u672c\u540c\u6b65\u95ee\u9898 - \u26a0\ufe0f \u6a21\u5757\u7c92\u5ea6: \u90e8\u5206\u6a21\u5757\u7c92\u5ea6\u8fc7\u5c0f\uff0c\u589e\u52a0\u4e86\u7ba1\u7406\u590d\u6742\u5ea6 - \u26a0\ufe0f \u5faa\u73af\u4f9d\u8d56: \u67d0\u4e9b\u6a21\u5757\u95f4\u5b58\u5728\u6f5c\u5728\u7684\u5faa\u73af\u4f9d\u8d56\u98ce\u9669</p>"},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#3_1","title":"3. \u67b6\u6784\u6f14\u8fdb\u65b9\u5411","text":""},{"location":"OneApp%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.html#31_1","title":"3.1 \u77ed\u671f\u4f18\u5316","text":"<p>\u4f9d\u8d56\u6cbb\u7406 <pre><code># \u76ee\u6807\uff1a\u51cf\u5c11dependency_overrides\ndependencies:\n  # \u7edf\u4e00\u57fa\u7840\u4f9d\u8d56\u7248\u672c\n  provider: ^6.1.1\n  rxdart: ^0.27.7\n  dio: ^5.3.2\n</code></pre></p> <p>\u5177\u4f53\u63aa\u65bd - \ud83d\udd27 \u7248\u672c\u7edf\u4e00: \u7edf\u4e00\u5404\u6a21\u5757\u7684\u57fa\u7840\u4f9d\u8d56\u7248\u672c - \ud83d\udd27 \u4f9d\u8d56\u7cbe\u7b80: \u5408\u5e76\u529f\u80fd\u76f8\u4f3c\u7684\u5c0f\u6a21\u5757</p>"},{"location":"_sidebar.html","title":"sidebar","text":"<ul> <li> <p>\ud83d\udcd6 OneApp\u67b6\u6784\u8bbe\u8ba1\u6587\u6863</p> </li> <li> <p>\ud83c\udfe0 \u4e3b\u5e94\u7528\u67b6\u6784</p> </li> <li> <p>\ud83d\udd27 \u8c03\u8bd5\u5de5\u5177</p> </li> <li> <p>\ud83d\udcf1 \u6838\u5fc3\u6a21\u5757</p> </li> <li> <p>\ud83d\udc64 \u8d26\u6237\u6a21\u5757</p> <ul> <li>CLR\u8d26\u6237</li> <li>\u6781\u5149\u8ba4\u8bc1</li> </ul> </li> <li> <p>\ud83d\ude97 \u8f66\u8f86\u76f8\u5173</p> <ul> <li>AI\u804a\u5929\u52a9\u624b</li> <li>\u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d</li> <li>\u9ad8\u5fb7\u5730\u56fe\u641c\u7d22</li> <li>\u865a\u62df\u5f62\u8c61</li> <li>\u8f66\u8f86\u4e3b\u6a21\u5757</li> <li>\u8f66\u8f86\u76d1\u63a7</li> <li>\u5145\u7535\u529f\u80fd</li> <li>\u7f16\u8f91\u5668\u7ec4\u4ef6</li> <li>\u7ef4\u62a4\u4fdd\u517b</li> <li>\u8ba2\u5355\u7ba1\u7406</li> <li>RPA\u81ea\u52a8\u5316</li> <li>TouchGo</li> <li>VUR\u529f\u80fd</li> <li>\u58c1\u76d2\u7ba1\u7406</li> <li>\u8f66\u8f86\u670d\u52a1</li> <li>CLR\u865a\u62df\u5f62\u8c61</li> <li>CLR\u8ba2\u5355</li> <li>CLR TouchGo</li> <li>CLR\u58c1\u76d2</li> <li>RPA\u63d2\u4ef6\u5de5\u5177\u5305</li> <li>OneApp\u7f13\u5b58\u63d2\u4ef6</li> <li>UI\u865a\u62df\u5f62\u8c61X</li> </ul> </li> <li> <p>\ud83d\udee0\ufe0f \u552e\u540e\u670d\u52a1</p> <ul> <li>CLR\u552e\u540e</li> <li>OneApp\u552e\u540e</li> </ul> </li> <li> <p>\ud83c\udfa8 \u57fa\u7840\u8bbe\u65bd</p> </li> <li> <p>\ud83c\udfad \u57fa\u7840UI</p> <ul> <li>\u57fa\u7840UI\u7ec4\u4ef6</li> <li>\u901a\u7528UI\u7ec4\u4ef6</li> <li>UI\u57fa\u7840</li> <li>UI\u4e1a\u52a1\u7ec4\u4ef6</li> </ul> </li> <li> <p>\ud83d\udd27 \u57fa\u7840\u5de5\u5177</p> <ul> <li>MVVM\u57fa\u7840</li> <li>\u57fa\u7840\u914d\u7f6e</li> <li>\u65e5\u5fd7\u7cfb\u7edf</li> <li>\u7f51\u7edc\u5c42</li> <li>\u5e73\u53f0\u5de5\u5177</li> <li>\u63a8\u9001\u670d\u52a1</li> <li>\u57fa\u7840\u5de5\u5177</li> <li>\u4e0b\u8f7d\u5668</li> <li>\u6781\u5149\u63a8\u9001\u79c1\u6709</li> </ul> </li> <li> <p>\ud83c\udfea \u4e1a\u52a1\u529f\u80fd</p> </li> <li> <p>\ud83d\ude99 \u6c7d\u8f66\u9500\u552e</p> </li> <li> <p>\ud83d\udc65 \u793e\u533a\u529f\u80fd</p> </li> <li> <p>\ud83d\udc8e \u4f1a\u5458\u670d\u52a1</p> </li> <li> <p>\ud83e\udde9 \u670d\u52a1\u7ec4\u4ef6</p> </li> <li> <p>\u2699\ufe0f \u8bbe\u7f6e\u6a21\u5757</p> </li> <li> <p>\ud83d\udccd \u89e6\u70b9\u7ba1\u7406</p> </li> </ul> <ul> <li>\ud83d\udd17 \u76f8\u5173\u94fe\u63a5</li> <li>GitHub \u4ed3\u5e93</li> <li>Flutter \u5b98\u65b9\u6587\u6863</li> <li>Dart \u5b98\u65b9\u6587\u6863</li> </ul>"},{"location":"debug_tools.html","title":"Debug Tools - \u8c03\u8bd5\u5de5\u5177\u96c6","text":""},{"location":"debug_tools.html#_1","title":"\u5de5\u5177\u96c6\u6982\u8ff0","text":"<p>Debug Tools \u662f OneApp \u5f00\u53d1\u9636\u6bb5\u4f7f\u7528\u7684\u8c03\u8bd5\u5de5\u5177\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u5168\u9762\u7684\u5f00\u53d1\u8c03\u8bd5\u3001\u6027\u80fd\u76d1\u63a7\u3001\u95ee\u9898\u8bca\u65ad\u7b49\u529f\u80fd\u3002\u8fd9\u4e9b\u5de5\u5177\u4ec5\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u5e2e\u52a9\u5f00\u53d1\u56e2\u961f\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898\u3001\u4f18\u5316\u6027\u80fd\u3001\u76d1\u63a7\u5e94\u7528\u72b6\u6001\u3002</p>"},{"location":"debug_tools.html#_2","title":"\u5de5\u5177\u5217\u8868","text":""},{"location":"debug_tools.html#1_kit_debugtools_v0241","title":"1. kit_debugtools (v0.2.4+1)","text":"<p>\u6838\u5fc3\u8c03\u8bd5\u5de5\u5177\u5305 - \u8c03\u8bd5\u9762\u677f\u7ba1\u7406 - \u5f00\u53d1\u8005\u9009\u9879\u63a7\u5236 - \u8c03\u8bd5\u4fe1\u606f\u5c55\u793a - \u5de5\u5177\u96c6\u6210\u7ba1\u7406</p>"},{"location":"debug_tools.html#2_kit_tool_dio_v024","title":"2. kit_tool_dio (v0.2.4)","text":"<p>\u7f51\u7edc\u8bf7\u6c42\u8c03\u8bd5\u5de5\u5177 - HTTP\u8bf7\u6c42\u62e6\u622a\u548c\u67e5\u770b - \u8bf7\u6c42/\u54cd\u5e94\u65e5\u5fd7\u8bb0\u5f55 - \u7f51\u7edc\u6027\u80fd\u5206\u6790 - API\u8c03\u8bd5\u754c\u9762</p>"},{"location":"debug_tools.html#3_kit_tool_console_v022","title":"3. kit_tool_console (v0.2.2)","text":"<p>\u63a7\u5236\u53f0\u65e5\u5fd7\u5de5\u5177 - \u5b9e\u65f6\u65e5\u5fd7\u67e5\u770b - \u65e5\u5fd7\u7ea7\u522b\u8fc7\u6ee4 - \u65e5\u5fd7\u641c\u7d22\u529f\u80fd - \u65e5\u5fd7\u5bfc\u51fa\u529f\u80fd</p>"},{"location":"debug_tools.html#4_kit_tool_channel_monitor_v022","title":"4. kit_tool_channel_monitor (v0.2.2)","text":"<p>\u539f\u751f\u901a\u9053\u76d1\u63a7\u5de5\u5177 - Flutter\u4e0e\u539f\u751f\u4ee3\u7801\u901a\u4fe1\u76d1\u63a7 - Method Channel\u8c03\u7528\u8ddf\u8e2a - \u53c2\u6570\u548c\u8fd4\u56de\u503c\u67e5\u770b - \u901a\u4fe1\u6027\u80fd\u5206\u6790</p>"},{"location":"debug_tools.html#5_kit_tool_device_info_v022","title":"5. kit_tool_device_info (v0.2.2)","text":"<p>\u8bbe\u5907\u4fe1\u606f\u67e5\u770b\u5de5\u5177 - \u8bbe\u5907\u786c\u4ef6\u4fe1\u606f\u5c55\u793a - \u7cfb\u7edf\u7248\u672c\u4fe1\u606f - \u5e94\u7528\u5b89\u88c5\u4fe1\u606f - \u8fd0\u884c\u73af\u5883\u72b6\u6001</p>"},{"location":"debug_tools.html#6_kit_tool_memory_v023","title":"6. kit_tool_memory (v0.2.3)","text":"<p>\u5185\u5b58\u76d1\u63a7\u5de5\u5177 - \u5b9e\u65f6\u5185\u5b58\u4f7f\u7528\u76d1\u63a7 - \u5185\u5b58\u6cc4\u6f0f\u68c0\u6d4b - \u5783\u573e\u56de\u6536\u5206\u6790 - \u5185\u5b58\u4f7f\u7528\u8d8b\u52bf\u56fe</p>"},{"location":"debug_tools.html#7_kit_tool_ui_v023","title":"7. kit_tool_ui (v0.2.3)","text":"<p>UI\u8c03\u8bd5\u5de5\u5177 - Widget\u6811\u7ed3\u6784\u67e5\u770b - \u5e03\u5c40\u8fb9\u754c\u663e\u793a - \u6027\u80fd\u53e0\u52a0\u5c42 - UI\u6e32\u67d3\u5206\u6790</p>"},{"location":"debug_tools.html#8_kit_tool_show_code_v023","title":"8. kit_tool_show_code (v0.2.3)","text":"<p>\u4ee3\u7801\u67e5\u770b\u5de5\u5177 - \u6e90\u7801\u5feb\u901f\u67e5\u770b - \u4ee3\u7801\u641c\u7d22\u529f\u80fd - \u6587\u4ef6\u7ed3\u6784\u6d4f\u89c8 - \u4ee3\u7801\u7247\u6bb5\u5206\u4eab</p>"},{"location":"debug_tools.html#_3","title":"\u4e3b\u8981\u529f\u80fd","text":""},{"location":"debug_tools.html#_4","title":"\u5f00\u53d1\u8c03\u8bd5","text":"<pre><code>// \u542f\u7528\u8c03\u8bd5\u5de5\u5177\nif (kDebugMode) {\n  DebugTools.init();\n  DebugTools.showDebugPanel();\n}\n\n// \u7f51\u7edc\u8bf7\u6c42\u8c03\u8bd5\nDioDebugTool.enableNetworkMonitoring();\n\n// UI\u8c03\u8bd5\nUIDebugTool.showWidgetInspector();\n</code></pre>"},{"location":"debug_tools.html#_5","title":"\u6027\u80fd\u76d1\u63a7","text":"<pre><code>// \u5185\u5b58\u76d1\u63a7\nMemoryTool.startMonitoring();\n\n// \u6e32\u67d3\u6027\u80fd\nUITool.enablePerformanceOverlay();\n\n// \u901a\u9053\u76d1\u63a7\nChannelMonitor.startMonitoring();\n</code></pre>"},{"location":"debug_tools.html#_6","title":"\u65e5\u5fd7\u7ba1\u7406","text":"<pre><code>// \u67e5\u770b\u63a7\u5236\u53f0\u65e5\u5fd7\nConsoleTool.showLogs();\n\n// \u8fc7\u6ee4\u9519\u8bef\u65e5\u5fd7\nConsoleTool.filterByLevel(LogLevel.error);\n\n// \u5bfc\u51fa\u65e5\u5fd7\u6587\u4ef6\nConsoleTool.exportLogs();\n</code></pre>"},{"location":"debug_tools.html#_7","title":"\u4f7f\u7528\u573a\u666f","text":""},{"location":"debug_tools.html#_8","title":"\u5f00\u53d1\u9636\u6bb5","text":"<ul> <li>\u95ee\u9898\u8bca\u65ad\uff1a\u5feb\u901f\u5b9a\u4f4d\u548c\u5206\u6790\u95ee\u9898</li> <li>\u6027\u80fd\u4f18\u5316\uff1a\u76d1\u63a7\u6027\u80fd\u6307\u6807\uff0c\u8bc6\u522b\u74f6\u9888</li> <li>\u529f\u80fd\u6d4b\u8bd5\uff1a\u9a8c\u8bc1\u65b0\u529f\u80fd\u7684\u6b63\u786e\u6027</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5\uff1a\u6d4b\u8bd5\u4e0d\u540c\u8bbe\u5907\u7684\u517c\u5bb9\u6027</li> </ul>"},{"location":"debug_tools.html#_9","title":"\u6d4b\u8bd5\u9636\u6bb5","text":"<ul> <li>\u56de\u5f52\u6d4b\u8bd5\uff1a\u786e\u4fdd\u65b0\u7248\u672c\u6ca1\u6709\u5f15\u5165\u95ee\u9898</li> <li>\u538b\u529b\u6d4b\u8bd5\uff1a\u76d1\u63a7\u9ad8\u8d1f\u8f7d\u4e0b\u7684\u5e94\u7528\u8868\u73b0</li> <li>\u7528\u6237\u4f53\u9a8c\u6d4b\u8bd5\uff1a\u5206\u6790\u7528\u6237\u4ea4\u4e92\u6d41\u7a0b</li> <li>\u7a33\u5b9a\u6027\u6d4b\u8bd5\uff1a\u957f\u65f6\u95f4\u8fd0\u884c\u76d1\u63a7</li> </ul>"},{"location":"debug_tools.html#_10","title":"\u751f\u4ea7\u524d\u9a8c\u8bc1","text":"<ul> <li>\u6700\u7ec8\u68c0\u67e5\uff1a\u4e0a\u7ebf\u524d\u7684\u6700\u540e\u68c0\u67e5</li> <li>\u6027\u80fd\u57fa\u51c6\uff1a\u5efa\u7acb\u6027\u80fd\u57fa\u51c6\u6570\u636e</li> <li>\u76d1\u63a7\u914d\u7f6e\uff1a\u914d\u7f6e\u751f\u4ea7\u73af\u5883\u76d1\u63a7</li> <li>\u95ee\u9898\u9884\u9632\uff1a\u9884\u9632\u6f5c\u5728\u95ee\u9898</li> </ul>"},{"location":"debug_tools.html#_11","title":"\u96c6\u6210\u65b9\u5f0f","text":""},{"location":"debug_tools.html#_12","title":"\u5f00\u53d1\u4f9d\u8d56\u914d\u7f6e","text":"<pre><code>dev_dependencies:\n  # \u8c03\u8bd5\u5de5\u5177\u96c6\n  kit_debugtools: ^0.2.4+1\n  kit_tool_dio: ^0.2.4\n  kit_tool_console: ^0.2.2\n  kit_tool_channel_monitor: ^0.2.2\n  kit_tool_device_info: ^0.2.2\n  kit_tool_memory: ^0.2.3\n  kit_tool_ui: ^0.2.3\n  kit_tool_show_code: ^0.2.3\n</code></pre>"},{"location":"debug_tools.html#_13","title":"\u521d\u59cb\u5316\u914d\u7f6e","text":"<pre><code>void main() {\n  // \u4ec5\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u542f\u7528\u8c03\u8bd5\u5de5\u5177\n  if (kDebugMode) {\n    _initDebugTools();\n  }\n\n  runApp(MyApp());\n}\n\nvoid _initDebugTools() {\n  // \u521d\u59cb\u5316\u8c03\u8bd5\u5de5\u5177\u5305\n  DebugTools.init(\n    enableNetworkMonitoring: true,\n    enableMemoryMonitoring: true,\n    enableUIDebugging: true,\n    enableConsoleLogging: true,\n  );\n}\n</code></pre>"},{"location":"debug_tools.html#_14","title":"\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"debug_tools.html#_15","title":"\u4f7f\u7528\u9650\u5236","text":"<ul> <li>\u5f00\u53d1\u73af\u5883\u4e13\u7528\uff1a\u4ec5\u5728\u5f00\u53d1\u548c\u6d4b\u8bd5\u73af\u5883\u4f7f\u7528</li> <li>\u6027\u80fd\u5f71\u54cd\uff1a\u8c03\u8bd5\u5de5\u5177\u4f1a\u5f71\u54cd\u5e94\u7528\u6027\u80fd</li> <li>\u5185\u5b58\u5360\u7528\uff1a\u4f1a\u589e\u52a0\u5e94\u7528\u7684\u5185\u5b58\u4f7f\u7528</li> <li>\u5b89\u5168\u8003\u8651\uff1a\u4e0d\u5e94\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5305\u542b</li> </ul>"},{"location":"debug_tools.html#_16","title":"\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u6309\u9700\u542f\u7528\uff1a\u53ea\u542f\u7528\u9700\u8981\u7684\u8c03\u8bd5\u529f\u80fd</li> <li>\u53ca\u65f6\u5173\u95ed\uff1a\u6d4b\u8bd5\u5b8c\u6210\u540e\u53ca\u65f6\u5173\u95ed\u8c03\u8bd5\u5de5\u5177</li> <li>\u7248\u672c\u63a7\u5236\uff1a\u786e\u4fdd\u751f\u4ea7\u7248\u672c\u4e0d\u5305\u542b\u8c03\u8bd5\u4ee3\u7801</li> <li>\u6587\u6863\u8bb0\u5f55\uff1a\u8bb0\u5f55\u8c03\u8bd5\u8fc7\u7a0b\u548c\u53d1\u73b0\u7684\u95ee\u9898</li> </ul>"},{"location":"debug_tools.html#_17","title":"\u5de5\u5177\u7279\u8272","text":""},{"location":"debug_tools.html#_18","title":"\u6613\u7528\u6027","text":"<ul> <li>\u4e00\u952e\u542f\u7528\uff1a\u7b80\u5355\u7684\u914d\u7f6e\u5373\u53ef\u542f\u7528\u6240\u6709\u5de5\u5177</li> <li>\u76f4\u89c2\u754c\u9762\uff1a\u6e05\u6670\u7684\u8c03\u8bd5\u754c\u9762\u548c\u4fe1\u606f\u5c55\u793a</li> <li>\u5feb\u901f\u64cd\u4f5c\uff1a\u5feb\u6377\u952e\u548c\u624b\u52bf\u652f\u6301</li> <li>\u667a\u80fd\u63d0\u793a\uff1a\u81ea\u52a8\u8bc6\u522b\u548c\u63d0\u793a\u6f5c\u5728\u95ee\u9898</li> </ul>"},{"location":"debug_tools.html#_19","title":"\u529f\u80fd\u5b8c\u6574\u6027","text":"<ul> <li>\u5168\u9762\u8986\u76d6\uff1a\u8986\u76d6\u7f51\u7edc\u3001\u5185\u5b58\u3001UI\u3001\u65e5\u5fd7\u7b49\u5404\u4e2a\u65b9\u9762</li> <li>\u6df1\u5ea6\u5206\u6790\uff1a\u63d0\u4f9b\u8be6\u7ec6\u7684\u5206\u6790\u6570\u636e\u548c\u62a5\u544a</li> <li>\u5b9e\u65f6\u76d1\u63a7\uff1a\u5b9e\u65f6\u76d1\u63a7\u5e94\u7528\u8fd0\u884c\u72b6\u6001</li> <li>\u5386\u53f2\u8bb0\u5f55\uff1a\u4fdd\u5b58\u5386\u53f2\u6570\u636e\u4fbf\u4e8e\u5bf9\u6bd4\u5206\u6790</li> </ul>"},{"location":"debug_tools.html#_20","title":"\u6269\u5c55\u6027","text":"<ul> <li>\u63d2\u4ef6\u5316\u8bbe\u8ba1\uff1a\u652f\u6301\u81ea\u5b9a\u4e49\u8c03\u8bd5\u63d2\u4ef6</li> <li>API\u5f00\u653e\uff1a\u63d0\u4f9b\u5f00\u653e\u7684\u8c03\u8bd5API</li> <li>\u914d\u7f6e\u7075\u6d3b\uff1a\u652f\u6301\u7075\u6d3b\u7684\u914d\u7f6e\u9009\u9879</li> <li>\u96c6\u6210\u7b80\u5355\uff1a\u5bb9\u6613\u96c6\u6210\u5230\u73b0\u6709\u9879\u76ee\u4e2d</li> </ul>"},{"location":"debug_tools.html#_21","title":"\u603b\u7ed3","text":"<p>Debug Tools \u8c03\u8bd5\u5de5\u5177\u96c6\u4e3a OneApp \u7684\u5f00\u53d1\u548c\u6d4b\u8bd5\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u652f\u6301\u3002\u901a\u8fc7\u8fd9\u5957\u5b8c\u6574\u7684\u8c03\u8bd5\u5de5\u5177\uff0c\u5f00\u53d1\u56e2\u961f\u80fd\u591f\u66f4\u9ad8\u6548\u5730\u8fdb\u884c\u95ee\u9898\u8bca\u65ad\u3001\u6027\u80fd\u4f18\u5316\u548c\u8d28\u91cf\u4fdd\u8bc1\uff0c\u786e\u4fdd\u5e94\u7528\u7684\u7a33\u5b9a\u6027\u548c\u7528\u6237\u4f53\u9a8c\u3002</p> <p>\u8fd9\u4e9b\u5de5\u5177\u7684\u8bbe\u8ba1\u539f\u5219\u662f\u7b80\u5355\u6613\u7528\u3001\u529f\u80fd\u5168\u9762\u3001\u6027\u80fd\u53cb\u597d\uff0c\u5e2e\u52a9\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5feb\u901f\u5b9a\u4f4d\u95ee\u9898\uff0c\u63d0\u5347\u5f00\u53d1\u6548\u7387\uff0c\u4fdd\u8bc1\u4ee3\u7801\u8d28\u91cf\u3002</p>"},{"location":"main_app.html","title":"OneApp Main \u4e3b\u5e94\u7528\u9879\u76ee\u6587\u6863","text":""},{"location":"main_app.html#_1","title":"\u9879\u76ee\u6982\u8ff0","text":"<p><code>oneapp_main</code> \u662f OneApp \u8f66\u4e3b\u5e94\u7528\u7684\u4e3b\u5165\u53e3\u9879\u76ee\uff0c\u91c7\u7528 Flutter \u6846\u67b6\u5f00\u53d1\uff0c\u57fa\u4e8e\u6a21\u5757\u5316\u67b6\u6784\u8bbe\u8ba1\u3002\u8be5\u9879\u76ee\u4f5c\u4e3a\u5e94\u7528\u7684\u6838\u5fc3\u5bb9\u5668\uff0c\u8d1f\u8d23\u6574\u5408\u5404\u4e2a\u529f\u80fd\u6a21\u5757\u3001\u7ba1\u7406\u5e94\u7528\u751f\u547d\u5468\u671f\u3001\u5904\u7406\u8def\u7531\u5bfc\u822a\u4ee5\u53ca\u63d0\u4f9b\u7edf\u4e00\u7684\u7528\u6237\u754c\u9762\u5165\u53e3\u3002</p>"},{"location":"main_app.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u9879\u76ee\u540d\u79f0: oneapp_main</li> <li>\u7248\u672c: 1.13.0+190915281</li> <li>Flutter \u7248\u672c: &gt;=3.0.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"main_app.html#_3","title":"\u9879\u76ee\u67b6\u6784","text":""},{"location":"main_app.html#_4","title":"\u5e94\u7528\u542f\u52a8\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[main.dart] --&gt; B[_realMain]\n    B --&gt; C[WidgetsFlutterBinding.ensureInitialized]\n    C --&gt; D[_initBasicPartWithoutPrivacy]\n    D --&gt; E[wrapPrivacyCheck]\n    E --&gt; F[_initBasicPartWithPrivacy]\n    F --&gt; G[SystemChrome.setPreferredOrientations]\n    G --&gt; H[runApp - ModularApp]</code></pre>"},{"location":"main_app.html#_5","title":"\u6838\u5fc3\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 main.dart                    # \u5e94\u7528\u542f\u52a8\u5165\u53e3\n\u251c\u2500\u2500 app/                         # \u5e94\u7528\u6838\u5fc3\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 app_module.dart         # \u4e3b\u6a21\u5757\u5b9a\u4e49\u548c\u4f9d\u8d56\u6ce8\u5165\n\u2502   \u251c\u2500\u2500 app_widget.dart         # \u5e94\u7528\u6839\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 app_launch_handler.dart # \u542f\u52a8\u5904\u7406\u5668\n\u2502   \u2514\u2500\u2500 app_privacy_widget.dart # \u9690\u79c1\u653f\u7b56\u7ec4\u4ef6\n\u251c\u2500\u2500 initialize/                 # \u521d\u59cb\u5316\u914d\u7f6e\u6a21\u5757\n\u251c\u2500\u2500 app_home/                   # \u9996\u9875\u529f\u80fd\u6a21\u5757\n\u251c\u2500\u2500 app_discover/               # \u53d1\u73b0\u9875\u529f\u80fd\u6a21\u5757\n\u251c\u2500\u2500 app_test/                   # \u6d4b\u8bd5\u529f\u80fd\u6a21\u5757\n\u251c\u2500\u2500 app_webview/                # WebView \u529f\u80fd\u6a21\u5757\n\u251c\u2500\u2500 business_utils/             # \u4e1a\u52a1\u5de5\u5177\u7c7b\n\u251c\u2500\u2500 constant/                   # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 adapter/                    # \u9002\u914d\u5668\u6a21\u5f0f\u5b9e\u73b0\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u251c\u2500\u2500 theme_resource/             # \u4e3b\u9898\u8d44\u6e90\n\u251c\u2500\u2500 generated/                  # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"main_app.html#_6","title":"\u8be6\u7ec6\u6a21\u5757\u5206\u6790","text":""},{"location":"main_app.html#1_maindart","title":"1. \u5e94\u7528\u5165\u53e3 (<code>main.dart</code>)","text":""},{"location":"main_app.html#_7","title":"\u529f\u80fd\u804c\u8d23","text":"<ul> <li>\u5e94\u7528\u542f\u52a8\u5f15\u5bfc</li> <li>\u57fa\u7840\u670d\u52a1\u521d\u59cb\u5316</li> <li>\u9690\u79c1\u5408\u89c4\u68c0\u67e5</li> <li>\u7cfb\u7edf UI \u914d\u7f6e</li> <li>\u6a21\u5757\u5316\u6846\u67b6\u542f\u52a8</li> </ul>"},{"location":"main_app.html#_8","title":"\u5173\u952e\u4ee3\u7801\u5206\u6790","text":"<pre><code>void main() {\n  _realMain();\n}\n\nFuture&lt;void&gt; _realMain() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await _initBasicPartWithoutPrivacy();\n  await wrapPrivacyCheck(_initBasicPartWithPrivacy);\n  SystemChrome.setPreferredOrientations([DeviceOrientation.portraitUp]);\n  runApp(ModularApp(module: AppModule(), child: const AppWidget()));\n}\n</code></pre>"},{"location":"main_app.html#_9","title":"\u521d\u59cb\u5316\u9636\u6bb5\u5212\u5206","text":"<ol> <li> <p>\u4e0d\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u521d\u59cb\u5316 (<code>_initBasicPartWithoutPrivacy</code>)    - \u6a21\u5757\u72b6\u6001\u7ba1\u7406\u521d\u59cb\u5316    - \u672c\u5730\u5b58\u50a8\u521d\u59cb\u5316    - \u5f00\u53d1\u914d\u7f6e\u5de5\u5177</p> </li> <li> <p>\u4f9d\u8d56\u9690\u79c1\u5408\u89c4\u7684\u521d\u59cb\u5316 (<code>_initBasicPartWithPrivacy</code>)    - \u7f51\u7edc\u670d\u52a1\u521d\u59cb\u5316    - \u7b2c\u4e09\u65b9 SDK \u521d\u59cb\u5316    - \u63a8\u9001\u670d\u52a1\u521d\u59cb\u5316</p> </li> </ol>"},{"location":"main_app.html#2_app","title":"2. \u5e94\u7528\u6838\u5fc3\u914d\u7f6e (<code>app/</code>)","text":""},{"location":"main_app.html#app_moduledart_-","title":"<code>app_module.dart</code> - \u4e3b\u6a21\u5757","text":"<ul> <li>\u529f\u80fd: \u5e94\u7528\u7ea7\u522b\u7684\u4f9d\u8d56\u6ce8\u5165\u548c\u8def\u7531\u914d\u7f6e</li> <li>\u804c\u8d23: </li> <li>\u6ce8\u518c\u5168\u5c40\u670d\u52a1</li> <li>\u914d\u7f6e\u8def\u7531\u8868</li> <li>\u7ba1\u7406\u6a21\u5757\u751f\u547d\u5468\u671f</li> </ul>"},{"location":"main_app.html#app_widgetdart_-","title":"<code>app_widget.dart</code> - \u5e94\u7528\u6839\u7ec4\u4ef6","text":"<ul> <li>\u529f\u80fd: \u5e94\u7528\u6839\u7ea7\u522b\u7684 Widget \u914d\u7f6e</li> <li>\u804c\u8d23:</li> <li>\u4e3b\u9898\u914d\u7f6e</li> <li>\u56fd\u9645\u5316\u914d\u7f6e</li> <li>\u5168\u5c40\u5bfc\u822a\u914d\u7f6e</li> </ul>"},{"location":"main_app.html#app_launch_handlerdart_-","title":"<code>app_launch_handler.dart</code> - \u542f\u52a8\u5904\u7406\u5668","text":"<ul> <li>\u529f\u80fd: \u5904\u7406\u5e94\u7528\u542f\u52a8\u76f8\u5173\u903b\u8f91</li> <li>\u804c\u8d23:</li> <li>\u6df1\u5ea6\u94fe\u63a5\u5904\u7406</li> <li>\u542f\u52a8\u53c2\u6570\u89e3\u6790</li> <li>\u542f\u52a8\u9875\u903b\u8f91</li> </ul>"},{"location":"main_app.html#app_privacy_widgetdart_-","title":"<code>app_privacy_widget.dart</code> - \u9690\u79c1\u653f\u7b56\u7ec4\u4ef6","text":"<ul> <li>\u529f\u80fd: \u9690\u79c1\u653f\u7b56\u548c\u7528\u6237\u534f\u8bae\u5c55\u793a</li> <li>\u804c\u8d23:</li> <li>\u9690\u79c1\u534f\u8bae\u5c55\u793a</li> <li>\u7528\u6237\u540c\u610f\u72b6\u6001\u7ba1\u7406</li> <li>\u5408\u89c4\u6027\u68c0\u67e5</li> </ul>"},{"location":"main_app.html#3_initialize","title":"3. \u521d\u59cb\u5316\u914d\u7f6e\u6a21\u5757 (<code>initialize/</code>)","text":"<p>\u8be5\u76ee\u5f55\u5305\u542b\u5404\u4e2a\u57fa\u7840\u670d\u52a1\u7684\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\uff1a</p>"},{"location":"main_app.html#_10","title":"\u57fa\u7840\u670d\u52a1\u521d\u59cb\u5316","text":"<ul> <li><code>basic_logger.dart</code> - \u65e5\u5fd7\u7cfb\u7edf\u521d\u59cb\u5316</li> <li><code>basic_storage.dart</code> - \u5b58\u50a8\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_network.dart</code> - \u7f51\u7edc\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_theme.dart</code> - \u4e3b\u9898\u7cfb\u7edf\u521d\u59cb\u5316</li> <li><code>basic_modular.dart</code> - \u6a21\u5757\u5316\u6846\u67b6\u521d\u59cb\u5316</li> <li><code>basic_platform.dart</code> - \u5e73\u53f0\u9002\u914d\u521d\u59cb\u5316</li> <li><code>basic_intl.dart</code> - \u56fd\u9645\u5316\u521d\u59cb\u5316</li> <li><code>basic_error.dart</code> - \u9519\u8bef\u5904\u7406\u521d\u59cb\u5316</li> <li><code>basic_webview.dart</code> - WebView \u521d\u59cb\u5316</li> <li><code>basic_share.dart</code> - \u5206\u4eab\u529f\u80fd\u521d\u59cb\u5316</li> <li><code>basic_font.dart</code> - \u5b57\u4f53\u914d\u7f6e\u521d\u59cb\u5316</li> <li><code>basic_resource.dart</code> - \u8d44\u6e90\u7ba1\u7406\u521d\u59cb\u5316</li> </ul>"},{"location":"main_app.html#_11","title":"\u4e1a\u52a1\u670d\u52a1\u521d\u59cb\u5316","text":"<ul> <li><code>basic_avatar.dart</code> - \u865a\u62df\u5f62\u8c61\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_vehicle.dart</code> - \u8f66\u8f86\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_order.dart</code> - \u8ba2\u5355\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_push.dart</code> - \u63a8\u9001\u670d\u52a1\u521d\u59cb\u5316</li> <li><code>basic_ttsshop.dart</code> - TTS \u548c\u8d2d\u7269\u670d\u52a1\u521d\u59cb\u5316</li> </ul>"},{"location":"main_app.html#_12","title":"\u7b2c\u4e09\u65b9\u670d\u52a1\u521d\u59cb\u5316","text":"<ul> <li><code>init_aegis_sdk.dart</code> - \u817e\u8baf Aegis \u76d1\u63a7 SDK</li> <li><code>init_cos_file_sdk.dart</code> - \u817e\u8baf\u4e91\u5bf9\u8c61\u5b58\u50a8 SDK</li> <li><code>init_ingeek_carkey_sdk.dart</code> - \u8f66\u94a5\u5319 SDK</li> <li><code>third_keys.dart</code> - \u7b2c\u4e09\u65b9\u670d\u52a1\u5bc6\u94a5\u914d\u7f6e</li> </ul>"},{"location":"main_app.html#_13","title":"\u529f\u80fd\u521d\u59cb\u5316","text":"<ul> <li><code>init_modules.dart</code> - \u6a21\u5757\u6ce8\u518c\u548c\u52a0\u8f7d</li> <li><code>init_qr_processor.dart</code> - \u4e8c\u7ef4\u7801\u5904\u7406\u5668\u521d\u59cb\u5316</li> <li><code>init_uni_link.dart</code> - \u7edf\u4e00\u94fe\u63a5\u5904\u7406\u521d\u59cb\u5316</li> <li><code>kit_debugtools.dart</code> - \u8c03\u8bd5\u5de5\u5177\u521d\u59cb\u5316</li> <li><code>configs.dart</code> - \u5e94\u7528\u914d\u7f6e\u521d\u59cb\u5316</li> <li><code>basic_environment.dart</code> - \u73af\u5883\u914d\u7f6e\u521d\u59cb\u5316</li> </ul>"},{"location":"main_app.html#4","title":"4. \u529f\u80fd\u9875\u9762\u6a21\u5757","text":""},{"location":"main_app.html#app_home_-","title":"<code>app_home/</code> - \u9996\u9875\u6a21\u5757","text":"<ul> <li>\u529f\u80fd: \u5e94\u7528\u4e3b\u754c\u9762\u548c\u5bfc\u822a\u5165\u53e3</li> <li>\u4e3b\u8981\u6587\u4ef6:</li> <li><code>route_dp.dart</code> - \u9996\u9875\u8def\u7531\u914d\u7f6e</li> <li>\u9996\u9875 UI \u7ec4\u4ef6</li> <li>\u9996\u9875\u4e1a\u52a1\u903b\u8f91</li> </ul>"},{"location":"main_app.html#app_discover_-","title":"<code>app_discover/</code> - \u53d1\u73b0\u9875\u6a21\u5757","text":"<ul> <li>\u529f\u80fd: \u53d1\u73b0\u9875\u9762\u548c\u76f8\u5173\u529f\u80fd</li> <li>\u804c\u8d23: </li> <li>\u5185\u5bb9\u63a8\u8350</li> <li>\u529f\u80fd\u5bfc\u822a</li> <li>\u6d3b\u52a8\u5c55\u793a</li> </ul>"},{"location":"main_app.html#app_test_-","title":"<code>app_test/</code> - \u6d4b\u8bd5\u529f\u80fd\u6a21\u5757","text":"<ul> <li>\u529f\u80fd: \u5f00\u53d1\u6d4b\u8bd5\u76f8\u5173\u529f\u80fd</li> <li>\u7528\u9014: </li> <li>\u529f\u80fd\u6d4b\u8bd5\u5165\u53e3</li> <li>\u8c03\u8bd5\u5de5\u5177</li> <li>\u5f00\u53d1\u8f85\u52a9\u529f\u80fd</li> </ul>"},{"location":"main_app.html#app_webview_-_webview","title":"<code>app_webview/</code> - WebView \u6a21\u5757","text":"<ul> <li>\u529f\u80fd: WebView \u76f8\u5173\u529f\u80fd\u5c01\u88c5</li> <li>\u804c\u8d23:</li> <li>WebView \u5bb9\u5668</li> <li>JavaScript \u6865\u63a5</li> <li>\u7f51\u9875\u4ea4\u4e92\u5904\u7406</li> </ul>"},{"location":"main_app.html#5","title":"5. \u5de5\u5177\u548c\u8d44\u6e90\u6a21\u5757","text":""},{"location":"main_app.html#business_utils_-","title":"<code>business_utils/</code> - \u4e1a\u52a1\u5de5\u5177\u7c7b","text":"<ul> <li>\u529f\u80fd: \u4e1a\u52a1\u76f8\u5173\u7684\u5de5\u5177\u7c7b\u548c\u5e2e\u52a9\u65b9\u6cd5</li> <li>\u5185\u5bb9:</li> <li><code>privacy_check.dart</code> - \u9690\u79c1\u68c0\u67e5\u5de5\u5177</li> <li>\u5176\u4ed6\u4e1a\u52a1\u5de5\u5177\u7c7b</li> </ul>"},{"location":"main_app.html#constant_-","title":"<code>constant/</code> - \u5e38\u91cf\u5b9a\u4e49","text":"<ul> <li>\u529f\u80fd: \u5e94\u7528\u7ea7\u522b\u7684\u5e38\u91cf\u5b9a\u4e49</li> <li>\u5185\u5bb9: </li> <li>API \u5e38\u91cf</li> <li>\u914d\u7f6e\u5e38\u91cf</li> <li>\u4e1a\u52a1\u5e38\u91cf</li> </ul>"},{"location":"main_app.html#adapter_-","title":"<code>adapter/</code> - \u9002\u914d\u5668\u6a21\u5f0f\u5b9e\u73b0","text":"<ul> <li>\u529f\u80fd: \u4e0d\u540c\u670d\u52a1\u95f4\u7684\u9002\u914d\u5668</li> <li>\u7528\u9014: \u89e3\u8026\u4e0d\u540c\u6a21\u5757\u95f4\u7684\u4f9d\u8d56</li> </ul>"},{"location":"main_app.html#theme_resource_-","title":"<code>theme_resource/</code> - \u4e3b\u9898\u8d44\u6e90","text":"<ul> <li>\u529f\u80fd: \u4e3b\u9898\u76f8\u5173\u7684\u8d44\u6e90\u6587\u4ef6</li> <li>\u5185\u5bb9: </li> <li>\u989c\u8272\u5b9a\u4e49</li> <li>\u6837\u5f0f\u914d\u7f6e</li> <li>\u4e3b\u9898\u5207\u6362\u903b\u8f91</li> </ul>"},{"location":"main_app.html#generated_-","title":"<code>generated/</code> - \u4ee3\u7801\u751f\u6210\u6587\u4ef6","text":"<ul> <li>\u529f\u80fd: \u81ea\u52a8\u751f\u6210\u7684\u4ee3\u7801\u6587\u4ef6</li> <li>\u5185\u5bb9: </li> <li>\u56fd\u9645\u5316\u6587\u4ef6</li> <li>JSON \u5e8f\u5217\u5316\u6587\u4ef6</li> <li>\u8def\u7531\u751f\u6210\u6587\u4ef6</li> </ul>"},{"location":"main_app.html#_14","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"main_app.html#_15","title":"\u6838\u5fc3\u4f9d\u8d56\u5206\u7c7b","text":""},{"location":"main_app.html#1_flutter","title":"1. Flutter \u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>flutter</code> - Flutter SDK</li> <li><code>flutter_localizations</code> - \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"main_app.html#2_basic_","title":"2. \u57fa\u7840\u6846\u67b6\u4f9d\u8d56 (<code>basic_*</code>)","text":"<ul> <li><code>basic_network</code> - \u7f51\u7edc\u8bf7\u6c42\u6846\u67b6</li> <li><code>basic_storage</code> - \u672c\u5730\u5b58\u50a8\u6846\u67b6</li> <li><code>basic_modular</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_theme</code> - \u4e3b\u9898\u7ba1\u7406\u6846\u67b6</li> <li><code>basic_intl</code> - \u56fd\u9645\u5316\u6846\u67b6</li> </ul>"},{"location":"main_app.html#3_app_","title":"3. \u5e94\u7528\u529f\u80fd\u4f9d\u8d56 (<code>app_*</code>)","text":"<ul> <li><code>app_order</code> - \u8ba2\u5355\u7ba1\u7406\u6a21\u5757</li> <li><code>app_media</code> - \u5a92\u4f53\u5904\u7406\u6a21\u5757</li> <li><code>app_navigation</code> - \u5bfc\u822a\u529f\u80fd\u6a21\u5757</li> <li><code>app_consent</code> - \u7528\u6237\u540c\u610f\u6a21\u5757</li> </ul>"},{"location":"main_app.html#4_ui_ui_","title":"4. UI \u7ec4\u4ef6\u4f9d\u8d56 (<code>ui_*</code>)","text":"<ul> <li><code>ui_mapview</code> - \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li><code>ui_payment</code> - \u652f\u4ed8\u754c\u9762\u7ec4\u4ef6</li> <li><code>ui_share</code> - \u5206\u4eab\u7ec4\u4ef6</li> </ul>"},{"location":"main_app.html#5_sdk_clr_","title":"5. \u670d\u52a1 SDK \u4f9d\u8d56 (<code>clr_*</code>)","text":"<ul> <li><code>clr_charging</code> - \u5145\u7535\u670d\u52a1 SDK</li> <li><code>clr_payment</code> - \u652f\u4ed8\u670d\u52a1 SDK</li> <li><code>clr_media</code> - \u5a92\u4f53\u670d\u52a1 SDK</li> </ul>"},{"location":"main_app.html#6_car_","title":"6. \u8f66\u8f86\u76f8\u5173\u4f9d\u8d56 (<code>car_*</code>)","text":"<ul> <li><code>car_vehicle</code> - \u8f66\u8f86\u63a7\u5236</li> <li><code>car_connector</code> - \u8f66\u8054\u7f51\u8fde\u63a5</li> <li><code>car_vur</code> - \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55</li> </ul>"},{"location":"main_app.html#7","title":"7. \u7b2c\u4e09\u65b9\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li><code>amap_flutter_location</code> - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d</li> <li><code>provider</code> - \u72b6\u6001\u7ba1\u7406</li> <li><code>rxdart</code> - \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> <li><code>connectivity_plus</code> - \u7f51\u7edc\u72b6\u6001\u68c0\u6d4b</li> </ul>"},{"location":"main_app.html#_16","title":"\u6784\u5efa\u548c\u90e8\u7f72","text":""},{"location":"main_app.html#_17","title":"\u7248\u672c\u7ba1\u7406","text":"<ul> <li>\u7248\u672c\u683c\u5f0f: <code>major.minor.patch+buildNumber</code></li> <li>\u6784\u5efa\u53f7\u89c4\u5219: <code>yywwddhh</code> (\u5e74-\u5468-\u65e5-\u65f6)</li> </ul>"},{"location":"main_app.html#_18","title":"\u6784\u5efa\u914d\u7f6e","text":"<ul> <li>\u542f\u52a8\u5c4f\u914d\u7f6e: <code>flutter_native_splash</code></li> <li>\u5e94\u7528\u56fe\u6807: \u652f\u6301 Android 12 \u9002\u914d</li> <li>\u591a\u73af\u5883\u652f\u6301: \u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7\u73af\u5883</li> </ul>"},{"location":"main_app.html#_19","title":"\u5e73\u53f0\u7279\u6027","text":"<ul> <li>Android: \u652f\u6301 APK/AAB \u683c\u5f0f</li> <li>iOS: \u652f\u6301 TestFlight/App Store \u53d1\u5e03</li> <li>\u6743\u9650\u7ba1\u7406: \u4f4d\u7f6e\u3001\u76f8\u673a\u3001\u5b58\u50a8\u7b49\u6743\u9650</li> </ul>"},{"location":"main_app.html#_20","title":"\u5f00\u53d1\u8c03\u8bd5","text":""},{"location":"main_app.html#debug","title":"\u8c03\u8bd5\u5de5\u5177 (Debug \u6a21\u5f0f)","text":"<ul> <li><code>kit_debugtools</code> - \u8c03\u8bd5\u5de5\u5177\u4e3b\u5165\u53e3</li> <li><code>kit_tool_dio</code> - \u7f51\u7edc\u8bf7\u6c42\u76d1\u63a7</li> <li><code>kit_tool_memory</code> - \u5185\u5b58\u4f7f\u7528\u76d1\u63a7</li> <li><code>kit_tool_ui</code> - UI \u8c03\u8bd5\u5de5\u5177</li> </ul>"},{"location":"main_app.html#_21","title":"\u4ee3\u7801\u751f\u6210\u5de5\u5177","text":"<ul> <li><code>build_runner</code> - \u4ee3\u7801\u751f\u6210\u5f15\u64ce</li> <li><code>json_serializable</code> - JSON \u5e8f\u5217\u5316</li> <li><code>freezed</code> - \u4e0d\u53ef\u53d8\u7c7b\u751f\u6210</li> </ul>"},{"location":"main_app.html#_22","title":"\u603b\u7ed3","text":"<p><code>oneapp_main</code> \u4f5c\u4e3a OneApp \u7684\u4e3b\u5165\u53e3\u9879\u76ee\uff0c\u91c7\u7528\u4e86\u6e05\u6670\u7684\u5206\u5c42\u67b6\u6784\u548c\u6a21\u5757\u5316\u8bbe\u8ba1\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u521d\u59cb\u5316\u6d41\u7a0b\u3001\u5b8c\u5584\u7684\u4f9d\u8d56\u7ba1\u7406\u548c\u7075\u6d3b\u7684\u914d\u7f6e\u7cfb\u7edf\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u4e86\u7a33\u5b9a\u7684\u57fa\u7840\u6846\u67b6\u3002\u9879\u76ee\u7ed3\u6784\u6e05\u6670\uff0c\u804c\u8d23\u5206\u660e\uff0c\u4fbf\u4e8e\u56e2\u961f\u534f\u4f5c\u5f00\u53d1\u548c\u957f\u671f\u7ef4\u62a4\u3002</p>"},{"location":"account/index.html","title":"OneApp Account \u8d26\u6237\u6a21\u5757\u6587\u6863","text":""},{"location":"account/index.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_account</code> \u662f OneApp \u7684\u7528\u6237\u8d26\u6237\u7ba1\u7406\u6a21\u5757\uff0c\u8d1f\u8d23\u7528\u6237\u8ba4\u8bc1\u3001\u767b\u5f55\u3001\u6ce8\u518c\u3001\u6743\u9650\u7ba1\u7406\u7b49\u6838\u5fc3\u529f\u80fd\u3002\u8be5\u6a21\u5757\u5305\u542b\u4e24\u4e2a\u4e3b\u8981\u5b50\u6a21\u5757\uff1a</p> <ul> <li>clr_account: \u8d26\u6237\u670d\u52a1 SDK\uff0c\u63d0\u4f9b\u8d26\u6237\u76f8\u5173\u7684\u6838\u5fc3\u670d\u52a1\u63a5\u53e3</li> <li>jverify: \u6781\u9a8c\u9a8c\u8bc1 Flutter \u63d2\u4ef6\uff0c\u63d0\u4f9b\u5b89\u5168\u9a8c\u8bc1\u529f\u80fd</li> </ul>"},{"location":"account/index.html#_2","title":"\u6a21\u5757\u7ed3\u6784","text":"<pre><code>oneapp_account/\n\u251c\u2500\u2500 lib/                        # Flutter \u4e3b\u8981\u4ee3\u7801\n\u251c\u2500\u2500 clr_account/               # \u8d26\u6237\u670d\u52a1 SDK \u5b50\u6a21\u5757\n\u251c\u2500\u2500 jverify/                   # \u6781\u9a8c\u9a8c\u8bc1\u63d2\u4ef6\u5b50\u6a21\u5757\n\u251c\u2500\u2500 assets/                    # \u8d44\u6e90\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 icons/                # \u56fe\u6807\u8d44\u6e90\n\u2502   \u2514\u2500\u2500 images/               # \u56fe\u7247\u8d44\u6e90\n\u251c\u2500\u2500 pubspec.yaml              # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                 # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"account/index.html#_3","title":"\u5b50\u6a21\u5757\u6587\u6863","text":"<ul> <li>CLR Account \u8d26\u6237\u670d\u52a1 SDK</li> <li>JVerify \u6781\u9a8c\u9a8c\u8bc1\u63d2\u4ef6</li> </ul>"},{"location":"account/index.html#_4","title":"\u4e3b\u8981\u529f\u80fd","text":""},{"location":"account/index.html#_5","title":"\u8d26\u6237\u7ba1\u7406","text":"<ul> <li>\u7528\u6237\u6ce8\u518c</li> <li>\u7528\u6237\u767b\u5f55/\u767b\u51fa</li> <li>\u5bc6\u7801\u7ba1\u7406</li> <li>\u4e2a\u4eba\u4fe1\u606f\u7ba1\u7406</li> <li>\u8d26\u6237\u5b89\u5168\u8bbe\u7f6e</li> </ul>"},{"location":"account/index.html#_6","title":"\u8ba4\u8bc1\u670d\u52a1","text":"<ul> <li>\u624b\u673a\u53f7\u9a8c\u8bc1</li> <li>\u90ae\u7bb1\u9a8c\u8bc1</li> <li>\u8eab\u4efd\u8ba4\u8bc1</li> <li>\u6743\u9650\u9a8c\u8bc1</li> </ul>"},{"location":"account/index.html#_7","title":"\u5b89\u5168\u9a8c\u8bc1","text":"<ul> <li>\u6781\u9a8c\u9a8c\u8bc1\u96c6\u6210</li> <li>\u9a8c\u8bc1\u7801\u670d\u52a1</li> <li>\u5b89\u5168\u68c0\u67e5</li> </ul>"},{"location":"account/index.html#_8","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"account/index.html#_9","title":"\u72b6\u6001\u7ba1\u7406","text":"<ul> <li>\u57fa\u4e8e Provider \u7684\u72b6\u6001\u7ba1\u7406</li> <li>\u7528\u6237\u767b\u5f55\u72b6\u6001\u6301\u4e45\u5316</li> <li>\u8d26\u6237\u4fe1\u606f\u7f13\u5b58</li> </ul>"},{"location":"account/index.html#_10","title":"\u7f51\u7edc\u670d\u52a1","text":"<ul> <li>\u57fa\u4e8e basic_network \u7684\u7f51\u7edc\u8bf7\u6c42</li> <li>\u8d26\u6237\u76f8\u5173 API \u63a5\u53e3\u5c01\u88c5</li> <li>\u9519\u8bef\u5904\u7406\u548c\u91cd\u8bd5\u673a\u5236</li> </ul>"},{"location":"account/index.html#_11","title":"\u6570\u636e\u5b58\u50a8","text":"<ul> <li>\u7528\u6237\u4fe1\u606f\u672c\u5730\u5b58\u50a8</li> <li>\u767b\u5f55\u51ed\u8bc1\u5b89\u5168\u5b58\u50a8</li> <li>\u504f\u597d\u8bbe\u7f6e\u6301\u4e45\u5316</li> </ul>"},{"location":"account/index.html#_12","title":"\u4f9d\u8d56\u5173\u7cfb","text":"<p>\u8be5\u6a21\u5757\u88ab <code>oneapp_main</code> \u9879\u76ee\u4f9d\u8d56\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u7528\u6237\u8d26\u6237\u76f8\u5173\u7684\u57fa\u7840\u670d\u52a1\u3002</p>"},{"location":"account/index.html#_13","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"account/index.html#_14","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Flutter &gt;=3.0.0</li> <li>Dart &gt;=3.0.0</li> </ul>"},{"location":"account/index.html#_15","title":"\u96c6\u6210\u4f7f\u7528","text":"<p>\u8be6\u7ec6\u7684\u96c6\u6210\u4f7f\u7528\u65b9\u6cd5\u8bf7\u53c2\u8003\u5404\u5b50\u6a21\u5757\u7684\u5177\u4f53\u6587\u6863\u3002</p>"},{"location":"account/clr_account.html","title":"CLR Account \u8d26\u6237\u670d\u52a1 SDK \u6587\u6863","text":""},{"location":"account/clr_account.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_account</code> \u662f OneApp \u8d26\u6237\u7cfb\u7edf\u7684\u6838\u5fc3 SDK\uff0c\u63d0\u4f9b\u7528\u6237\u8ba4\u8bc1\u3001\u767b\u5f55\u3001\u6ce8\u518c\u3001\u6743\u9650\u7ba1\u7406\u7b49\u57fa\u7840\u670d\u52a1\u3002\u8be5\u6a21\u5757\u91c7\u7528\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1\uff08DDD\uff09\u67b6\u6784\uff0c\u63d0\u4f9b\u6e05\u6670\u7684\u63a5\u53e3\u62bd\u8c61\u548c\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5\u3002</p>"},{"location":"account/clr_account.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: clr_account</li> <li>\u7248\u672c: 0.2.24</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-clr-account</li> </ul>"},{"location":"account/clr_account.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>clr_account/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 account.dart              # \u4e3b\u8981\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 account_event.dart        # \u8d26\u6237\u4e8b\u4ef6\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 third_account.dart        # \u7b2c\u4e09\u65b9\u8d26\u6237\u96c6\u6210\n\u2502   \u251c\u2500\u2500 generated/                # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 l10n/                     # \u56fd\u9645\u5316\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 data/                 # \u6570\u636e\u5c42\n\u2502       \u251c\u2500\u2500 domain/               # \u9886\u57df\u5c42\n\u2502       \u251c\u2500\u2500 presentation/         # \u8868\u793a\u5c42\n\u2502       \u2514\u2500\u2500 infrastructure/       # \u57fa\u7840\u8bbe\u65bd\u5c42\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"account/clr_account.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"account/clr_account.html#1_authentication","title":"1. \u8d26\u6237\u8ba4\u8bc1 (Authentication)","text":""},{"location":"account/clr_account.html#_5","title":"\u529f\u80fd\u6982\u8ff0","text":"<ul> <li>\u7528\u6237\u767b\u5f55/\u767b\u51fa</li> <li>\u5bc6\u7801\u8ba4\u8bc1</li> <li>\u751f\u7269\u8bc6\u522b\u8ba4\u8bc1</li> <li>\u591a\u56e0\u7d20\u8ba4\u8bc1</li> </ul>"},{"location":"account/clr_account.html#_6","title":"\u4e3b\u8981\u63a5\u53e3","text":"<pre><code>abstract class AuthenticationService {\n  Future&lt;Result&lt;User&gt;&gt; login(String username, String password);\n  Future&lt;Result&lt;void&gt;&gt; logout();\n  Future&lt;Result&lt;bool&gt;&gt; isLoggedIn();\n  Future&lt;Result&lt;User&gt;&gt; getCurrentUser();\n}\n</code></pre>"},{"location":"account/clr_account.html#2_registration","title":"2. \u7528\u6237\u6ce8\u518c (Registration)","text":""},{"location":"account/clr_account.html#_7","title":"\u529f\u80fd\u6982\u8ff0","text":"<ul> <li>\u65b0\u7528\u6237\u6ce8\u518c</li> <li>\u624b\u673a\u53f7\u9a8c\u8bc1</li> <li>\u90ae\u7bb1\u9a8c\u8bc1</li> <li>\u7528\u6237\u4fe1\u606f\u6536\u96c6</li> </ul>"},{"location":"account/clr_account.html#_8","title":"\u4e3b\u8981\u63a5\u53e3","text":"<pre><code>abstract class RegistrationService {\n  Future&lt;Result&lt;void&gt;&gt; register(UserRegistrationData data);\n  Future&lt;Result&lt;void&gt;&gt; verifyPhone(String phone, String code);\n  Future&lt;Result&lt;void&gt;&gt; verifyEmail(String email, String code);\n}\n</code></pre>"},{"location":"account/clr_account.html#3_profile","title":"3. \u7528\u6237\u4fe1\u606f\u7ba1\u7406 (Profile)","text":""},{"location":"account/clr_account.html#_9","title":"\u529f\u80fd\u6982\u8ff0","text":"<ul> <li>\u4e2a\u4eba\u4fe1\u606f\u67e5\u770b\u548c\u7f16\u8f91</li> <li>\u5934\u50cf\u7ba1\u7406</li> <li>\u504f\u597d\u8bbe\u7f6e</li> <li>\u9690\u79c1\u8bbe\u7f6e</li> </ul>"},{"location":"account/clr_account.html#_10","title":"\u4e3b\u8981\u63a5\u53e3","text":"<pre><code>abstract class ProfileService {\n  Future&lt;Result&lt;UserProfile&gt;&gt; getProfile();\n  Future&lt;Result&lt;void&gt;&gt; updateProfile(UserProfile profile);\n  Future&lt;Result&lt;void&gt;&gt; uploadAvatar(File image);\n}\n</code></pre>"},{"location":"account/clr_account.html#4_authorization","title":"4. \u6743\u9650\u7ba1\u7406 (Authorization)","text":""},{"location":"account/clr_account.html#_11","title":"\u529f\u80fd\u6982\u8ff0","text":"<ul> <li>\u89d2\u8272\u6743\u9650\u7ba1\u7406</li> <li>\u529f\u80fd\u6743\u9650\u63a7\u5236</li> <li>\u8d44\u6e90\u8bbf\u95ee\u63a7\u5236</li> </ul>"},{"location":"account/clr_account.html#_12","title":"\u4e3b\u8981\u63a5\u53e3","text":"<pre><code>abstract class AuthorizationService {\n  Future&lt;Result&lt;bool&gt;&gt; hasPermission(String permission);\n  Future&lt;Result&lt;List&lt;String&gt;&gt;&gt; getUserRoles();\n  Future&lt;Result&lt;bool&gt;&gt; canAccessResource(String resource);\n}\n</code></pre>"},{"location":"account/clr_account.html#_13","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"account/clr_account.html#_14","title":"\u5206\u5c42\u67b6\u6784","text":""},{"location":"account/clr_account.html#1_presentation_layer","title":"1. \u8868\u793a\u5c42 (Presentation Layer)","text":"<ul> <li>\u529f\u80fd: \u7528\u6237\u754c\u9762\u76f8\u5173\u7684\u72b6\u6001\u7ba1\u7406\u548c\u4e8b\u4ef6\u5904\u7406</li> <li>\u7ec4\u4ef6: </li> <li>Widget \u7ec4\u4ef6</li> <li>State \u7ba1\u7406</li> <li>Event \u5904\u7406\u5668</li> </ul>"},{"location":"account/clr_account.html#2_domain_layer","title":"2. \u9886\u57df\u5c42 (Domain Layer)","text":"<ul> <li>\u529f\u80fd: \u4e1a\u52a1\u903b\u8f91\u548c\u4e1a\u52a1\u89c4\u5219</li> <li>\u7ec4\u4ef6:</li> <li>Entity \u5b9e\u4f53</li> <li>Value Object \u503c\u5bf9\u8c61</li> <li>Domain Service \u9886\u57df\u670d\u52a1</li> <li>Repository \u63a5\u53e3</li> </ul>"},{"location":"account/clr_account.html#3_data_layer","title":"3. \u6570\u636e\u5c42 (Data Layer)","text":"<ul> <li>\u529f\u80fd: \u6570\u636e\u8bbf\u95ee\u548c\u5b58\u50a8</li> <li>\u7ec4\u4ef6:</li> <li>Repository \u5b9e\u73b0</li> <li>Data Source \u6570\u636e\u6e90</li> <li>Model \u6570\u636e\u6a21\u578b</li> </ul>"},{"location":"account/clr_account.html#4_infrastructure_layer","title":"4. \u57fa\u7840\u8bbe\u65bd\u5c42 (Infrastructure Layer)","text":"<ul> <li>\u529f\u80fd: \u5916\u90e8\u670d\u52a1\u96c6\u6210</li> <li>\u7ec4\u4ef6:</li> <li>\u7f51\u7edc\u670d\u52a1</li> <li>\u5b58\u50a8\u670d\u52a1</li> <li>\u7b2c\u4e09\u65b9 SDK \u96c6\u6210</li> </ul>"},{"location":"account/clr_account.html#_15","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"account/clr_account.html#_16","title":"\u4e8b\u4ef6\u9a71\u52a8\u67b6\u6784","text":"<ul> <li>\u4f7f\u7528 <code>account_event.dart</code> \u5b9a\u4e49\u8d26\u6237\u76f8\u5173\u4e8b\u4ef6</li> <li>\u4e8b\u4ef6\u603b\u7ebf\u673a\u5236\u5904\u7406\u6a21\u5757\u95f4\u901a\u4fe1</li> <li>\u72b6\u6001\u53d8\u66f4\u901a\u77e5\u673a\u5236</li> </ul> <pre><code>// \u8d26\u6237\u4e8b\u4ef6\u5b9a\u4e49\u793a\u4f8b\nabstract class AccountEvent {\n  const AccountEvent();\n}\n\nclass LoginSuccessEvent extends AccountEvent {\n  final User user;\n  const LoginSuccessEvent(this.user);\n}\n\nclass LogoutEvent extends AccountEvent {\n  const LogoutEvent();\n}\n</code></pre>"},{"location":"account/clr_account.html#_17","title":"\u6570\u636e\u6301\u4e45\u5316","text":""},{"location":"account/clr_account.html#_18","title":"\u672c\u5730\u5b58\u50a8","text":"<ul> <li>\u57fa\u4e8e <code>basic_storage</code> \u7684\u7edf\u4e00\u5b58\u50a8\u63a5\u53e3</li> <li>\u7528\u6237\u4fe1\u606f\u5b89\u5168\u5b58\u50a8</li> <li>\u767b\u5f55\u51ed\u8bc1\u52a0\u5bc6\u5b58\u50a8</li> </ul>"},{"location":"account/clr_account.html#_19","title":"\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u7528\u6237\u4fe1\u606f\u5185\u5b58\u7f13\u5b58</li> <li>\u6743\u9650\u4fe1\u606f\u7f13\u5b58</li> <li>\u7f51\u7edc\u8bf7\u6c42\u7f13\u5b58</li> </ul>"},{"location":"account/clr_account.html#_20","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"account/clr_account.html#_21","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_modular</code>: \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_error</code>: \u9519\u8bef\u5904\u7406</li> <li><code>basic_consent</code>: \u7528\u6237\u540c\u610f\u7ba1\u7406</li> </ul>"},{"location":"account/clr_account.html#_22","title":"\u7b2c\u4e09\u65b9\u96c6\u6210","text":"<ul> <li><code>fluwx</code>: \u5fae\u4fe1 SDK \u96c6\u6210</li> <li><code>dartz</code>: \u51fd\u6570\u5f0f\u7f16\u7a0b\u652f\u6301</li> <li><code>freezed_annotation</code>: \u4e0d\u53ef\u53d8\u7c7b\u751f\u6210</li> </ul>"},{"location":"account/clr_account.html#_23","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>clr_setting</code>: \u8bbe\u7f6e\u670d\u52a1</li> <li><code>basic_track</code>: \u57cb\u70b9\u8ffd\u8e2a</li> <li><code>basic_webview</code>: WebView \u670d\u52a1</li> </ul>"},{"location":"account/clr_account.html#api","title":"API \u63a5\u53e3\u8bbe\u8ba1","text":""},{"location":"account/clr_account.html#_24","title":"\u8ba4\u8bc1\u63a5\u53e3","text":"<pre><code>// \u767b\u5f55\nPOST /api/v1/auth/login\n{\n  \"username\": \"string\",\n  \"password\": \"string\",\n  \"deviceId\": \"string\"\n}\n\n// \u767b\u51fa\nPOST /api/v1/auth/logout\n{\n  \"token\": \"string\"\n}\n\n// \u5237\u65b0\u4ee4\u724c\nPOST /api/v1/auth/refresh\n{\n  \"refreshToken\": \"string\"\n}\n</code></pre>"},{"location":"account/clr_account.html#_25","title":"\u7528\u6237\u4fe1\u606f\u63a5\u53e3","text":"<pre><code>// \u83b7\u53d6\u7528\u6237\u4fe1\u606f\nGET /api/v1/user/profile\n\n// \u66f4\u65b0\u7528\u6237\u4fe1\u606f\nPUT /api/v1/user/profile\n{\n  \"nickname\": \"string\",\n  \"avatar\": \"string\",\n  \"birthday\": \"string\"\n}\n</code></pre>"},{"location":"account/clr_account.html#_26","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"account/clr_account.html#_27","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u5bc6\u7801\u54c8\u5e0c\u5b58\u50a8</li> <li>\u654f\u611f\u4fe1\u606f\u52a0\u5bc6</li> <li>\u901a\u4fe1 HTTPS \u52a0\u5bc6</li> </ul>"},{"location":"account/clr_account.html#_28","title":"\u8ba4\u8bc1\u5b89\u5168","text":"<ul> <li>JWT \u4ee4\u724c\u673a\u5236</li> <li>\u4ee4\u724c\u8fc7\u671f\u673a\u5236</li> <li>\u8bbe\u5907\u7ed1\u5b9a\u9a8c\u8bc1</li> </ul>"},{"location":"account/clr_account.html#_29","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u7528\u6237\u540c\u610f\u7ba1\u7406</li> <li>\u6570\u636e\u6700\u5c0f\u5316\u6536\u96c6</li> <li>\u9690\u79c1\u8bbe\u7f6e\u652f\u6301</li> </ul>"},{"location":"account/clr_account.html#_30","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"account/clr_account.html#_31","title":"\u9519\u8bef\u5206\u7c7b","text":"<ul> <li>\u7f51\u7edc\u9519\u8bef</li> <li>\u8ba4\u8bc1\u9519\u8bef</li> <li>\u4e1a\u52a1\u903b\u8f91\u9519\u8bef</li> <li>\u7cfb\u7edf\u9519\u8bef</li> </ul>"},{"location":"account/clr_account.html#_32","title":"\u9519\u8bef\u5904\u7406\u7b56\u7565","text":"<pre><code>sealed class AccountError {\n  const AccountError();\n}\n\nclass NetworkError extends AccountError {\n  final String message;\n  const NetworkError(this.message);\n}\n\nclass AuthenticationError extends AccountError {\n  final String reason;\n  const AuthenticationError(this.reason);\n}\n\nclass ValidationError extends AccountError {\n  final Map&lt;String, String&gt; fieldErrors;\n  const ValidationError(this.fieldErrors);\n}\n</code></pre>"},{"location":"account/clr_account.html#_33","title":"\u56fd\u9645\u5316\u652f\u6301","text":""},{"location":"account/clr_account.html#_34","title":"\u652f\u6301\u8bed\u8a00","text":"<ul> <li>\u4e2d\u6587\uff08\u7b80\u4f53\uff09</li> <li>\u82f1\u6587</li> <li>\u5176\u4ed6\u5730\u533a\u8bed\u8a00\u6269\u5c55</li> </ul>"},{"location":"account/clr_account.html#_35","title":"\u914d\u7f6e\u65b9\u5f0f","text":"<ul> <li>\u57fa\u4e8e <code>basic_intl</code> \u7684\u56fd\u9645\u5316\u6846\u67b6</li> <li>\u52a8\u6001\u8bed\u8a00\u5207\u6362</li> <li>\u6587\u672c\u8d44\u6e90\u7ba1\u7406</li> </ul>"},{"location":"account/clr_account.html#_36","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"account/clr_account.html#_37","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u9886\u57df\u903b\u8f91\u6d4b\u8bd5</li> <li>\u670d\u52a1\u63a5\u53e3\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5</li> </ul>"},{"location":"account/clr_account.html#_38","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>API \u63a5\u53e3\u6d4b\u8bd5</li> <li>\u6570\u636e\u5b58\u50a8\u6d4b\u8bd5</li> <li>\u7b2c\u4e09\u65b9\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5</li> </ul>"},{"location":"account/clr_account.html#ui","title":"UI \u6d4b\u8bd5","text":"<ul> <li>\u767b\u5f55\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u6ce8\u518c\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u7528\u6237\u4fe1\u606f\u7ba1\u7406\u6d4b\u8bd5</li> </ul>"},{"location":"account/clr_account.html#_39","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"account/clr_account.html#_40","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8bf7\u6c42\u7f13\u5b58</li> <li>\u6279\u91cf\u8bf7\u6c42</li> <li>\u7f51\u7edc\u91cd\u8bd5\u673a\u5236</li> </ul>"},{"location":"account/clr_account.html#_41","title":"\u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u5bf9\u8c61\u6c60\u7ba1\u7406</li> <li>\u56fe\u7247\u7f13\u5b58\u4f18\u5316</li> <li>\u5185\u5b58\u6cc4\u6f0f\u9632\u62a4</li> </ul>"},{"location":"account/clr_account.html#_42","title":"\u542f\u52a8\u4f18\u5316","text":"<ul> <li>\u61d2\u52a0\u8f7d\u673a\u5236</li> <li>\u9884\u52a0\u8f7d\u7b56\u7565</li> <li>\u51b7\u542f\u52a8\u4f18\u5316</li> </ul>"},{"location":"account/clr_account.html#_43","title":"\u76d1\u63a7\u4e0e\u7edf\u8ba1","text":""},{"location":"account/clr_account.html#_44","title":"\u7528\u6237\u884c\u4e3a\u7edf\u8ba1","text":"<ul> <li>\u767b\u5f55\u6210\u529f\u7387</li> <li>\u6ce8\u518c\u8f6c\u5316\u7387</li> <li>\u529f\u80fd\u4f7f\u7528\u7edf\u8ba1</li> </ul>"},{"location":"account/clr_account.html#_45","title":"\u6027\u80fd\u76d1\u63a7","text":"<ul> <li>\u63a5\u53e3\u54cd\u5e94\u65f6\u95f4</li> <li>\u9519\u8bef\u7387\u7edf\u8ba1</li> <li>\u5d29\u6e83\u7387\u76d1\u63a7</li> </ul>"},{"location":"account/clr_account.html#_46","title":"\u4e1a\u52a1\u6307\u6807","text":"<ul> <li>\u6d3b\u8dc3\u7528\u6237\u6570</li> <li>\u7528\u6237\u7559\u5b58\u7387</li> <li>\u529f\u80fd\u4f7f\u7528\u9891\u6b21</li> </ul>"},{"location":"account/clr_account.html#_47","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"account/clr_account.html#_48","title":"\u73af\u5883\u642d\u5efa","text":"<ol> <li>\u5b89\u88c5 Flutter SDK &gt;=2.10.5</li> <li>\u914d\u7f6e\u4f9d\u8d56\u9879\u76ee\u8def\u5f84</li> <li>\u8fd0\u884c <code>flutter pub get</code></li> </ol>"},{"location":"account/clr_account.html#_49","title":"\u4ee3\u7801\u89c4\u8303","text":"<ul> <li>\u9075\u5faa Dart \u7f16\u7801\u89c4\u8303</li> <li>\u4f7f\u7528 <code>analysis_options.yaml</code> \u9759\u6001\u5206\u6790</li> <li>\u63d0\u4ea4\u524d\u4ee3\u7801\u683c\u5f0f\u5316</li> </ul>"},{"location":"account/clr_account.html#_50","title":"\u8c03\u8bd5\u6280\u5de7","text":"<ul> <li>\u4f7f\u7528 <code>basic_logger</code> \u8bb0\u5f55\u65e5\u5fd7</li> <li>\u7f51\u7edc\u8bf7\u6c42\u8c03\u8bd5</li> <li>\u72b6\u6001\u53d8\u66f4\u8ffd\u8e2a</li> </ul>"},{"location":"account/clr_account.html#_51","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"account/clr_account.html#v0224","title":"v0.2.24 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u652f\u6301\u5fae\u4fe1\u767b\u5f55\u96c6\u6210</li> <li>\u4f18\u5316\u7528\u6237\u4fe1\u606f\u7f13\u5b58\u673a\u5236</li> <li>\u589e\u5f3a\u5b89\u5168\u8ba4\u8bc1\u6d41\u7a0b</li> </ul>"},{"location":"account/clr_account.html#_52","title":"\u540e\u7eed\u89c4\u5212","text":"<ul> <li>\u652f\u6301\u66f4\u591a\u7b2c\u4e09\u65b9\u767b\u5f55</li> <li>\u589e\u5f3a\u751f\u7269\u8bc6\u522b\u8ba4\u8bc1</li> <li>\u4f18\u5316\u6027\u80fd\u548c\u7528\u6237\u4f53\u9a8c</li> </ul>"},{"location":"account/clr_account.html#_53","title":"\u603b\u7ed3","text":"<p><code>clr_account</code> \u4f5c\u4e3a OneApp \u7684\u8d26\u6237\u6838\u5fc3 SDK\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u7528\u6237\u8ba4\u8bc1\u548c\u7ba1\u7406\u529f\u80fd\u3002\u6a21\u5757\u91c7\u7528\u6e05\u6670\u7684\u5206\u5c42\u67b6\u6784\uff0c\u5177\u6709\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u7684\u7528\u6237\u4f53\u7cfb\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002</p>"},{"location":"account/jverify.html","title":"JVerify \u6781\u9a8c\u9a8c\u8bc1\u63d2\u4ef6\u6587\u6863","text":""},{"location":"account/jverify.html#_1","title":"\u63d2\u4ef6\u6982\u8ff0","text":"<p><code>jverify</code> \u662f OneApp \u96c6\u6210\u7684\u6781\u9a8c\u9a8c\u8bc1 Flutter \u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e00\u952e\u767b\u5f55\u3001\u77ed\u4fe1\u9a8c\u8bc1\u7b49\u5b89\u5168\u8ba4\u8bc1\u529f\u80fd\u3002\u8be5\u63d2\u4ef6\u5c01\u88c5\u4e86\u6781\u9a8c\u9a8c\u8bc1\u7684 Android \u548c iOS SDK\uff0c\u4e3a Flutter \u5e94\u7528\u63d0\u4f9b\u7edf\u4e00\u7684\u9a8c\u8bc1\u63a5\u53e3\u3002</p>"},{"location":"account/jverify.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u63d2\u4ef6\u540d\u79f0: jverify</li> <li>\u7c7b\u578b: Flutter Plugin</li> <li>\u5e73\u53f0\u652f\u6301: Android, iOS</li> <li>\u529f\u80fd: \u4e00\u952e\u767b\u5f55\u3001\u77ed\u4fe1\u9a8c\u8bc1\u3001SDK \u521d\u59cb\u5316</li> </ul>"},{"location":"account/jverify.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>jverify/\n\u251c\u2500\u2500 lib/\n\u2502   \u2514\u2500\u2500 jverify.dart              # Flutter \u63a5\u53e3\u5c42\n\u251c\u2500\u2500 android/                      # Android \u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 src/main/\n\u2502   \u2502   \u251c\u2500\u2500 AndroidManifest.xml  # Android \u6e05\u5355\u6587\u4ef6\n\u2502   \u2502   \u251c\u2500\u2500 java/                 # Java/Kotlin \u6e90\u7801\n\u2502   \u2502   \u2514\u2500\u2500 libs/                 # \u7b2c\u4e09\u65b9\u5e93\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 build.gradle             # Android \u6784\u5efa\u914d\u7f6e\n\u251c\u2500\u2500 ios/                          # iOS \u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 Classes/                  # Objective-C/Swift \u6e90\u7801\n\u2502   \u251c\u2500\u2500 Assets/                   # iOS \u8d44\u6e90\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 jverify.podspec          # CocoaPods \u914d\u7f6e\n\u251c\u2500\u2500 documents/                    # \u6587\u6863\u76ee\u5f55\n\u251c\u2500\u2500 pubspec.yaml                  # Flutter \u63d2\u4ef6\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"account/jverify.html#flutter_libjverifydart","title":"Flutter \u63a5\u53e3\u5c42 (lib/jverify.dart)","text":""},{"location":"account/jverify.html#_4","title":"\u6838\u5fc3\u56de\u8c03\u7c7b\u578b\u5b9a\u4e49","text":""},{"location":"account/jverify.html#1","title":"1. \u4e8b\u4ef6\u76d1\u542c\u5668\u5b9a\u4e49","text":"<pre><code>// \u81ea\u5b9a\u4e49\u63a7\u4ef6\u70b9\u51fb\u4e8b\u4ef6\u76d1\u542c\u5668\ntypedef JVClickWidgetEventListener = void Function(String widgetId);\n\n// \u6388\u6743\u9875\u4e8b\u4ef6\u56de\u8c03\u76d1\u542c\u5668\ntypedef JVAuthPageEventListener = void Function(JVAuthPageEvent event);\n\n// \u4e00\u952e\u767b\u5f55\u56de\u8c03\u76d1\u542c\u5668\ntypedef JVLoginAuthCallBackListener = void Function(JVListenerEvent event);\n\n// \u77ed\u4fe1\u767b\u5f55\u56de\u8c03\u76d1\u542c\u5668\ntypedef JVSMSListener = void Function(JVSMSEvent event);\n\n// SDK \u521d\u59cb\u5316\u56de\u8c03\u76d1\u542c\u5668\ntypedef JVSDKSetupCallBackListener = void Function(JVSDKSetupEvent event);\n</code></pre>"},{"location":"account/jverify.html#2","title":"2. \u4e8b\u4ef6\u6570\u636e\u6a21\u578b","text":"<pre><code>// \u4e00\u952e\u767b\u5f55\u4e8b\u4ef6\nclass JVListenerEvent {\n  final int code;        // \u8fd4\u56de\u7801\uff1a6000\u6210\u529f\uff0c6001\u5931\u8d25\n  final String message;  // \u8fd4\u56de\u4fe1\u606f\u6216loginToken\n  final String operator; // \u8fd0\u8425\u5546\uff1aCM\u79fb\u52a8\uff0cCU\u8054\u901a\uff0cCT\u7535\u4fe1\n}\n\n// \u77ed\u4fe1\u9a8c\u8bc1\u4e8b\u4ef6\nclass JVSMSEvent {\n  final int code;        // \u8fd4\u56de\u7801\n  final String message;  // \u8fd4\u56de\u4fe1\u606f\n  final String phone;    // \u624b\u673a\u53f7\n}\n\n// SDK \u521d\u59cb\u5316\u4e8b\u4ef6\nclass JVSDKSetupEvent {\n  final int code;        // \u8fd4\u56de\u7801\uff1a8000\u6210\u529f\n  final String message;  // \u8fd4\u56de\u4fe1\u606f\n}\n\n// \u6388\u6743\u9875\u4e8b\u4ef6\nclass JVAuthPageEvent {\n  final String eventType; // \u4e8b\u4ef6\u7c7b\u578b\n  final Map&lt;String, dynamic&gt; data; // \u4e8b\u4ef6\u6570\u636e\n}\n</code></pre>"},{"location":"account/jverify.html#_5","title":"\u4e3b\u8981\u63a5\u53e3\u65b9\u6cd5","text":""},{"location":"account/jverify.html#1_sdk","title":"1. SDK \u521d\u59cb\u5316","text":"<pre><code>class Jverify {\n  // \u521d\u59cb\u5316 SDK\n  static Future&lt;void&gt; setup({\n    required String appKey,\n    required String channel,\n    bool isProduction = true,\n    JVSDKSetupCallBackListener? setupListener,\n  });\n\n  // \u68c0\u67e5\u521d\u59cb\u5316\u72b6\u6001\n  static Future&lt;bool&gt; isSetup();\n}\n</code></pre>"},{"location":"account/jverify.html#2_1","title":"2. \u4e00\u952e\u767b\u5f55","text":"<pre><code>// \u9884\u521d\u59cb\u5316\nstatic Future&lt;void&gt; preLogin({\n  int timeOut = 5000,\n  JVLoginAuthCallBackListener? preLoginListener,\n});\n\n// \u5224\u65ad\u7f51\u7edc\u73af\u5883\u662f\u5426\u652f\u6301\nstatic Future&lt;void&gt; checkVerifyEnable({\n  JVLoginAuthCallBackListener? checkListener,\n});\n\n// \u83b7\u53d6\u767b\u5f55 Token\nstatic Future&lt;void&gt; loginAuth({\n  bool autoDismiss = true,\n  int timeOut = 5000,\n  JVLoginAuthCallBackListener? loginListener,\n});\n\n// \u81ea\u5b9a\u4e49\u6388\u6743\u9875\u9762\nstatic Future&lt;void&gt; setCustomAuthorizationView({\n  required Map&lt;String, dynamic&gt; config,\n  JVClickWidgetEventListener? clickListener,\n  JVAuthPageEventListener? authPageEventListener,\n});\n</code></pre>"},{"location":"account/jverify.html#3","title":"3. \u77ed\u4fe1\u9a8c\u8bc1","text":"<pre><code>// \u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801\nstatic Future&lt;void&gt; getSMSCode({\n  required String phoneNumber,\n  String? signID,\n  String? tempID,\n  JVSMSListener? smsListener,\n});\n\n// \u77ed\u4fe1\u9a8c\u8bc1\u767b\u5f55\nstatic Future&lt;void&gt; smsAuth({\n  required String phoneNumber,\n  required String smsCode,\n  JVSMSListener? smsListener,\n});\n</code></pre>"},{"location":"account/jverify.html#4","title":"4. \u9875\u9762\u63a7\u5236","text":"<pre><code>// \u5173\u95ed\u6388\u6743\u9875\u9762\nstatic Future&lt;void&gt; dismissLoginAuth();\n\n// \u6e05\u9664\u9884\u53d6\u53f7\u7f13\u5b58\nstatic Future&lt;void&gt; clearPreLoginCache();\n\n// \u8bbe\u7f6e\u8c03\u8bd5\u6a21\u5f0f\nstatic Future&lt;void&gt; setDebugMode(bool enable);\n</code></pre>"},{"location":"account/jverify.html#android","title":"Android \u539f\u751f\u5b9e\u73b0","text":""},{"location":"account/jverify.html#_6","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>android/\n\u251c\u2500\u2500 src/main/\n\u2502   \u251c\u2500\u2500 AndroidManifest.xml      # \u6743\u9650\u548c\u7ec4\u4ef6\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 java/com/jverify/        # Java \u5b9e\u73b0\u4ee3\u7801\n\u2502   \u2502   \u251c\u2500\u2500 JverifyPlugin.java   # \u63d2\u4ef6\u4e3b\u7c7b\n\u2502   \u2502   \u251c\u2500\u2500 JVerifyHelper.java   # \u8f85\u52a9\u5de5\u5177\u7c7b\n\u2502   \u2502   \u2514\u2500\u2500 utils/               # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 libs/                    # \u6781\u9a8c SDK \u5e93\u6587\u4ef6\n\u2502       \u251c\u2500\u2500 jverify-android-*.jar\n\u2502       \u2514\u2500\u2500 jcore-android-*.jar\n\u2514\u2500\u2500 build.gradle                 # \u6784\u5efa\u914d\u7f6e\n</code></pre>"},{"location":"account/jverify.html#_7","title":"\u5173\u952e\u5b9e\u73b0\u6587\u4ef6","text":""},{"location":"account/jverify.html#1_jverifypluginjava_-","title":"1. JverifyPlugin.java - \u63d2\u4ef6\u4e3b\u7c7b","text":"<pre><code>public class JverifyPlugin implements FlutterPlugin, MethodCallHandler {\n\n    // \u65b9\u6cd5\u901a\u9053\n    private MethodChannel channel;\n\n    // \u6781\u9a8c SDK API \u63a5\u53e3\n    private JVerifyInterface jVerifyInterface;\n\n    @Override\n    public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\n        channel = new MethodChannel(binding.getBinaryMessenger(), \"jverify\");\n        channel.setMethodCallHandler(this);\n    }\n\n    @Override\n    public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\n        switch (call.method) {\n            case \"setup\":\n                initSDK(call, result);\n                break;\n            case \"checkVerifyEnable\":\n                checkVerifyEnable(call, result);\n                break;\n            case \"preLogin\":\n                preLogin(call, result);\n                break;\n            case \"loginAuth\":\n                loginAuth(call, result);\n                break;\n            case \"getSMSCode\":\n                getSMSCode(call, result);\n                break;\n            case \"smsAuth\":\n                smsAuth(call, result);\n                break;\n            case \"dismissLoginAuth\":\n                dismissLoginAuth(result);\n                break;\n            default:\n                result.notImplemented();\n        }\n    }\n}\n</code></pre>"},{"location":"account/jverify.html#2_2","title":"2. \u6838\u5fc3\u529f\u80fd\u5b9e\u73b0","text":"<pre><code>// SDK \u521d\u59cb\u5316\nprivate void initSDK(MethodCall call, Result result) {\n    String appKey = call.argument(\"appKey\");\n    String channel = call.argument(\"channel\");\n    boolean isProduction = call.argument(\"isProduction\");\n\n    JVerifyInterface.init(getApplicationContext(), appKey, channel, isProduction);\n    JVerifyInterface.setDebugMode(true);\n\n    // \u8bbe\u7f6e\u521d\u59cb\u5316\u56de\u8c03\n    JVerifyInterface.setInitListener(new InitListener() {\n        @Override\n        public void onResult(int code, String message) {\n            // \u56de\u8c03\u5230 Flutter\n            Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n            args.put(\"code\", code);\n            args.put(\"message\", message);\n            channel.invokeMethod(\"onSDKSetup\", args);\n        }\n    });\n}\n\n// \u4e00\u952e\u767b\u5f55\nprivate void loginAuth(MethodCall call, Result result) {\n    boolean autoDismiss = call.argument(\"autoDismiss\");\n    int timeOut = call.argument(\"timeOut\");\n\n    JVerifyInterface.loginAuth(getCurrentActivity(), autoDismiss, timeOut, \n        new LoginAuthListener() {\n            @Override\n            public void onResult(int code, String content, String operator) {\n                Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n                args.put(\"code\", code);\n                args.put(\"message\", content);\n                args.put(\"operator\", operator);\n                channel.invokeMethod(\"onLoginAuth\", args);\n            }\n        });\n}\n</code></pre>"},{"location":"account/jverify.html#android_1","title":"Android \u914d\u7f6e","text":""},{"location":"account/jverify.html#androidmanifestxml","title":"AndroidManifest.xml \u6743\u9650\u914d\u7f6e","text":"<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;!-- \u7f51\u7edc\u6743\u9650 --&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n\n    &lt;!-- \u7535\u8bdd\u6743\u9650 --&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.SEND_SMS\" /&gt;\n\n    &lt;!-- \u5176\u4ed6\u6743\u9650 --&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n\n    &lt;application&gt;\n        &lt;!-- \u6781\u9a8c\u670d\u52a1\u914d\u7f6e --&gt;\n        &lt;meta-data\n            android:name=\"JVERIFY_CHANNEL\"\n            android:value=\"${JVERIFY_CHANNEL}\" /&gt;\n        &lt;meta-data\n            android:name=\"JVERIFY_APPKEY\"\n            android:value=\"${JVERIFY_APPKEY}\" /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>"},{"location":"account/jverify.html#buildgradle","title":"build.gradle \u914d\u7f6e","text":"<pre><code>android {\n    compileSdkVersion 33\n\n    defaultConfig {\n        minSdkVersion 19\n        targetSdkVersion 33\n    }\n\n    buildTypes {\n        release {\n            manifestPlaceholders = [\n                JVERIFY_APPKEY: project.hasProperty('JVERIFY_APPKEY') ? JVERIFY_APPKEY : '',\n                JVERIFY_CHANNEL: project.hasProperty('JVERIFY_CHANNEL') ? JVERIFY_CHANNEL : 'developer-default'\n            ]\n        }\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>"},{"location":"account/jverify.html#ios","title":"iOS \u539f\u751f\u5b9e\u73b0","text":""},{"location":"account/jverify.html#_8","title":"\u9879\u76ee\u7ed3\u6784","text":"<pre><code>ios/\n\u251c\u2500\u2500 Classes/\n\u2502   \u251c\u2500\u2500 JverifyPlugin.h          # \u63d2\u4ef6\u5934\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 JverifyPlugin.m          # \u63d2\u4ef6\u5b9e\u73b0\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 JVerifyHelper.h/m        # \u8f85\u52a9\u5de5\u5177\u7c7b\n\u251c\u2500\u2500 Assets/                      # \u8d44\u6e90\u6587\u4ef6\n\u251c\u2500\u2500 Frameworks/                  # \u6781\u9a8c SDK \u6846\u67b6\n\u2502   \u2514\u2500\u2500 JVERIFYService.framework\n\u2514\u2500\u2500 jverify.podspec             # CocoaPods \u914d\u7f6e\n</code></pre>"},{"location":"account/jverify.html#_9","title":"\u5173\u952e\u5b9e\u73b0\u6587\u4ef6","text":""},{"location":"account/jverify.html#1_jverifypluginh_-","title":"1. JverifyPlugin.h - \u63d2\u4ef6\u5934\u6587\u4ef6","text":"<pre><code>#import &lt;Flutter/Flutter.h&gt;\n#import &lt;JVERIFYService/JVERIFYService.h&gt;\n\n@interface JverifyPlugin : NSObject&lt;FlutterPlugin&gt;\n\n@property (nonatomic, strong) FlutterMethodChannel *channel;\n\n@end\n</code></pre>"},{"location":"account/jverify.html#2_jverifypluginm_-","title":"2. JverifyPlugin.m - \u63d2\u4ef6\u5b9e\u73b0","text":"<pre><code>@implementation JverifyPlugin\n\n+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar {\n    FlutterMethodChannel* channel = [FlutterMethodChannel\n        methodChannelWithName:@\"jverify\"\n        binaryMessenger:[registrar messenger]];\n\n    JverifyPlugin* instance = [[JverifyPlugin alloc] init];\n    instance.channel = channel;\n    [registrar addMethodCallDelegate:instance channel:channel];\n}\n\n- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {\n    if ([@\"setup\" isEqualToString:call.method]) {\n        [self initSDK:call result:result];\n    } else if ([@\"checkVerifyEnable\" isEqualToString:call.method]) {\n        [self checkVerifyEnable:call result:result];\n    } else if ([@\"preLogin\" isEqualToString:call.method]) {\n        [self preLogin:call result:result];\n    } else if ([@\"loginAuth\" isEqualToString:call.method]) {\n        [self loginAuth:call result:result];\n    } else if ([@\"getSMSCode\" isEqualToString:call.method]) {\n        [self getSMSCode:call result:result];\n    } else if ([@\"smsAuth\" isEqualToString:call.method]) {\n        [self smsAuth:call result:result];\n    } else if ([@\"dismissLoginAuth\" isEqualToString:call.method]) {\n        [self dismissLoginAuth:result];\n    } else {\n        result(FlutterMethodNotImplemented);\n    }\n}\n\n// SDK \u521d\u59cb\u5316\n- (void)initSDK:(FlutterMethodCall*)call result:(FlutterResult)result {\n    NSString *appKey = call.arguments[@\"appKey\"];\n    NSString *channel = call.arguments[@\"channel\"];\n    BOOL isProduction = [call.arguments[@\"isProduction\"] boolValue];\n\n    [JVERIFYService setupWithAppkey:appKey channel:channel apsForProduction:isProduction];\n\n    // \u8bbe\u7f6e\u521d\u59cb\u5316\u56de\u8c03\n    [JVERIFYService setInitHandler:^(JVInitResultModel *result) {\n        NSDictionary *args = @{\n            @\"code\": @(result.code),\n            @\"message\": result.message ?: @\"\"\n        };\n        [self.channel invokeMethod:@\"onSDKSetup\" arguments:args];\n    }];\n\n    result(@(YES));\n}\n\n// \u4e00\u952e\u767b\u5f55\n- (void)loginAuth:(FlutterMethodCall*)call result:(FlutterResult)result {\n    BOOL autoDismiss = [call.arguments[@\"autoDismiss\"] boolValue];\n    NSTimeInterval timeOut = [call.arguments[@\"timeOut\"] doubleValue] / 1000.0;\n\n    [JVERIFYService getAuthorizationWithController:[self getCurrentViewController]\n                                          completion:^(JVAuthorizationResultModel *result) {\n        NSDictionary *args = @{\n            @\"code\": @(result.code),\n            @\"message\": result.content ?: @\"\",\n            @\"operator\": result.operator ?: @\"\"\n        };\n        [self.channel invokeMethod:@\"onLoginAuth\" arguments:args];\n    }];\n\n    result(@(YES));\n}\n\n@end\n</code></pre>"},{"location":"account/jverify.html#ios_1","title":"iOS \u914d\u7f6e","text":""},{"location":"account/jverify.html#jverifypodspec","title":"jverify.podspec","text":"<pre><code>Pod::Spec.new do |s|\n  s.name             = 'jverify'\n  s.version          = '1.0.0'\n  s.summary          = 'JVerify Flutter Plugin'\n  s.description      = 'A Flutter plugin for JVerify SDK'\n  s.homepage         = 'https://www.jiguang.cn'\n  s.license          = { :file =&gt; '../LICENSE' }\n  s.author           = { 'JiGuang' =&gt; 'support@jiguang.cn' }\n\n  s.source           = { :path =&gt; '.' }\n  s.source_files     = 'Classes/**/*'\n  s.public_header_files = 'Classes/**/*.h'\n\n  s.dependency 'Flutter'\n  s.dependency 'JVerify', '~&gt; 2.8.0'\n\n  s.platform = :ios, '9.0'\n  s.ios.deployment_target = '9.0'\n\n  s.pod_target_xcconfig = { 'DEFINES_MODULE' =&gt; 'YES' }\n  s.swift_version = '5.0'\nend\n</code></pre>"},{"location":"account/jverify.html#infoplist","title":"Info.plist \u914d\u7f6e","text":"<pre><code>&lt;dict&gt;\n    &lt;!-- \u5e94\u7528\u4f20\u8f93\u5b89\u5168\u8bbe\u7f6e --&gt;\n    &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n        &lt;true/&gt;\n    &lt;/dict&gt;\n\n    &lt;!-- \u7f51\u7edc\u4f7f\u7528\u8bf4\u660e --&gt;\n    &lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n    &lt;string&gt;\u6b64\u5e94\u7528\u9700\u8981\u8bbf\u95ee\u76f8\u518c\u6765\u9009\u62e9\u5934\u50cf&lt;/string&gt;\n\n    &lt;!-- \u7535\u8bdd\u6743\u9650\u8bf4\u660e --&gt;\n    &lt;key&gt;NSContactsUsageDescription&lt;/key&gt;\n    &lt;string&gt;\u6b64\u5e94\u7528\u9700\u8981\u8bbf\u95ee\u901a\u8baf\u5f55\u8fdb\u884c\u4e00\u952e\u767b\u5f55&lt;/string&gt;\n&lt;/dict&gt;\n</code></pre>"},{"location":"account/jverify.html#_10","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"account/jverify.html#_11","title":"\u57fa\u672c\u96c6\u6210","text":"<pre><code>import 'package:jverify/jverify.dart';\n\nclass LoginPage extends StatefulWidget {\n  @override\n  _LoginPageState createState() =&gt; _LoginPageState();\n}\n\nclass _LoginPageState extends State&lt;LoginPage&gt; {\n\n  @override\n  void initState() {\n    super.initState();\n    _initJVerify();\n  }\n\n  // \u521d\u59cb\u5316 JVerify SDK\n  void _initJVerify() async {\n    await Jverify.setup(\n      appKey: \"your_app_key\",\n      channel: \"developer-default\",\n      isProduction: false,\n      setupListener: (JVSDKSetupEvent event) {\n        if (event.code == 8000) {\n          print(\"SDK \u521d\u59cb\u5316\u6210\u529f\");\n          _preLogin();\n        } else {\n          print(\"SDK \u521d\u59cb\u5316\u5931\u8d25: ${event.message}\");\n        }\n      },\n    );\n  }\n\n  // \u9884\u767b\u5f55\n  void _preLogin() async {\n    await Jverify.preLogin(\n      preLoginListener: (JVListenerEvent event) {\n        if (event.code == 6000) {\n          print(\"\u9884\u767b\u5f55\u6210\u529f\");\n        }\n      },\n    );\n  }\n\n  // \u4e00\u952e\u767b\u5f55\n  void _oneClickLogin() async {\n    await Jverify.loginAuth(\n      loginListener: (JVListenerEvent event) {\n        if (event.code == 6000) {\n          String loginToken = event.message;\n          // \u4f7f\u7528 loginToken \u8fdb\u884c\u540e\u7eed\u9a8c\u8bc1\n          _verifyTokenWithServer(loginToken);\n        } else {\n          print(\"\u4e00\u952e\u767b\u5f55\u5931\u8d25: ${event.message}\");\n        }\n      },\n    );\n  }\n\n  // \u77ed\u4fe1\u767b\u5f55\n  void _smsLogin(String phoneNumber, String smsCode) async {\n    await Jverify.smsAuth(\n      phoneNumber: phoneNumber,\n      smsCode: smsCode,\n      smsListener: (JVSMSEvent event) {\n        if (event.code == 6000) {\n          print(\"\u77ed\u4fe1\u767b\u5f55\u6210\u529f\");\n        }\n      },\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Column(\n        children: [\n          ElevatedButton(\n            onPressed: _oneClickLogin,\n            child: Text(\"\u4e00\u952e\u767b\u5f55\"),\n          ),\n          ElevatedButton(\n            onPressed: () =&gt; _getSMSCode(\"13800138000\"),\n            child: Text(\"\u83b7\u53d6\u9a8c\u8bc1\u7801\"),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"account/jverify.html#_12","title":"\u9519\u8bef\u7801\u8bf4\u660e","text":""},{"location":"account/jverify.html#_13","title":"\u901a\u7528\u9519\u8bef\u7801","text":"<ul> <li>8000: SDK \u521d\u59cb\u5316\u6210\u529f</li> <li>8001: SDK \u521d\u59cb\u5316\u5931\u8d25</li> <li>6000: \u767b\u5f55\u83b7\u53d6 loginToken \u6210\u529f</li> <li>6001: \u767b\u5f55\u83b7\u53d6 loginToken \u5931\u8d25</li> <li>6002: \u7f51\u7edc\u8fde\u63a5\u5931\u8d25</li> <li>6003: \u8bf7\u6c42\u8d85\u65f6</li> <li>6004: \u8fd0\u8425\u5546\u7f51\u7edc\u672a\u77e5</li> </ul>"},{"location":"account/jverify.html#_14","title":"\u4e00\u952e\u767b\u5f55\u9519\u8bef\u7801","text":"<ul> <li>6005: \u624b\u673a\u53f7\u4e0d\u652f\u6301\u6b64\u8fd0\u8425\u5546</li> <li>6006: \u7528\u6237\u53d6\u6d88\u767b\u5f55</li> <li>6007: \u767b\u5f55\u73af\u5883\u5f02\u5e38</li> <li>6008: \u767b\u5f55\u5931\u8d25\uff0c\u672a\u77e5\u5f02\u5e38</li> </ul>"},{"location":"account/jverify.html#_15","title":"\u77ed\u4fe1\u9a8c\u8bc1\u9519\u8bef\u7801","text":"<ul> <li>3000: \u77ed\u4fe1\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f</li> <li>3001: \u77ed\u4fe1\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25</li> <li>3002: \u77ed\u4fe1\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u6210\u529f</li> <li>3003: \u77ed\u4fe1\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u5931\u8d25</li> </ul>"},{"location":"account/jverify.html#_16","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"account/jverify.html#_17","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u9884\u767b\u5f55\u673a\u5236\u51cf\u5c11\u7528\u6237\u7b49\u5f85\u65f6\u95f4</li> <li>\u667a\u80fd\u91cd\u8bd5\u673a\u5236\u63d0\u9ad8\u6210\u529f\u7387</li> <li>\u7f51\u7edc\u72b6\u6001\u68c0\u6d4b\u4f18\u5316\u7528\u6237\u4f53\u9a8c</li> </ul>"},{"location":"account/jverify.html#_18","title":"\u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u53ca\u65f6\u91ca\u653e\u4e0d\u7528\u7684\u8d44\u6e90</li> <li>\u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> <li>\u5408\u7406\u7ba1\u7406\u751f\u547d\u5468\u671f</li> </ul>"},{"location":"account/jverify.html#_19","title":"\u7528\u6237\u4f53\u9a8c\u4f18\u5316","text":"<ul> <li>\u81ea\u5b9a\u4e49\u6388\u6743\u9875\u9762\u6837\u5f0f</li> <li>\u52a0\u8f7d\u72b6\u6001\u6307\u793a</li> <li>\u9519\u8bef\u63d0\u793a\u4f18\u5316</li> </ul>"},{"location":"account/jverify.html#_20","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"account/jverify.html#_21","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u901a\u4fe1\u6570\u636e\u52a0\u5bc6\u4f20\u8f93</li> <li>\u654f\u611f\u4fe1\u606f\u672c\u5730\u52a0\u5bc6\u5b58\u50a8</li> <li>\u9632\u6b62\u4e2d\u95f4\u4eba\u653b\u51fb</li> </ul>"},{"location":"account/jverify.html#_22","title":"\u4e1a\u52a1\u5b89\u5168","text":"<ul> <li>\u9632\u5237\u673a\u5236</li> <li>\u8bbe\u5907\u6307\u7eb9\u9a8c\u8bc1</li> <li>\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b</li> </ul>"},{"location":"account/jverify.html#_23","title":"\u6d4b\u8bd5\u6307\u5357","text":""},{"location":"account/jverify.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>SDK \u63a5\u53e3\u8c03\u7528\u6d4b\u8bd5</li> <li>\u9519\u8bef\u5904\u7406\u6d4b\u8bd5</li> <li>\u8fb9\u754c\u6761\u4ef6\u6d4b\u8bd5</li> </ul>"},{"location":"account/jverify.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u7aef\u5230\u7aef\u767b\u5f55\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u591a\u5e73\u53f0\u517c\u5bb9\u6027\u6d4b\u8bd5</li> <li>\u7f51\u7edc\u5f02\u5e38\u5904\u7406\u6d4b\u8bd5</li> </ul>"},{"location":"account/jverify.html#_26","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u521d\u59cb\u5316\u8017\u65f6\u6d4b\u8bd5</li> <li>\u5185\u5b58\u4f7f\u7528\u6d4b\u8bd5</li> <li>\u5e76\u53d1\u8bf7\u6c42\u6d4b\u8bd5</li> </ul>"},{"location":"account/jverify.html#_27","title":"\u6545\u969c\u6392\u9664","text":""},{"location":"account/jverify.html#_28","title":"\u5e38\u89c1\u95ee\u9898","text":"<ol> <li>\u521d\u59cb\u5316\u5931\u8d25: \u68c0\u67e5 AppKey \u548c\u6e20\u9053\u914d\u7f6e</li> <li>\u7f51\u7edc\u9519\u8bef: \u68c0\u67e5\u7f51\u7edc\u6743\u9650\u548c\u7f51\u7edc\u8fde\u63a5</li> <li>\u767b\u5f55\u5931\u8d25: \u68c0\u67e5\u8fd0\u8425\u5546\u7f51\u7edc\u73af\u5883</li> <li>\u6743\u9650\u4e0d\u8db3: \u68c0\u67e5\u5fc5\u8981\u6743\u9650\u7684\u6388\u6743\u72b6\u6001</li> </ol>"},{"location":"account/jverify.html#_29","title":"\u8c03\u8bd5\u6280\u5de7","text":"<ul> <li>\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f\u67e5\u770b\u8be6\u7ec6\u65e5\u5fd7</li> <li>\u4f7f\u7528\u7f51\u7edc\u6293\u5305\u5de5\u5177\u5206\u6790\u8bf7\u6c42</li> <li>\u68c0\u67e5\u8bbe\u5907\u7f51\u7edc\u73af\u5883\u548c\u8fd0\u8425\u5546</li> </ul>"},{"location":"account/jverify.html#_30","title":"\u7248\u672c\u66f4\u65b0","text":""},{"location":"account/jverify.html#_31","title":"\u5f53\u524d\u7248\u672c\u7279\u6027","text":"<ul> <li>\u652f\u6301\u4e09\u5927\u8fd0\u8425\u5546\u4e00\u952e\u767b\u5f55</li> <li>\u652f\u6301\u77ed\u4fe1\u9a8c\u8bc1\u7801\u767b\u5f55</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u6388\u6743\u9875\u9762</li> <li>\u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u673a\u5236</li> </ul>"},{"location":"account/jverify.html#_32","title":"\u540e\u7eed\u89c4\u5212","text":"<ul> <li>\u652f\u6301\u66f4\u591a\u8ba4\u8bc1\u65b9\u5f0f</li> <li>\u4f18\u5316\u7528\u6237\u4f53\u9a8c</li> <li>\u589e\u5f3a\u5b89\u5168\u9632\u62a4</li> </ul>"},{"location":"account/jverify.html#_33","title":"\u603b\u7ed3","text":"<p><code>jverify</code> \u63d2\u4ef6\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u6781\u9a8c\u9a8c\u8bc1\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u5c01\u88c5\u539f\u751f SDK\uff0c\u4e3a Flutter \u5e94\u7528\u63d0\u4f9b\u4e86\u7edf\u4e00\u3001\u4fbf\u6377\u7684\u9a8c\u8bc1\u63a5\u53e3\u3002\u63d2\u4ef6\u5177\u6709\u826f\u597d\u7684\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\u548c\u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u80fd\u591f\u6ee1\u8db3\u79fb\u52a8\u5e94\u7528\u7684\u5404\u79cd\u9a8c\u8bc1\u573a\u666f\u9700\u6c42\u3002</p>"},{"location":"after_sales/index.html","title":"After Sales \u552e\u540e\u670d\u52a1\u6a21\u5757\u7fa4","text":""},{"location":"after_sales/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>After Sales \u6a21\u5757\u7fa4\u662f OneApp \u7684\u552e\u540e\u670d\u52a1\u4e1a\u52a1\u6a21\u5757\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u6c7d\u8f66\u552e\u540e\u670d\u52a1\u529f\u80fd\u3002\u8be5\u6a21\u5757\u7fa4\u5305\u542b\u4e86\u7ef4\u4fee\u9884\u7ea6\u3001\u670d\u52a1\u8bb0\u5f55\u3001\u6280\u5e08\u6d3e\u5de5\u3001\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u7b49\u6838\u5fc3\u552e\u540e\u4e1a\u52a1\u529f\u80fd\u3002</p>"},{"location":"after_sales/index.html#_2","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"after_sales/index.html#_3","title":"\u6838\u5fc3\u6a21\u5757","text":"<ol> <li> <p>oneapp_after_sales - \u552e\u540e\u670d\u52a1\u4e3b\u6a21\u5757    - \u7ef4\u4fee\u9884\u7ea6\u548c\u670d\u52a1\u7ba1\u7406    - \u670d\u52a1\u8bb0\u5f55\u548c\u5386\u53f2\u67e5\u8be2    - \u5ba2\u6237\u7aef\u552e\u540e\u529f\u80fd\u5165\u53e3</p> </li> <li> <p>clr_after_sales - \u552e\u540e\u670d\u52a1SDK    - \u552e\u540e\u670d\u52a1\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5    - API\u63a5\u53e3\u7edf\u4e00\u7ba1\u7406    - \u6570\u636e\u6a21\u578b\u5b9a\u4e49</p> </li> </ol>"},{"location":"after_sales/index.html#_4","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"after_sales/index.html#_5","title":"\u6838\u5fc3\u4e1a\u52a1\u529f\u80fd","text":"<ol> <li> <p>\u7ef4\u4fee\u9884\u7ea6\u670d\u52a1    - \u5728\u7ebf\u9884\u7ea6\u7ef4\u4fee\u65f6\u95f4    - \u670d\u52a1\u95e8\u5e97\u9009\u62e9    - \u9884\u7ea6\u72b6\u6001\u8ddf\u8e2a    - \u9884\u7ea6\u53d8\u66f4\u548c\u53d6\u6d88</p> </li> <li> <p>\u670d\u52a1\u8bb0\u5f55\u7ba1\u7406    - \u7ef4\u4fee\u5386\u53f2\u8bb0\u5f55    - \u670d\u52a1\u9879\u76ee\u8be6\u60c5    - \u8d39\u7528\u660e\u7ec6\u67e5\u770b    - \u670d\u52a1\u8bc4\u4ef7\u53cd\u9988</p> </li> <li> <p>\u6280\u5e08\u670d\u52a1\u7ba1\u7406    - \u6280\u5e08\u4fe1\u606f\u5c55\u793a    - \u670d\u52a1\u8fdb\u5ea6\u8ddf\u8e2a    - \u5b9e\u65f6\u6c9f\u901a\u529f\u80fd    - \u670d\u52a1\u8d28\u91cf\u8bc4\u4f30</p> </li> <li> <p>\u5ba2\u6237\u4f53\u9a8c\u4f18\u5316    - \u670d\u52a1\u6ee1\u610f\u5ea6\u8c03\u67e5    - \u6295\u8bc9\u5efa\u8bae\u5904\u7406    - \u4f1a\u5458\u6743\u76ca\u670d\u52a1    - \u589e\u503c\u670d\u52a1\u63a8\u8350</p> </li> </ol>"},{"location":"after_sales/index.html#_6","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"after_sales/index.html#_7","title":"\u6a21\u5757\u67b6\u6784\u56fe","text":"<pre><code>\u552e\u540e\u670d\u52a1\u5e94\u7528\u5c42 (oneapp_after_sales)\n    \u2193\n\u552e\u540e\u670d\u52a1SDK (clr_after_sales)  \n    \u2193\n\u57fa\u7840\u670d\u52a1\u5c42 (basic_*)\n    \u2193\n\u539f\u751f\u5e73\u53f0\u80fd\u529b\n</code></pre>"},{"location":"after_sales/index.html#_8","title":"\u4e3b\u8981\u4f9d\u8d56","text":"<ul> <li>\u5730\u56fe\u670d\u52a1: ui_mapview, amap_flutter_location</li> <li>\u652f\u4ed8\u670d\u52a1: kit_alipay, fluwx</li> <li>\u56fe\u7247\u5904\u7406: photo_view, photo_gallery</li> <li>\u7535\u5b50\u7b7e\u540d: signature</li> <li>\u6743\u9650\u7ba1\u7406: permission_handler</li> <li>\u7f51\u7edc\u901a\u4fe1: dio</li> <li>WebView: basic_webview</li> </ul>"},{"location":"after_sales/index.html#_9","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"after_sales/index.html#_10","title":"\u7ef4\u4fee\u9884\u7ea6\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u7528\u6237\u53d1\u8d77\u9884\u7ea6] --&gt; B[\u9009\u62e9\u670d\u52a1\u7c7b\u578b]\n    B --&gt; C[\u9009\u62e9\u670d\u52a1\u95e8\u5e97]\n    C --&gt; D[\u9009\u62e9\u9884\u7ea6\u65f6\u95f4]\n    D --&gt; E[\u586b\u5199\u8f66\u8f86\u4fe1\u606f]\n    E --&gt; F[\u786e\u8ba4\u9884\u7ea6\u4fe1\u606f]\n    F --&gt; G[\u652f\u4ed8\u5b9a\u91d1]\n    G --&gt; H[\u9884\u7ea6\u6210\u529f]\n    H --&gt; I[\u95e8\u5e97\u786e\u8ba4]\n    I --&gt; J[\u670d\u52a1\u6267\u884c]\n    J --&gt; K[\u670d\u52a1\u5b8c\u6210]\n    K --&gt; L[\u5ba2\u6237\u8bc4\u4ef7]</code></pre>"},{"location":"after_sales/index.html#_11","title":"\u670d\u52a1\u6267\u884c\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u5ba2\u6237\u5230\u5e97] --&gt; B[\u63a5\u8f66\u68c0\u67e5]\n    B --&gt; C[\u6545\u969c\u8bca\u65ad]\n    C --&gt; D[\u5236\u5b9a\u7ef4\u4fee\u65b9\u6848]\n    D --&gt; E[\u5ba2\u6237\u786e\u8ba4]\n    E --&gt; F[\u5f00\u59cb\u7ef4\u4fee]\n    F --&gt; G[\u7ef4\u4fee\u8fc7\u7a0b]\n    G --&gt; H[\u8d28\u91cf\u68c0\u9a8c]\n    H --&gt; I[\u4ea4\u8f66\u51c6\u5907]\n    I --&gt; J[\u5ba2\u6237\u9a8c\u6536]\n    J --&gt; K[\u7ed3\u7b97\u4ed8\u6b3e]\n    K --&gt; L[\u670d\u52a1\u5b8c\u6210]</code></pre>"},{"location":"after_sales/index.html#_12","title":"\u8be6\u7ec6\u6a21\u5757\u6587\u6863","text":"<ul> <li>OneApp After Sales - \u552e\u540e\u670d\u52a1\u4e3b\u6a21\u5757</li> <li>CLR After Sales - \u552e\u540e\u670d\u52a1SDK</li> </ul>"},{"location":"after_sales/index.html#_13","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"after_sales/index.html#_14","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Flutter &gt;=1.17.0</li> <li>Dart &gt;=3.0.0 &lt;4.0.0</li> <li>Android SDK &gt;=21</li> <li>iOS &gt;=11.0</li> </ul>"},{"location":"after_sales/index.html#_15","title":"\u5feb\u901f\u5f00\u59cb","text":"<pre><code>// \u521d\u59cb\u5316\u552e\u540e\u670d\u52a1\u6a21\u5757\nawait AfterSalesService.initialize();\n\n// \u521b\u5efa\u7ef4\u4fee\u9884\u7ea6\nfinal appointment = await AfterSalesService.createAppointment(\n  serviceType: ServiceType.maintenance,\n  storeId: 'store_123',\n  appointmentTime: DateTime.now().add(Duration(days: 1)),\n);\n</code></pre>"},{"location":"after_sales/index.html#_16","title":"\u603b\u7ed3","text":"<p>After Sales \u6a21\u5757\u7fa4\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u552e\u540e\u670d\u52a1\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u6807\u51c6\u5316\u7684\u4e1a\u52a1\u6d41\u7a0b\u548c\u7528\u6237\u53cb\u597d\u7684\u754c\u9762\u8bbe\u8ba1\uff0c\u63d0\u5347\u4e86\u552e\u540e\u670d\u52a1\u7684\u6548\u7387\u548c\u5ba2\u6237\u6ee1\u610f\u5ea6\u3002\u6a21\u5757\u7fa4\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u7684\u552e\u540e\u670d\u52a1\u573a\u666f\u548c\u4e1a\u52a1\u9700\u6c42\u3002</p>"},{"location":"after_sales/clr_after_sales.html","title":"CLR After Sales \u552e\u540e\u670d\u52a1SDK","text":""},{"location":"after_sales/clr_after_sales.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_after_sales</code> \u662f OneApp \u552e\u540e\u670d\u52a1\u6a21\u5757\u7fa4\u4e2d\u7684\u6838\u5fc3\u670d\u52a1SDK\uff0c\u8d1f\u8d23\u5c01\u88c5\u552e\u540e\u670d\u52a1\u7684\u4e1a\u52a1\u903b\u8f91\u3001API\u63a5\u53e3\u8c03\u7528\u548c\u6570\u636e\u6a21\u578b\u5b9a\u4e49\u3002\u8be5\u6a21\u5757\u4e3a\u552e\u540e\u670d\u52a1\u5e94\u7528\u5c42\u63d0\u4f9b\u7edf\u4e00\u7684\u670d\u52a1\u63a5\u53e3\u548c\u6570\u636e\u5904\u7406\u80fd\u529b\u3002</p>"},{"location":"after_sales/clr_after_sales.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: clr_after_sales</li> <li>\u7248\u672c: 0.0.1</li> <li>\u63cf\u8ff0: \u552e\u540e\u670d\u52a1\u6838\u5fc3SDK</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"after_sales/clr_after_sales.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"after_sales/clr_after_sales.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>API\u63a5\u53e3\u5c01\u88c5    - \u552e\u540e\u670d\u52a1API\u7edf\u4e00\u5c01\u88c5    - \u7f51\u7edc\u8bf7\u6c42\u7edf\u4e00\u5904\u7406    - \u9519\u8bef\u5904\u7406\u548c\u91cd\u8bd5\u673a\u5236    - \u6570\u636e\u7f13\u5b58\u548c\u540c\u6b65</p> </li> <li> <p>\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5    - \u9884\u7ea6\u4e1a\u52a1\u903b\u8f91    - \u670d\u52a1\u6d41\u7a0b\u7ba1\u7406    - \u652f\u4ed8\u7ed3\u7b97\u903b\u8f91    - \u6570\u636e\u9a8c\u8bc1\u89c4\u5219</p> </li> <li> <p>\u6570\u636e\u6a21\u578b\u7ba1\u7406    - \u7edf\u4e00\u6570\u636e\u6a21\u578b\u5b9a\u4e49    - JSON\u5e8f\u5217\u5316\u652f\u6301    - \u6570\u636e\u8f6c\u6362\u548c\u6620\u5c04    - \u6a21\u578b\u9a8c\u8bc1\u673a\u5236</p> </li> <li> <p>\u72b6\u6001\u7ba1\u7406    - \u4e1a\u52a1\u72b6\u6001\u7edf\u4e00\u7ba1\u7406    - \u4e8b\u4ef6\u9a71\u52a8\u66f4\u65b0    - \u72b6\u6001\u6301\u4e45\u5316    - \u72b6\u6001\u540c\u6b65\u673a\u5236</p> </li> </ol>"},{"location":"after_sales/clr_after_sales.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"after_sales/clr_after_sales.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 clr_after_sales.dart       # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                       # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 services/              # \u4e1a\u52a1\u670d\u52a1\n\u2502   \u251c\u2500\u2500 repositories/          # \u6570\u636e\u4ed3\u5e93\n\u2502   \u251c\u2500\u2500 models/                # \u6570\u636e\u6a21\u578b\n\u2502   \u251c\u2500\u2500 enums/                 # \u679a\u4e3e\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 exceptions/            # \u5f02\u5e38\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 utils/                 # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 constants/             # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 test/                      # \u6d4b\u8bd5\u6587\u4ef6\n\u2514\u2500\u2500 generated/                 # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"after_sales/clr_after_sales.html#_8","title":"\u57fa\u7840\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_network: ^0.2.3+4</code> - \u7f51\u7edc\u901a\u4fe1\u6846\u67b6</li> <li><code>common_utils: ^2.1.0</code> - \u901a\u7528\u5de5\u5177\u5e93</li> </ul>"},{"location":"after_sales/clr_after_sales.html#dependency_overrides","title":"\u5185\u90e8\u4f9d\u8d56 (dependency_overrides)","text":"<ul> <li><code>ui_basic</code> - \u57fa\u7840UI\u7ec4\u4ef6\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_platform</code> - \u5e73\u53f0\u9002\u914d\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_utils</code> - \u57fa\u7840\u5de5\u5177\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_uis</code> - \u57fa\u7840UI\u96c6\u5408\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>base_mvvm</code> - MVVM\u67b6\u6784\uff08\u672c\u5730\u8def\u5f84\uff09</li> </ul>"},{"location":"after_sales/clr_after_sales.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"after_sales/clr_after_sales.html#1_srcservices","title":"1. \u4e1a\u52a1\u670d\u52a1 (<code>src/services/</code>)","text":""},{"location":"after_sales/clr_after_sales.html#_10","title":"\u9884\u7ea6\u670d\u52a1","text":"<pre><code>class AppointmentService {\n  final AppointmentRepository _repository;\n  final NetworkService _networkService;\n\n  AppointmentService(this._repository, this._networkService);\n\n  /// \u521b\u5efa\u9884\u7ea6\n  Future&lt;Result&lt;Appointment&gt;&gt; createAppointment(\n    AppointmentCreateRequest request,\n  ) async {\n    try {\n      // 1. \u9a8c\u8bc1\u8bf7\u6c42\u6570\u636e\n      final validationResult = _validateCreateRequest(request);\n      if (validationResult.isFailure) {\n        return Result.failure(validationResult.error);\n      }\n\n      // 2. \u68c0\u67e5\u65f6\u95f4\u53ef\u7528\u6027\n      final availability = await checkTimeAvailability(\n        request.storeId,\n        request.appointmentTime,\n      );\n\n      if (!availability.isAvailable) {\n        return Result.failure(\n          AppointmentException('\u9884\u7ea6\u65f6\u95f4\u4e0d\u53ef\u7528'),\n        );\n      }\n\n      // 3. \u8c03\u7528API\u521b\u5efa\u9884\u7ea6\n      final apiResponse = await _networkService.post(\n        '/appointments',\n        data: request.toJson(),\n      );\n\n      // 4. \u89e3\u6790\u54cd\u5e94\u6570\u636e\n      final appointment = Appointment.fromJson(apiResponse.data);\n\n      // 5. \u7f13\u5b58\u5230\u672c\u5730\n      await _repository.saveAppointment(appointment);\n\n      return Result.success(appointment);\n    } catch (e) {\n      return Result.failure(AppointmentException(e.toString()));\n    }\n  }\n\n  /// \u83b7\u53d6\u7528\u6237\u9884\u7ea6\u5217\u8868\n  Future&lt;Result&lt;List&lt;Appointment&gt;&gt;&gt; getUserAppointments({\n    String? status,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      // 1. \u5148\u4ece\u7f13\u5b58\u83b7\u53d6\n      final cachedAppointments = await _repository.getCachedAppointments(\n        status: status,\n        page: page,\n        pageSize: pageSize,\n      );\n\n      // 2. \u5982\u679c\u7f13\u5b58\u5b58\u5728\u4e14\u672a\u8fc7\u671f\uff0c\u76f4\u63a5\u8fd4\u56de\n      if (cachedAppointments.isNotEmpty &amp;&amp; !_isCacheExpired()) {\n        return Result.success(cachedAppointments);\n      }\n\n      // 3. \u4ece\u7f51\u7edc\u83b7\u53d6\u6700\u65b0\u6570\u636e\n      final apiResponse = await _networkService.get(\n        '/appointments',\n        queryParameters: {\n          'status': status,\n          'page': page,\n          'pageSize': pageSize,\n        },\n      );\n\n      // 4. \u89e3\u6790\u5e76\u7f13\u5b58\u6570\u636e\n      final appointments = (apiResponse.data['items'] as List)\n          .map((json) =&gt; Appointment.fromJson(json))\n          .toList();\n\n      await _repository.cacheAppointments(appointments);\n\n      return Result.success(appointments);\n    } catch (e) {\n      return Result.failure(AppointmentException(e.toString()));\n    }\n  }\n\n  /// \u53d6\u6d88\u9884\u7ea6\n  Future&lt;Result&lt;bool&gt;&gt; cancelAppointment(String appointmentId) async {\n    try {\n      await _networkService.put(\n        '/appointments/$appointmentId/cancel',\n      );\n\n      // \u66f4\u65b0\u672c\u5730\u7f13\u5b58\n      await _repository.updateAppointmentStatus(\n        appointmentId,\n        AppointmentStatus.cancelled,\n      );\n\n      return Result.success(true);\n    } catch (e) {\n      return Result.failure(AppointmentException(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_11","title":"\u670d\u52a1\u8fdb\u5ea6\u670d\u52a1","text":"<pre><code>class ServiceProgressService {\n  final ServiceProgressRepository _repository;\n  final NetworkService _networkService;\n\n  ServiceProgressService(this._repository, this._networkService);\n\n  /// \u83b7\u53d6\u670d\u52a1\u8fdb\u5ea6\n  Future&lt;Result&lt;ServiceProgress&gt;&gt; getServiceProgress(\n    String appointmentId,\n  ) async {\n    try {\n      final apiResponse = await _networkService.get(\n        '/appointments/$appointmentId/progress',\n      );\n\n      final progress = ServiceProgress.fromJson(apiResponse.data);\n\n      // \u7f13\u5b58\u8fdb\u5ea6\u6570\u636e\n      await _repository.saveProgress(progress);\n\n      return Result.success(progress);\n    } catch (e) {\n      return Result.failure(ServiceException(e.toString()));\n    }\n  }\n\n  /// \u66f4\u65b0\u670d\u52a1\u6b65\u9aa4\n  Future&lt;Result&lt;ServiceStep&gt;&gt; updateServiceStep(\n    String appointmentId,\n    String stepId,\n    ServiceStepUpdate update,\n  ) async {\n    try {\n      final apiResponse = await _networkService.put(\n        '/appointments/$appointmentId/steps/$stepId',\n        data: update.toJson(),\n      );\n\n      final updatedStep = ServiceStep.fromJson(apiResponse.data);\n\n      // \u66f4\u65b0\u672c\u5730\u7f13\u5b58\n      await _repository.updateStep(appointmentId, updatedStep);\n\n      return Result.success(updatedStep);\n    } catch (e) {\n      return Result.failure(ServiceException(e.toString()));\n    }\n  }\n\n  /// \u4e0a\u4f20\u670d\u52a1\u7167\u7247\n  Future&lt;Result&lt;ServicePhoto&gt;&gt; uploadServicePhoto(\n    String appointmentId,\n    String stepId,\n    File photoFile,\n  ) async {\n    try {\n      final formData = FormData.fromMap({\n        'file': await MultipartFile.fromFile(photoFile.path),\n        'appointmentId': appointmentId,\n        'stepId': stepId,\n      });\n\n      final apiResponse = await _networkService.post(\n        '/service-photos/upload',\n        data: formData,\n      );\n\n      final photo = ServicePhoto.fromJson(apiResponse.data);\n\n      return Result.success(photo);\n    } catch (e) {\n      return Result.failure(ServiceException(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#2_srcrepositories","title":"2. \u6570\u636e\u4ed3\u5e93 (<code>src/repositories/</code>)","text":""},{"location":"after_sales/clr_after_sales.html#_12","title":"\u9884\u7ea6\u6570\u636e\u4ed3\u5e93","text":"<pre><code>abstract class AppointmentRepository {\n  Future&lt;void&gt; saveAppointment(Appointment appointment);\n  Future&lt;List&lt;Appointment&gt;&gt; getCachedAppointments({\n    String? status,\n    int page = 1,\n    int pageSize = 20,\n  });\n  Future&lt;void&gt; cacheAppointments(List&lt;Appointment&gt; appointments);\n  Future&lt;void&gt; updateAppointmentStatus(String id, AppointmentStatus status);\n  Future&lt;void&gt; clearCache();\n}\n\nclass AppointmentRepositoryImpl implements AppointmentRepository {\n  final LocalStorage _localStorage;\n  final DatabaseHelper _databaseHelper;\n\n  AppointmentRepositoryImpl(this._localStorage, this._databaseHelper);\n\n  @override\n  Future&lt;void&gt; saveAppointment(Appointment appointment) async {\n    try {\n      // \u4fdd\u5b58\u5230\u6570\u636e\u5e93\n      await _databaseHelper.insertAppointment(appointment);\n\n      // \u66f4\u65b0\u7f13\u5b58\n      final cacheKey = 'appointment_${appointment.id}';\n      await _localStorage.setString(cacheKey, jsonEncode(appointment.toJson()));\n    } catch (e) {\n      throw RepositoryException('\u4fdd\u5b58\u9884\u7ea6\u5931\u8d25: $e');\n    }\n  }\n\n  @override\n  Future&lt;List&lt;Appointment&gt;&gt; getCachedAppointments({\n    String? status,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      return await _databaseHelper.getAppointments(\n        status: status,\n        offset: (page - 1) * pageSize,\n        limit: pageSize,\n      );\n    } catch (e) {\n      throw RepositoryException('\u83b7\u53d6\u7f13\u5b58\u9884\u7ea6\u5931\u8d25: $e');\n    }\n  }\n\n  @override\n  Future&lt;void&gt; updateAppointmentStatus(String id, AppointmentStatus status) async {\n    try {\n      await _databaseHelper.updateAppointmentStatus(id, status);\n\n      // \u66f4\u65b0\u5185\u5b58\u7f13\u5b58\n      final cacheKey = 'appointment_$id';\n      final cachedData = await _localStorage.getString(cacheKey);\n      if (cachedData != null) {\n        final appointment = Appointment.fromJson(jsonDecode(cachedData));\n        final updatedAppointment = appointment.copyWith(status: status);\n        await _localStorage.setString(\n          cacheKey,\n          jsonEncode(updatedAppointment.toJson()),\n        );\n      }\n    } catch (e) {\n      throw RepositoryException('\u66f4\u65b0\u9884\u7ea6\u72b6\u6001\u5931\u8d25: $e');\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#3_srcmodels","title":"3. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":""},{"location":"after_sales/clr_after_sales.html#_13","title":"\u9884\u7ea6\u6a21\u578b","text":"<pre><code>@freezed\nclass Appointment with _$Appointment {\n  const factory Appointment({\n    required String id,\n    required String userId,\n    required String storeId,\n    required ServiceType serviceType,\n    required DateTime appointmentTime,\n    required AppointmentStatus status,\n    required VehicleInfo vehicleInfo,\n    String? description,\n    List&lt;String&gt;? attachments,\n    @JsonKey(name: 'created_at') DateTime? createdAt,\n    @JsonKey(name: 'updated_at') DateTime? updatedAt,\n    Store? store,\n    List&lt;ServiceItem&gt;? serviceItems,\n    PaymentInfo? paymentInfo,\n  }) = _Appointment;\n\n  factory Appointment.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$AppointmentFromJson(json);\n}\n\n@freezed\nclass AppointmentCreateRequest with _$AppointmentCreateRequest {\n  const factory AppointmentCreateRequest({\n    required String storeId,\n    required ServiceType serviceType,\n    required DateTime appointmentTime,\n    required VehicleInfo vehicleInfo,\n    String? description,\n    List&lt;String&gt;? attachments,\n    List&lt;String&gt;? serviceItemIds,\n  }) = _AppointmentCreateRequest;\n\n  factory AppointmentCreateRequest.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$AppointmentCreateRequestFromJson(json);\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_14","title":"\u670d\u52a1\u8fdb\u5ea6\u6a21\u578b","text":"<pre><code>@freezed\nclass ServiceProgress with _$ServiceProgress {\n  const factory ServiceProgress({\n    required String appointmentId,\n    required ServiceStatus status,\n    required List&lt;ServiceStep&gt; steps,\n    required double progressPercentage,\n    @JsonKey(name: 'estimated_completion') DateTime? estimatedCompletion,\n    @JsonKey(name: 'actual_completion') DateTime? actualCompletion,\n    Technician? assignedTechnician,\n    List&lt;ServicePhoto&gt;? photos,\n    String? currentStepNote,\n  }) = _ServiceProgress;\n\n  factory ServiceProgress.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ServiceProgressFromJson(json);\n}\n\n@freezed\nclass ServiceStep with _$ServiceStep {\n  const factory ServiceStep({\n    required String id,\n    required String name,\n    required String description,\n    required ServiceStepStatus status,\n    required int orderIndex,\n    @JsonKey(name: 'started_at') DateTime? startedAt,\n    @JsonKey(name: 'completed_at') DateTime? completedAt,\n    String? note,\n    List&lt;String&gt;? photoIds,\n    Duration? estimatedDuration,\n    Duration? actualDuration,\n  }) = _ServiceStep;\n\n  factory ServiceStep.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ServiceStepFromJson(json);\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#4_srcenums","title":"4. \u679a\u4e3e\u5b9a\u4e49 (<code>src/enums/</code>)","text":"<pre><code>enum AppointmentStatus {\n  @JsonValue('pending')\n  pending,\n  @JsonValue('confirmed')\n  confirmed,\n  @JsonValue('inProgress')\n  inProgress,\n  @JsonValue('completed')\n  completed,\n  @JsonValue('cancelled')\n  cancelled,\n  @JsonValue('noShow')\n  noShow,\n}\n\nenum ServiceType {\n  @JsonValue('maintenance')\n  maintenance,\n  @JsonValue('repair')\n  repair,\n  @JsonValue('inspection')\n  inspection,\n  @JsonValue('bodywork')\n  bodywork,\n  @JsonValue('insurance')\n  insurance,\n  @JsonValue('emergency')\n  emergency,\n  @JsonValue('recall')\n  recall,\n}\n\nenum ServiceStatus {\n  @JsonValue('waiting')\n  waiting,\n  @JsonValue('inProgress')\n  inProgress,\n  @JsonValue('completed')\n  completed,\n  @JsonValue('paused')\n  paused,\n  @JsonValue('cancelled')\n  cancelled,\n}\n\nenum ServiceStepStatus {\n  @JsonValue('pending')\n  pending,\n  @JsonValue('inProgress')\n  inProgress,\n  @JsonValue('completed')\n  completed,\n  @JsonValue('skipped')\n  skipped,\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#5_srcexceptions","title":"5. \u5f02\u5e38\u5b9a\u4e49 (<code>src/exceptions/</code>)","text":"<pre><code>abstract class AfterSalesException implements Exception {\n  final String message;\n  final String? code;\n  final dynamic details;\n\n  const AfterSalesException(this.message, {this.code, this.details});\n\n  @override\n  String toString() =&gt; 'AfterSalesException: $message';\n}\n\nclass AppointmentException extends AfterSalesException {\n  const AppointmentException(String message, {String? code, dynamic details})\n      : super(message, code: code, details: details);\n}\n\nclass ServiceException extends AfterSalesException {\n  const ServiceException(String message, {String? code, dynamic details})\n      : super(message, code: code, details: details);\n}\n\nclass PaymentException extends AfterSalesException {\n  const PaymentException(String message, {String? code, dynamic details})\n      : super(message, code: code, details: details);\n}\n\nclass NetworkException extends AfterSalesException {\n  const NetworkException(String message, {String? code, dynamic details})\n      : super(message, code: code, details: details);\n}\n\nclass RepositoryException extends AfterSalesException {\n  const RepositoryException(String message, {String? code, dynamic details})\n      : super(message, code: code, details: details);\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#6_srcutilsresultdart","title":"6. \u7ed3\u679c\u5c01\u88c5 (<code>src/utils/result.dart</code>)","text":"<pre><code>@freezed\nclass Result&lt;T&gt; with _$Result&lt;T&gt; {\n  const factory Result.success(T data) = Success&lt;T&gt;;\n  const factory Result.failure(Exception error) = Failure&lt;T&gt;;\n\n  bool get isSuccess =&gt; this is Success&lt;T&gt;;\n  bool get isFailure =&gt; this is Failure&lt;T&gt;;\n\n  T? get data =&gt; mapOrNull(success: (success) =&gt; success.data);\n  Exception? get error =&gt; mapOrNull(failure: (failure) =&gt; failure.error);\n}\n\nextension ResultExtensions&lt;T&gt; on Result&lt;T&gt; {\n  R fold&lt;R&gt;(\n    R Function(T data) onSuccess,\n    R Function(Exception error) onFailure,\n  ) {\n    return when(\n      success: onSuccess,\n      failure: onFailure,\n    );\n  }\n\n  Future&lt;Result&lt;R&gt;&gt; mapAsync&lt;R&gt;(\n    Future&lt;R&gt; Function(T data) mapper,\n  ) async {\n    return fold(\n      (data) async {\n        try {\n          final result = await mapper(data);\n          return Result.success(result);\n        } catch (e) {\n          return Result.failure(Exception(e.toString()));\n        }\n      },\n      (error) =&gt; Future.value(Result.failure(error)),\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_15","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"after_sales/clr_after_sales.html#_16","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>class AfterSalesExample {\n  final AppointmentService _appointmentService;\n  final ServiceProgressService _progressService;\n\n  AfterSalesExample(this._appointmentService, this._progressService);\n\n  Future&lt;void&gt; createAppointmentExample() async {\n    final request = AppointmentCreateRequest(\n      storeId: 'store_123',\n      serviceType: ServiceType.maintenance,\n      appointmentTime: DateTime.now().add(Duration(days: 1)),\n      vehicleInfo: VehicleInfo(\n        vin: 'WVWAA71K08W201030',\n        licensePlate: '\u4eacA12345',\n        model: 'ID.4 CROZZ',\n      ),\n      description: '\u5e38\u89c4\u4fdd\u517b',\n    );\n\n    final result = await _appointmentService.createAppointment(request);\n\n    result.fold(\n      (appointment) {\n        print('\u9884\u7ea6\u521b\u5efa\u6210\u529f: ${appointment.id}');\n      },\n      (error) {\n        print('\u9884\u7ea6\u521b\u5efa\u5931\u8d25: ${error.toString()}');\n      },\n    );\n  }\n\n  Future&lt;void&gt; trackServiceProgressExample(String appointmentId) async {\n    final result = await _progressService.getServiceProgress(appointmentId);\n\n    result.fold(\n      (progress) {\n        print('\u670d\u52a1\u8fdb\u5ea6: ${progress.progressPercentage}%');\n        print('\u5f53\u524d\u6b65\u9aa4: ${progress.steps.where((s) =&gt; s.status == ServiceStepStatus.inProgress).first.name}');\n      },\n      (error) {\n        print('\u83b7\u53d6\u8fdb\u5ea6\u5931\u8d25: ${error.toString()}');\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_17","title":"\u4f9d\u8d56\u6ce8\u5165\u914d\u7f6e","text":"<pre><code>class AfterSalesDI {\n  static void setupDependencies(GetIt locator) {\n    // \u6ce8\u518c\u4ed3\u5e93\n    locator.registerLazySingleton&lt;AppointmentRepository&gt;(\n      () =&gt; AppointmentRepositoryImpl(\n        locator&lt;LocalStorage&gt;(),\n        locator&lt;DatabaseHelper&gt;(),\n      ),\n    );\n\n    locator.registerLazySingleton&lt;ServiceProgressRepository&gt;(\n      () =&gt; ServiceProgressRepositoryImpl(\n        locator&lt;LocalStorage&gt;(),\n        locator&lt;DatabaseHelper&gt;(),\n      ),\n    );\n\n    // \u6ce8\u518c\u670d\u52a1\n    locator.registerLazySingleton&lt;AppointmentService&gt;(\n      () =&gt; AppointmentService(\n        locator&lt;AppointmentRepository&gt;(),\n        locator&lt;NetworkService&gt;(),\n      ),\n    );\n\n    locator.registerLazySingleton&lt;ServiceProgressService&gt;(\n      () =&gt; ServiceProgressService(\n        locator&lt;ServiceProgressRepository&gt;(),\n        locator&lt;NetworkService&gt;(),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_18","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"after_sales/clr_after_sales.html#_19","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>void main() {\n  group('AppointmentService', () {\n    late AppointmentService appointmentService;\n    late MockAppointmentRepository mockRepository;\n    late MockNetworkService mockNetworkService;\n\n    setUp(() {\n      mockRepository = MockAppointmentRepository();\n      mockNetworkService = MockNetworkService();\n      appointmentService = AppointmentService(mockRepository, mockNetworkService);\n    });\n\n    test('should create appointment successfully', () async {\n      // Arrange\n      final request = AppointmentCreateRequest(\n        storeId: 'store_123',\n        serviceType: ServiceType.maintenance,\n        appointmentTime: DateTime.now().add(Duration(days: 1)),\n        vehicleInfo: VehicleInfo(vin: 'TEST123'),\n      );\n\n      final expectedAppointment = Appointment(\n        id: 'appointment_123',\n        userId: 'user_123',\n        storeId: request.storeId,\n        serviceType: request.serviceType,\n        appointmentTime: request.appointmentTime,\n        status: AppointmentStatus.pending,\n        vehicleInfo: request.vehicleInfo,\n      );\n\n      when(mockNetworkService.post('/appointments', data: any))\n          .thenAnswer((_) async =&gt; ApiResponse(data: expectedAppointment.toJson()));\n\n      // Act\n      final result = await appointmentService.createAppointment(request);\n\n      // Assert\n      expect(result.isSuccess, true);\n      expect(result.data?.id, 'appointment_123');\n      verify(mockRepository.saveAppointment(any)).called(1);\n    });\n  });\n}\n</code></pre>"},{"location":"after_sales/clr_after_sales.html#_20","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"after_sales/clr_after_sales.html#api","title":"API\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u7edf\u4e00\u54cd\u5e94\u683c\u5f0f: \u6240\u6709API\u4f7f\u7528\u7edf\u4e00\u7684\u54cd\u5e94\u683c\u5f0f</li> <li>\u9519\u8bef\u5904\u7406: \u5b8c\u5584\u7684\u9519\u8bef\u7801\u548c\u9519\u8bef\u4fe1\u606f</li> <li>\u6570\u636e\u9a8c\u8bc1: \u4e25\u683c\u7684\u8f93\u5165\u6570\u636e\u9a8c\u8bc1</li> <li>\u5e42\u7b49\u6027: \u5173\u952e\u64cd\u4f5c\u652f\u6301\u5e42\u7b49\u6027</li> </ol>"},{"location":"after_sales/clr_after_sales.html#_21","title":"\u7f13\u5b58\u7b56\u7565","text":"<ol> <li>\u591a\u7ea7\u7f13\u5b58: \u5185\u5b58\u7f13\u5b58 + \u672c\u5730\u5b58\u50a8 + \u7f51\u7edc</li> <li>\u7f13\u5b58\u5931\u6548: \u57fa\u4e8e\u65f6\u95f4\u548c\u4e8b\u4ef6\u7684\u7f13\u5b58\u5931\u6548</li> <li>\u6570\u636e\u4e00\u81f4\u6027: \u4fdd\u8bc1\u7f13\u5b58\u4e0e\u670d\u52a1\u5668\u6570\u636e\u4e00\u81f4</li> <li>\u79bb\u7ebf\u652f\u6301: \u5173\u952e\u6570\u636e\u652f\u6301\u79bb\u7ebf\u8bbf\u95ee</li> </ol>"},{"location":"after_sales/clr_after_sales.html#_22","title":"\u603b\u7ed3","text":"<p><code>clr_after_sales</code> \u6a21\u5757\u4f5c\u4e3a\u552e\u540e\u670d\u52a1\u7684\u6838\u5fc3SDK\uff0c\u901a\u8fc7\u5b8c\u5584\u7684\u67b6\u6784\u8bbe\u8ba1\u548c\u6807\u51c6\u5316\u7684\u63a5\u53e3\u5c01\u88c5\uff0c\u4e3a\u552e\u540e\u670d\u52a1\u5e94\u7528\u63d0\u4f9b\u4e86\u7a33\u5b9a\u53ef\u9760\u7684\u6280\u672f\u652f\u6491\u3002\u6a21\u5757\u91c7\u7528\u4e86\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1\u601d\u60f3\uff0c\u5177\u6709\u826f\u597d\u7684\u53ef\u6d4b\u8bd5\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u652f\u6491\u590d\u6742\u7684\u552e\u540e\u4e1a\u52a1\u573a\u666f\u3002</p>"},{"location":"after_sales/oneapp_after_sales.html","title":"OneApp After Sales \u552e\u540e\u670d\u52a1\u4e3b\u6a21\u5757","text":""},{"location":"after_sales/oneapp_after_sales.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_after_sales</code> \u662f OneApp \u552e\u540e\u670d\u52a1\u6a21\u5757\u7fa4\u4e2d\u7684\u4e3b\u5e94\u7528\u6a21\u5757\uff0c\u8d1f\u8d23\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u6c7d\u8f66\u552e\u540e\u670d\u52a1\u529f\u80fd\u3002\u8be5\u6a21\u5757\u5305\u542b\u7ef4\u4fee\u9884\u7ea6\u3001\u670d\u52a1\u8ddf\u8e2a\u3001\u5ba2\u6237\u670d\u52a1\u3001\u652f\u4ed8\u7ed3\u7b97\u7b49\u6838\u5fc3\u529f\u80fd\uff0c\u4e3a\u8f66\u4e3b\u63d0\u4f9b\u4fbf\u6377\u7684\u552e\u540e\u670d\u52a1\u4f53\u9a8c\u3002</p>"},{"location":"after_sales/oneapp_after_sales.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: oneapp_after_sales</li> <li>\u7248\u672c: 0.0.1</li> <li>\u63cf\u8ff0: \u552e\u540e\u670d\u52a1\u4e3b\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"after_sales/oneapp_after_sales.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u7ef4\u4fee\u9884\u7ea6\u7ba1\u7406    - \u5728\u7ebf\u9884\u7ea6\u7ef4\u4fee\u670d\u52a1    - \u9884\u7ea6\u65f6\u95f4\u667a\u80fd\u8c03\u5ea6    - \u670d\u52a1\u95e8\u5e97\u9009\u62e9\u548c\u5bfc\u822a    - \u9884\u7ea6\u72b6\u6001\u5b9e\u65f6\u8ddf\u8e2a</p> </li> <li> <p>\u670d\u52a1\u6d41\u7a0b\u8ddf\u8e2a    - \u7ef4\u4fee\u8fdb\u5ea6\u5b9e\u65f6\u66f4\u65b0    - \u670d\u52a1\u7167\u7247\u548c\u89c6\u9891\u8bb0\u5f55    - \u6280\u5e08\u670d\u52a1\u8fc7\u7a0b\u5c55\u793a    - \u5b8c\u5de5\u901a\u77e5\u548c\u9a8c\u6536</p> </li> <li> <p>\u5ba2\u6237\u670d\u52a1\u4e2d\u5fc3    - \u5728\u7ebf\u5ba2\u670d\u804a\u5929    - \u6295\u8bc9\u5efa\u8bae\u63d0\u4ea4    - \u670d\u52a1\u8bc4\u4ef7\u53cd\u9988    - FAQ\u5e38\u89c1\u95ee\u9898</p> </li> <li> <p>\u652f\u4ed8\u548c\u7ed3\u7b97    - \u591a\u79cd\u652f\u4ed8\u65b9\u5f0f\u652f\u6301    - \u8d39\u7528\u660e\u7ec6\u900f\u660e\u5c55\u793a    - \u7535\u5b50\u53d1\u7968\u751f\u6210    - \u4f1a\u5458\u4f18\u60e0\u8ba1\u7b97</p> </li> </ol>"},{"location":"after_sales/oneapp_after_sales.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"after_sales/oneapp_after_sales.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 oneapp_after_sales.dart    # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 appointment/            # \u9884\u7ea6\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 service/                # \u670d\u52a1\u8ddf\u8e2a\n\u2502   \u251c\u2500\u2500 customer/               # \u5ba2\u6237\u670d\u52a1\n\u2502   \u251c\u2500\u2500 payment/                # \u652f\u4ed8\u7ed3\u7b97\n\u2502   \u251c\u2500\u2500 store/                  # \u95e8\u5e97\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 pages/                  # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 widgets/                # \u81ea\u5b9a\u4e49\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 assets/                     # \u8d44\u6e90\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"after_sales/oneapp_after_sales.html#_8","title":"\u57fa\u7840\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_webview: ^0.2.4+4</code> - WebView\u7ec4\u4ef6</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_9","title":"\u5730\u56fe\u548c\u4f4d\u7f6e\u670d\u52a1","text":"<ul> <li><code>ui_mapview: ^0.2.18</code> - \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li><code>amap_flutter_location: ^3.0.3</code> - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d</li> <li><code>clr_geo: ^0.2.16+1</code> - \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> <li><code>location_service_check: ^1.0.1</code> - \u4f4d\u7f6e\u670d\u52a1\u68c0\u67e5</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_10","title":"\u652f\u4ed8\u670d\u52a1","text":"<ul> <li><code>kit_alipay: ^0.2.0</code> - \u652f\u4ed8\u5b9d\u652f\u4ed8</li> <li><code>fluwx: ^4.4.3</code> - \u5fae\u4fe1\u652f\u4ed8</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_11","title":"\u5a92\u4f53\u548c\u6587\u4ef6\u5904\u7406","text":"<ul> <li><code>photo_view: ^0.14.0</code> - \u56fe\u7247\u9884\u89c8</li> <li><code>photo_gallery: 2.2.1+1</code> - \u76f8\u518c\u9009\u62e9</li> <li><code>signature: ^5.4.0</code> - \u7535\u5b50\u7b7e\u540d</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_12","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>permission_handler: ^10.3.0</code> - \u6743\u9650\u7ba1\u7406</li> <li><code>url_launcher: ^6.1.14</code> - URL\u542f\u52a8</li> <li><code>dio: any</code> - \u7f51\u7edc\u8bf7\u6c42</li> <li><code>common_utils: ^2.1.0</code> - \u901a\u7528\u5de5\u5177</li> <li><code>flutter_color_plugin: ^1.1.0</code> - \u989c\u8272\u5de5\u5177</li> </ul>"},{"location":"after_sales/oneapp_after_sales.html#_13","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"after_sales/oneapp_after_sales.html#1_srcappointment","title":"1. \u9884\u7ea6\u7ba1\u7406 (<code>src/appointment/</code>)","text":""},{"location":"after_sales/oneapp_after_sales.html#_14","title":"\u9884\u7ea6\u521b\u5efa\u6d41\u7a0b","text":"<pre><code>class AppointmentBookingPage extends StatefulWidget {\n  @override\n  _AppointmentBookingPageState createState() =&gt; _AppointmentBookingPageState();\n}\n\nclass _AppointmentBookingPageState extends State&lt;AppointmentBookingPage&gt; {\n  final AppointmentBookingController _controller = AppointmentBookingController();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u7ef4\u4fee\u9884\u7ea6')),\n      body: Stepper(\n        currentStep: _controller.currentStep,\n        onStepTapped: _controller.onStepTapped,\n        controlsBuilder: _buildStepControls,\n        steps: [\n          Step(\n            title: Text('\u9009\u62e9\u670d\u52a1'),\n            content: ServiceTypeSelector(\n              selectedType: _controller.selectedServiceType,\n              onTypeSelected: _controller.onServiceTypeSelected,\n            ),\n            isActive: _controller.currentStep &gt;= 0,\n          ),\n          Step(\n            title: Text('\u9009\u62e9\u95e8\u5e97'),\n            content: StoreSelector(\n              location: _controller.userLocation,\n              selectedStore: _controller.selectedStore,\n              onStoreSelected: _controller.onStoreSelected,\n            ),\n            isActive: _controller.currentStep &gt;= 1,\n          ),\n          Step(\n            title: Text('\u9884\u7ea6\u65f6\u95f4'),\n            content: TimeSlotSelector(\n              availableSlots: _controller.availableTimeSlots,\n              selectedSlot: _controller.selectedTimeSlot,\n              onSlotSelected: _controller.onTimeSlotSelected,\n            ),\n            isActive: _controller.currentStep &gt;= 2,\n          ),\n          Step(\n            title: Text('\u8f66\u8f86\u4fe1\u606f'),\n            content: VehicleInfoForm(\n              vehicleInfo: _controller.vehicleInfo,\n              onInfoChanged: _controller.onVehicleInfoChanged,\n            ),\n            isActive: _controller.currentStep &gt;= 3,\n          ),\n          Step(\n            title: Text('\u786e\u8ba4\u9884\u7ea6'),\n            content: AppointmentSummary(\n              appointment: _controller.appointmentSummary,\n            ),\n            isActive: _controller.currentStep &gt;= 4,\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_15","title":"\u9884\u7ea6\u7ba1\u7406\u5668","text":"<pre><code>class AppointmentManager {\n  static Future&lt;List&lt;Appointment&gt;&gt; getUserAppointments() async {\n    try {\n      final response = await AfterSalesAPI.getUserAppointments();\n      return response.data.map((json) =&gt; Appointment.fromJson(json)).toList();\n    } catch (e) {\n      throw AppointmentException('\u83b7\u53d6\u9884\u7ea6\u5217\u8868\u5931\u8d25: $e');\n    }\n  }\n\n  static Future&lt;Appointment&gt; createAppointment(AppointmentRequest request) async {\n    try {\n      final response = await AfterSalesAPI.createAppointment(request.toJson());\n      return Appointment.fromJson(response.data);\n    } catch (e) {\n      throw AppointmentException('\u521b\u5efa\u9884\u7ea6\u5931\u8d25: $e');\n    }\n  }\n\n  static Future&lt;bool&gt; cancelAppointment(String appointmentId) async {\n    try {\n      await AfterSalesAPI.cancelAppointment(appointmentId);\n      return true;\n    } catch (e) {\n      throw AppointmentException('\u53d6\u6d88\u9884\u7ea6\u5931\u8d25: $e');\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#2_srcservice","title":"2. \u670d\u52a1\u8ddf\u8e2a (<code>src/service/</code>)","text":""},{"location":"after_sales/oneapp_after_sales.html#_16","title":"\u670d\u52a1\u8fdb\u5ea6\u5c55\u793a","text":"<pre><code>class ServiceProgressPage extends StatefulWidget {\n  final String appointmentId;\n\n  const ServiceProgressPage({Key? key, required this.appointmentId}) : super(key: key);\n\n  @override\n  _ServiceProgressPageState createState() =&gt; _ServiceProgressPageState();\n}\n\nclass _ServiceProgressPageState extends State&lt;ServiceProgressPage&gt; {\n  ServiceProgress? _progress;\n  Timer? _progressTimer;\n\n  @override\n  void initState() {\n    super.initState();\n    _loadServiceProgress();\n    _startProgressPolling();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (_progress == null) {\n      return Scaffold(\n        appBar: AppBar(title: Text('\u670d\u52a1\u8fdb\u5ea6')),\n        body: Center(child: CircularProgressIndicator()),\n      );\n    }\n\n    return Scaffold(\n      appBar: AppBar(title: Text('\u670d\u52a1\u8fdb\u5ea6')),\n      body: SingleChildScrollView(\n        padding: EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            ServiceStatusCard(progress: _progress!),\n            SizedBox(height: 16),\n            ServiceTimelineWidget(steps: _progress!.steps),\n            SizedBox(height: 16),\n            if (_progress!.photos.isNotEmpty) ...[\n              ServicePhotosSection(photos: _progress!.photos),\n              SizedBox(height: 16),\n            ],\n            TechnicianInfoCard(technician: _progress!.technician),\n          ],\n        ),\n      ),\n    );\n  }\n\n  void _startProgressPolling() {\n    _progressTimer = Timer.periodic(Duration(seconds: 30), (timer) {\n      _loadServiceProgress();\n    });\n  }\n\n  @override\n  void dispose() {\n    _progressTimer?.cancel();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_17","title":"\u670d\u52a1\u65f6\u95f4\u8f74\u7ec4\u4ef6","text":"<pre><code>class ServiceTimelineWidget extends StatelessWidget {\n  final List&lt;ServiceStep&gt; steps;\n\n  const ServiceTimelineWidget({Key? key, required this.steps}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          '\u670d\u52a1\u8fdb\u5ea6',\n          style: Theme.of(context).textTheme.titleLarge,\n        ),\n        SizedBox(height: 16),\n        Timeline.tileBuilder(\n          shrinkWrap: true,\n          physics: NeverScrollableScrollPhysics(),\n          builder: TimelineTileBuilder.connected(\n            itemCount: steps.length,\n            connectionDirection: ConnectionDirection.before,\n            itemExtentBuilder: (_, __) =&gt; 80.0,\n            contentsBuilder: (context, index) {\n              final step = steps[index];\n              return Padding(\n                padding: EdgeInsets.all(8.0),\n                child: Column(\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      step.title,\n                      style: TextStyle(\n                        fontWeight: FontWeight.bold,\n                        color: step.isCompleted ? Colors.green : Colors.grey,\n                      ),\n                    ),\n                    Text(\n                      step.description,\n                      style: TextStyle(fontSize: 12),\n                    ),\n                    if (step.completedAt != null)\n                      Text(\n                        DateFormat('MM-dd HH:mm').format(step.completedAt!),\n                        style: TextStyle(fontSize: 10, color: Colors.grey),\n                      ),\n                  ],\n                ),\n              );\n            },\n            indicatorBuilder: (context, index) {\n              final step = steps[index];\n              return DotIndicator(\n                color: step.isCompleted ? Colors.green : Colors.grey,\n                child: Icon(\n                  step.isCompleted ? Icons.check : Icons.schedule,\n                  color: Colors.white,\n                  size: 16,\n                ),\n              );\n            },\n            connectorBuilder: (context, index, type) {\n              return SolidLineConnector(\n                color: steps[index].isCompleted ? Colors.green : Colors.grey,\n              );\n            },\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#3_srccustomer","title":"3. \u5ba2\u6237\u670d\u52a1 (<code>src/customer/</code>)","text":""},{"location":"after_sales/oneapp_after_sales.html#_18","title":"\u5728\u7ebf\u5ba2\u670d\u804a\u5929","text":"<pre><code>class CustomerServiceChatPage extends StatefulWidget {\n  @override\n  _CustomerServiceChatPageState createState() =&gt; _CustomerServiceChatPageState();\n}\n\nclass _CustomerServiceChatPageState extends State&lt;CustomerServiceChatPage&gt; {\n  final List&lt;ChatMessage&gt; _messages = [];\n  final TextEditingController _textController = TextEditingController();\n  final ScrollController _scrollController = ScrollController();\n  late WebSocketChannel _channel;\n\n  @override\n  void initState() {\n    super.initState();\n    _connectToCustomerService();\n    _loadChatHistory();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u5728\u7ebf\u5ba2\u670d'),\n        actions: [\n          IconButton(\n            icon: Icon(Icons.phone),\n            onPressed: _makePhoneCall,\n          ),\n        ],\n      ),\n      body: Column(\n        children: [\n          Expanded(\n            child: ListView.builder(\n              controller: _scrollController,\n              padding: EdgeInsets.all(16),\n              itemCount: _messages.length,\n              itemBuilder: (context, index) {\n                return ChatMessageBubble(message: _messages[index]);\n              },\n            ),\n          ),\n          _buildMessageInput(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildMessageInput() {\n    return Container(\n      padding: EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        border: Border(top: BorderSide(color: Colors.grey[300]!)),\n      ),\n      child: Row(\n        children: [\n          IconButton(\n            icon: Icon(Icons.add),\n            onPressed: _showAttachmentOptions,\n          ),\n          Expanded(\n            child: TextField(\n              controller: _textController,\n              decoration: InputDecoration(\n                hintText: '\u8bf7\u8f93\u5165\u6d88\u606f...',\n                border: OutlineInputBorder(\n                  borderRadius: BorderRadius.circular(20),\n                ),\n                contentPadding: EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n              ),\n              onSubmitted: _sendMessage,\n            ),\n          ),\n          SizedBox(width: 8),\n          IconButton(\n            icon: Icon(Icons.send, color: Theme.of(context).primaryColor),\n            onPressed: () =&gt; _sendMessage(_textController.text),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#4_srcpayment","title":"4. \u652f\u4ed8\u7ed3\u7b97 (<code>src/payment/</code>)","text":""},{"location":"after_sales/oneapp_after_sales.html#_19","title":"\u652f\u4ed8\u7ba1\u7406\u5668","text":"<pre><code>class PaymentManager {\n  static Future&lt;PaymentResult&gt; processPayment({\n    required PaymentMethod method,\n    required double amount,\n    required String orderId,\n    Map&lt;String, dynamic&gt;? extras,\n  }) async {\n    try {\n      switch (method) {\n        case PaymentMethod.alipay:\n          return await _processAlipayPayment(amount, orderId, extras);\n        case PaymentMethod.wechat:\n          return await _processWechatPayment(amount, orderId, extras);\n        case PaymentMethod.card:\n          return await _processBankCardPayment(amount, orderId, extras);\n        default:\n          throw PaymentException('\u4e0d\u652f\u6301\u7684\u652f\u4ed8\u65b9\u5f0f');\n      }\n    } catch (e) {\n      return PaymentResult.failure(error: e.toString());\n    }\n  }\n\n  static Future&lt;PaymentResult&gt; _processAlipayPayment(\n    double amount,\n    String orderId,\n    Map&lt;String, dynamic&gt;? extras,\n  ) async {\n    // \u83b7\u53d6\u652f\u4ed8\u5b9d\u652f\u4ed8\u53c2\u6570\n    final paymentParams = await AfterSalesAPI.getAlipayParams(\n      amount: amount,\n      orderId: orderId,\n      extras: extras,\n    );\n\n    // \u8c03\u7528\u652f\u4ed8\u5b9dSDK\n    final result = await AlipayKit.pay(paymentParams.orderString);\n\n    if (result.resultStatus == '9000') {\n      return PaymentResult.success(\n        transactionId: result.result,\n        method: PaymentMethod.alipay,\n      );\n    } else {\n      return PaymentResult.failure(error: result.memo);\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_20","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"after_sales/oneapp_after_sales.html#_21","title":"\u9884\u7ea6\u6a21\u578b","text":"<pre><code>@freezed\nclass Appointment with _$Appointment {\n  const factory Appointment({\n    required String id,\n    required String userId,\n    required ServiceType serviceType,\n    required Store store,\n    required DateTime appointmentTime,\n    required VehicleInfo vehicleInfo,\n    required AppointmentStatus status,\n    String? description,\n    List&lt;String&gt;? attachments,\n    DateTime? createdAt,\n    DateTime? updatedAt,\n  }) = _Appointment;\n\n  factory Appointment.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$AppointmentFromJson(json);\n}\n\nenum AppointmentStatus {\n  pending,    // \u5f85\u786e\u8ba4\n  confirmed,  // \u5df2\u786e\u8ba4\n  inProgress, // \u8fdb\u884c\u4e2d\n  completed,  // \u5df2\u5b8c\u6210\n  cancelled,  // \u5df2\u53d6\u6d88\n}\n\nenum ServiceType {\n  maintenance,     // \u4fdd\u517b\n  repair,          // \u7ef4\u4fee\n  inspection,      // \u68c0\u6d4b\n  bodywork,        // \u94a3\u55b7\n  insurance,       // \u4fdd\u9669\n  emergency,       // \u7d27\u6025\u6551\u63f4\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_22","title":"\u670d\u52a1\u8fdb\u5ea6\u6a21\u578b","text":"<pre><code>@freezed\nclass ServiceProgress with _$ServiceProgress {\n  const factory ServiceProgress({\n    required String appointmentId,\n    required ServiceStatus status,\n    required List&lt;ServiceStep&gt; steps,\n    required Technician technician,\n    required Store store,\n    @Default([]) List&lt;ServicePhoto&gt; photos,\n    String? currentStepDescription,\n    DateTime? estimatedCompletion,\n    double? totalCost,\n  }) = _ServiceProgress;\n\n  factory ServiceProgress.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ServiceProgressFromJson(json);\n}\n\n@freezed\nclass ServiceStep with _$ServiceStep {\n  const factory ServiceStep({\n    required String id,\n    required String title,\n    required String description,\n    required bool isCompleted,\n    DateTime? completedAt,\n    String? note,\n  }) = _ServiceStep;\n\n  factory ServiceStep.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ServiceStepFromJson(json);\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_23","title":"\u4e1a\u52a1\u6d41\u7a0b\u5b9e\u73b0","text":""},{"location":"after_sales/oneapp_after_sales.html#_24","title":"\u9884\u7ea6\u6d41\u7a0b\u7ba1\u7406","text":"<pre><code>class AppointmentWorkflow {\n  static Future&lt;AppointmentResult&gt; executeBookingWorkflow(\n    AppointmentRequest request,\n  ) async {\n    try {\n      // 1. \u9a8c\u8bc1\u9884\u7ea6\u65f6\u95f4\u53ef\u7528\u6027\n      final availability = await _checkTimeAvailability(\n        request.storeId,\n        request.appointmentTime,\n      );\n\n      if (!availability.isAvailable) {\n        return AppointmentResult.failure(\n          error: '\u6240\u9009\u65f6\u95f4\u4e0d\u53ef\u7528\uff0c\u5efa\u8bae\u65f6\u95f4\uff1a${availability.suggestedTimes}',\n        );\n      }\n\n      // 2. \u521b\u5efa\u9884\u7ea6\u8bb0\u5f55\n      final appointment = await AppointmentManager.createAppointment(request);\n\n      // 3. \u53d1\u9001\u786e\u8ba4\u901a\u77e5\n      await NotificationService.sendAppointmentConfirmation(appointment);\n\n      // 4. \u66f4\u65b0\u95e8\u5e97\u6392\u73ed\n      await StoreScheduleService.updateSchedule(\n        appointment.store.id,\n        appointment.appointmentTime,\n      );\n\n      return AppointmentResult.success(appointment: appointment);\n    } catch (e) {\n      return AppointmentResult.failure(error: e.toString());\n    }\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_25","title":"\u96c6\u6210\u548c\u6d4b\u8bd5","text":""},{"location":"after_sales/oneapp_after_sales.html#api","title":"API\u96c6\u6210","text":"<pre><code>class AfterSalesAPI {\n  static const String baseUrl = 'https://api.oneapp.com/after-sales';\n  static final Dio _dio = Dio();\n\n  static Future&lt;ApiResponse&gt; createAppointment(Map&lt;String, dynamic&gt; data) async {\n    final response = await _dio.post('$baseUrl/appointments', data: data);\n    return ApiResponse.fromJson(response.data);\n  }\n\n  static Future&lt;ApiResponse&gt; getServiceProgress(String appointmentId) async {\n    final response = await _dio.get('$baseUrl/appointments/$appointmentId/progress');\n    return ApiResponse.fromJson(response.data);\n  }\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_26","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>void main() {\n  group('AppointmentManager', () {\n    test('should create appointment successfully', () async {\n      final request = AppointmentRequest(\n        serviceType: ServiceType.maintenance,\n        storeId: 'store_123',\n        appointmentTime: DateTime.now().add(Duration(days: 1)),\n        vehicleInfo: VehicleInfo(vin: 'TEST123'),\n      );\n\n      final appointment = await AppointmentManager.createAppointment(request);\n\n      expect(appointment.id, isNotEmpty);\n      expect(appointment.serviceType, ServiceType.maintenance);\n      expect(appointment.status, AppointmentStatus.pending);\n    });\n  });\n}\n</code></pre>"},{"location":"after_sales/oneapp_after_sales.html#_27","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"after_sales/oneapp_after_sales.html#_28","title":"\u7528\u6237\u4f53\u9a8c\u4f18\u5316","text":"<ol> <li>\u6d41\u7a0b\u7b80\u5316: \u51cf\u5c11\u9884\u7ea6\u6b65\u9aa4\uff0c\u63d0\u4f9b\u667a\u80fd\u63a8\u8350</li> <li>\u5b9e\u65f6\u53cd\u9988: \u53ca\u65f6\u66f4\u65b0\u670d\u52a1\u8fdb\u5ea6\u548c\u72b6\u6001</li> <li>\u591a\u6e20\u9053\u6c9f\u901a: \u63d0\u4f9b\u7535\u8bdd\u3001\u5728\u7ebf\u5ba2\u670d\u7b49\u591a\u79cd\u8054\u7cfb\u65b9\u5f0f</li> <li>\u900f\u660e\u8ba1\u8d39: \u6e05\u6670\u5c55\u793a\u8d39\u7528\u660e\u7ec6\u548c\u8ba1\u7b97\u8fc7\u7a0b</li> </ol>"},{"location":"after_sales/oneapp_after_sales.html#_29","title":"\u6027\u80fd\u4f18\u5316","text":"<ol> <li>\u6570\u636e\u7f13\u5b58: \u7f13\u5b58\u95e8\u5e97\u4fe1\u606f\u548c\u670d\u52a1\u6570\u636e</li> <li>\u56fe\u7247\u4f18\u5316: \u538b\u7f29\u548c\u7f13\u5b58\u670d\u52a1\u7167\u7247</li> <li>\u7f51\u7edc\u4f18\u5316: \u4f7f\u7528CDN\u52a0\u901f\u8d44\u6e90\u52a0\u8f7d</li> <li>\u79bb\u7ebf\u652f\u6301: \u5173\u952e\u4fe1\u606f\u652f\u6301\u79bb\u7ebf\u67e5\u770b</li> </ol>"},{"location":"after_sales/oneapp_after_sales.html#_30","title":"\u603b\u7ed3","text":"<p><code>oneapp_after_sales</code> \u6a21\u5757\u4f5c\u4e3a\u552e\u540e\u670d\u52a1\u7684\u4e3b\u8981\u5165\u53e3\uff0c\u901a\u8fc7\u5b8c\u6574\u7684\u4e1a\u52a1\u6d41\u7a0b\u8bbe\u8ba1\u548c\u7528\u6237\u53cb\u597d\u7684\u754c\u9762\u5b9e\u73b0\uff0c\u4e3a\u8f66\u4e3b\u63d0\u4f9b\u4e86\u4fbf\u6377\u9ad8\u6548\u7684\u552e\u540e\u670d\u52a1\u4f53\u9a8c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u552e\u540e\u670d\u52a1\u9700\u6c42\u3002</p>"},{"location":"app_car/index.html","title":"OneApp App Car \u8f66\u8f86\u76f8\u5173\u6a21\u5757\u7fa4\u6587\u6863","text":""},{"location":"app_car/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p><code>oneapp_app_car</code> \u662f OneApp \u4e2d\u6700\u91cd\u8981\u7684\u6a21\u5757\u7fa4\u4e4b\u4e00\uff0c\u5305\u542b\u4e86\u6240\u6709\u4e0e\u8f66\u8f86\u76f8\u5173\u7684\u529f\u80fd\u6a21\u5757\u3002\u8be5\u6a21\u5757\u7fa4\u6db5\u76d6\u4e86\u8f66\u8f86\u63a7\u5236\u3001\u5145\u7535\u7ba1\u7406\u3001\u865a\u62df\u5f62\u8c61\u3001\u7ef4\u62a4\u4fdd\u517b\u3001\u8ba2\u5355\u7ba1\u7406\u7b49\u6838\u5fc3\u4e1a\u52a1\u529f\u80fd\u3002</p>"},{"location":"app_car/index.html#_2","title":"\u6a21\u5757\u7ed3\u6784\u603b\u89c8","text":"<pre><code>oneapp_app_car/\n\u251c\u2500\u2500 ai_chat_assistant/          # AI \u804a\u5929\u52a9\u624b\u6a21\u5757\n\u251c\u2500\u2500 amap_flutter_location/      # \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u63d2\u4ef6\n\u251c\u2500\u2500 amap_flutter_search/        # \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u63d2\u4ef6\n\u251c\u2500\u2500 app_avatar/                 # \u865a\u62df\u5f62\u8c61\u5e94\u7528\u6a21\u5757\n\u251c\u2500\u2500 app_car/                    # \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757\n\u251c\u2500\u2500 app_carwatcher/            # \u8f66\u8f86\u76d1\u63a7\u6a21\u5757\n\u251c\u2500\u2500 app_charging/              # \u5145\u7535\u7ba1\u7406\u6a21\u5757\n\u251c\u2500\u2500 app_composer/              # \u7f16\u8f91\u5668\u7ec4\u4ef6\u6a21\u5757\n\u251c\u2500\u2500 app_maintenance/           # \u7ef4\u62a4\u4fdd\u517b\u6a21\u5757\n\u251c\u2500\u2500 app_order/                 # \u8ba2\u5355\u7ba1\u7406\u6a21\u5757\n\u251c\u2500\u2500 app_rpa/                   # RPA \u81ea\u52a8\u5316\u6a21\u5757\n\u251c\u2500\u2500 app_touchgo/               # Touch&amp;Go \u529f\u80fd\u6a21\u5757\n\u251c\u2500\u2500 app_vur/                   # \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757\n\u251c\u2500\u2500 app_wallbox/               # \u5bb6\u5145\u6869\u7ba1\u7406\u6a21\u5757\n\u251c\u2500\u2500 car_services/              # \u8f66\u8f86\u670d\u52a1\u6a21\u5757\n\u251c\u2500\u2500 clr_avatarcore/           # \u865a\u62df\u5f62\u8c61\u6838\u5fc3 SDK\n\u251c\u2500\u2500 clr_order/                # \u8ba2\u5355\u670d\u52a1 SDK\n\u251c\u2500\u2500 clr_touchgo/              # Touch&amp;Go \u670d\u52a1 SDK\n\u251c\u2500\u2500 clr_wallbox/              # \u5bb6\u5145\u6869\u670d\u52a1 SDK\n\u251c\u2500\u2500 kit_rpa_plugin/           # RPA \u63d2\u4ef6\u5de5\u5177\u5305\n\u251c\u2500\u2500 one_app_cache_plugin/     # \u7f13\u5b58\u63d2\u4ef6\n\u2514\u2500\u2500 ui_avatarx/               # \u865a\u62df\u5f62\u8c61 UI \u7ec4\u4ef6\n</code></pre>"},{"location":"app_car/index.html#_3","title":"\u6a21\u5757\u5206\u7c7b","text":""},{"location":"app_car/index.html#1","title":"1. \u6838\u5fc3\u8f66\u8f86\u529f\u80fd\u6a21\u5757","text":"<ul> <li>app_car - \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757\uff0c\u63d0\u4f9b\u57fa\u7840\u7684\u8f66\u8f86\u64cd\u4f5c\u529f\u80fd</li> <li>app_carwatcher - \u8f66\u8f86\u76d1\u63a7\u6a21\u5757\uff0c\u5b9e\u65f6\u76d1\u63a7\u8f66\u8f86\u72b6\u6001</li> <li>car_services - \u8f66\u8f86\u670d\u52a1\u6a21\u5757\uff0c\u63d0\u4f9b\u5404\u79cd\u8f66\u8f86\u76f8\u5173\u670d\u52a1</li> </ul>"},{"location":"app_car/index.html#2","title":"2. \u5145\u7535\u76f8\u5173\u6a21\u5757","text":"<ul> <li>app_charging - \u5145\u7535\u7ba1\u7406\u6a21\u5757\uff0c\u7ba1\u7406\u8f66\u8f86\u5145\u7535\u529f\u80fd</li> <li>app_wallbox - \u5bb6\u5145\u6869\u7ba1\u7406\u6a21\u5757\uff0c\u7ba1\u7406\u5bb6\u7528\u5145\u7535\u6869</li> <li>clr_wallbox - \u5bb6\u5145\u6869\u670d\u52a1 SDK</li> </ul>"},{"location":"app_car/index.html#3","title":"3. \u865a\u62df\u5f62\u8c61\u6a21\u5757\u7fa4","text":"<ul> <li>app_avatar - \u865a\u62df\u5f62\u8c61\u5e94\u7528\u6a21\u5757</li> <li>clr_avatarcore - \u865a\u62df\u5f62\u8c61\u6838\u5fc3 SDK</li> <li>ui_avatarx - \u865a\u62df\u5f62\u8c61 UI \u7ec4\u4ef6</li> </ul>"},{"location":"app_car/index.html#4","title":"4. \u8ba2\u5355\u548c\u652f\u4ed8\u6a21\u5757","text":"<ul> <li>app_order - \u8ba2\u5355\u7ba1\u7406\u6a21\u5757</li> <li>clr_order - \u8ba2\u5355\u670d\u52a1 SDK</li> </ul>"},{"location":"app_car/index.html#5","title":"5. \u667a\u80fd\u529f\u80fd\u6a21\u5757","text":"<ul> <li>ai_chat_assistant - AI \u804a\u5929\u52a9\u624b\u6a21\u5757</li> <li>app_touchgo - Touch&amp;Go \u529f\u80fd\u6a21\u5757</li> <li>clr_touchgo - Touch&amp;Go \u670d\u52a1 SDK</li> </ul>"},{"location":"app_car/index.html#6","title":"6. \u7ef4\u62a4\u548c\u7ba1\u7406\u6a21\u5757","text":"<ul> <li>app_maintenance - \u7ef4\u62a4\u4fdd\u517b\u6a21\u5757</li> <li>app_vur - \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757</li> <li>app_composer - \u7f16\u8f91\u5668\u7ec4\u4ef6\u6a21\u5757</li> </ul>"},{"location":"app_car/index.html#7","title":"7. \u81ea\u52a8\u5316\u548c\u5de5\u5177\u6a21\u5757","text":"<ul> <li>app_rpa - RPA \u81ea\u52a8\u5316\u6a21\u5757</li> <li>kit_rpa_plugin - RPA \u63d2\u4ef6\u5de5\u5177\u5305</li> <li>one_app_cache_plugin - \u7f13\u5b58\u63d2\u4ef6</li> </ul>"},{"location":"app_car/index.html#8","title":"8. \u5730\u56fe\u548c\u5b9a\u4f4d\u6a21\u5757","text":"<ul> <li>amap_flutter_location - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u63d2\u4ef6</li> <li>amap_flutter_search - \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u63d2\u4ef6</li> </ul>"},{"location":"app_car/index.html#_4","title":"\u6a21\u5757\u95f4\u4f9d\u8d56\u5173\u7cfb","text":"<pre><code>graph TD\n    A[app_car \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757] --&gt; B[car_services \u8f66\u8f86\u670d\u52a1]\n    A --&gt; C[app_carwatcher \u8f66\u8f86\u76d1\u63a7]\n    A --&gt; D[app_charging \u5145\u7535\u7ba1\u7406]\n\n    E[app_avatar \u865a\u62df\u5f62\u8c61] --&gt; F[clr_avatarcore \u865a\u62df\u5f62\u8c61\u6838\u5fc3]\n    E --&gt; G[ui_avatarx \u865a\u62df\u5f62\u8c61UI]\n\n    H[app_order \u8ba2\u5355\u7ba1\u7406] --&gt; I[clr_order \u8ba2\u5355\u670d\u52a1]\n    H --&gt; J[app_charging \u5145\u7535\u7ba1\u7406]\n\n    K[app_touchgo Touch&amp;Go] --&gt; L[clr_touchgo Touch&amp;Go\u670d\u52a1]\n\n    M[app_wallbox \u5bb6\u5145\u6869] --&gt; N[clr_wallbox \u5bb6\u5145\u6869\u670d\u52a1]\n    M --&gt; D\n\n    O[ai_chat_assistant AI\u52a9\u624b] --&gt; A\n    O --&gt; E</code></pre>"},{"location":"app_car/index.html#_5","title":"\u6280\u672f\u67b6\u6784\u7279\u70b9","text":""},{"location":"app_car/index.html#1_1","title":"1. \u5206\u5c42\u67b6\u6784","text":"<ul> <li>\u5e94\u7528\u5c42 (app_*): \u4e1a\u52a1\u903b\u8f91\u548c\u7528\u6237\u754c\u9762</li> <li>\u670d\u52a1\u5c42 (clr_*): \u6838\u5fc3\u670d\u52a1\u548c SDK</li> <li>\u5de5\u5177\u5c42 (kit_, ui_): \u5de5\u5177\u548c UI \u7ec4\u4ef6</li> <li>\u63d2\u4ef6\u5c42 (plugin): \u539f\u751f\u529f\u80fd\u63d2\u4ef6</li> </ul>"},{"location":"app_car/index.html#2_1","title":"2. \u6a21\u5757\u5316\u8bbe\u8ba1","text":"<ul> <li>\u6bcf\u4e2a\u6a21\u5757\u72ec\u7acb\u5f00\u53d1\u548c\u6d4b\u8bd5</li> <li>\u6e05\u6670\u7684\u63a5\u53e3\u5b9a\u4e49\u548c\u4f9d\u8d56\u7ba1\u7406</li> <li>\u652f\u6301\u70ed\u63d2\u62d4\u548c\u52a8\u6001\u52a0\u8f7d</li> </ul>"},{"location":"app_car/index.html#3_1","title":"3. \u670d\u52a1\u5316\u67b6\u6784","text":"<ul> <li>\u5fae\u670d\u52a1\u8bbe\u8ba1\u7406\u5ff5</li> <li>RESTful API \u63a5\u53e3</li> <li>\u7edf\u4e00\u7684\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"app_car/index.html#_6","title":"\u8be6\u7ec6\u6a21\u5757\u6587\u6863","text":"<ul> <li>AI Chat Assistant - AI \u804a\u5929\u52a9\u624b</li> <li>App Car - \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757</li> <li>App Avatar - \u865a\u62df\u5f62\u8c61\u6a21\u5757</li> <li>App Charging - \u5145\u7535\u7ba1\u7406\u6a21\u5757</li> <li>App CarWatcher - \u8f66\u8f86\u76d1\u63a7\u6a21\u5757</li> <li>App Order - \u8ba2\u5355\u7ba1\u7406\u6a21\u5757</li> <li>App TouchGo - Touch&amp;Go \u529f\u80fd\u6a21\u5757</li> <li>App Wallbox - \u5bb6\u5145\u6869\u7ba1\u7406\u6a21\u5757</li> <li>App Maintenance - \u7ef4\u62a4\u4fdd\u517b\u6a21\u5757</li> <li>App VUR - \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757</li> <li>Car Services - \u8f66\u8f86\u670d\u52a1\u6a21\u5757</li> <li>CLR AvatarCore - \u865a\u62df\u5f62\u8c61\u6838\u5fc3 SDK</li> <li>CLR Order - \u8ba2\u5355\u670d\u52a1 SDK</li> <li>CLR TouchGo - Touch&amp;Go \u670d\u52a1 SDK</li> <li>CLR Wallbox - \u5bb6\u5145\u6869\u670d\u52a1 SDK</li> <li>Kit RPA Plugin - RPA \u63d2\u4ef6\u5de5\u5177\u5305</li> <li>AMap Flutter Location - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u63d2\u4ef6</li> <li>AMap Flutter Search - \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u63d2\u4ef6</li> <li>UI AvatarX - \u865a\u62df\u5f62\u8c61 UI \u7ec4\u4ef6</li> <li>One App Cache Plugin - \u7f13\u5b58\u63d2\u4ef6</li> </ul>"},{"location":"app_car/index.html#_7","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"app_car/index.html#_8","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Flutter &gt;=3.0.0</li> <li>Dart &gt;=3.0.0</li> <li>Android SDK &gt;=21</li> <li>iOS &gt;=11.0</li> </ul>"},{"location":"app_car/index.html#_9","title":"\u6784\u5efa\u8bf4\u660e","text":"<p>\u6bcf\u4e2a\u6a21\u5757\u90fd\u53ef\u4ee5\u72ec\u7acb\u6784\u5efa\u548c\u6d4b\u8bd5\uff0c\u540c\u65f6\u652f\u6301\u96c6\u6210\u6784\u5efa\u3002\u5177\u4f53\u7684\u6784\u5efa\u65b9\u5f0f\u8bf7\u53c2\u8003\u5404\u6a21\u5757\u7684\u8be6\u7ec6\u6587\u6863\u3002</p>"},{"location":"app_car/index.html#_10","title":"\u6d4b\u8bd5\u7b56\u7565","text":"<ul> <li>\u5355\u5143\u6d4b\u8bd5\uff1a\u6bcf\u4e2a\u6a21\u5757\u7684\u6838\u5fc3\u529f\u80fd</li> <li>\u96c6\u6210\u6d4b\u8bd5\uff1a\u6a21\u5757\u95f4\u7684\u4ea4\u4e92</li> <li>\u7aef\u5230\u7aef\u6d4b\u8bd5\uff1a\u5b8c\u6574\u7684\u7528\u6237\u573a\u666f</li> </ul>"},{"location":"app_car/index.html#_11","title":"\u603b\u7ed3","text":"<p><code>oneapp_app_car</code> \u6a21\u5757\u7fa4\u662f OneApp \u8f66\u4e3b\u5e94\u7528\u7684\u6838\u5fc3\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8f66\u8f86\u76f8\u5173\u529f\u80fd\u751f\u6001\u3002\u901a\u8fc7\u5408\u7406\u7684\u6a21\u5757\u5316\u8bbe\u8ba1\u548c\u6e05\u6670\u7684\u67b6\u6784\u5206\u5c42\uff0c\u5b9e\u73b0\u4e86\u9ad8\u5185\u805a\u3001\u4f4e\u8026\u5408\u7684\u8bbe\u8ba1\u76ee\u6807\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e30\u5bcc\u800c\u7a33\u5b9a\u7684\u8f66\u8f86\u670d\u52a1\u4f53\u9a8c\u3002</p>"},{"location":"app_car/index.html#app_car","title":"App Car \u8f66\u8f86\u529f\u80fd\u6a21\u5757\u7fa4","text":""},{"location":"app_car/index.html#_12","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>App Car \u6a21\u5757\u7fa4\u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u7684\u6838\u5fc3\u529f\u80fd\u96c6\u5408\uff0c\u5305\u542b\u4e86\u8f66\u8f86\u63a7\u5236\u3001\u5145\u7535\u7ba1\u7406\u3001\u865a\u62df\u5f62\u8c61\u3001\u7ef4\u62a4\u4fdd\u517b\u7b49\u5168\u65b9\u4f4d\u7684\u8f66\u8f86\u76f8\u5173\u529f\u80fd\u6a21\u5757\u3002\u8be5\u6a21\u5757\u7fa4\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u667a\u80fd\u8f66\u8f86\u7ba1\u7406\u548c\u63a7\u5236\u4f53\u9a8c\u3002</p>"},{"location":"app_car/index.html#_13","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"app_car/index.html#_14","title":"\u5e94\u7528\u529f\u80fd\u6a21\u5757","text":"<ol> <li>ai_chat_assistant - AI\u804a\u5929\u52a9\u624b\u6a21\u5757</li> <li>app_avatar - \u865a\u62df\u5f62\u8c61\u5e94\u7528\u6a21\u5757  </li> <li>app_car - \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757</li> <li>app_carwatcher - \u8f66\u8f86\u76d1\u63a7\u6a21\u5757</li> <li>app_charging - \u5145\u7535\u7ba1\u7406\u6a21\u5757</li> <li>app_composer - \u8f66\u8f86\u7f16\u6392\u6a21\u5757</li> <li>app_maintenance - \u7ef4\u62a4\u4fdd\u517b\u6a21\u5757</li> <li>app_order - \u8ba2\u5355\u7ba1\u7406\u6a21\u5757</li> <li>app_rpa - RPA\u81ea\u52a8\u5316\u6a21\u5757</li> <li>app_touchgo - \u89e6\u63a7\u4ea4\u4e92\u6a21\u5757</li> <li>app_vur - \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757</li> <li>app_wallbox - \u5145\u7535\u5899\u76d2\u6a21\u5757</li> </ol>"},{"location":"app_car/index.html#sdk","title":"\u670d\u52a1SDK\u6a21\u5757","text":"<ol> <li>car_services - \u8f66\u8f86\u670d\u52a1\u7edf\u4e00\u63a5\u53e3</li> <li>clr_avatarcore - \u865a\u62df\u5f62\u8c61\u6838\u5fc3\u670d\u52a1</li> <li>clr_order - \u8ba2\u5355\u670d\u52a1SDK</li> <li>clr_touchgo - \u89e6\u63a7\u670d\u52a1SDK</li> <li>clr_wallbox - \u5145\u7535\u5899\u76d2\u670d\u52a1SDK</li> </ol>"},{"location":"app_car/index.html#_15","title":"\u539f\u751f\u63d2\u4ef6\u6a21\u5757","text":"<ol> <li>kit_rpa_plugin - RPA\u81ea\u52a8\u5316\u539f\u751f\u63d2\u4ef6</li> <li>one_app_cache_plugin - \u7f13\u5b58\u539f\u751f\u63d2\u4ef6</li> </ol>"},{"location":"app_car/index.html#ui","title":"UI\u7ec4\u4ef6\u6a21\u5757","text":"<ol> <li>ui_avatarx - \u865a\u62df\u5f62\u8c61UI\u7ec4\u4ef6\u5e93</li> </ol>"},{"location":"app_car/index.html#_16","title":"\u7b2c\u4e09\u65b9\u96c6\u6210\u6a21\u5757","text":"<ol> <li>amap_flutter_location - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u670d\u52a1</li> <li>amap_flutter_search - \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u670d\u52a1</li> </ol>"},{"location":"app_car/ai_chat_assistant.html","title":"AI Chat Assistant - AI \u804a\u5929\u52a9\u624b\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/ai_chat_assistant.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>ai_chat_assistant</code> \u662f OneApp \u8f66\u8f86\u6a21\u5757\u7fa4\u4e2d\u7684\u667a\u80fd\u4ea4\u4e92\u6a21\u5757\uff0c\u63d0\u4f9b\u57fa\u4e8e\u4eba\u5de5\u667a\u80fd\u7684\u8bed\u97f3\u548c\u6587\u5b57\u804a\u5929\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u8bed\u97f3\u8bc6\u522b\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u8bed\u97f3\u5408\u6210\u7b49\u6280\u672f\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u667a\u80fd\u5316\u7684\u8f66\u8f86\u52a9\u624b\u670d\u52a1\u3002</p>"},{"location":"app_car/ai_chat_assistant.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: ai_chat_assistant</li> <li>\u7248\u672c: 1.0.0+1</li> <li>\u7c7b\u578b: Flutter Application Module</li> <li>Dart \u7248\u672c: ^3.5.0</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>ai_chat_assistant/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app.dart                  # \u5e94\u7528\u5165\u53e3\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 main.dart                 # \u4e3b\u5165\u53e3\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 enums/                    # \u679a\u4e3e\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 models/                   # \u6570\u636e\u6a21\u578b\n\u2502   \u251c\u2500\u2500 screens/                  # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 services/                 # \u670d\u52a1\u5c42\n\u2502   \u251c\u2500\u2500 themes/                   # \u4e3b\u9898\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 utils/                    # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 widgets/                  # \u81ea\u5b9a\u4e49\u7ec4\u4ef6\n\u251c\u2500\u2500 assets/\n\u2502   \u2514\u2500\u2500 images/                   # \u56fe\u7247\u8d44\u6e90\n\u251c\u2500\u2500 android/                      # Android \u539f\u751f\u4ee3\u7801\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/ai_chat_assistant.html#1_voice_interaction","title":"1. \u8bed\u97f3\u4ea4\u4e92 (Voice Interaction)","text":""},{"location":"app_car/ai_chat_assistant.html#_5","title":"\u529f\u80fd\u7279\u6027","text":"<ul> <li>\u8bed\u97f3\u5f55\u5236: \u57fa\u4e8e <code>record</code> \u5305\u5b9e\u73b0\u97f3\u9891\u5f55\u5236</li> <li>\u8bed\u97f3\u64ad\u653e: \u57fa\u4e8e <code>audioplayers</code> \u5305\u5b9e\u73b0\u97f3\u9891\u64ad\u653e</li> <li>\u8bed\u97f3\u5408\u6210: \u57fa\u4e8e <code>flutter_tts</code> \u5b9e\u73b0\u6587\u5b57\u8f6c\u8bed\u97f3</li> <li>\u6743\u9650\u7ba1\u7406: \u57fa\u4e8e <code>permission_handler</code> \u7ba1\u7406\u9ea6\u514b\u98ce\u6743\u9650</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_6","title":"\u6280\u672f\u5b9e\u73b0","text":"<pre><code>// \u8bed\u97f3\u5f55\u5236\u670d\u52a1\nclass VoiceRecordService {\n  late Record _record;\n  bool _isRecording = false;\n\n  Future&lt;void&gt; startRecording() async {\n    // \u68c0\u67e5\u9ea6\u514b\u98ce\u6743\u9650\n    if (await Permission.microphone.request().isGranted) {\n      await _record.start();\n      _isRecording = true;\n    }\n  }\n\n  Future&lt;String?&gt; stopRecording() async {\n    if (_isRecording) {\n      final path = await _record.stop();\n      _isRecording = false;\n      return path;\n    }\n    return null;\n  }\n}\n\n// \u8bed\u97f3\u5408\u6210\u670d\u52a1\nclass TextToSpeechService {\n  late FlutterTts _tts;\n\n  Future&lt;void&gt; speak(String text) async {\n    await _tts.setLanguage(\"zh-CN\");\n    await _tts.setPitch(1.0);\n    await _tts.setSpeechRate(0.5);\n    await _tts.speak(text);\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2_chat_interface","title":"2. \u804a\u5929\u754c\u9762 (Chat Interface)","text":""},{"location":"app_car/ai_chat_assistant.html#ui","title":"UI \u7ec4\u4ef6\u8bbe\u8ba1","text":"<ul> <li>\u6d88\u606f\u5217\u8868: \u663e\u793a\u5bf9\u8bdd\u5386\u53f2</li> <li>\u8f93\u5165\u6846: \u652f\u6301\u6587\u5b57\u548c\u8bed\u97f3\u8f93\u5165</li> <li>\u6d88\u606f\u6c14\u6ce1: \u533a\u5206\u7528\u6237\u548c AI \u56de\u590d</li> <li>\u72b6\u6001\u6307\u793a\u5668: \u663e\u793a\u5f55\u97f3\u3001\u53d1\u9001\u3001\u5904\u7406\u72b6\u6001</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_7","title":"\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u804a\u5929\u72b6\u6001\u7ba1\u7406\nclass ChatProvider extends ChangeNotifier {\n  List&lt;ChatMessage&gt; _messages = [];\n  bool _isLoading = false;\n  bool _isRecording = false;\n\n  List&lt;ChatMessage&gt; get messages =&gt; _messages;\n  bool get isLoading =&gt; _isLoading;\n  bool get isRecording =&gt; _isRecording;\n\n  void addMessage(ChatMessage message) {\n    _messages.add(message);\n    notifyListeners();\n  }\n\n  void setLoading(bool loading) {\n    _isLoading = loading;\n    notifyListeners();\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#3_ai_ai_service_integration","title":"3. AI \u670d\u52a1\u96c6\u6210 (AI Service Integration)","text":""},{"location":"app_car/ai_chat_assistant.html#http","title":"HTTP \u8bf7\u6c42\u5904\u7406","text":"<ul> <li>\u57fa\u4e8e HTTP \u5305: \u4e0e AI \u670d\u52a1\u7aef\u901a\u4fe1</li> <li>\u8bf7\u6c42\u5c01\u88c5: \u7edf\u4e00\u7684\u8bf7\u6c42\u683c\u5f0f\u548c\u9519\u8bef\u5904\u7406</li> <li>\u54cd\u5e94\u89e3\u6790: JSON \u6570\u636e\u89e3\u6790\u548c\u6a21\u578b\u6620\u5c04</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_8","title":"\u670d\u52a1\u63a5\u53e3\u8bbe\u8ba1","text":"<pre><code>// AI \u804a\u5929\u670d\u52a1\nclass AIChatService {\n  static const String _baseUrl = 'https://api.ai-service.com';\n\n  Future&lt;AIChatResponse&gt; sendMessage({\n    required String message,\n    String? audioPath,\n    String? sessionId,\n  }) async {\n    try {\n      final response = await http.post(\n        Uri.parse('$_baseUrl/chat'),\n        headers: {'Content-Type': 'application/json'},\n        body: jsonEncode({\n          'message': message,\n          'audio_path': audioPath,\n          'session_id': sessionId,\n        }),\n      );\n\n      if (response.statusCode == 200) {\n        return AIChatResponse.fromJson(jsonDecode(response.body));\n      } else {\n        throw Exception('AI \u670d\u52a1\u8bf7\u6c42\u5931\u8d25');\n      }\n    } catch (e) {\n      throw Exception('\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef: $e');\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#models","title":"\u6570\u636e\u6a21\u578b (models/)","text":""},{"location":"app_car/ai_chat_assistant.html#1","title":"1. \u804a\u5929\u6d88\u606f\u6a21\u578b","text":"<pre><code>class ChatMessage {\n  final String id;\n  final String content;\n  final MessageType type;\n  final DateTime timestamp;\n  final bool isFromUser;\n  final String? audioPath;\n\n  ChatMessage({\n    required this.id,\n    required this.content,\n    required this.type,\n    required this.timestamp,\n    required this.isFromUser,\n    this.audioPath,\n  });\n\n  factory ChatMessage.fromJson(Map&lt;String, dynamic&gt; json) {\n    return ChatMessage(\n      id: json['id'],\n      content: json['content'],\n      type: MessageType.fromString(json['type']),\n      timestamp: DateTime.parse(json['timestamp']),\n      isFromUser: json['is_from_user'],\n      audioPath: json['audio_path'],\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2_ai","title":"2. AI \u54cd\u5e94\u6a21\u578b","text":"<pre><code>class AIChatResponse {\n  final String responseText;\n  final String? audioUrl;\n  final Map&lt;String, dynamic&gt;? metadata;\n  final List&lt;String&gt;? suggestions;\n\n  AIChatResponse({\n    required this.responseText,\n    this.audioUrl,\n    this.metadata,\n    this.suggestions,\n  });\n\n  factory AIChatResponse.fromJson(Map&lt;String, dynamic&gt; json) {\n    return AIChatResponse(\n      responseText: json['response_text'],\n      audioUrl: json['audio_url'],\n      metadata: json['metadata'],\n      suggestions: List&lt;String&gt;.from(json['suggestions'] ?? []),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#enums","title":"\u679a\u4e3e\u5b9a\u4e49 (enums/)","text":""},{"location":"app_car/ai_chat_assistant.html#_9","title":"\u6d88\u606f\u7c7b\u578b\u679a\u4e3e","text":"<pre><code>enum MessageType {\n  text,    // \u6587\u5b57\u6d88\u606f\n  voice,   // \u8bed\u97f3\u6d88\u606f\n  image,   // \u56fe\u7247\u6d88\u606f\n  system   // \u7cfb\u7edf\u6d88\u606f\n}\n\nextension MessageTypeExtension on MessageType {\n  static MessageType fromString(String value) {\n    switch (value) {\n      case 'text': return MessageType.text;\n      case 'voice': return MessageType.voice;\n      case 'image': return MessageType.image;\n      case 'system': return MessageType.system;\n      default: return MessageType.text;\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#_10","title":"\u804a\u5929\u72b6\u6001\u679a\u4e3e","text":"<pre><code>enum ChatState {\n  idle,      // \u7a7a\u95f2\u72b6\u6001\n  listening, // \u76d1\u542c\u8bed\u97f3\u8f93\u5165\n  processing,// \u5904\u7406\u8bf7\u6c42\n  speaking,  // \u64ad\u653e\u8bed\u97f3\u56de\u590d\n  error      // \u9519\u8bef\u72b6\u6001\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#screens","title":"\u9875\u9762\u7ec4\u4ef6 (screens/)","text":""},{"location":"app_car/ai_chat_assistant.html#1_1","title":"1. \u4e3b\u804a\u5929\u9875\u9762","text":"<pre><code>class ChatScreen extends StatefulWidget {\n  @override\n  _ChatScreenState createState() =&gt; _ChatScreenState();\n}\n\nclass _ChatScreenState extends State&lt;ChatScreen&gt; {\n  late ChatProvider _chatProvider;\n  late VoiceRecordService _voiceService;\n  late TextToSpeechService _ttsService;\n\n  @override\n  void initState() {\n    super.initState();\n    _chatProvider = Provider.of&lt;ChatProvider&gt;(context, listen: false);\n    _voiceService = VoiceRecordService();\n    _ttsService = TextToSpeechService();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('AI \u52a9\u624b')),\n      body: Column(\n        children: [\n          Expanded(child: _buildMessageList()),\n          _buildInputArea(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildMessageList() {\n    return Consumer&lt;ChatProvider&gt;(\n      builder: (context, provider, child) {\n        return ListView.builder(\n          itemCount: provider.messages.length,\n          itemBuilder: (context, index) {\n            return MessageBubble(message: provider.messages[index]);\n          },\n        );\n      },\n    );\n  }\n\n  Widget _buildInputArea() {\n    return Container(\n      padding: EdgeInsets.all(16),\n      child: Row(\n        children: [\n          Expanded(child: _buildTextInput()),\n          _buildVoiceButton(),\n          _buildSendButton(),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2","title":"2. \u8bed\u97f3\u5f55\u5236\u9875\u9762","text":"<pre><code>class VoiceRecordScreen extends StatefulWidget {\n  @override\n  _VoiceRecordScreenState createState() =&gt; _VoiceRecordScreenState();\n}\n\nclass _VoiceRecordScreenState extends State&lt;VoiceRecordScreen&gt;\n    with TickerProviderStateMixin {\n  late AnimationController _animationController;\n  bool _isRecording = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _animationController = AnimationController(\n      duration: Duration(seconds: 1),\n      vsync: this,\n    )..repeat();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            _buildRecordButton(),\n            _buildRecordingIndicator(),\n            _buildHintText(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#widgets","title":"\u81ea\u5b9a\u4e49\u7ec4\u4ef6 (widgets/)","text":""},{"location":"app_car/ai_chat_assistant.html#1_2","title":"1. \u6d88\u606f\u6c14\u6ce1\u7ec4\u4ef6","text":"<pre><code>class MessageBubble extends StatelessWidget {\n  final ChatMessage message;\n\n  MessageBubble({required this.message});\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.symmetric(vertical: 4, horizontal: 16),\n      child: Row(\n        mainAxisAlignment: message.isFromUser \n            ? MainAxisAlignment.end \n            : MainAxisAlignment.start,\n        children: [\n          if (!message.isFromUser) _buildAvatar(),\n          Flexible(child: _buildBubble()),\n          if (message.isFromUser) _buildAvatar(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildBubble() {\n    return Container(\n      padding: EdgeInsets.all(12),\n      decoration: BoxDecoration(\n        color: message.isFromUser ? Colors.blue : Colors.grey[300],\n        borderRadius: BorderRadius.circular(16),\n      ),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          if (message.type == MessageType.voice) _buildVoiceContent(),\n          if (message.type == MessageType.text) _buildTextContent(),\n          _buildTimestamp(),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2_1","title":"2. \u8bed\u97f3\u8f93\u5165\u6309\u94ae","text":"<pre><code>class VoiceInputButton extends StatefulWidget {\n  final VoidCallback onStartRecording;\n  final VoidCallback onStopRecording;\n  final bool isRecording;\n\n  VoiceInputButton({\n    required this.onStartRecording,\n    required this.onStopRecording,\n    required this.isRecording,\n  });\n\n  @override\n  _VoiceInputButtonState createState() =&gt; _VoiceInputButtonState();\n}\n\nclass _VoiceInputButtonState extends State&lt;VoiceInputButton&gt;\n    with SingleTickerProviderStateMixin {\n  late AnimationController _controller;\n  late Animation&lt;double&gt; _scaleAnimation;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = AnimationController(\n      duration: Duration(milliseconds: 200),\n      vsync: this,\n    );\n    _scaleAnimation = Tween&lt;double&gt;(begin: 1.0, end: 1.2).animate(_controller);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onTapDown: (_) =&gt; _startRecording(),\n      onTapUp: (_) =&gt; _stopRecording(),\n      onTapCancel: () =&gt; _stopRecording(),\n      child: AnimatedBuilder(\n        animation: _scaleAnimation,\n        builder: (context, child) {\n          return Transform.scale(\n            scale: _scaleAnimation.value,\n            child: Container(\n              width: 60,\n              height: 60,\n              decoration: BoxDecoration(\n                color: widget.isRecording ? Colors.red : Colors.blue,\n                shape: BoxShape.circle,\n              ),\n              child: Icon(\n                widget.isRecording ? Icons.stop : Icons.mic,\n                color: Colors.white,\n                size: 30,\n              ),\n            ),\n          );\n        },\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#services","title":"\u670d\u52a1\u5c42 (services/)","text":""},{"location":"app_car/ai_chat_assistant.html#1_3","title":"1. \u97f3\u9891\u7ba1\u7406\u670d\u52a1","text":"<pre><code>class AudioService {\n  static final AudioService _instance = AudioService._internal();\n  factory AudioService() =&gt; _instance;\n  AudioService._internal();\n\n  late AudioPlayer _player;\n  late Record _recorder;\n\n  Future&lt;void&gt; initialize() async {\n    _player = AudioPlayer();\n    _recorder = Record();\n  }\n\n  Future&lt;void&gt; playAudio(String path) async {\n    try {\n      await _player.play(DeviceFileSource(path));\n    } catch (e) {\n      throw Exception('\u97f3\u9891\u64ad\u653e\u5931\u8d25: $e');\n    }\n  }\n\n  Future&lt;String?&gt; recordAudio() async {\n    try {\n      if (await Permission.microphone.request().isGranted) {\n        final directory = await getTemporaryDirectory();\n        final fileName = 'voice_${DateTime.now().millisecondsSinceEpoch}.m4a';\n        final filePath = '${directory.path}/$fileName';\n\n        await _recorder.start(path: filePath);\n        return filePath;\n      }\n    } catch (e) {\n      throw Exception('\u5f55\u97f3\u5931\u8d25: $e');\n    }\n    return null;\n  }\n\n  Future&lt;void&gt; stopRecording() async {\n    await _recorder.stop();\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2_2","title":"2. \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1","text":"<pre><code>class NetworkService {\n  static const Duration _timeout = Duration(seconds: 30);\n\n  static Future&lt;Map&lt;String, dynamic&gt;&gt; post({\n    required String url,\n    required Map&lt;String, dynamic&gt; data,\n    Map&lt;String, String&gt;? headers,\n  }) async {\n    try {\n      final response = await http.post(\n        Uri.parse(url),\n        headers: {\n          'Content-Type': 'application/json',\n          ...?headers,\n        },\n        body: jsonEncode(data),\n      ).timeout(_timeout);\n\n      if (response.statusCode == 200) {\n        return jsonDecode(response.body);\n      } else {\n        throw Exception('HTTP ${response.statusCode}: ${response.reasonPhrase}');\n      }\n    } on TimeoutException {\n      throw Exception('\u8bf7\u6c42\u8d85\u65f6');\n    } catch (e) {\n      throw Exception('\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25: $e');\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#utils","title":"\u5de5\u5177\u7c7b (utils/)","text":""},{"location":"app_car/ai_chat_assistant.html#1_4","title":"1. \u6587\u4ef6\u7ba1\u7406\u5de5\u5177","text":"<pre><code>class FileUtils {\n  static Future&lt;String&gt; getAudioCacheDir() async {\n    final directory = await getApplicationDocumentsDirectory();\n    final audioDir = Directory('${directory.path}/audio_cache');\n    if (!await audioDir.exists()) {\n      await audioDir.create(recursive: true);\n    }\n    return audioDir.path;\n  }\n\n  static Future&lt;void&gt; clearAudioCache() async {\n    final cacheDir = await getAudioCacheDir();\n    final directory = Directory(cacheDir);\n    if (await directory.exists()) {\n      await directory.delete(recursive: true);\n    }\n  }\n\n  static String generateFileName(String extension) {\n    final timestamp = DateTime.now().millisecondsSinceEpoch;\n    final uuid = Uuid().v4().substring(0, 8);\n    return '${timestamp}_$uuid.$extension';\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#2_3","title":"2. \u6743\u9650\u7ba1\u7406\u5de5\u5177","text":"<pre><code>class PermissionUtils {\n  static Future&lt;bool&gt; requestMicrophonePermission() async {\n    final status = await Permission.microphone.request();\n    return status.isGranted;\n  }\n\n  static Future&lt;bool&gt; checkMicrophonePermission() async {\n    final status = await Permission.microphone.status;\n    return status.isGranted;\n  }\n\n  static Future&lt;void&gt; openAppSettings() async {\n    await openAppSettings();\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#themes","title":"\u4e3b\u9898\u914d\u7f6e (themes/)","text":""},{"location":"app_car/ai_chat_assistant.html#_11","title":"\u804a\u5929\u4e3b\u9898\u5b9a\u4e49","text":"<pre><code>class ChatTheme {\n  static const Color userBubbleColor = Color(0xFF007AFF);\n  static const Color aiBubbleColor = Color(0xFFF0F0F0);\n  static const Color backgroundColor = Color(0xFFFFFFFF);\n  static const Color textColor = Color(0xFF000000);\n  static const Color hintColor = Color(0xFF999999);\n\n  static const BorderRadius bubbleBorderRadius = BorderRadius.all(\n    Radius.circular(16),\n  );\n\n  static const TextStyle messageTextStyle = TextStyle(\n    fontSize: 16,\n    color: textColor,\n  );\n\n  static const TextStyle timestampTextStyle = TextStyle(\n    fontSize: 12,\n    color: hintColor,\n  );\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#_12","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/ai_chat_assistant.html#_13","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>flutter: Flutter SDK</li> <li>provider: \u72b6\u6001\u7ba1\u7406</li> <li>http: HTTP \u7f51\u7edc\u8bf7\u6c42</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_14","title":"\u97f3\u9891\u76f8\u5173\u4f9d\u8d56","text":"<ul> <li>record: \u97f3\u9891\u5f55\u5236</li> <li>audioplayers: \u97f3\u9891\u64ad\u653e  </li> <li>flutter_tts: \u6587\u5b57\u8f6c\u8bed\u97f3</li> <li>permission_handler: \u6743\u9650\u7ba1\u7406</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#ui_1","title":"UI \u76f8\u5173\u4f9d\u8d56","text":"<ul> <li>flutter_markdown: Markdown \u6e32\u67d3</li> <li>fluttertoast: Toast \u63d0\u793a</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_15","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li>path_provider: \u6587\u4ef6\u8def\u5f84\u7ba1\u7406</li> <li>uuid: \u552f\u4e00\u6807\u8bc6\u7b26\u751f\u6210</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_16","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/ai_chat_assistant.html#_17","title":"\u5f02\u5e38\u7c7b\u578b\u5b9a\u4e49","text":"<pre><code>abstract class AIChatException implements Exception {\n  String get message;\n}\n\nclass NetworkException extends AIChatException {\n  final String message;\n  NetworkException(this.message);\n}\n\nclass PermissionException extends AIChatException {\n  final String message;\n  PermissionException(this.message);\n}\n\nclass AudioException extends AIChatException {\n  final String message;\n  AudioException(this.message);\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#_18","title":"\u5168\u5c40\u9519\u8bef\u5904\u7406","text":"<pre><code>class ErrorHandler {\n  static void handleError(dynamic error) {\n    String message = '\u672a\u77e5\u9519\u8bef';\n\n    if (error is NetworkException) {\n      message = '\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e';\n    } else if (error is PermissionException) {\n      message = '\u7f3a\u5c11\u5fc5\u8981\u6743\u9650\uff0c\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u5f00\u542f';\n    } else if (error is AudioException) {\n      message = '\u97f3\u9891\u5904\u7406\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5';\n    }\n\n    Fluttertoast.showToast(\n      msg: message,\n      toastLength: Toast.LENGTH_SHORT,\n      gravity: ToastGravity.BOTTOM,\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/ai_chat_assistant.html#_19","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/ai_chat_assistant.html#_20","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u53ca\u65f6\u91ca\u653e\u97f3\u9891\u8d44\u6e90</li> <li>\u5b9a\u671f\u6e05\u7406\u7f13\u5b58\u6587\u4ef6</li> <li>\u4f18\u5316\u5217\u8868\u6e32\u67d3\u6027\u80fd</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_21","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8bf7\u6c42\u8d85\u65f6\u63a7\u5236</li> <li>\u9519\u8bef\u91cd\u8bd5\u673a\u5236</li> <li>\u6570\u636e\u538b\u7f29\u4f20\u8f93</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_22","title":"\u7528\u6237\u4f53\u9a8c\u4f18\u5316","text":"<ul> <li>\u52a0\u8f7d\u72b6\u6001\u6307\u793a</li> <li>\u5e73\u6ed1\u52a8\u753b\u8fc7\u6e21</li> <li>\u5feb\u901f\u54cd\u5e94\u4ea4\u4e92</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_23","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/ai_chat_assistant.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u670d\u52a1\u7c7b\u529f\u80fd\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u65b9\u6cd5\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u97f3\u9891\u5f55\u5236\u64ad\u653e\u6d4b\u8bd5</li> <li>\u7f51\u7edc\u8bf7\u6c42\u6d4b\u8bd5</li> <li>\u6743\u9650\u83b7\u53d6\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#ui_2","title":"UI \u6d4b\u8bd5","text":"<ul> <li>\u804a\u5929\u754c\u9762\u4ea4\u4e92\u6d4b\u8bd5</li> <li>\u8bed\u97f3\u8f93\u5165\u6d4b\u8bd5</li> <li>\u9519\u8bef\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_26","title":"\u90e8\u7f72\u914d\u7f6e","text":""},{"location":"app_car/ai_chat_assistant.html#android","title":"Android \u914d\u7f6e","text":"<ul> <li>\u6dfb\u52a0\u7f51\u7edc\u6743\u9650</li> <li>\u6dfb\u52a0\u97f3\u9891\u6743\u9650</li> <li>\u914d\u7f6e\u6587\u4ef6\u5b58\u50a8\u6743\u9650</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#ios","title":"iOS \u914d\u7f6e","text":"<ul> <li>\u914d\u7f6e\u9ea6\u514b\u98ce\u4f7f\u7528\u8bf4\u660e</li> <li>\u914d\u7f6e\u7f51\u7edc\u5b89\u5168\u8bbe\u7f6e</li> <li>\u914d\u7f6e\u540e\u53f0\u97f3\u9891\u64ad\u653e</li> </ul>"},{"location":"app_car/ai_chat_assistant.html#_27","title":"\u603b\u7ed3","text":"<p><code>ai_chat_assistant</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684 AI \u804a\u5929\u52a9\u624b\u529f\u80fd\uff0c\u96c6\u6210\u4e86\u8bed\u97f3\u8bc6\u522b\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u548c\u8bed\u97f3\u5408\u6210\u6280\u672f\u3002\u6a21\u5757\u91c7\u7528\u6e05\u6670\u7684\u5206\u5c42\u67b6\u6784\uff0c\u5177\u6709\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u7ef4\u62a4\u6027\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u667a\u80fd\u5316\u7684\u8f66\u8f86\u4ea4\u4e92\u4f53\u9a8c\u3002</p>"},{"location":"app_car/amap_flutter_location.html","title":"AMap Flutter Location - \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u63d2\u4ef6","text":""},{"location":"app_car/amap_flutter_location.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>amap_flutter_location</code> \u662f OneApp \u4e2d\u57fa\u4e8e\u9ad8\u5fb7\u5730\u56fe SDK \u7684\u5b9a\u4f4d\u670d\u52a1\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u9ad8\u7cbe\u5ea6\u7684\u4f4d\u7f6e\u5b9a\u4f4d\u3001\u5730\u7406\u56f4\u680f\u3001\u8f68\u8ff9\u8bb0\u5f55\u7b49\u529f\u80fd\u3002\u8be5\u63d2\u4ef6\u4e3a\u8f66\u8f86\u5b9a\u4f4d\u3001\u5bfc\u822a\u3001\u4f4d\u7f6e\u670d\u52a1\u7b49\u529f\u80fd\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u5730\u7406\u4f4d\u7f6e\u652f\u6301\u3002</p>"},{"location":"app_car/amap_flutter_location.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"app_car/amap_flutter_location.html#1","title":"1. \u4f4d\u7f6e\u5b9a\u4f4d","text":"<ul> <li>GPS \u5b9a\u4f4d\uff1a\u57fa\u4e8e GPS \u536b\u661f\u7684\u9ad8\u7cbe\u5ea6\u5b9a\u4f4d</li> <li>\u7f51\u7edc\u5b9a\u4f4d\uff1a\u57fa\u4e8e\u57fa\u7ad9\u548c WiFi \u7684\u5feb\u901f\u5b9a\u4f4d</li> <li>\u6df7\u5408\u5b9a\u4f4d\uff1aGPS + \u7f51\u7edc\u7684\u878d\u5408\u5b9a\u4f4d\u7b97\u6cd5</li> <li>\u5ba4\u5185\u5b9a\u4f4d\uff1a\u652f\u6301\u5ba4\u5185\u573a\u666f\u7684\u4f4d\u7f6e\u8bc6\u522b</li> </ul>"},{"location":"app_car/amap_flutter_location.html#2","title":"2. \u5730\u7406\u56f4\u680f","text":"<ul> <li>\u56f4\u680f\u521b\u5efa\uff1a\u521b\u5efa\u5706\u5f62\u3001\u591a\u8fb9\u5f62\u5730\u7406\u56f4\u680f</li> <li>\u8fdb\u51fa\u68c0\u6d4b\uff1a\u5b9e\u65f6\u68c0\u6d4b\u8bbe\u5907\u8fdb\u5165/\u79bb\u5f00\u56f4\u680f</li> <li>\u591a\u56f4\u680f\u7ba1\u7406\uff1a\u540c\u65f6\u7ba1\u7406\u591a\u4e2a\u5730\u7406\u56f4\u680f</li> <li>\u4e8b\u4ef6\u901a\u77e5\uff1a\u56f4\u680f\u4e8b\u4ef6\u7684\u5b9e\u65f6\u63a8\u9001</li> </ul>"},{"location":"app_car/amap_flutter_location.html#3","title":"3. \u8f68\u8ff9\u8bb0\u5f55","text":"<ul> <li>\u8f68\u8ff9\u91c7\u96c6\uff1a\u5b9e\u65f6\u8bb0\u5f55\u79fb\u52a8\u8f68\u8ff9</li> <li>\u8f68\u8ff9\u4f18\u5316\uff1a\u53bb\u566a\u3001\u5e73\u6ed1\u8f68\u8ff9\u6570\u636e</li> <li>\u8f68\u8ff9\u5b58\u50a8\uff1a\u672c\u5730\u548c\u4e91\u7aef\u8f68\u8ff9\u5b58\u50a8</li> <li>\u8f68\u8ff9\u5206\u6790\uff1a\u8ddd\u79bb\u3001\u901f\u5ea6\u3001\u505c\u7559\u70b9\u5206\u6790</li> </ul>"},{"location":"app_car/amap_flutter_location.html#4","title":"4. \u4f4d\u7f6e\u670d\u52a1","text":"<ul> <li>\u9006\u5730\u7406\u7f16\u7801\uff1a\u5750\u6807\u8f6c\u6362\u4e3a\u5730\u5740\u4fe1\u606f</li> <li>\u5730\u7406\u7f16\u7801\uff1a\u5730\u5740\u8f6c\u6362\u4e3a\u5750\u6807\u4fe1\u606f</li> <li>POI \u641c\u7d22\uff1a\u5174\u8da3\u70b9\u641c\u7d22\u548c\u4fe1\u606f\u83b7\u53d6</li> <li>\u8ddd\u79bb\u8ba1\u7b97\uff1a\u4e24\u70b9\u95f4\u8ddd\u79bb\u548c\u8def\u5f84\u8ba1\u7b97</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/amap_flutter_location.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u5c42                    \u2502\n\u2502    (app_car, app_navigation)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      AMap Flutter Location         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u5b9a\u4f4d\u7ba1\u7406 \u2502 \u56f4\u680f\u670d\u52a1 \u2502 \u8f68\u8ff9\u8bb0\u5f55 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u5750\u6807\u8f6c\u6362 \u2502 \u4e8b\u4ef6\u5904\u7406 \u2502 \u6570\u636e\u5b58\u50a8 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u9ad8\u5fb7\u5730\u56fe Native SDK         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Android  \u2502   iOS    \u2502 \u5b9a\u4f4d\u5f15\u64ce \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u7cfb\u7edf\u5b9a\u4f4d\u670d\u52a1               \u2502\n\u2502     (GPS, Network, Sensors)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"app_car/amap_flutter_location.html#1_locationmanager","title":"1. \u5b9a\u4f4d\u7ba1\u7406\u5668 (LocationManager)","text":"<pre><code>class AMapLocationManager {\n  // \u521d\u59cb\u5316\u5b9a\u4f4d\u670d\u52a1\n  Future&lt;bool&gt; initialize(LocationConfig config);\n\n  // \u5f00\u59cb\u5b9a\u4f4d\n  Future&lt;void&gt; startLocation();\n\n  // \u505c\u6b62\u5b9a\u4f4d\n  Future&lt;void&gt; stopLocation();\n\n  // \u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e\n  Future&lt;AMapLocation&gt; getCurrentLocation();\n\n  // \u8bbe\u7f6e\u5b9a\u4f4d\u53c2\u6570\n  Future&lt;void&gt; setLocationOption(LocationOption option);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#2_geofencemanager","title":"2. \u5730\u7406\u56f4\u680f\u7ba1\u7406\u5668 (GeofenceManager)","text":"<pre><code>class AMapGeofenceManager {\n  // \u6dfb\u52a0\u56f4\u680f\n  Future&lt;String&gt; addGeofence(GeofenceRegion region);\n\n  // \u79fb\u9664\u56f4\u680f\n  Future&lt;bool&gt; removeGeofence(String geofenceId);\n\n  // \u83b7\u53d6\u56f4\u680f\u5217\u8868\n  Future&lt;List&lt;GeofenceRegion&gt;&gt; getGeofences();\n\n  // \u5f00\u59cb\u56f4\u680f\u76d1\u63a7\n  Future&lt;void&gt; startGeofenceMonitoring();\n\n  // \u505c\u6b62\u56f4\u680f\u76d1\u63a7\n  Future&lt;void&gt; stopGeofenceMonitoring();\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#3_trackrecorder","title":"3. \u8f68\u8ff9\u8bb0\u5f55\u5668 (TrackRecorder)","text":"<pre><code>class AMapTrackRecorder {\n  // \u5f00\u59cb\u5f55\u5236\u8f68\u8ff9\n  Future&lt;String&gt; startRecording(TrackConfig config);\n\n  // \u505c\u6b62\u5f55\u5236\u8f68\u8ff9\n  Future&lt;Track&gt; stopRecording(String trackId);\n\n  // \u6682\u505c\u5f55\u5236\n  Future&lt;void&gt; pauseRecording(String trackId);\n\n  // \u6062\u590d\u5f55\u5236\n  Future&lt;void&gt; resumeRecording(String trackId);\n\n  // \u83b7\u53d6\u8f68\u8ff9\u6570\u636e\n  Future&lt;Track&gt; getTrack(String trackId);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#4_coordinateconverter","title":"4. \u5750\u6807\u8f6c\u6362\u5668 (CoordinateConverter)","text":"<pre><code>class AMapCoordinateConverter {\n  // \u5750\u6807\u7cfb\u8f6c\u6362\n  LatLng convertCoordinate(LatLng source, CoordinateType from, CoordinateType to);\n\n  // \u6279\u91cf\u5750\u6807\u8f6c\u6362\n  List&lt;LatLng&gt; convertCoordinates(List&lt;LatLng&gt; source, CoordinateType from, CoordinateType to);\n\n  // \u9006\u5730\u7406\u7f16\u7801\n  Future&lt;RegeocodeResult&gt; reverseGeocode(LatLng location);\n\n  // \u5730\u7406\u7f16\u7801\n  Future&lt;GeocodeResult&gt; geocode(String address);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/amap_flutter_location.html#_7","title":"\u4f4d\u7f6e\u6a21\u578b","text":"<pre><code>class AMapLocation {\n  final double latitude;        // \u7eac\u5ea6\n  final double longitude;       // \u7ecf\u5ea6\n  final double altitude;        // \u6d77\u62d4\n  final double accuracy;        // \u7cbe\u5ea6\n  final double speed;          // \u901f\u5ea6\n  final double bearing;        // \u65b9\u5411\u89d2\n  final DateTime timestamp;    // \u65f6\u95f4\u6233\n  final String address;        // \u5730\u5740\u4fe1\u606f\n  final String province;       // \u7701\u4efd\n  final String city;          // \u57ce\u5e02\n  final String district;      // \u533a\u53bf\n  final String street;        // \u8857\u9053\n  final String streetNumber;  // \u95e8\u724c\u53f7\n  final String aoiName;       // AOI \u540d\u79f0\n  final String poiName;       // POI \u540d\u79f0\n  final LocationType locationType; // \u5b9a\u4f4d\u7c7b\u578b\n}\n\nenum LocationType {\n  gps,              // GPS \u5b9a\u4f4d\n  network,          // \u7f51\u7edc\u5b9a\u4f4d\n  passive,          // \u88ab\u52a8\u5b9a\u4f4d\n  offline,          // \u79bb\u7ebf\u5b9a\u4f4d\n  lastKnown         // \u4e0a\u6b21\u5b9a\u4f4d\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_8","title":"\u5730\u7406\u56f4\u680f\u6a21\u578b","text":"<pre><code>class GeofenceRegion {\n  final String id;\n  final String name;\n  final GeofenceType type;\n  final LatLng center;\n  final double radius;\n  final List&lt;LatLng&gt; polygon;\n  final GeofenceAction action;\n  final bool isEnabled;\n  final DateTime createdAt;\n  final Map&lt;String, dynamic&gt; metadata;\n}\n\nenum GeofenceType {\n  circle,           // \u5706\u5f62\u56f4\u680f\n  polygon,          // \u591a\u8fb9\u5f62\u56f4\u680f\n  poi,             // POI \u56f4\u680f\n  district         // \u884c\u653f\u533a\u56f4\u680f\n}\n\nenum GeofenceAction {\n  enter,           // \u8fdb\u5165\u4e8b\u4ef6\n  exit,            // \u79bb\u5f00\u4e8b\u4ef6\n  dwell,           // \u505c\u7559\u4e8b\u4ef6\n  enterOrExit      // \u8fdb\u5165\u6216\u79bb\u5f00\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_9","title":"\u8f68\u8ff9\u6a21\u578b","text":"<pre><code>class Track {\n  final String id;\n  final String name;\n  final DateTime startTime;\n  final DateTime endTime;\n  final List&lt;TrackPoint&gt; points;\n  final double totalDistance;\n  final Duration totalTime;\n  final double averageSpeed;\n  final double maxSpeed;\n  final TrackStatistics statistics;\n}\n\nclass TrackPoint {\n  final double latitude;\n  final double longitude;\n  final double altitude;\n  final double speed;\n  final double bearing;\n  final DateTime timestamp;\n  final double accuracy;\n}\n\nclass TrackStatistics {\n  final double totalDistance;\n  final Duration totalTime;\n  final Duration movingTime;\n  final Duration pausedTime;\n  final double averageSpeed;\n  final double maxSpeed;\n  final double totalAscent;\n  final double totalDescent;\n  final List&lt;StopPoint&gt; stopPoints;\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#api","title":"API \u63a5\u53e3","text":""},{"location":"app_car/amap_flutter_location.html#_10","title":"\u5b9a\u4f4d\u63a5\u53e3","text":"<pre><code>abstract class LocationService {\n  // \u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e\n  Future&lt;ApiResponse&lt;AMapLocation&gt;&gt; getCurrentLocation();\n\n  // \u5f00\u59cb\u8fde\u7eed\u5b9a\u4f4d\n  Future&lt;ApiResponse&lt;bool&gt;&gt; startContinuousLocation(LocationOption option);\n\n  // \u505c\u6b62\u8fde\u7eed\u5b9a\u4f4d\n  Future&lt;ApiResponse&lt;bool&gt;&gt; stopContinuousLocation();\n\n  // \u83b7\u53d6\u5b9a\u4f4d\u6743\u9650\u72b6\u6001\n  Future&lt;ApiResponse&lt;LocationPermission&gt;&gt; getLocationPermission();\n\n  // \u8bf7\u6c42\u5b9a\u4f4d\u6743\u9650\n  Future&lt;ApiResponse&lt;bool&gt;&gt; requestLocationPermission();\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_11","title":"\u5730\u7406\u56f4\u680f\u63a5\u53e3","text":"<pre><code>abstract class GeofenceService {\n  // \u521b\u5efa\u5730\u7406\u56f4\u680f\n  Future&lt;ApiResponse&lt;String&gt;&gt; createGeofence(CreateGeofenceRequest request);\n\n  // \u5220\u9664\u5730\u7406\u56f4\u680f\n  Future&lt;ApiResponse&lt;bool&gt;&gt; deleteGeofence(String geofenceId);\n\n  // \u83b7\u53d6\u56f4\u680f\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;GeofenceRegion&gt;&gt;&gt; getGeofences();\n\n  // \u83b7\u53d6\u56f4\u680f\u72b6\u6001\n  Future&lt;ApiResponse&lt;GeofenceStatus&gt;&gt; getGeofenceStatus(String geofenceId);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_12","title":"\u8f68\u8ff9\u63a5\u53e3","text":"<pre><code>abstract class TrackService {\n  // \u5f00\u59cb\u8f68\u8ff9\u8bb0\u5f55\n  Future&lt;ApiResponse&lt;String&gt;&gt; startTrackRecording(TrackConfig config);\n\n  // \u505c\u6b62\u8f68\u8ff9\u8bb0\u5f55\n  Future&lt;ApiResponse&lt;Track&gt;&gt; stopTrackRecording(String trackId);\n\n  // \u83b7\u53d6\u8f68\u8ff9\u6570\u636e\n  Future&lt;ApiResponse&lt;Track&gt;&gt; getTrack(String trackId);\n\n  // \u83b7\u53d6\u8f68\u8ff9\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;TrackSummary&gt;&gt;&gt; getTrackList(TrackQuery query);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"app_car/amap_flutter_location.html#_14","title":"\u5b9a\u4f4d\u914d\u7f6e","text":"<pre><code>class LocationOption {\n  final LocationMode locationMode;         // \u5b9a\u4f4d\u6a21\u5f0f\n  final int interval;                     // \u5b9a\u4f4d\u95f4\u9694\uff08\u6beb\u79d2\uff09\n  final bool needAddress;                 // \u662f\u5426\u9700\u8981\u5730\u5740\u4fe1\u606f\n  final bool mockEnable;                  // \u662f\u5426\u5141\u8bb8\u6a21\u62df\u4f4d\u7f6e\n  final bool wifiScan;                    // \u662f\u5426\u5f00\u542f WiFi \u626b\u63cf\n  final bool gpsFirst;                    // \u662f\u5426 GPS \u4f18\u5148\n  final int httpTimeOut;                  // \u7f51\u7edc\u8d85\u65f6\u65f6\u95f4\n  final LocationPurpose locationPurpose;  // \u5b9a\u4f4d\u76ee\u7684\n\n  static const LocationOption defaultOption = LocationOption(\n    locationMode: LocationMode.hightAccuracy,\n    interval: 2000,\n    needAddress: true,\n    mockEnable: false,\n    wifiScan: true,\n    gpsFirst: false,\n    httpTimeOut: 30000,\n    locationPurpose: LocationPurpose.signIn,\n  );\n}\n\nenum LocationMode {\n  batterySaving,    // \u4f4e\u529f\u8017\u6a21\u5f0f\n  deviceSensors,    // \u4ec5\u8bbe\u5907\u4f20\u611f\u5668\n  hightAccuracy     // \u9ad8\u7cbe\u5ea6\u6a21\u5f0f\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_15","title":"\u56f4\u680f\u914d\u7f6e","text":"<pre><code>class GeofenceConfig {\n  final bool enableNotification;    // \u662f\u5426\u542f\u7528\u901a\u77e5\n  final int dwellDelay;            // \u505c\u7559\u5ef6\u8fdf\uff08\u6beb\u79d2\uff09\n  final double minimumRadius;      // \u6700\u5c0f\u56f4\u680f\u534a\u5f84\n  final double maximumRadius;      // \u6700\u5927\u56f4\u680f\u534a\u5f84\n  final int maxGeofenceCount;      // \u6700\u5927\u56f4\u680f\u6570\u91cf\n\n  static const GeofenceConfig defaultConfig = GeofenceConfig(\n    enableNotification: true,\n    dwellDelay: 10000,\n    minimumRadius: 50.0,\n    maximumRadius: 100000.0,\n    maxGeofenceCount: 100,\n  );\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"app_car/amap_flutter_location.html#_17","title":"\u57fa\u672c\u5b9a\u4f4d\u793a\u4f8b","text":"<pre><code>// \u521d\u59cb\u5316\u5b9a\u4f4d\u670d\u52a1\nfinal locationManager = AMapLocationManager.instance;\nawait locationManager.initialize(LocationConfig.defaultConfig);\n\n// \u8bbe\u7f6e\u5b9a\u4f4d\u53c2\u6570\nawait locationManager.setLocationOption(LocationOption.defaultOption);\n\n// \u76d1\u542c\u4f4d\u7f6e\u53d8\u5316\nlocationManager.onLocationChanged.listen((location) {\n  print('\u5f53\u524d\u4f4d\u7f6e: ${location.latitude}, ${location.longitude}');\n  print('\u5730\u5740: ${location.address}');\n});\n\n// \u5f00\u59cb\u5b9a\u4f4d\nawait locationManager.startLocation();\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_18","title":"\u5730\u7406\u56f4\u680f\u793a\u4f8b","text":"<pre><code>// \u521b\u5efa\u5706\u5f62\u56f4\u680f\nfinal geofence = GeofenceRegion(\n  id: 'home_fence',\n  name: '\u5bb6\u5ead\u56f4\u680f',\n  type: GeofenceType.circle,\n  center: LatLng(39.9042, 116.4074), // \u5317\u4eac\u5929\u5b89\u95e8\n  radius: 500.0, // 500\u7c73\u534a\u5f84\n  action: GeofenceAction.enterOrExit,\n  isEnabled: true,\n);\n\n// \u6dfb\u52a0\u56f4\u680f\nfinal geofenceManager = AMapGeofenceManager.instance;\nfinal fenceId = await geofenceManager.addGeofence(geofence);\n\n// \u76d1\u542c\u56f4\u680f\u4e8b\u4ef6\ngeofenceManager.onGeofenceTriggered.listen((event) {\n  switch (event.action) {\n    case GeofenceAction.enter:\n      print('\u8fdb\u5165\u56f4\u680f: ${event.geofenceId}');\n      // \u6267\u884c\u8fdb\u5165\u56f4\u680f\u7684\u903b\u8f91\n      break;\n    case GeofenceAction.exit:\n      print('\u79bb\u5f00\u56f4\u680f: ${event.geofenceId}');\n      // \u6267\u884c\u79bb\u5f00\u56f4\u680f\u7684\u903b\u8f91\n      break;\n  }\n});\n\n// \u5f00\u59cb\u56f4\u680f\u76d1\u63a7\nawait geofenceManager.startGeofenceMonitoring();\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_19","title":"\u8f68\u8ff9\u8bb0\u5f55\u793a\u4f8b","text":"<pre><code>// \u914d\u7f6e\u8f68\u8ff9\u8bb0\u5f55\nfinal trackConfig = TrackConfig(\n  name: '\u4e0a\u73ed\u8def\u7ebf',\n  minDistance: 10.0,    // \u6700\u5c0f\u8bb0\u5f55\u8ddd\u79bb\n  minTime: 5000,        // \u6700\u5c0f\u8bb0\u5f55\u65f6\u95f4\u95f4\u9694\n  enableOptimization: true, // \u542f\u7528\u8f68\u8ff9\u4f18\u5316\n);\n\n// \u5f00\u59cb\u8bb0\u5f55\u8f68\u8ff9\nfinal trackRecorder = AMapTrackRecorder.instance;\nfinal trackId = await trackRecorder.startRecording(trackConfig);\n\n// \u76d1\u542c\u8f68\u8ff9\u70b9\ntrackRecorder.onTrackPointAdded.listen((point) {\n  print('\u65b0\u8f68\u8ff9\u70b9: ${point.latitude}, ${point.longitude}');\n});\n\n// \u505c\u6b62\u8bb0\u5f55\u5e76\u83b7\u53d6\u8f68\u8ff9\nfinal track = await trackRecorder.stopRecording(trackId);\nprint('\u8f68\u8ff9\u603b\u8ddd\u79bb: ${track.totalDistance}\u7c73');\nprint('\u8f68\u8ff9\u603b\u65f6\u95f4: ${track.totalTime}');\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_20","title":"\u5750\u6807\u8f6c\u6362\u793a\u4f8b","text":"<pre><code>// WGS84 \u5750\u6807\u8f6c\u6362\u4e3a GCJ02 \u5750\u6807\nfinal wgs84Point = LatLng(39.9042, 116.4074);\nfinal gcj02Point = AMapCoordinateConverter.convertCoordinate(\n  wgs84Point,\n  CoordinateType.wgs84,\n  CoordinateType.gcj02,\n);\n\n// \u9006\u5730\u7406\u7f16\u7801\nfinal regeocodeResult = await AMapCoordinateConverter.reverseGeocode(gcj02Point);\nprint('\u5730\u5740: ${regeocodeResult.formattedAddress}');\n\n// \u5730\u7406\u7f16\u7801\nfinal geocodeResult = await AMapCoordinateConverter.geocode('\u5317\u4eac\u5e02\u5929\u5b89\u95e8\u5e7f\u573a');\nif (geocodeResult.geocodes.isNotEmpty) {\n  final location = geocodeResult.geocodes.first.location;\n  print('\u5750\u6807: ${location.latitude}, ${location.longitude}');\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_21","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/amap_flutter_location.html#_22","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('AMapLocation Tests', () {\n  test('should convert coordinates correctly', () {\n    // Given\n    final wgs84Point = LatLng(39.9042, 116.4074);\n\n    // When\n    final gcj02Point = AMapCoordinateConverter.convertCoordinate(\n      wgs84Point,\n      CoordinateType.wgs84,\n      CoordinateType.gcj02,\n    );\n\n    // Then\n    expect(gcj02Point.latitude, isNot(equals(wgs84Point.latitude)));\n    expect(gcj02Point.longitude, isNot(equals(wgs84Point.longitude)));\n  });\n});\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_23","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Location Integration Tests', () {\n  testWidgets('location service flow', (tester) async {\n    // 1. \u521d\u59cb\u5316\u5b9a\u4f4d\u670d\u52a1\n    await AMapLocationManager.instance.initialize(LocationConfig.defaultConfig);\n\n    // 2. \u5f00\u59cb\u5b9a\u4f4d\n    await AMapLocationManager.instance.startLocation();\n\n    // 3. \u7b49\u5f85\u5b9a\u4f4d\u7ed3\u679c\n    final location = await AMapLocationManager.instance.getCurrentLocation();\n\n    // 4. \u9a8c\u8bc1\u5b9a\u4f4d\u7ed3\u679c\n    expect(location.latitude, greaterThan(-90));\n    expect(location.latitude, lessThan(90));\n    expect(location.longitude, greaterThan(-180));\n    expect(location.longitude, lessThan(180));\n  });\n});\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/amap_flutter_location.html#_25","title":"\u5b9a\u4f4d\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u5b9a\u4f4d\u7b56\u7565\uff1a\u6839\u636e\u573a\u666f\u81ea\u52a8\u9009\u62e9\u6700\u4f73\u5b9a\u4f4d\u65b9\u5f0f</li> <li>\u7f13\u5b58\u673a\u5236\uff1a\u7f13\u5b58\u6700\u8fd1\u7684\u5b9a\u4f4d\u7ed3\u679c</li> <li>\u6279\u91cf\u5904\u7406\uff1a\u6279\u91cf\u5904\u7406\u5b9a\u4f4d\u8bf7\u6c42</li> <li>\u7701\u7535\u6a21\u5f0f\uff1a\u4f4e\u529f\u8017\u7684\u5b9a\u4f4d\u7b56\u7565</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_26","title":"\u6570\u636e\u4f18\u5316","text":"<ul> <li>\u6570\u636e\u538b\u7f29\uff1a\u538b\u7f29\u8f68\u8ff9\u6570\u636e\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4</li> <li>\u589e\u91cf\u540c\u6b65\uff1a\u53ea\u540c\u6b65\u53d8\u5316\u7684\u6570\u636e</li> <li>\u672c\u5730\u7f13\u5b58\uff1a\u672c\u5730\u7f13\u5b58\u5e38\u7528\u7684\u5730\u7406\u4fe1\u606f</li> <li>\u6570\u636e\u6e05\u7406\uff1a\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u7684\u8f68\u8ff9\u6570\u636e</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_27","title":"\u6743\u9650\u7ba1\u7406","text":""},{"location":"app_car/amap_flutter_location.html#_28","title":"\u4f4d\u7f6e\u6743\u9650","text":"<pre><code>enum LocationPermission {\n  denied,           // \u62d2\u7edd\n  deniedForever,    // \u6c38\u4e45\u62d2\u7edd\n  whileInUse,       // \u4f7f\u7528\u65f6\u5141\u8bb8\n  always            // \u59cb\u7ec8\u5141\u8bb8\n}\n\nclass PermissionManager {\n  // \u68c0\u67e5\u6743\u9650\u72b6\u6001\n  static Future&lt;LocationPermission&gt; checkPermission();\n\n  // \u8bf7\u6c42\u6743\u9650\n  static Future&lt;LocationPermission&gt; requestPermission();\n\n  // \u6253\u5f00\u5e94\u7528\u8bbe\u7f6e\n  static Future&lt;bool&gt; openAppSettings();\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_29","title":"\u6743\u9650\u5904\u7406\u793a\u4f8b","text":"<pre><code>// \u68c0\u67e5\u548c\u8bf7\u6c42\u4f4d\u7f6e\u6743\u9650\nfinal permission = await PermissionManager.checkPermission();\n\nif (permission == LocationPermission.denied) {\n  final result = await PermissionManager.requestPermission();\n  if (result != LocationPermission.whileInUse &amp;&amp; \n      result != LocationPermission.always) {\n    // \u6743\u9650\u88ab\u62d2\u7edd\uff0c\u663e\u793a\u8bf4\u660e\u6216\u5f15\u5bfc\u7528\u6237\u5230\u8bbe\u7f6e\u9875\u9762\n    await showPermissionDialog();\n    return;\n  }\n}\n\n// \u6743\u9650\u83b7\u53d6\u6210\u529f\uff0c\u5f00\u59cb\u5b9a\u4f4d\nawait startLocationService();\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_30","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/amap_flutter_location.html#_31","title":"\u5b9a\u4f4d\u9519\u8bef\u7c7b\u578b","text":"<pre><code>enum LocationErrorType {\n  permissionDenied,     // \u6743\u9650\u88ab\u62d2\u7edd\n  locationServiceDisabled, // \u5b9a\u4f4d\u670d\u52a1\u672a\u5f00\u542f\n  networkError,         // \u7f51\u7edc\u9519\u8bef\n  timeout,             // \u8d85\u65f6\n  unknownError         // \u672a\u77e5\u9519\u8bef\n}\n\nclass LocationException implements Exception {\n  final LocationErrorType type;\n  final String message;\n  final int? errorCode;\n\n  const LocationException(this.type, this.message, [this.errorCode]);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_location.html#_32","title":"\u9690\u79c1\u548c\u5b89\u5168","text":""},{"location":"app_car/amap_flutter_location.html#_33","title":"\u6570\u636e\u9690\u79c1","text":"<ul> <li>\u6700\u5c0f\u6743\u9650\u539f\u5219\uff1a\u53ea\u8bf7\u6c42\u5fc5\u8981\u7684\u5b9a\u4f4d\u6743\u9650</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u654f\u611f\u4f4d\u7f6e\u6570\u636e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u7528\u6237\u63a7\u5236\uff1a\u7528\u6237\u53ef\u4ee5\u968f\u65f6\u5173\u95ed\u5b9a\u4f4d\u670d\u52a1</li> <li>\u900f\u660e\u5ea6\uff1a\u660e\u786e\u544a\u77e5\u7528\u6237\u6570\u636e\u4f7f\u7528\u76ee\u7684</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_34","title":"\u5b89\u5168\u63aa\u65bd","text":"<ul> <li>\u9632\u4f2a\u9020\uff1a\u68c0\u6d4b\u548c\u8fc7\u6ee4\u4f2a\u9020\u7684 GPS \u4fe1\u53f7</li> <li>\u6570\u636e\u6821\u9a8c\uff1a\u9a8c\u8bc1\u5b9a\u4f4d\u6570\u636e\u7684\u6709\u6548\u6027</li> <li>\u4f20\u8f93\u5b89\u5168\uff1a\u4f7f\u7528 HTTPS \u4f20\u8f93\u4f4d\u7f6e\u6570\u636e</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u4e25\u683c\u63a7\u5236\u4f4d\u7f6e\u6570\u636e\u7684\u8bbf\u95ee\u6743\u9650</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_35","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"app_car/amap_flutter_location.html#v303","title":"v3.0.3 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u652f\u6301 iOS 16 \u548c Android 13</li> <li>\u4f18\u5316\u5b9a\u4f4d\u7cbe\u5ea6\u548c\u901f\u5ea6</li> <li>\u4fee\u590d\u5730\u7406\u56f4\u680f\u7a33\u5b9a\u6027\u95ee\u9898</li> <li>\u6539\u8fdb\u8f68\u8ff9\u8bb0\u5f55\u7b97\u6cd5</li> </ul>"},{"location":"app_car/amap_flutter_location.html#v302","title":"v3.0.2","text":"<ul> <li>\u65b0\u589e\u5ba4\u5185\u5b9a\u4f4d\u652f\u6301</li> <li>\u4f18\u5316\u7535\u6c60\u4f7f\u7528\u6548\u7387</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u5750\u6807\u7cfb</li> <li>\u4fee\u590d\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_36","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/amap_flutter_location.html#_37","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_platform</code>: \u5e73\u53f0\u62bd\u8c61\u5c42</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_38","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>permission_handler</code>: \u6743\u9650\u7ba1\u7406</li> <li><code>geolocator</code>: \u4f4d\u7f6e\u670d\u52a1\u8865\u5145</li> <li><code>path_provider</code>: \u6587\u4ef6\u8def\u5f84\u7ba1\u7406</li> </ul>"},{"location":"app_car/amap_flutter_location.html#_39","title":"\u603b\u7ed3","text":"<p><code>amap_flutter_location</code> \u4f5c\u4e3a\u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u670d\u52a1\u7684 Flutter \u63d2\u4ef6\uff0c\u4e3a OneApp \u63d0\u4f9b\u4e86\u53ef\u9760\u3001\u9ad8\u6548\u7684\u4f4d\u7f6e\u670d\u52a1\u80fd\u529b\u3002\u901a\u8fc7\u96c6\u6210 GPS\u3001\u7f51\u7edc\u5b9a\u4f4d\u3001\u5730\u7406\u56f4\u680f\u3001\u8f68\u8ff9\u8bb0\u5f55\u7b49\u529f\u80fd\uff0c\u8be5\u63d2\u4ef6\u80fd\u591f\u6ee1\u8db3\u8f66\u8f86\u5b9a\u4f4d\u3001\u5bfc\u822a\u3001\u4f4d\u7f6e\u670d\u52a1\u7b49\u591a\u79cd\u4e1a\u52a1\u9700\u6c42\u3002</p> <p>\u63d2\u4ef6\u5728\u8bbe\u8ba1\u4e0a\u5145\u5206\u8003\u8651\u4e86\u6027\u80fd\u4f18\u5316\u3001\u9690\u79c1\u4fdd\u62a4\u3001\u6743\u9650\u7ba1\u7406\u7b49\u5173\u952e\u56e0\u7d20\uff0c\u786e\u4fdd\u5728\u63d0\u4f9b\u7cbe\u51c6\u4f4d\u7f6e\u670d\u52a1\u7684\u540c\u65f6\uff0c\u4fdd\u62a4\u7528\u6237\u9690\u79c1\u548c\u8bbe\u5907\u5b89\u5168\u3002\u8fd9\u4e3a OneApp \u7684\u8f66\u8054\u7f51\u670d\u52a1\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u6280\u672f\u57fa\u7840\u3002</p>"},{"location":"app_car/amap_flutter_search.html","title":"AMap Flutter Search - \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u63d2\u4ef6","text":""},{"location":"app_car/amap_flutter_search.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>amap_flutter_search</code> \u662f OneApp \u4e2d\u57fa\u4e8e\u9ad8\u5fb7\u5730\u56fe SDK \u7684\u641c\u7d22\u670d\u52a1\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5168\u9762\u7684\u5730\u7406\u4fe1\u606f\u641c\u7d22\u529f\u80fd\uff0c\u5305\u62ec POI \u641c\u7d22\u3001\u8def\u7ebf\u89c4\u5212\u3001\u5730\u5740\u89e3\u6790\u7b49\u670d\u52a1\u3002\u8be5\u63d2\u4ef6\u4e3a\u8f66\u8f86\u5bfc\u822a\u3001\u4f4d\u7f6e\u67e5\u627e\u3001\u8def\u5f84\u89c4\u5212\u7b49\u529f\u80fd\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u641c\u7d22\u80fd\u529b\u652f\u6301\u3002</p>"},{"location":"app_car/amap_flutter_search.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"app_car/amap_flutter_search.html#1_poi","title":"1. POI \u641c\u7d22","text":"<ul> <li>\u5173\u952e\u8bcd\u641c\u7d22\uff1a\u57fa\u4e8e\u5173\u952e\u8bcd\u7684\u5174\u8da3\u70b9\u641c\u7d22</li> <li>\u5468\u8fb9\u641c\u7d22\uff1a\u6307\u5b9a\u4f4d\u7f6e\u5468\u8fb9\u7684 POI \u641c\u7d22</li> <li>\u5206\u7c7b\u641c\u7d22\uff1a\u6309\u7c7b\u522b\u7b5b\u9009\u7684 POI \u641c\u7d22</li> <li>\u8be6\u60c5\u67e5\u8be2\uff1a\u83b7\u53d6 POI \u7684\u8be6\u7ec6\u4fe1\u606f</li> </ul>"},{"location":"app_car/amap_flutter_search.html#2","title":"2. \u8def\u7ebf\u89c4\u5212","text":"<ul> <li>\u9a7e\u8f66\u8def\u7ebf\uff1a\u591a\u79cd\u9a7e\u8f66\u8def\u5f84\u89c4\u5212\u7b56\u7565</li> <li>\u6b65\u884c\u8def\u7ebf\uff1a\u884c\u4eba\u8def\u5f84\u89c4\u5212</li> <li>\u9a91\u884c\u8def\u7ebf\uff1a\u9a91\u884c\u8def\u5f84\u89c4\u5212</li> <li>\u516c\u4ea4\u8def\u7ebf\uff1a\u516c\u5171\u4ea4\u901a\u8def\u5f84\u89c4\u5212</li> <li>\u8d27\u8f66\u8def\u7ebf\uff1a\u8d27\u8f66\u4e13\u7528\u8def\u5f84\u89c4\u5212</li> </ul>"},{"location":"app_car/amap_flutter_search.html#3","title":"3. \u5730\u5740\u89e3\u6790","text":"<ul> <li>\u5730\u7406\u7f16\u7801\uff1a\u5730\u5740\u8f6c\u6362\u4e3a\u5750\u6807</li> <li>\u9006\u5730\u7406\u7f16\u7801\uff1a\u5750\u6807\u8f6c\u6362\u4e3a\u5730\u5740</li> <li>\u8f93\u5165\u63d0\u793a\uff1a\u5730\u5740\u8f93\u5165\u667a\u80fd\u63d0\u793a</li> <li>\u884c\u653f\u533a\u67e5\u8be2\uff1a\u884c\u653f\u533a\u57df\u4fe1\u606f\u67e5\u8be2</li> </ul>"},{"location":"app_car/amap_flutter_search.html#4","title":"4. \u8ddd\u79bb\u8ba1\u7b97","text":"<ul> <li>\u76f4\u7ebf\u8ddd\u79bb\uff1a\u4e24\u70b9\u95f4\u76f4\u7ebf\u8ddd\u79bb\u8ba1\u7b97</li> <li>\u9a7e\u8f66\u8ddd\u79bb\uff1a\u5b9e\u9645\u9a7e\u8f66\u8ddd\u79bb\u548c\u65f6\u95f4</li> <li>\u6b65\u884c\u8ddd\u79bb\uff1a\u6b65\u884c\u8ddd\u79bb\u548c\u65f6\u95f4</li> <li>\u6279\u91cf\u8ba1\u7b97\uff1a\u6279\u91cf\u8ddd\u79bb\u77e9\u9635\u8ba1\u7b97</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/amap_flutter_search.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u5c42                    \u2502\n\u2502   (app_navigation, app_car)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      AMap Flutter Search           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 POI\u641c\u7d22  \u2502 \u8def\u7ebf\u89c4\u5212 \u2502 \u5730\u5740\u89e3\u6790 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u8ddd\u79bb\u8ba1\u7b97 \u2502 \u7f13\u5b58\u7ba1\u7406 \u2502 \u6570\u636e\u5904\u7406 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         \u9ad8\u5fb7\u5730\u56fe Search SDK         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Android  \u2502   iOS    \u2502 \u641c\u7d22\u5f15\u64ce \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            \u7f51\u7edc\u670d\u52a1\u5c42                \u2502\n\u2502      (REST API, WebService)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"app_car/amap_flutter_search.html#1_poi_poisearchmanager","title":"1. POI \u641c\u7d22\u7ba1\u7406\u5668 (PoiSearchManager)","text":"<pre><code>class AMapPoiSearchManager {\n  // \u5173\u952e\u8bcd\u641c\u7d22\n  Future&lt;PoiResult&gt; searchByKeyword(PoiKeywordSearchOption option);\n\n  // \u5468\u8fb9\u641c\u7d22\n  Future&lt;PoiResult&gt; searchNearby(PoiNearbySearchOption option);\n\n  // ID \u641c\u7d22\n  Future&lt;PoiItem&gt; searchById(String poiId);\n\n  // \u5206\u7c7b\u641c\u7d22\n  Future&lt;PoiResult&gt; searchByCategory(PoiCategorySearchOption option);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#2_routesearchmanager","title":"2. \u8def\u7ebf\u89c4\u5212\u7ba1\u7406\u5668 (RouteSearchManager)","text":"<pre><code>class AMapRouteSearchManager {\n  // \u9a7e\u8f66\u8def\u7ebf\u89c4\u5212\n  Future&lt;DriveRouteResult&gt; calculateDriveRoute(DriveRouteQuery query);\n\n  // \u6b65\u884c\u8def\u7ebf\u89c4\u5212\n  Future&lt;WalkRouteResult&gt; calculateWalkRoute(WalkRouteQuery query);\n\n  // \u9a91\u884c\u8def\u7ebf\u89c4\u5212\n  Future&lt;RideRouteResult&gt; calculateRideRoute(RideRouteQuery query);\n\n  // \u516c\u4ea4\u8def\u7ebf\u89c4\u5212\n  Future&lt;BusRouteResult&gt; calculateBusRoute(BusRouteQuery query);\n\n  // \u8d27\u8f66\u8def\u7ebf\u89c4\u5212\n  Future&lt;TruckRouteResult&gt; calculateTruckRoute(TruckRouteQuery query);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#3_geocodemanager","title":"3. \u5730\u7406\u7f16\u7801\u7ba1\u7406\u5668 (GeocodeManager)","text":"<pre><code>class AMapGeocodeManager {\n  // \u5730\u7406\u7f16\u7801\n  Future&lt;GeocodeResult&gt; geocode(GeocodeQuery query);\n\n  // \u9006\u5730\u7406\u7f16\u7801\n  Future&lt;RegeocodeResult&gt; reverseGeocode(RegeocodeQuery query);\n\n  // \u8f93\u5165\u63d0\u793a\n  Future&lt;List&lt;TipItem&gt;&gt; inputTips(InputTipsQuery query);\n\n  // \u884c\u653f\u533a\u67e5\u8be2\n  Future&lt;DistrictResult&gt; searchDistrict(DistrictQuery query);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#4_distancecalculator","title":"4. \u8ddd\u79bb\u8ba1\u7b97\u5668 (DistanceCalculator)","text":"<pre><code>class AMapDistanceCalculator {\n  // \u8ba1\u7b97\u4e24\u70b9\u8ddd\u79bb\n  Future&lt;DistanceResult&gt; calculateDistance(DistanceQuery query);\n\n  // \u6279\u91cf\u8ddd\u79bb\u8ba1\u7b97\n  Future&lt;List&lt;DistanceResult&gt;&gt; calculateDistances(List&lt;DistanceQuery&gt; queries);\n\n  // \u8def\u5f84\u8ddd\u79bb\u8ba1\u7b97\n  Future&lt;RouteDistanceResult&gt; calculateRouteDistance(RouteDistanceQuery query);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/amap_flutter_search.html#poi","title":"POI \u6a21\u578b","text":"<pre><code>class PoiItem {\n  final String poiId;           // POI ID\n  final String title;           // POI \u540d\u79f0\n  final String snippet;         // POI \u63cf\u8ff0\n  final LatLng latLng;         // POI \u5750\u6807\n  final String distance;        // \u8ddd\u79bb\n  final String tel;            // \u7535\u8bdd\n  final String postcode;       // \u90ae\u7f16\n  final String website;        // \u7f51\u7ad9\n  final String email;          // \u90ae\u7bb1\n  final String province;       // \u7701\u4efd\n  final String city;           // \u57ce\u5e02\n  final String district;       // \u533a\u53bf\n  final String address;        // \u5730\u5740\n  final String direction;      // \u65b9\u5411\n  final String businessArea;   // \u5546\u5708\n  final String typeCode;       // \u7c7b\u578b\u7f16\u7801\n  final String typeDes;        // \u7c7b\u578b\u63cf\u8ff0\n  final List&lt;Photo&gt; photos;    // \u7167\u7247\u5217\u8868\n  final List&lt;String&gt; shopID;   // \u5546\u94faID\n  final IndoorData indoorData; // \u5ba4\u5185\u6570\u636e\n}\n\nclass PoiResult {\n  final List&lt;PoiItem&gt; pois;\n  final int pageCount;\n  final int totalCount;\n  final SearchBound searchBound;\n  final PoiQuery query;\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_7","title":"\u8def\u7ebf\u6a21\u578b","text":"<pre><code>class DriveRouteResult {\n  final List&lt;DrivePath&gt; paths;\n  final RouteQuery startPos;\n  final RouteQuery targetPos;\n  final List&lt;RouteQuery&gt; viaPoints;\n  final int taxiCost;\n}\n\nclass DrivePath {\n  final String strategy;        // \u7b56\u7565\n  final int distance;          // \u8ddd\u79bb\uff08\u7c73\uff09\n  final int duration;          // \u65f6\u957f\uff08\u79d2\uff09\n  final String tolls;          // \u8fc7\u8def\u8d39\n  final String tollDistance;   // \u6536\u8d39\u8ddd\u79bb\n  final String totalTrafficLights; // \u7ea2\u7eff\u706f\u6570\n  final List&lt;DriveStep&gt; steps; // \u8def\u5f84\u6bb5\n  final List&lt;TMC&gt; tmcs;       // \u8def\u51b5\u4fe1\u606f\n}\n\nclass DriveStep {\n  final String instruction;    // \u884c\u9a76\u6307\u793a\n  final String orientation;    // \u65b9\u5411\n  final String road;          // \u9053\u8def\u540d\u79f0\n  final int distance;         // \u8ddd\u79bb\n  final int duration;         // \u65f6\u957f\n  final List&lt;LatLng&gt; polyline; // \u8def\u5f84\u5750\u6807\n  final String action;        // \u5bfc\u822a\u52a8\u4f5c\n  final String assistantAction; // \u8f85\u52a9\u52a8\u4f5c\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_8","title":"\u5730\u5740\u6a21\u578b","text":"<pre><code>class RegeocodeResult {\n  final RegeocodeAddress regeocodeAddress;\n  final List&lt;PoiItem&gt; pois;\n  final List&lt;Road&gt; roads;\n  final List&lt;RoadInter&gt; roadInters;\n  final List&lt;AoiItem&gt; aois;\n}\n\nclass RegeocodeAddress {\n  final String formattedAddress; // \u683c\u5f0f\u5316\u5730\u5740\n  final String country;         // \u56fd\u5bb6\n  final String province;        // \u7701\u4efd\n  final String city;           // \u57ce\u5e02\n  final String district;       // \u533a\u53bf\n  final String township;       // \u4e61\u9547\n  final String neighborhood;   // \u793e\u533a\n  final String building;       // \u5efa\u7b51\n  final String adcode;         // \u533a\u57df\u7f16\u7801\n  final String citycode;       // \u57ce\u5e02\u7f16\u7801\n  final List&lt;StreetNumber&gt; streetNumbers; // \u95e8\u724c\u4fe1\u606f\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#api","title":"API \u63a5\u53e3","text":""},{"location":"app_car/amap_flutter_search.html#poi_1","title":"POI \u641c\u7d22\u63a5\u53e3","text":"<pre><code>abstract class PoiSearchService {\n  // \u5173\u952e\u8bcd\u641c\u7d22\n  Future&lt;ApiResponse&lt;PoiResult&gt;&gt; searchByKeyword(PoiKeywordSearchRequest request);\n\n  // \u5468\u8fb9\u641c\u7d22\n  Future&lt;ApiResponse&lt;PoiResult&gt;&gt; searchNearby(PoiNearbySearchRequest request);\n\n  // \u591a\u8fb9\u5f62\u641c\u7d22\n  Future&lt;ApiResponse&lt;PoiResult&gt;&gt; searchInPolygon(PoiPolygonSearchRequest request);\n\n  // POI \u8be6\u60c5\n  Future&lt;ApiResponse&lt;PoiItem&gt;&gt; getPoiDetail(String poiId);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_9","title":"\u8def\u7ebf\u89c4\u5212\u63a5\u53e3","text":"<pre><code>abstract class RouteSearchService {\n  // \u9a7e\u8f66\u8def\u7ebf\u89c4\u5212\n  Future&lt;ApiResponse&lt;DriveRouteResult&gt;&gt; planDriveRoute(DriveRouteRequest request);\n\n  // \u6b65\u884c\u8def\u7ebf\u89c4\u5212\n  Future&lt;ApiResponse&lt;WalkRouteResult&gt;&gt; planWalkRoute(WalkRouteRequest request);\n\n  // \u9a91\u884c\u8def\u7ebf\u89c4\u5212\n  Future&lt;ApiResponse&lt;RideRouteResult&gt;&gt; planRideRoute(RideRouteRequest request);\n\n  // \u516c\u4ea4\u8def\u7ebf\u89c4\u5212\n  Future&lt;ApiResponse&lt;BusRouteResult&gt;&gt; planBusRoute(BusRouteRequest request);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_10","title":"\u5730\u7406\u7f16\u7801\u63a5\u53e3","text":"<pre><code>abstract class GeocodeService {\n  // \u5730\u7406\u7f16\u7801\n  Future&lt;ApiResponse&lt;GeocodeResult&gt;&gt; geocode(GeocodeRequest request);\n\n  // \u9006\u5730\u7406\u7f16\u7801\n  Future&lt;ApiResponse&lt;RegeocodeResult&gt;&gt; reverseGeocode(RegeocodeRequest request);\n\n  // \u8f93\u5165\u63d0\u793a\n  Future&lt;ApiResponse&lt;List&lt;TipItem&gt;&gt;&gt; getInputTips(InputTipsRequest request);\n\n  // \u884c\u653f\u533a\u641c\u7d22\n  Future&lt;ApiResponse&lt;DistrictResult&gt;&gt; searchDistrict(DistrictRequest request);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_11","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"app_car/amap_flutter_search.html#_12","title":"\u641c\u7d22\u914d\u7f6e","text":"<pre><code>class SearchConfig {\n  final String apiKey;           // API \u5bc6\u94a5\n  final int timeoutMs;          // \u8d85\u65f6\u65f6\u95f4\n  final int maxRetries;         // \u6700\u5927\u91cd\u8bd5\u6b21\u6570\n  final bool enableCache;       // \u662f\u5426\u542f\u7528\u7f13\u5b58\n  final int cacheExpireTime;    // \u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\n  final String language;        // \u8bed\u8a00\u8bbe\u7f6e\n  final String region;          // \u533a\u57df\u8bbe\u7f6e\n\n  static const SearchConfig defaultConfig = SearchConfig(\n    apiKey: '',\n    timeoutMs: 30000,\n    maxRetries: 3,\n    enableCache: true,\n    cacheExpireTime: 3600,\n    language: 'zh-CN',\n    region: 'CN',\n  );\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#poi_2","title":"POI \u641c\u7d22\u914d\u7f6e","text":"<pre><code>class PoiSearchConfig {\n  final int pageSize;           // \u6bcf\u9875\u7ed3\u679c\u6570\n  final int maxPage;           // \u6700\u5927\u9875\u6570\n  final String city;           // \u641c\u7d22\u57ce\u5e02\n  final String types;          // \u641c\u7d22\u7c7b\u578b\n  final bool extensions;       // \u662f\u5426\u8fd4\u56de\u6269\u5c55\u4fe1\u606f\n  final String sortrule;       // \u6392\u5e8f\u89c4\u5219\n\n  static const PoiSearchConfig defaultConfig = PoiSearchConfig(\n    pageSize: 20,\n    maxPage: 100,\n    city: '',\n    types: '',\n    extensions: false,\n    sortrule: 'distance',\n  );\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_13","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"app_car/amap_flutter_search.html#poi_3","title":"POI \u641c\u7d22\u793a\u4f8b","text":"<pre><code>// \u5173\u952e\u8bcd\u641c\u7d22\nfinal searchOption = PoiKeywordSearchOption(\n  keyword: '\u52a0\u6cb9\u7ad9',\n  city: '\u5317\u4eac',\n  pageSize: 20,\n  pageNum: 1,\n  extensions: true,\n);\n\nfinal poiResult = await AMapPoiSearchManager.instance.searchByKeyword(searchOption);\n\nfor (final poi in poiResult.pois) {\n  print('POI \u540d\u79f0: ${poi.title}');\n  print('POI \u5730\u5740: ${poi.address}');\n  print('POI \u8ddd\u79bb: ${poi.distance}');\n  print('POI \u5750\u6807: ${poi.latLng.latitude}, ${poi.latLng.longitude}');\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_14","title":"\u5468\u8fb9\u641c\u7d22\u793a\u4f8b","text":"<pre><code>// \u5468\u8fb9\u641c\u7d22\nfinal nearbyOption = PoiNearbySearchOption(\n  keyword: '\u9910\u5385',\n  center: LatLng(39.9042, 116.4074), // \u641c\u7d22\u4e2d\u5fc3\u70b9\n  radius: 1000, // \u641c\u7d22\u534a\u5f84 1000 \u7c73\n  pageSize: 10,\n  pageNum: 1,\n);\n\nfinal nearbyResult = await AMapPoiSearchManager.instance.searchNearby(nearbyOption);\n\nprint('\u9644\u8fd1\u9910\u5385\u6570\u91cf: ${nearbyResult.pois.length}');\nfor (final restaurant in nearbyResult.pois) {\n  print('\u9910\u5385: ${restaurant.title} - ${restaurant.distance}');\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_15","title":"\u8def\u7ebf\u89c4\u5212\u793a\u4f8b","text":"<pre><code>// \u9a7e\u8f66\u8def\u7ebf\u89c4\u5212\nfinal driveQuery = DriveRouteQuery(\n  fromPoint: RouteQuery(39.9042, 116.4074), // \u8d77\u70b9\n  toPoint: RouteQuery(39.9015, 116.3974),   // \u7ec8\u70b9\n  mode: DriveMode.fastest, // \u6700\u5feb\u8def\u7ebf\n  avoidhighspeed: false,   // \u4e0d\u907f\u5f00\u9ad8\u901f\n  avoidtolls: false,       // \u4e0d\u907f\u5f00\u6536\u8d39\n  avoidtrafficjam: true,   // \u907f\u5f00\u62e5\u5835\n);\n\nfinal driveResult = await AMapRouteSearchManager.instance.calculateDriveRoute(driveQuery);\n\nif (driveResult.paths.isNotEmpty) {\n  final path = driveResult.paths.first;\n  print('\u9a7e\u8f66\u8ddd\u79bb: ${path.distance} \u7c73');\n  print('\u9884\u8ba1\u65f6\u95f4: ${path.duration} \u79d2');\n  print('\u8fc7\u8def\u8d39: ${path.tolls} \u5143');\n\n  for (final step in path.steps) {\n    print('\u5bfc\u822a\u6307\u793a: ${step.instruction}');\n    print('\u9053\u8def: ${step.road}');\n    print('\u8ddd\u79bb: ${step.distance} \u7c73');\n  }\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_16","title":"\u5730\u7406\u7f16\u7801\u793a\u4f8b","text":"<pre><code>// \u5730\u5740\u8f6c\u5750\u6807\nfinal geocodeQuery = GeocodeQuery(\n  locationName: '\u5317\u4eac\u5e02\u671d\u9633\u533a\u671b\u4eacSOHO',\n  city: '\u5317\u4eac',\n);\n\nfinal geocodeResult = await AMapGeocodeManager.instance.geocode(geocodeQuery);\n\nif (geocodeResult.geocodeAddressList.isNotEmpty) {\n  final address = geocodeResult.geocodeAddressList.first;\n  print('\u5730\u5740\u5750\u6807: ${address.latLonPoint.latitude}, ${address.latLonPoint.longitude}');\n}\n\n// \u5750\u6807\u8f6c\u5730\u5740\nfinal regeocodeQuery = RegeocodeQuery(\n  latLonPoint: LatLng(39.9915, 116.4684),\n  radius: 200.0,\n  extensions: 'all',\n);\n\nfinal regeocodeResult = await AMapGeocodeManager.instance.reverseGeocode(regeocodeQuery);\nprint('\u683c\u5f0f\u5316\u5730\u5740: ${regeocodeResult.regeocodeAddress.formattedAddress}');\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_17","title":"\u8f93\u5165\u63d0\u793a\u793a\u4f8b","text":"<pre><code>// \u5730\u5740\u8f93\u5165\u63d0\u793a\nfinal tipsQuery = InputTipsQuery(\n  keyword: '\u738b\u5e9c\u4e95',\n  city: '\u5317\u4eac',\n  datatype: 'all',\n);\n\nfinal tipsList = await AMapGeocodeManager.instance.inputTips(tipsQuery);\n\nfor (final tip in tipsList) {\n  print('\u63d0\u793a: ${tip.name}');\n  print('\u5730\u5740: ${tip.address}');\n  if (tip.point != null) {\n    print('\u5750\u6807: ${tip.point!.latitude}, ${tip.point!.longitude}');\n  }\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_18","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/amap_flutter_search.html#_19","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('AMapSearch Tests', () {\n  test('should search POI by keyword', () async {\n    // Given\n    final searchOption = PoiKeywordSearchOption(\n      keyword: '\u6d4b\u8bd5POI',\n      city: '\u5317\u4eac',\n    );\n\n    // When\n    final result = await AMapPoiSearchManager.instance.searchByKeyword(searchOption);\n\n    // Then\n    expect(result.pois, isNotEmpty);\n    expect(result.pois.first.title, contains('\u6d4b\u8bd5POI'));\n  });\n\n  test('should calculate drive route', () async {\n    // Given\n    final query = DriveRouteQuery(\n      fromPoint: RouteQuery(39.9042, 116.4074),\n      toPoint: RouteQuery(39.9015, 116.3974),\n    );\n\n    // When\n    final result = await AMapRouteSearchManager.instance.calculateDriveRoute(query);\n\n    // Then\n    expect(result.paths, isNotEmpty);\n    expect(result.paths.first.distance, greaterThan(0));\n  });\n});\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_20","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Search Integration Tests', () {\n  testWidgets('complete search flow', (tester) async {\n    // 1. \u641c\u7d22 POI\n    final pois = await searchNearbyPois('\u52a0\u6cb9\u7ad9', currentLocation);\n\n    // 2. \u9009\u62e9\u76ee\u6807 POI\n    final targetPoi = pois.first;\n\n    // 3. \u89c4\u5212\u8def\u7ebf\n    final route = await planRouteToDestination(currentLocation, targetPoi.latLng);\n\n    // 4. \u9a8c\u8bc1\u7ed3\u679c\n    expect(route.paths, isNotEmpty);\n    expect(route.paths.first.steps, isNotEmpty);\n  });\n});\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_21","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/amap_flutter_search.html#_22","title":"\u641c\u7d22\u4f18\u5316","text":"<ul> <li>\u641c\u7d22\u7f13\u5b58\uff1a\u7f13\u5b58\u5e38\u7528\u641c\u7d22\u7ed3\u679c</li> <li>\u9884\u6d4b\u641c\u7d22\uff1a\u57fa\u4e8e\u5386\u53f2\u9884\u6d4b\u7528\u6237\u641c\u7d22</li> <li>\u5206\u9875\u52a0\u8f7d\uff1a\u5927\u7ed3\u679c\u96c6\u5206\u9875\u52a0\u8f7d</li> <li>\u641c\u7d22\u5efa\u8bae\uff1a\u667a\u80fd\u641c\u7d22\u5efa\u8bae\u51cf\u5c11\u8bf7\u6c42</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_23","title":"\u8def\u7ebf\u4f18\u5316","text":"<ul> <li>\u8def\u7ebf\u7f13\u5b58\uff1a\u7f13\u5b58\u5e38\u7528\u8def\u7ebf\u89c4\u5212\u7ed3\u679c</li> <li>\u589e\u91cf\u66f4\u65b0\uff1a\u53ea\u66f4\u65b0\u8def\u7ebf\u53d8\u5316\u90e8\u5206</li> <li>\u538b\u7f29\u4f20\u8f93\uff1a\u538b\u7f29\u8def\u7ebf\u6570\u636e\u51cf\u5c11\u4f20\u8f93\u91cf</li> <li>\u591a\u7ebf\u7a0b\u5904\u7406\uff1a\u5e76\u884c\u5904\u7406\u591a\u4e2a\u8def\u7ebf\u8bf7\u6c42</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_24","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/amap_flutter_search.html#_25","title":"\u641c\u7d22\u9519\u8bef\u7c7b\u578b","text":"<pre><code>enum SearchErrorType {\n  networkError,         // \u7f51\u7edc\u9519\u8bef\n  apiKeyInvalid,       // API Key \u65e0\u6548\n  quotaExceeded,       // \u914d\u989d\u8d85\u9650\n  invalidParameter,    // \u53c2\u6570\u65e0\u6548\n  noResult,           // \u65e0\u641c\u7d22\u7ed3\u679c\n  serverError,        // \u670d\u52a1\u5668\u9519\u8bef\n  timeout             // \u8bf7\u6c42\u8d85\u65f6\n}\n\nclass SearchException implements Exception {\n  final SearchErrorType type;\n  final String message;\n  final int? errorCode;\n\n  const SearchException(this.type, this.message, [this.errorCode]);\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_26","title":"\u9519\u8bef\u5904\u7406\u793a\u4f8b","text":"<pre><code>try {\n  final result = await AMapPoiSearchManager.instance.searchByKeyword(searchOption);\n  // \u5904\u7406\u641c\u7d22\u7ed3\u679c\n} on SearchException catch (e) {\n  switch (e.type) {\n    case SearchErrorType.networkError:\n      showErrorDialog('\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e');\n      break;\n    case SearchErrorType.noResult:\n      showInfoDialog('\u672a\u627e\u5230\u76f8\u5173\u7ed3\u679c\uff0c\u8bf7\u5c1d\u8bd5\u5176\u4ed6\u5173\u952e\u8bcd');\n      break;\n    case SearchErrorType.quotaExceeded:\n      showErrorDialog('\u641c\u7d22\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5');\n      break;\n    default:\n      showErrorDialog('\u641c\u7d22\u5931\u8d25: ${e.message}');\n  }\n} catch (e) {\n  showErrorDialog('\u672a\u77e5\u9519\u8bef: $e');\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_27","title":"\u7f13\u5b58\u7b56\u7565","text":""},{"location":"app_car/amap_flutter_search.html#_28","title":"\u641c\u7d22\u7ed3\u679c\u7f13\u5b58","text":"<pre><code>class SearchCache {\n  static const int maxCacheSize = 1000;\n  static const Duration cacheExpiration = Duration(hours: 1);\n\n  // \u7f13\u5b58 POI \u641c\u7d22\u7ed3\u679c\n  static Future&lt;void&gt; cachePoiResult(String key, PoiResult result);\n\n  // \u83b7\u53d6\u7f13\u5b58\u7684 POI \u7ed3\u679c\n  static Future&lt;PoiResult?&gt; getCachedPoiResult(String key);\n\n  // \u7f13\u5b58\u8def\u7ebf\u89c4\u5212\u7ed3\u679c\n  static Future&lt;void&gt; cacheRouteResult(String key, DriveRouteResult result);\n\n  // \u83b7\u53d6\u7f13\u5b58\u7684\u8def\u7ebf\u7ed3\u679c\n  static Future&lt;DriveRouteResult?&gt; getCachedRouteResult(String key);\n\n  // \u6e05\u7406\u8fc7\u671f\u7f13\u5b58\n  static Future&lt;void&gt; cleanExpiredCache();\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_29","title":"\u914d\u989d\u7ba1\u7406","text":""},{"location":"app_car/amap_flutter_search.html#api_1","title":"API \u914d\u989d\u76d1\u63a7","text":"<pre><code>class QuotaManager {\n  // \u83b7\u53d6\u5f53\u524d\u914d\u989d\u4f7f\u7528\u60c5\u51b5\n  static Future&lt;QuotaInfo&gt; getCurrentQuota();\n\n  // \u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u53d1\u8d77\u8bf7\u6c42\n  static Future&lt;bool&gt; canMakeRequest(RequestType type);\n\n  // \u8bb0\u5f55\u8bf7\u6c42\u4f7f\u7528\n  static Future&lt;void&gt; recordRequest(RequestType type);\n\n  // \u83b7\u53d6\u914d\u989d\u91cd\u7f6e\u65f6\u95f4\n  static Future&lt;DateTime&gt; getQuotaResetTime();\n}\n\nclass QuotaInfo {\n  final int dailyLimit;      // \u65e5\u9650\u989d\n  final int dailyUsed;       // \u65e5\u4f7f\u7528\u91cf\n  final int monthlyLimit;    // \u6708\u9650\u989d\n  final int monthlyUsed;     // \u6708\u4f7f\u7528\u91cf\n  final DateTime resetTime;  // \u91cd\u7f6e\u65f6\u95f4\n}\n</code></pre>"},{"location":"app_car/amap_flutter_search.html#_30","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"app_car/amap_flutter_search.html#v31221","title":"v3.1.22+1 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u652f\u6301\u6700\u65b0\u7684\u9ad8\u5fb7\u5730\u56fe API</li> <li>\u65b0\u589e\u8d27\u8f66\u8def\u7ebf\u89c4\u5212\u529f\u80fd</li> <li>\u4f18\u5316\u641c\u7d22\u6027\u80fd\u548c\u51c6\u786e\u6027</li> <li>\u4fee\u590d\u8def\u7ebf\u89c4\u5212\u7a33\u5b9a\u6027\u95ee\u9898</li> </ul>"},{"location":"app_car/amap_flutter_search.html#v3121","title":"v3.1.21","text":"<ul> <li>\u652f\u6301\u5ba4\u5185 POI \u641c\u7d22</li> <li>\u65b0\u589e\u6279\u91cf\u8ddd\u79bb\u8ba1\u7b97</li> <li>\u4f18\u5316\u5185\u5b58\u4f7f\u7528</li> <li>\u6539\u8fdb\u9519\u8bef\u5904\u7406\u673a\u5236</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_31","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/amap_flutter_search.html#_32","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>amap_flutter_base</code>: \u9ad8\u5fb7\u5730\u56fe\u57fa\u7840\u5e93</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_33","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>dio</code>: HTTP \u5ba2\u6237\u7aef</li> <li><code>cached_network_image</code>: \u56fe\u7247\u7f13\u5b58</li> <li><code>sqflite</code>: \u672c\u5730\u6570\u636e\u5e93</li> </ul>"},{"location":"app_car/amap_flutter_search.html#_34","title":"\u603b\u7ed3","text":"<p><code>amap_flutter_search</code> \u4f5c\u4e3a\u9ad8\u5fb7\u5730\u56fe\u641c\u7d22\u670d\u52a1\u7684 Flutter \u63d2\u4ef6\uff0c\u4e3a OneApp \u63d0\u4f9b\u4e86\u5168\u9762\u7684\u5730\u7406\u4fe1\u606f\u641c\u7d22\u80fd\u529b\u3002\u901a\u8fc7\u96c6\u6210 POI \u641c\u7d22\u3001\u8def\u7ebf\u89c4\u5212\u3001\u5730\u7406\u7f16\u7801\u3001\u8ddd\u79bb\u8ba1\u7b97\u7b49\u529f\u80fd\uff0c\u8be5\u63d2\u4ef6\u80fd\u591f\u6ee1\u8db3\u8f66\u8f86\u5bfc\u822a\u3001\u4f4d\u7f6e\u670d\u52a1\u3001\u8def\u5f84\u89c4\u5212\u7b49\u591a\u79cd\u4e1a\u52a1\u9700\u6c42\u3002</p> <p>\u63d2\u4ef6\u5728\u8bbe\u8ba1\u4e0a\u5145\u5206\u8003\u8651\u4e86\u6027\u80fd\u4f18\u5316\u3001\u7f13\u5b58\u7ba1\u7406\u3001\u9519\u8bef\u5904\u7406\u3001\u914d\u989d\u63a7\u5236\u7b49\u5173\u952e\u56e0\u7d20\uff0c\u786e\u4fdd\u5728\u63d0\u4f9b\u9ad8\u8d28\u91cf\u641c\u7d22\u670d\u52a1\u7684\u540c\u65f6\uff0c\u4fdd\u6301\u826f\u597d\u7684\u7528\u6237\u4f53\u9a8c\u548c\u7cfb\u7edf\u7a33\u5b9a\u6027\u3002\u8fd9\u4e3a OneApp \u7684\u8f66\u8054\u7f51\u548c\u5bfc\u822a\u670d\u52a1\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u6280\u672f\u652f\u6491\u3002</p>"},{"location":"app_car/app_avatar.html","title":"App Avatar - \u865a\u62df\u5f62\u8c61\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/app_avatar.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_avatar</code> \u662f OneApp \u7684\u865a\u62df\u5f62\u8c61\u7ba1\u7406\u6a21\u5757\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u865a\u62df\u8f66\u8f7d\u52a9\u624b\u670d\u52a1\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u8bed\u97f3\u514b\u9686\u6280\u672f\u30013D \u865a\u62df\u5f62\u8c61\u6e32\u67d3\u3001\u652f\u4ed8\u670d\u52a1\u7b49\u529f\u80fd\uff0c\u8ba9\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u548c\u5b9a\u5236\u81ea\u5df1\u7684\u4e13\u5c5e\u865a\u62df\u52a9\u624b\u3002</p>"},{"location":"app_car/app_avatar.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_avatar</li> <li>\u7248\u672c: 0.6.1+2</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-app-avatar</li> <li>Flutter \u7248\u672c: &gt;=3.0.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_avatar.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_avatar/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_avatar.dart           # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 generated/                # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 l10n/                     # \u56fd\u9645\u5316\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 avatar/               # \u865a\u62df\u5f62\u8c61\u6838\u5fc3\u529f\u80fd\n\u2502       \u251c\u2500\u2500 common_import.dart    # \u901a\u7528\u5bfc\u5165\n\u2502       \u2514\u2500\u2500 route_export.dart     # \u8def\u7531\u5bfc\u51fa\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/app_avatar.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/app_avatar.html#1","title":"1. \u8bed\u97f3\u514b\u9686\u670d\u52a1\u96c6\u6210","text":""},{"location":"app_car/app_avatar.html#_5","title":"\u8bed\u97f3\u514b\u9686\u529f\u80fd","text":"<pre><code>// \u8bed\u97f3\u514b\u9686\u670d\u52a1\u5c01\u88c5\nclass VoiceCloneService {\n  final CLRVoiceClone _voiceCloneService;\n  final PaymentService _paymentService;\n  final ConsentService _consentService;\n\n  VoiceCloneService(\n    this._voiceCloneService,\n    this._paymentService,\n    this._consentService,\n  );\n\n  // \u5f00\u59cb\u8bed\u97f3\u514b\u9686\u6d41\u7a0b\n  Future&lt;Result&lt;VoiceCloneSession&gt;&gt; startVoiceClone({\n    required String userId,\n    required VoiceClonePackage package,\n  }) async {\n    try {\n      // 1. \u68c0\u67e5\u7528\u6237\u540c\u610f\n      final consentResult = await _checkUserConsent(userId);\n      if (consentResult.isLeft()) {\n        return Left(AvatarFailure.consentRequired());\n      }\n\n      // 2. \u9a8c\u8bc1\u652f\u4ed8\n      final paymentResult = await _processPayment(package);\n      if (paymentResult.isLeft()) {\n        return Left(AvatarFailure.paymentFailed());\n      }\n\n      // 3. \u521b\u5efa\u8bed\u97f3\u514b\u9686\u4f1a\u8bdd\n      final session = await _voiceCloneService.createSession(\n        userId: userId,\n        packageId: package.id,\n        paymentId: paymentResult.getOrElse(() =&gt; ''),\n      );\n\n      return Right(session);\n    } catch (e) {\n      return Left(AvatarFailure.sessionCreationFailed(e.toString()));\n    }\n  }\n\n  // \u4e0a\u4f20\u8bed\u97f3\u6837\u672c\n  Future&lt;Result&lt;VoiceSampleUploadResult&gt;&gt; uploadVoiceSample({\n    required String sessionId,\n    required String audioFilePath,\n    required String sampleText,\n  }) async {\n    try {\n      // \u538b\u7f29\u97f3\u9891\u6587\u4ef6\n      final compressedAudio = await _compressAudioFile(audioFilePath);\n\n      // \u4e0a\u4f20\u5230\u8bed\u97f3\u514b\u9686\u670d\u52a1\n      final uploadResult = await _voiceCloneService.uploadSample(\n        sessionId: sessionId,\n        audioData: compressedAudio,\n        transcription: sampleText,\n      );\n\n      return Right(uploadResult);\n    } catch (e) {\n      return Left(AvatarFailure.uploadFailed(e.toString()));\n    }\n  }\n\n  // \u5f00\u59cb\u8bad\u7ec3\u8bed\u97f3\u6a21\u578b\n  Future&lt;Result&lt;VoiceTrainingJob&gt;&gt; startVoiceTraining(\n    String sessionId,\n  ) async {\n    try {\n      final trainingJob = await _voiceCloneService.startTraining(sessionId);\n      return Right(trainingJob);\n    } catch (e) {\n      return Left(AvatarFailure.trainingFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8bad\u7ec3\u8fdb\u5ea6\n  Future&lt;Result&lt;VoiceTrainingProgress&gt;&gt; getTrainingProgress(\n    String jobId,\n  ) async {\n    try {\n      final progress = await _voiceCloneService.getTrainingProgress(jobId);\n      return Right(progress);\n    } catch (e) {\n      return Left(AvatarFailure.progressQueryFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#2","title":"2. \u865a\u62df\u5f62\u8c61\u7ba1\u7406","text":""},{"location":"app_car/app_avatar.html#_6","title":"\u5f62\u8c61\u914d\u7f6e\u548c\u5b9a\u5236","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u914d\u7f6e\u7ba1\u7406\nclass AvatarConfigurationManager {\n  final SharedPreferences _prefs;\n  final AvatarRenderingService _renderingService;\n\n  AvatarConfigurationManager(this._prefs, this._renderingService);\n\n  // \u83b7\u53d6\u7528\u6237\u7684\u865a\u62df\u5f62\u8c61\u914d\u7f6e\n  Future&lt;Result&lt;AvatarConfiguration&gt;&gt; getUserAvatarConfig(\n    String userId,\n  ) async {\n    try {\n      final configJson = _prefs.getString('avatar_config_$userId');\n      if (configJson != null) {\n        final config = AvatarConfiguration.fromJson(\n          jsonDecode(configJson),\n        );\n        return Right(config);\n      } else {\n        // \u8fd4\u56de\u9ed8\u8ba4\u914d\u7f6e\n        return Right(AvatarConfiguration.defaultConfig());\n      }\n    } catch (e) {\n      return Left(AvatarFailure.configLoadFailed(e.toString()));\n    }\n  }\n\n  // \u4fdd\u5b58\u865a\u62df\u5f62\u8c61\u914d\u7f6e\n  Future&lt;Result&lt;void&gt;&gt; saveAvatarConfig({\n    required String userId,\n    required AvatarConfiguration config,\n  }) async {\n    try {\n      final configJson = jsonEncode(config.toJson());\n      await _prefs.setString('avatar_config_$userId', configJson);\n\n      // \u901a\u77e5\u6e32\u67d3\u670d\u52a1\u66f4\u65b0\u914d\u7f6e\n      await _renderingService.updateConfiguration(config);\n\n      return Right(unit);\n    } catch (e) {\n      return Left(AvatarFailure.configSaveFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u5f62\u8c61\u5916\u89c2\n  Future&lt;Result&lt;void&gt;&gt; updateAvatarAppearance({\n    required String userId,\n    required AvatarAppearance appearance,\n  }) async {\n    try {\n      final config = await getUserAvatarConfig(userId);\n      return config.fold(\n        (failure) =&gt; Left(failure),\n        (currentConfig) async {\n          final updatedConfig = currentConfig.copyWith(\n            appearance: appearance,\n          );\n          return await saveAvatarConfig(\n            userId: userId,\n            config: updatedConfig,\n          );\n        },\n      );\n    } catch (e) {\n      return Left(AvatarFailure.appearanceUpdateFailed(e.toString()));\n    }\n  }\n}\n\n// \u865a\u62df\u5f62\u8c61\u914d\u7f6e\u6a21\u578b\nclass AvatarConfiguration {\n  final String id;\n  final String userId;\n  final AvatarAppearance appearance;\n  final VoiceSettings voiceSettings;\n  final BehaviorSettings behaviorSettings;\n  final DateTime createdAt;\n  final DateTime updatedAt;\n\n  const AvatarConfiguration({\n    required this.id,\n    required this.userId,\n    required this.appearance,\n    required this.voiceSettings,\n    required this.behaviorSettings,\n    required this.createdAt,\n    required this.updatedAt,\n  });\n\n  factory AvatarConfiguration.defaultConfig() {\n    return AvatarConfiguration(\n      id: 'default',\n      userId: '',\n      appearance: AvatarAppearance.defaultAppearance(),\n      voiceSettings: VoiceSettings.defaultSettings(),\n      behaviorSettings: BehaviorSettings.defaultSettings(),\n      createdAt: DateTime.now(),\n      updatedAt: DateTime.now(),\n    );\n  }\n\n  AvatarConfiguration copyWith({\n    AvatarAppearance? appearance,\n    VoiceSettings? voiceSettings,\n    BehaviorSettings? behaviorSettings,\n  }) {\n    return AvatarConfiguration(\n      id: id,\n      userId: userId,\n      appearance: appearance ?? this.appearance,\n      voiceSettings: voiceSettings ?? this.voiceSettings,\n      behaviorSettings: behaviorSettings ?? this.behaviorSettings,\n      createdAt: createdAt,\n      updatedAt: DateTime.now(),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#3","title":"3. \u652f\u4ed8\u96c6\u6210","text":""},{"location":"app_car/app_avatar.html#_7","title":"\u865a\u62df\u5f62\u8c61\u670d\u52a1\u652f\u4ed8","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u652f\u4ed8\u670d\u52a1\nclass AvatarPaymentService {\n  final PaymentService _paymentService;\n  final OrderService _orderService;\n\n  AvatarPaymentService(this._paymentService, this._orderService);\n\n  // \u83b7\u53d6\u865a\u62df\u5f62\u8c61\u670d\u52a1\u5957\u9910\n  Future&lt;Result&lt;List&lt;AvatarServicePackage&gt;&gt;&gt; getServicePackages() async {\n    try {\n      final packages = await _paymentService.getAvatarPackages();\n      return Right(packages);\n    } catch (e) {\n      return Left(AvatarFailure.packagesLoadFailed(e.toString()));\n    }\n  }\n\n  // \u8d2d\u4e70\u865a\u62df\u5f62\u8c61\u670d\ufffd\ufffd\n  Future&lt;Result&lt;PaymentResult&gt;&gt; purchaseAvatarService({\n    required String userId,\n    required AvatarServicePackage package,\n    required PaymentMethod paymentMethod,\n  }) async {\n    try {\n      // 1. \u521b\u5efa\u8ba2\u5355\n      final order = await _orderService.createAvatarOrder(\n        userId: userId,\n        packageId: package.id,\n        amount: package.price,\n      );\n\n      if (order.isLeft()) {\n        return Left(AvatarFailure.orderCreationFailed());\n      }\n\n      // 2. \u5904\u7406\u652f\u4ed8\n      final paymentResult = await _paymentService.processPayment(\n        orderId: order.getOrElse(() =&gt; throw Exception()).id,\n        amount: package.price,\n        paymentMethod: paymentMethod,\n        description: '\u865a\u62df\u5f62\u8c61\u670d\u52a1 - ${package.name}',\n      );\n\n      if (paymentResult.isSuccess) {\n        // 3. \u6fc0\u6d3b\u670d\u52a1\n        await _activateAvatarService(\n          userId: userId,\n          packageId: package.id,\n          orderId: order.getOrElse(() =&gt; throw Exception()).id,\n        );\n      }\n\n      return Right(paymentResult);\n    } catch (e) {\n      return Left(AvatarFailure.purchaseFailed(e.toString()));\n    }\n  }\n\n  // \u6fc0\u6d3b\u865a\u62df\u5f62\u8c61\u670d\u52a1\n  Future&lt;void&gt; _activateAvatarService({\n    required String userId,\n    required String packageId,\n    required String orderId,\n  }) async {\n    // \u66f4\u65b0\u7528\u6237\u865a\u62df\u5f62\u8c61\u6743\u9650\n    await _updateUserAvatarPermissions(userId, packageId);\n\n    // \u8bb0\u5f55\u670d\u52a1\u6fc0\u6d3b\n    await _recordServiceActivation(userId, packageId, orderId);\n  }\n}\n\n// \u865a\u62df\u5f62\u8c61\u670d\u52a1\u5957\u9910\u6a21\u578b\nclass AvatarServicePackage {\n  final String id;\n  final String name;\n  final String description;\n  final double price;\n  final Currency currency;\n  final Duration validityPeriod;\n  final List&lt;AvatarFeature&gt; includedFeatures;\n  final PackageType type;\n\n  const AvatarServicePackage({\n    required this.id,\n    required this.name,\n    required this.description,\n    required this.price,\n    required this.currency,\n    required this.validityPeriod,\n    required this.includedFeatures,\n    required this.type,\n  });\n\n  bool get includesVoiceClone =&gt; includedFeatures\n      .contains(AvatarFeature.voiceClone);\n\n  bool get includesCustomAppearance =&gt; includedFeatures\n      .contains(AvatarFeature.customAppearance);\n\n  bool get includesAdvancedBehavior =&gt; includedFeatures\n      .contains(AvatarFeature.advancedBehavior);\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#4","title":"4. \u7528\u6237\u540c\u610f\u7ba1\u7406","text":""},{"location":"app_car/app_avatar.html#_8","title":"\u9690\u79c1\u548c\u6743\u9650\u540c\u610f","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u540c\u610f\u7ba1\u7406\nclass AvatarConsentManager {\n  final ConsentService _consentService;\n  final BasicConsentService _basicConsentService;\n\n  AvatarConsentManager(this._consentService, this._basicConsentService);\n\n  // \u68c0\u67e5\u865a\u62df\u5f62\u8c61\u670d\u52a1\u540c\u610f\u72b6\u6001\n  Future&lt;Result&lt;ConsentStatus&gt;&gt; checkAvatarConsent(String userId) async {\n    try {\n      final consentItems = [\n        ConsentItem.voiceDataCollection,\n        ConsentItem.voiceCloning,\n        ConsentItem.avatarDataProcessing,\n        ConsentItem.personalizedService,\n      ];\n\n      final consentResults = await Future.wait(\n        consentItems.map((item) =&gt; _consentService.checkConsent(\n          userId: userId,\n          consentType: item.type,\n        )),\n      );\n\n      final allConsented = consentResults.every((result) =&gt; \n          result.fold((_) =&gt; false, (status) =&gt; status.isConsented));\n\n      return Right(ConsentStatus(\n        isFullyConsented: allConsented,\n        consentItems: consentItems,\n        consentResults: consentResults,\n      ));\n    } catch (e) {\n      return Left(AvatarFailure.consentCheckFailed(e.toString()));\n    }\n  }\n\n  // \u8bf7\u6c42\u865a\u62df\u5f62\u8c61\u670d\u52a1\u540c\u610f\n  Future&lt;Result&lt;ConsentResult&gt;&gt; requestAvatarConsent({\n    required String userId,\n    required List&lt;ConsentItem&gt; requiredConsents,\n  }) async {\n    try {\n      final consentResult = await _consentService.requestConsent(\n        userId: userId,\n        consentItems: requiredConsents,\n        purpose: ConsentPurpose.avatarService,\n      );\n\n      return Right(consentResult);\n    } catch (e) {\n      return Left(AvatarFailure.consentRequestFailed(e.toString()));\n    }\n  }\n\n  // \u64a4\u9500\u865a\u62df\u5f62\u8c61\u540c\u610f\n  Future&lt;Result&lt;void&gt;&gt; revokeAvatarConsent({\n    required String userId,\n    required ConsentType consentType,\n  }) async {\n    try {\n      await _consentService.revokeConsent(\n        userId: userId,\n        consentType: consentType,\n      );\n\n      // \u6839\u636e\u64a4\u9500\u7684\u540c\u610f\u7c7b\u578b\uff0c\u7981\u7528\u76f8\u5173\u529f\u80fd\n      await _disableRelatedFeatures(userId, consentType);\n\n      return Right(unit);\n    } catch (e) {\n      return Left(AvatarFailure.consentRevokeFailed(e.toString()));\n    }\n  }\n}\n\n// \u540c\u610f\u9879\u5b9a\u4e49\nenum ConsentItem {\n  voiceDataCollection,\n  voiceCloning,\n  avatarDataProcessing,\n  personalizedService;\n\n  String get displayName {\n    switch (this) {\n      case ConsentItem.voiceDataCollection:\n        return '\u8bed\u97f3\u6570\u636e\u6536\u96c6';\n      case ConsentItem.voiceCloning:\n        return '\u8bed\u97f3\u514b\u9686\u670d\u52a1';\n      case ConsentItem.avatarDataProcessing:\n        return '\u865a\u62df\u5f62\u8c61\u6570\u636e\u5904\u7406';\n      case ConsentItem.personalizedService:\n        return '\u4e2a\u6027\u5316\u670d\u52a1';\n    }\n  }\n\n  String get description {\n    switch (this) {\n      case ConsentItem.voiceDataCollection:\n        return '\u6536\u96c6\u60a8\u7684\u8bed\u97f3\u6837\u672c\u7528\u4e8e\u521b\u5efa\u4e2a\u6027\u5316\u865a\u62df\ufffd\ufffd\u8c61';\n      case ConsentItem.voiceCloning:\n        return '\u4f7f\u7528AI\u6280\u672f\u514b\u9686\u60a8\u7684\u58f0\u97f3\u7279\u5f81';\n      case ConsentItem.avatarDataProcessing:\n        return '\u5904\u7406\u865a\u62df\u5f62\u8c61\u76f8\u5173\u7684\u4e2a\u4eba\u6570\u636e';\n      case ConsentItem.personalizedService:\n        return '\u57fa\u4e8e\u60a8\u7684\u504f\u597d\u63d0\u4f9b\u4e2a\u6027\u5316\u865a\u62df\u52a9\u624b\u670d\u52a1';\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#bloc","title":"\u72b6\u6001\u7ba1\u7406 (BLoC)","text":""},{"location":"app_car/app_avatar.html#_9","title":"\u865a\u62df\u5f62\u8c61\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u72b6\u6001\u7ba1\u7406\nclass AvatarBloc extends Bloc&lt;AvatarEvent, AvatarState&gt; {\n  final AvatarConfigurationManager _configManager;\n  final VoiceCloneService _voiceCloneService;\n  final AvatarPaymentService _paymentService;\n\n  AvatarBloc(\n    this._configManager,\n    this._voiceCloneService,\n    this._paymentService,\n  ) : super(AvatarInitial()) {\n    on&lt;LoadAvatarConfig&gt;(_onLoadAvatarConfig);\n    on&lt;UpdateAvatarAppearance&gt;(_onUpdateAvatarAppearance);\n    on&lt;StartVoiceClone&gt;(_onStartVoiceClone);\n    on&lt;PurchaseAvatarService&gt;(_onPurchaseAvatarService);\n  }\n\n  Future&lt;void&gt; _onLoadAvatarConfig(\n    LoadAvatarConfig event,\n    Emitter&lt;AvatarState&gt; emit,\n  ) async {\n    emit(AvatarLoading());\n\n    final result = await _configManager.getUserAvatarConfig(event.userId);\n    result.fold(\n      (failure) =&gt; emit(AvatarError(failure.message)),\n      (config) =&gt; emit(AvatarConfigLoaded(config)),\n    );\n  }\n\n  Future&lt;void&gt; _onStartVoiceClone(\n    StartVoiceClone event,\n    Emitter&lt;AvatarState&gt; emit,\n  ) async {\n    emit(VoiceCloneStarting());\n\n    final result = await _voiceCloneService.startVoiceClone(\n      userId: event.userId,\n      package: event.package,\n    );\n\n    result.fold(\n      (failure) =&gt; emit(AvatarError(failure.message)),\n      (session) =&gt; emit(VoiceCloneSessionCreated(session)),\n    );\n  }\n}\n\n// \u8bed\u97f3\u514b\u9686\u8bad\u7ec3\u72b6\u6001\u7ba1\u7406\nclass VoiceTrainingBloc extends Bloc&lt;VoiceTrainingEvent, VoiceTrainingState&gt; {\n  final VoiceCloneService _voiceCloneService;\n  Timer? _progressTimer;\n\n  VoiceTrainingBloc(this._voiceCloneService) : super(VoiceTrainingInitial()) {\n    on&lt;StartVoiceTraining&gt;(_onStartVoiceTraining);\n    on&lt;CheckTrainingProgress&gt;(_onCheckTrainingProgress);\n    on&lt;CancelVoiceTraining&gt;(_onCancelVoiceTraining);\n  }\n\n  Future&lt;void&gt; _onStartVoiceTraining(\n    StartVoiceTraining event,\n    Emitter&lt;VoiceTrainingState&gt; emit,\n  ) async {\n    emit(VoiceTrainingInProgress(\n      progress: TrainingProgress.initial(),\n    ));\n\n    final result = await _voiceCloneService.startVoiceTraining(event.sessionId);\n\n    result.fold(\n      (failure) =&gt; emit(VoiceTrainingError(failure.message)),\n      (job) {\n        emit(VoiceTrainingInProgress(\n          progress: TrainingProgress.started(job.id),\n        ));\n        _startProgressMonitoring(job.id);\n      },\n    );\n  }\n\n  void _startProgressMonitoring(String jobId) {\n    _progressTimer = Timer.periodic(\n      Duration(seconds: 10),\n      (_) =&gt; add(CheckTrainingProgress(jobId)),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_10","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/app_avatar.html#_11","title":"\u865a\u62df\u5f62\u8c61\u5916\u89c2\u6a21\u578b","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u5916\u89c2\u914d\u7f6e\nclass AvatarAppearance {\n  final FaceConfiguration face;\n  final HairConfiguration hair;\n  final EyeConfiguration eyes;\n  final ClothingConfiguration clothing;\n  final AccessoryConfiguration accessories;\n\n  const AvatarAppearance({\n    required this.face,\n    required this.hair,\n    required this.eyes,\n    required this.clothing,\n    required this.accessories,\n  });\n\n  factory AvatarAppearance.defaultAppearance() {\n    return AvatarAppearance(\n      face: FaceConfiguration.defaultFace(),\n      hair: HairConfiguration.defaultHair(),\n      eyes: EyeConfiguration.defaultEyes(),\n      clothing: ClothingConfiguration.defaultClothing(),\n      accessories: AccessoryConfiguration.defaultAccessories(),\n    );\n  }\n}\n\n// \u8bed\u97f3\u8bbe\u7f6e\u6a21\u578b\nclass VoiceSettings {\n  final String? customVoiceId; // \u81ea\u5b9a\u4e49\u8bed\u97f3ID\n  final VoiceType voiceType;\n  final double pitch; // \u97f3\u8c03 (0.5 - 2.0)\n  final double speed; // \u8bed\u901f (0.5 - 2.0)\n  final double volume; // \u97f3\u91cf (0.0 - 1.0)\n  final String language;\n  final String accent;\n\n  const VoiceSettings({\n    this.customVoiceId,\n    required this.voiceType,\n    required this.pitch,\n    required this.speed,\n    required this.volume,\n    required this.language,\n    required this.accent,\n  });\n\n  factory VoiceSettings.defaultSettings() {\n    return VoiceSettings(\n      voiceType: VoiceType.standard,\n      pitch: 1.0,\n      speed: 1.0,\n      volume: 0.8,\n      language: 'zh-CN',\n      accent: 'standard',\n    );\n  }\n\n  bool get hasCustomVoice =&gt; customVoiceId != null;\n}\n\n// \u884c\u4e3a\u8bbe\u7f6e\u6a21\u578b\nclass BehaviorSettings {\n  final PersonalityType personality;\n  final ResponseStyle responseStyle;\n  final List&lt;BehaviorTrait&gt; traits;\n  final EmotionSettings emotionSettings;\n  final InteractionPreferences interactionPreferences;\n\n  const BehaviorSettings({\n    required this.personality,\n    required this.responseStyle,\n    required this.traits,\n    required this.emotionSettings,\n    required this.interactionPreferences,\n  });\n\n  factory BehaviorSettings.defaultSettings() {\n    return BehaviorSettings(\n      personality: PersonalityType.friendly,\n      responseStyle: ResponseStyle.conversational,\n      traits: [BehaviorTrait.helpful, BehaviorTrait.patient],\n      emotionSettings: EmotionSettings.balanced(),\n      interactionPreferences: InteractionPreferences.defaultPreferences(),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_12","title":"\u8bed\u97f3\u514b\u9686\u76f8\u5173\u6a21\u578b","text":"<pre><code>// \u8bed\u97f3\u514b\u9686\u4f1a\u8bdd\nclass VoiceCloneSession {\n  final String id;\n  final String userId;\n  final String packageId;\n  final VoiceCloneStatus status;\n  final List&lt;VoiceSample&gt; samples;\n  final DateTime createdAt;\n  final DateTime? completedAt;\n  final String? voiceModelId;\n\n  const VoiceCloneSession({\n    required this.id,\n    required this.userId,\n    required this.packageId,\n    required this.status,\n    required this.samples,\n    required this.createdAt,\n    this.completedAt,\n    this.voiceModelId,\n  });\n\n  int get requiredSamplesCount =&gt; 10; // \u9700\u8981\u7684\u8bed\u97f3\u6837\u672c\u6570\u91cf\n  int get uploadedSamplesCount =&gt; samples.length;\n  bool get hasEnoughSamples =&gt; uploadedSamplesCount &gt;= requiredSamplesCount;\n  double get completionPercentage =&gt; uploadedSamplesCount / requiredSamplesCount;\n}\n\n// \u8bed\u97f3\u6837\u672c\nclass VoiceSample {\n  final String id;\n  final String sessionId;\n  final String audioUrl;\n  final String transcription;\n  final Duration duration;\n  final SampleQuality quality;\n  final DateTime uploadedAt;\n\n  const VoiceSample({\n    required this.id,\n    required this.sessionId,\n    required this.audioUrl,\n    required this.transcription,\n    required this.duration,\n    required this.quality,\n    required this.uploadedAt,\n  });\n\n  bool get isGoodQuality =&gt; quality == SampleQuality.high || \n                          quality == SampleQuality.excellent;\n}\n\n// \u8bad\u7ec3\u8fdb\u5ea6\nclass TrainingProgress {\n  final String jobId;\n  final TrainingStage currentStage;\n  final double progressPercentage;\n  final Duration estimatedTimeRemaining;\n  final String? statusMessage;\n  final DateTime lastUpdated;\n\n  const TrainingProgress({\n    required this.jobId,\n    required this.currentStage,\n    required this.progressPercentage,\n    required this.estimatedTimeRemaining,\n    this.statusMessage,\n    required this.lastUpdated,\n  });\n\n  factory TrainingProgress.initial() {\n    return TrainingProgress(\n      jobId: '',\n      currentStage: TrainingStage.initializing,\n      progressPercentage: 0.0,\n      estimatedTimeRemaining: Duration(hours: 2),\n      lastUpdated: DateTime.now(),\n    );\n  }\n\n  bool get isCompleted =&gt; progressPercentage &gt;= 1.0;\n  bool get isFailed =&gt; currentStage == TrainingStage.failed;\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#ui","title":"UI \u7ec4\u4ef6","text":""},{"location":"app_car/app_avatar.html#_13","title":"\u865a\u62df\u5f62\u8c61\u914d\u7f6e\u754c\u9762","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u914d\u7f6e\u9875\u9762\nclass AvatarConfigurationPage extends StatefulWidget {\n  final String userId;\n\n  const AvatarConfigurationPage({required this.userId});\n\n  @override\n  _AvatarConfigurationPageState createState() =&gt; _AvatarConfigurationPageState();\n}\n\nclass _AvatarConfigurationPageState extends State&lt;AvatarConfigurationPage&gt;\n    with TickerProviderStateMixin {\n  late TabController _tabController;\n  late AvatarBloc _avatarBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _tabController = TabController(length: 3, vsync: this);\n    _avatarBloc = context.read&lt;AvatarBloc&gt;();\n    _avatarBloc.add(LoadAvatarConfig(widget.userId));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u865a\u62df\u5f62\u8c61\u8bbe\u7f6e'),\n        bottom: TabBar(\n          controller: _tabController,\n          tabs: [\n            Tab(text: '\u5916\u89c2'),\n            Tab(text: '\u58f0\u97f3'),\n            Tab(text: '\u6027\u683c'),\n          ],\n        ),\n      ),\n      body: BlocBuilder&lt;AvatarBloc, AvatarState&gt;(\n        builder: (context, state) {\n          if (state is AvatarConfigLoaded) {\n            return TabBarView(\n              controller: _tabController,\n              children: [\n                _buildAppearanceTab(state.config),\n                _buildVoiceTab(state.config),\n                _buildBehaviorTab(state.config),\n              ],\n            );\n          } else if (state is AvatarError) {\n            return _buildErrorState(state.message);\n          } else {\n            return _buildLoadingState();\n          }\n        },\n      ),\n    );\n  }\n\n  Widget _buildAppearanceTab(AvatarConfiguration config) {\n    return SingleChildScrollView(\n      padding: EdgeInsets.all(16),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          _buildAvatarPreview(config.appearance),\n          SizedBox(height: 24),\n          _buildFaceCustomization(config.appearance.face),\n          SizedBox(height: 16),\n          _buildHairCustomization(config.appearance.hair),\n          SizedBox(height: 16),\n          _buildClothingCustomization(config.appearance.clothing),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildVoiceTab(AvatarConfiguration config) {\n    return SingleChildScrollView(\n      padding: EdgeInsets.all(16),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          _buildVoiceTypeSelection(config.voiceSettings),\n          SizedBox(height: 16),\n          if (config.voiceSettings.hasCustomVoice) \n            _buildCustomVoiceControls(config.voiceSettings),\n          _buildVoicePreviewPlayer(config.voiceSettings),\n          SizedBox(height: 16),\n          _buildVoiceParameterSliders(config.voiceSettings),\n          SizedBox(height: 24),\n          _buildVoiceCloneSection(),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_14","title":"\u8bed\u97f3\u514b\u9686\u754c\u9762","text":"<pre><code>// \u8bed\u97f3\u514b\u9686\u8bad\u7ec3\u9875\u9762\nclass VoiceCloneTrainingPage extends StatefulWidget {\n  final VoiceCloneSession session;\n\n  const VoiceCloneTrainingPage({required this.session});\n\n  @override\n  _VoiceCloneTrainingPageState createState() =&gt; _VoiceCloneTrainingPageState();\n}\n\nclass _VoiceCloneTrainingPageState extends State&lt;VoiceCloneTrainingPage&gt; {\n  late VoiceTrainingBloc _trainingBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _trainingBloc = context.read&lt;VoiceTrainingBloc&gt;();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u8bed\u97f3\u514b\u9686\u8bad\u7ec3')),\n      body: BlocBuilder&lt;VoiceTrainingBloc, VoiceTrainingState&gt;(\n        builder: (context, state) {\n          if (state is VoiceTrainingInProgress) {\n            return _buildTrainingProgress(state.progress);\n          } else if (state is VoiceTrainingCompleted) {\n            return _buildTrainingCompleted(state.result);\n          } else if (state is VoiceTrainingError) {\n            return _buildTrainingError(state.message);\n          } else {\n            return _buildTrainingInitial();\n          }\n        },\n      ),\n    );\n  }\n\n  Widget _buildTrainingProgress(TrainingProgress progress) {\n    return Padding(\n      padding: EdgeInsets.all(24),\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          Text(\n            '\u6b63\u5728\u8bad\u7ec3\u60a8\u7684\u4e13\u5c5e\u8bed\u97f3',\n            style: Theme.of(context).textTheme.headlineSmall,\n            textAlign: TextAlign.center,\n          ),\n          SizedBox(height: 32),\n          CircularProgressIndicator(\n            value: progress.progressPercentage,\n            strokeWidth: 8,\n            backgroundColor: Colors.grey[300],\n          ),\n          SizedBox(height: 16),\n          Text(\n            '${(progress.progressPercentage * 100).toInt()}% \u5b8c\u6210',\n            style: Theme.of(context).textTheme.titleLarge,\n          ),\n          SizedBox(height: 8),\n          Text(\n            '\u9884\u8ba1\u5269\u4f59\u65f6\u95f4: ${progress.estimatedTimeRemaining.inMinutes} \u5206\u949f',\n            style: Theme.of(context).textTheme.bodyMedium,\n          ),\n          SizedBox(height: 16),\n          if (progress.statusMessage != null)\n            Text(\n              progress.statusMessage!,\n              style: Theme.of(context).textTheme.bodySmall,\n              textAlign: TextAlign.center,\n            ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_15","title":"\u5de5\u5177\u7c7b","text":""},{"location":"app_car/app_avatar.html#_16","title":"\u97f3\u9891\u5904\u7406\u5de5\u5177","text":"<pre><code>// \u97f3\u9891\u6587\u4ef6\u5904\u7406\u5de5\u5177\nclass AudioProcessingUtils {\n  // \u538b\u7f29\u97f3\u9891\u6587\u4ef6\n  static Future&lt;Uint8List&gt; compressAudioFile(String filePath) async {\n    try {\n      final file = File(filePath);\n      final originalBytes = await file.readAsBytes();\n\n      // \u4f7f\u7528 flutter_image_compress \u8fdb\u884c\u97f3\u9891\u538b\u7f29\n      // \u6ce8\u610f\uff1a\u8fd9\u91cc\u9700\u8981\u9002\u914d\u97f3\u9891\u538b\u7f29\uff0c\u5b9e\u9645\u5b9e\u73b0\u53ef\u80fd\u9700\u8981\u4e13\u95e8\u7684\u97f3\u9891\u5904\u7406\u5e93\n      final compressedBytes = await FlutterImageCompress.compressWithList(\n        originalBytes,\n        quality: 70, // \u538b\u7f29\u8d28\u91cf\n      );\n\n      return compressedBytes;\n    } catch (e) {\n      throw AudioProcessingException('\u97f3\u9891\u538b\u7f29\u5931\u8d25: $e');\n    }\n  }\n\n  // \u9a8c\u8bc1\u97f3\u9891\u6587\u4ef6\u683c\u5f0f\n  static bool isValidAudioFormat(String filePath) {\n    final extension = path.extension(filePath).toLowerCase();\n    const supportedFormats = ['.mp3', '.wav', '.m4a', '.aac'];\n    return supportedFormats.contains(extension);\n  }\n\n  // \u83b7\u53d6\u97f3\u9891\u6587\u4ef6\u65f6\u957f\n  static Future&lt;Duration&gt; getAudioDuration(String filePath) async {\n    // \u8fd9\u91cc\u9700\u8981\u4f7f\u7528\u97f3\u9891\u5904\u7406\u5e93\u6765\u83b7\u53d6\u65f6\u957f\n    // \u793a\u4f8b\u5b9e\u73b0\n    try {\n      // \u4f7f\u7528\u9002\u5f53\u7684\u97f3\u9891\u5e93\u83b7\u53d6\u65f6\u957f\n      return Duration(seconds: 30); // \u793a\u4f8b\u8fd4\u56de\u503c\n    } catch (e) {\n      throw AudioProcessingException('\u65e0\u6cd5\u83b7\u53d6\u97f3\u9891\u65f6\u957f: $e');\n    }\n  }\n\n  // \u68c0\u67e5\u97f3\u9891\u8d28\u91cf\n  static Future&lt;SampleQuality&gt; analyzeAudioQuality(String filePath) async {\n    try {\n      // \u5206\u6790\u97f3\u9891\u8d28\u91cf\u6307\u6807\n      final duration = await getAudioDuration(filePath);\n      final fileSize = await File(filePath).length();\n\n      // \u57fa\u4e8e\u65f6\u957f\u548c\u6587\u4ef6\u5927\u5c0f\u7684\u7b80\u5355\u8d28\u91cf\u8bc4\u4f30\n      if (duration.inSeconds &lt; 5) {\n        return SampleQuality.poor;\n      } else if (duration.inSeconds &gt; 30) {\n        return SampleQuality.poor;\n      } else if (fileSize &lt; 50 * 1024) { // \u5c0f\u4e8e50KB\n        return SampleQuality.low;\n      } else {\n        return SampleQuality.high;\n      }\n    } catch (e) {\n      return SampleQuality.unknown;\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_17","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/app_avatar.html#_18","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>clr_voiceclone: \u8bed\u97f3\u514b\u9686\u670d\u52a1 SDK</li> <li>ui_payment: \u652f\u4ed8\u754c\u9762\u7ec4\u4ef6</li> <li>clr_order: \u8ba2\u5355\u670d\u52a1 SDK</li> <li>clr_payment: \u652f\u4ed8\u670d\u52a1 SDK</li> </ul>"},{"location":"app_car/app_avatar.html#_19","title":"\u540c\u610f\u7ba1\u7406","text":"<ul> <li>app_consent: \u5e94\u7528\u540c\u610f\u7ba1\u7406</li> <li>basic_consent: \u57fa\u7840\u540c\u610f\u670d\u52a1</li> </ul>"},{"location":"app_car/app_avatar.html#_20","title":"\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> <li>bloc: \u72b6\u6001\u7ba1\u7406</li> </ul>"},{"location":"app_car/app_avatar.html#_21","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li>shared_preferences: \u672c\u5730\u5b58\u50a8</li> <li>fluttertoast: Toast \u63d0\u793a</li> <li>flutter_image_compress: \u56fe\u50cf/\u97f3\u9891\u538b\u7f29</li> </ul>"},{"location":"app_car/app_avatar.html#_22","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/app_avatar.html#_23","title":"\u865a\u62df\u5f62\u8c61\u7279\u5b9a\u5f02\u5e38","text":"<pre><code>// \u865a\u62df\u5f62\u8c61\u529f\u80fd\u5f02\u5e38\nabstract class AvatarFailure {\n  const AvatarFailure();\n\n  factory AvatarFailure.consentRequired() = ConsentRequiredFailure;\n  factory AvatarFailure.paymentFailed() = PaymentFailedFailure;\n  factory AvatarFailure.sessionCreationFailed(String message) = SessionCreationFailure;\n  factory AvatarFailure.uploadFailed(String message) = UploadFailure;\n  factory AvatarFailure.trainingFailed(String message) = TrainingFailure;\n  factory AvatarFailure.configLoadFailed(String message) = ConfigLoadFailure;\n}\n\nclass ConsentRequiredFailure extends AvatarFailure {\n  const ConsentRequiredFailure();\n\n  String get message =&gt; '\u4f7f\u7528\u865a\u62df\u5f62\u8c61\u670d\u52a1\u9700\u8981\u60a8\u7684\u540c\u610f';\n}\n\nclass PaymentFailedFailure extends AvatarFailure {\n  const PaymentFailedFailure();\n\n  String get message =&gt; '\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u652f\u4ed8\u65b9\u5f0f';\n}\n\nclass AudioProcessingException implements Exception {\n  final String message;\n  const AudioProcessingException(this.message);\n}\n</code></pre>"},{"location":"app_car/app_avatar.html#_24","title":"\u603b\u7ed3","text":"<p><code>app_avatar</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u865a\u62df\u5f62\u8c61\u670d\u52a1\uff0c\u5305\u62ec\u8bed\u97f3\u514b\u9686\u3001\u5916\u89c2\u5b9a\u5236\u3001\u884c\u4e3a\u8bbe\u7f6e\u7b49\u529f\u80fd\u3002\u6a21\u5757\u4e25\u683c\u9075\u5faa\u9690\u79c1\u4fdd\u62a4\u539f\u5219\uff0c\u901a\u8fc7\u5b8c\u5584\u7684\u540c\u610f\u7ba1\u7406\u786e\u4fdd\u7528\u6237\u6570\u636e\u5b89\u5168\u3002\u96c6\u6210\u7684\u652f\u4ed8\u670d\u52a1\u652f\u6301\u865a\u62df\u5f62\u8c61\u670d\u52a1\u7684\u5546\u4e1a\u5316\u8fd0\u8425\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u8f66\u8f7d\u52a9\u624b\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_car.html","title":"App Car - \u8f66\u8f86\u63a7\u5236\u4e3b\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/app_car.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_car</code> \u662f OneApp \u8f66\u8f86\u529f\u80fd\u7684\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684\u8f66\u8f86\u63a7\u5236\u3001\u72b6\u6001\u76d1\u63a7\u3001\u8fdc\u7a0b\u64cd\u4f5c\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u8f66\u8054\u7f51\u901a\u4fe1\u3001\u8f66\u8f86\u72b6\u6001\u7ba1\u7406\u3001\u7a7a\u8c03\u63a7\u5236\u3001\u8f66\u95e8\u9501\u63a7\u5236\u3001\u5145\u7535\u7ba1\u7406\u7b49\u6838\u5fc3\u8f66\u8f86\u670d\u52a1\u3002</p>"},{"location":"app_car/app_car.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_car</li> <li>\u7248\u672c: 0.6.48+4</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-car-app</li> <li>Flutter \u7248\u672c: &gt;=3.0.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_car.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_car/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_car.dart              # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 app_car_temp.dart         # \u4e34\u65f6\u914d\u7f6e\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 generated/                # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 l10n/                     # \u56fd\u9645\u5316\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 ai_chat/              # AI \u804a\u5929\u96c6\u6210\n\u2502       \u251c\u2500\u2500 app_ingeek_mdk/       # \u8f66\u94a5\u5319 MDK \u96c6\u6210\n\u2502       \u251c\u2500\u2500 bloc/                 # \u72b6\u6001\u7ba1\u7406\uff08BLoC\uff09\n\u2502       \u251c\u2500\u2500 car_animation/        # \u8f66\u8f86\u52a8\u753b\u6548\u679c\n\u2502       \u251c\u2500\u2500 car_charging_center/  # \u5145\u7535\u4e2d\u5fc3\u529f\u80fd\n\u2502       \u251c\u2500\u2500 car_charging_profiles/# \u5145\u7535\u914d\u7f6e\u6587\u4ef6\n\u2502       \u251c\u2500\u2500 car_climatisation/    # \u7a7a\u8c03\u63a7\u5236\n\u2502       \u251c\u2500\u2500 car_climatisation_50/ # \u7a7a\u8c03\u63a7\u5236\uff085.0\u7248\u672c\uff09\n\u2502       \u251c\u2500\u2500 car_common_widget/    # \u8f66\u8f86\u901a\u7528\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 car_digital_key_renewal/# \u6570\u5b57\u94a5\u5319\u66f4\u65b0\n\u2502       \u251c\u2500\u2500 car_enum/             # \u8f66\u8f86\u76f8\u5173\u679a\u4e3e\n\u2502       \u251c\u2500\u2500 car_finder_card/      # \u8f66\u8f86\u67e5\u627e\u5361\u7247\n\u2502       \u251c\u2500\u2500 car_health_status/    # \u8f66\u8f86\u5065\u5eb7\u72b6\u6001\n\u2502       \u251c\u2500\u2500 car_lock_unlock/      # \u8f66\u95e8\u9501\u63a7\u5236\n\u2502       \u251c\u2500\u2500 car_vehicle_status/   # \u8f66\u8f86\u72b6\u6001\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u2502       \u251c\u2500\u2500 dbr_card/             # DBR \u5361\u7247\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 pages/                # \u9875\u9762\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 res/                  # \u8d44\u6e90\u6587\u4ef6\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u251c\u2500\u2500 common_import.dart    # \u901a\u7528\u5bfc\u5165\n\u2502       \u251c\u2500\u2500 route_dp.dart         # \u8def\u7531\u914d\u7f6e\n\u2502       \u2514\u2500\u2500 route_export.dart     # \u8def\u7531\u5bfc\u51fa\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/app_car.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/app_car.html#1_vehicle_control_core","title":"1. \u8f66\u8f86\u63a7\u5236\u6838\u5fc3 (Vehicle Control Core)","text":""},{"location":"app_car/app_car.html#car_lock_unlock","title":"\u8f66\u95e8\u9501\u63a7\u5236 (<code>car_lock_unlock/</code>)","text":"<pre><code>// \u8f66\u95e8\u9501\u63a7\u5236\u670d\u52a1\nclass CarLockUnlockService {\n  // \u8f66\u95e8\u4e0a\u9501\n  Future&lt;Result&lt;void&gt;&gt; lockVehicle() async {\n    return await _vehicleConnector.sendCommand(\n      VehicleCommand.lock(),\n    );\n  }\n\n  // \u8f66\u95e8\u89e3\u9501\n  Future&lt;Result&lt;void&gt;&gt; unlockVehicle() async {\n    return await _vehicleConnector.sendCommand(\n      VehicleCommand.unlock(),\n    );\n  }\n\n  // \u83b7\u53d6\u8f66\u95e8\u9501\u72b6\u6001\n  Future&lt;Result&lt;LockStatus&gt;&gt; getLockStatus() async {\n    return await _vehicleConnector.getVehicleStatus()\n        .map((status) =&gt; status.lockStatus);\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#car_climatisation_car_climatisation_50","title":"\u7a7a\u8c03\u63a7\u5236 (<code>car_climatisation/</code>, <code>car_climatisation_50/</code>)","text":"<pre><code>// \u7a7a\u8c03\u63a7\u5236\u670d\u52a1\nclass CarClimatisationService {\n  // \u5f00\u542f\u7a7a\u8c03\n  Future&lt;Result&lt;void&gt;&gt; startClimatisation({\n    required double targetTemperature,\n    AirConditioningMode mode = AirConditioningMode.auto,\n  }) async {\n    return await _vehicleConnector.sendCommand(\n      ClimatisationCommand.start(\n        temperature: targetTemperature,\n        mode: mode,\n      ),\n    );\n  }\n\n  // \u5173\u95ed\u7a7a\u8c03\n  Future&lt;Result&lt;void&gt;&gt; stopClimatisation() async {\n    return await _vehicleConnector.sendCommand(\n      ClimatisationCommand.stop(),\n    );\n  }\n\n  // \u9884\u8bbe\u6e29\u5ea6\u63a7\u5236\n  Future&lt;Result&lt;void&gt;&gt; setPresetTemperature(\n    TemperaturePreset preset,\n  ) async {\n    return await _vehicleConnector.sendCommand(\n      ClimatisationCommand.setPreset(preset),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#2_car_vehicle_status","title":"2. \u8f66\u8f86\u72b6\u6001\u7ba1\u7406 (<code>car_vehicle_status/</code>)","text":""},{"location":"app_car/app_car.html#_5","title":"\u5b9e\u65f6\u72b6\u6001\u76d1\u63a7","text":"<pre><code>// \u8f66\u8f86\u72b6\u6001\u7ba1\u7406\u5668\nclass VehicleStatusManager {\n  Stream&lt;VehicleStatus&gt; get statusStream =&gt; _statusController.stream;\n\n  final StreamController&lt;VehicleStatus&gt; _statusController = \n      StreamController.broadcast();\n\n  // \u542f\u52a8\u72b6\u6001\u76d1\u63a7\n  void startStatusMonitoring() {\n    _statusTimer = Timer.periodic(\n      Duration(seconds: 30),\n      (_) =&gt; _fetchVehicleStatus(),\n    );\n  }\n\n  Future&lt;void&gt; _fetchVehicleStatus() async {\n    try {\n      final status = await _vehicleConnector.getVehicleStatus();\n      status.fold(\n        (failure) =&gt; _handleStatusError(failure),\n        (vehicleStatus) =&gt; _statusController.add(vehicleStatus),\n      );\n    } catch (e) {\n      _handleStatusError(VehicleFailure.networkError(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#car_health_status","title":"\u8f66\u8f86\u5065\u5eb7\u72b6\u6001 (<code>car_health_status/</code>)","text":"<pre><code>// \u8f66\u8f86\u5065\u5eb7\u72b6\u6001\u6a21\u578b\nclass VehicleHealthStatus {\n  final BatteryHealth batteryHealth;\n  final EngineHealth engineHealth;\n  final List&lt;MaintenanceAlert&gt; maintenanceAlerts;\n  final List&lt;DiagnosticCode&gt; diagnosticCodes;\n  final DateTime lastCheckTime;\n\n  const VehicleHealthStatus({\n    required this.batteryHealth,\n    required this.engineHealth,\n    required this.maintenanceAlerts,\n    required this.diagnosticCodes,\n    required this.lastCheckTime,\n  });\n\n  // \u83b7\u53d6\u6574\u4f53\u5065\u5eb7\u8bc4\u5206\n  HealthScore get overallScore {\n    final scores = [\n      batteryHealth.score,\n      engineHealth.score,\n    ];\n    final average = scores.reduce((a, b) =&gt; a + b) / scores.length;\n    return HealthScore.fromValue(average);\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#3_car_charging_center_car_charging_profiles","title":"3. \u5145\u7535\u7ba1\u7406 (<code>car_charging_center/</code>, <code>car_charging_profiles/</code>)","text":""},{"location":"app_car/app_car.html#_6","title":"\u5145\u7535\u4e2d\u5fc3\u63a7\u5236","text":"<pre><code>// \u5145\u7535\u7ba1\u7406\u670d\u52a1\nclass ChargingCenterService {\n  // \u5f00\u59cb\u5145\u7535\n  Future&lt;Result&lt;void&gt;&gt; startCharging({\n    ChargingProfile? profile,\n    DateTime? scheduledTime,\n  }) async {\n    return await _vehicleConnector.sendCommand(\n      ChargingCommand.start(\n        profile: profile ?? ChargingProfile.standard(),\n        scheduledTime: scheduledTime,\n      ),\n    );\n  }\n\n  // \u505c\u6b62\u5145\u7535\n  Future&lt;Result&lt;void&gt;&gt; stopCharging() async {\n    return await _vehicleConnector.sendCommand(\n      ChargingCommand.stop(),\n    );\n  }\n\n  // \u8bbe\u7f6e\u5145\u7535\u76ee\u6807\n  Future&lt;Result&lt;void&gt;&gt; setChargingTarget(int targetPercentage) async {\n    return await _vehicleConnector.sendCommand(\n      ChargingCommand.setTarget(targetPercentage),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#_7","title":"\u5145\u7535\u914d\u7f6e\u6587\u4ef6\u7ba1\u7406","text":"<pre><code>// \u5145\u7535\u914d\u7f6e\u6587\u4ef6\nclass ChargingProfile {\n  final String id;\n  final String name;\n  final int targetPercentage;\n  final ChargingSpeed speed;\n  final bool isEcoMode;\n  final TimeWindow? timeWindow;\n\n  const ChargingProfile({\n    required this.id,\n    required this.name,\n    required this.targetPercentage,\n    required this.speed,\n    this.isEcoMode = false,\n    this.timeWindow,\n  });\n\n  // \u6807\u51c6\u5145\u7535\u914d\u7f6e\n  factory ChargingProfile.standard() {\n    return ChargingProfile(\n      id: 'standard',\n      name: '\u6807\u51c6\u5145\u7535',\n      targetPercentage: 80,\n      speed: ChargingSpeed.normal,\n    );\n  }\n\n  // \u5feb\u901f\u5145\u7535\u914d\u7f6e\n  factory ChargingProfile.fast() {\n    return ChargingProfile(\n      id: 'fast',\n      name: '\u5feb\u901f\u5145\u7535',\n      targetPercentage: 100,\n      speed: ChargingSpeed.fast,\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#4_car_digital_key_renewal_app_ingeek_mdk","title":"4. \u6570\u5b57\u94a5\u5319\u7ba1\u7406 (<code>car_digital_key_renewal/</code>, <code>app_ingeek_mdk/</code>)","text":""},{"location":"app_car/app_car.html#_8","title":"\u6570\u5b57\u94a5\u5319\u670d\u52a1","text":"<pre><code>// \u6570\u5b57\u94a5\u5319\u7ba1\u7406\u670d\u52a1\nclass DigitalKeyService {\n  // \u6570\u5b57\u94a5\u5319\u7eed\u671f\n  Future&lt;Result&lt;void&gt;&gt; renewDigitalKey() async {\n    try {\n      final result = await _ingeekMdk.renewKey();\n      if (result.isSuccess) {\n        await _updateLocalKeyInfo(result.keyInfo);\n        return Right(unit);\n      } else {\n        return Left(DigitalKeyFailure.renewalFailed(result.error));\n      }\n    } catch (e) {\n      return Left(DigitalKeyFailure.networkError(e.toString()));\n    }\n  }\n\n  // \u68c0\u67e5\u94a5\u5319\u72b6\u6001\n  Future&lt;Result&lt;DigitalKeyStatus&gt;&gt; checkKeyStatus() async {\n    try {\n      final keyInfo = await _ingeekMdk.getKeyInfo();\n      return Right(DigitalKeyStatus.fromKeyInfo(keyInfo));\n    } catch (e) {\n      return Left(DigitalKeyFailure.statusCheckFailed(e.toString()));\n    }\n  }\n\n  // \u6fc0\u6d3b\u6570\u5b57\u94a5\u5319\n  Future&lt;Result&lt;void&gt;&gt; activateDigitalKey(String activationCode) async {\n    return await _ingeekMdk.activateKey(activationCode);\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#5_car_finder_card","title":"5. \u8f66\u8f86\u67e5\u627e\u529f\u80fd (<code>car_finder_card/</code>)","text":""},{"location":"app_car/app_car.html#_9","title":"\u8f66\u8f86\u5b9a\u4f4d\u670d\u52a1","text":"<pre><code>// \u8f66\u8f86\u67e5\u627e\u670d\u52a1\nclass CarFinderService {\n  // \u83b7\u53d6\u8f66\u8f86\u4f4d\u7f6e\n  Future&lt;Result&lt;VehicleLocation&gt;&gt; getVehicleLocation() async {\n    return await _vehicleConnector.getVehicleLocation();\n  }\n\n  // \u95ea\u706f\u9e23\u7b1b\n  Future&lt;Result&lt;void&gt;&gt; flashAndHonk() async {\n    return await _vehicleConnector.sendCommand(\n      VehicleCommand.flashAndHonk(),\n    );\n  }\n\n  // \u8ba1\u7b97\u5230\u8f66\u8f86\u7684\u8ddd\u79bb\n  Future&lt;Result&lt;Distance&gt;&gt; calculateDistanceToVehicle(\n    UserLocation userLocation,\n  ) async {\n    final vehicleLocationResult = await getVehicleLocation();\n    return vehicleLocationResult.map((vehicleLocation) {\n      return Distance.calculate(userLocation, vehicleLocation.coordinates);\n    });\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#bloc","title":"\u72b6\u6001\u7ba1\u7406\u67b6\u6784 (<code>bloc/</code>)","text":""},{"location":"app_car/app_car.html#bloc_1","title":"BLoC \u6a21\u5f0f\u5b9e\u73b0","text":"<pre><code>// \u8f66\u8f86\u72b6\u6001 BLoC\nclass VehicleStatusBloc extends Bloc&lt;VehicleStatusEvent, VehicleStatusState&gt; {\n  final VehicleStatusRepository _repository;\n\n  VehicleStatusBloc(this._repository) : super(VehicleStatusInitial()) {\n    on&lt;LoadVehicleStatus&gt;(_onLoadVehicleStatus);\n    on&lt;RefreshVehicleStatus&gt;(_onRefreshVehicleStatus);\n    on&lt;VehicleStatusUpdated&gt;(_onVehicleStatusUpdated);\n  }\n\n  Future&lt;void&gt; _onLoadVehicleStatus(\n    LoadVehicleStatus event,\n    Emitter&lt;VehicleStatusState&gt; emit,\n  ) async {\n    emit(VehicleStatusLoading());\n\n    final result = await _repository.getVehicleStatus();\n    result.fold(\n      (failure) =&gt; emit(VehicleStatusError(failure.message)),\n      (status) =&gt; emit(VehicleStatusLoaded(status)),\n    );\n  }\n}\n\n// \u8f66\u8f86\u63a7\u5236 BLoC\nclass VehicleControlBloc extends Bloc&lt;VehicleControlEvent, VehicleControlState&gt; {\n  final VehicleControlRepository _repository;\n\n  VehicleControlBloc(this._repository) : super(VehicleControlInitial()) {\n    on&lt;LockVehicle&gt;(_onLockVehicle);\n    on&lt;UnlockVehicle&gt;(_onUnlockVehicle);\n    on&lt;StartClimatisation&gt;(_onStartClimatisation);\n    on&lt;StopClimatisation&gt;(_onStopClimatisation);\n  }\n\n  Future&lt;void&gt; _onLockVehicle(\n    LockVehicle event,\n    Emitter&lt;VehicleControlState&gt; emit,\n  ) async {\n    emit(VehicleControlLoading());\n\n    final result = await _repository.lockVehicle();\n    result.fold(\n      (failure) =&gt; emit(VehicleControlError(failure.message)),\n      (_) =&gt; emit(VehicleControlSuccess('\u8f66\u8f86\u5df2\u4e0a\u9501')),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#models","title":"\u6570\u636e\u6a21\u578b (<code>models/</code>)","text":""},{"location":"app_car/app_car.html#_10","title":"\u8f66\u8f86\u72b6\u6001\u6a21\u578b","text":"<pre><code>// \u8f66\u8f86\u72b6\u6001\u6a21\u578b\nclass VehicleStatus {\n  final String vehicleId;\n  final LockStatus lockStatus;\n  final BatteryStatus batteryStatus;\n  final ClimatisationStatus climatisationStatus;\n  final ChargingStatus chargingStatus;\n  final VehicleLocation? location;\n  final DateTime lastUpdated;\n\n  const VehicleStatus({\n    required this.vehicleId,\n    required this.lockStatus,\n    required this.batteryStatus,\n    required this.climatisationStatus,\n    required this.chargingStatus,\n    this.location,\n    required this.lastUpdated,\n  });\n\n  factory VehicleStatus.fromJson(Map&lt;String, dynamic&gt; json) {\n    return VehicleStatus(\n      vehicleId: json['vehicle_id'],\n      lockStatus: LockStatus.fromString(json['lock_status']),\n      batteryStatus: BatteryStatus.fromJson(json['battery_status']),\n      climatisationStatus: ClimatisationStatus.fromJson(json['climatisation_status']),\n      chargingStatus: ChargingStatus.fromJson(json['charging_status']),\n      location: json['location'] != null \n          ? VehicleLocation.fromJson(json['location']) \n          : null,\n      lastUpdated: DateTime.parse(json['last_updated']),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#_11","title":"\u8f66\u8f86\u63a7\u5236\u547d\u4ee4\u6a21\u578b","text":"<pre><code>// \u8f66\u8f86\u63a7\u5236\u547d\u4ee4\nabstract class VehicleCommand {\n  const VehicleCommand();\n\n  // \u8f66\u95e8\u9501\u547d\u4ee4\n  factory VehicleCommand.lock() = LockCommand;\n  factory VehicleCommand.unlock() = UnlockCommand;\n\n  // \u7a7a\u8c03\u547d\u4ee4\n  factory VehicleCommand.startClimatisation({\n    required double temperature,\n    AirConditioningMode mode,\n  }) = StartClimatisationCommand;\n\n  factory VehicleCommand.stopClimatisation() = StopClimatisationCommand;\n\n  // \u5145\u7535\u547d\u4ee4\n  factory VehicleCommand.startCharging({\n    ChargingProfile? profile,\n  }) = StartChargingCommand;\n\n  factory VehicleCommand.stopCharging() = StopChargingCommand;\n\n  // \u8f66\u8f86\u67e5\u627e\u547d\u4ee4\n  factory VehicleCommand.flashAndHonk() = FlashAndHonkCommand;\n}\n</code></pre>"},{"location":"app_car/app_car.html#car_enum","title":"\u679a\u4e3e\u5b9a\u4e49 (<code>car_enum/</code>)","text":""},{"location":"app_car/app_car.html#_12","title":"\u8f66\u8f86\u72b6\u6001\u679a\u4e3e","text":"<pre><code>// \u8f66\u95e8\u9501\u72b6\u6001\nenum LockStatus {\n  locked,\n  unlocked,\n  unknown;\n\n  static LockStatus fromString(String value) {\n    switch (value.toLowerCase()) {\n      case 'locked':\n        return LockStatus.locked;\n      case 'unlocked':\n        return LockStatus.unlocked;\n      default:\n        return LockStatus.unknown;\n    }\n  }\n}\n\n// \u5145\u7535\u72b6\u6001\nenum ChargingStatus {\n  notConnected,\n  connected,\n  charging,\n  chargingComplete,\n  chargingError;\n\n  bool get isCharging =&gt; this == ChargingStatus.charging;\n  bool get isConnected =&gt; this != ChargingStatus.notConnected;\n}\n\n// \u7a7a\u8c03\u6a21\u5f0f\nenum AirConditioningMode {\n  auto,\n  heat,\n  cool,\n  ventilation,\n  defrost;\n\n  String get displayName {\n    switch (this) {\n      case AirConditioningMode.auto:\n        return '\u81ea\u52a8';\n      case AirConditioningMode.heat:\n        return '\u5236\u70ed';\n      case AirConditioningMode.cool:\n        return '\u5236\u51b7';\n      case AirConditioningMode.ventilation:\n        return '\u901a\u98ce';\n      case AirConditioningMode.defrost:\n        return '\u9664\u971c';\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#ui_car_common_widget","title":"UI \u7ec4\u4ef6 (<code>car_common_widget/</code>)","text":""},{"location":"app_car/app_car.html#_13","title":"\u8f66\u8f86\u72b6\u6001\u5361\u7247","text":"<pre><code>// \u8f66\u8f86\u72b6\u6001\u5361\u7247\u7ec4\u4ef6\nclass VehicleStatusCard extends StatelessWidget {\n  final VehicleStatus status;\n  final VoidCallback? onRefresh;\n\n  const VehicleStatusCard({\n    Key? key,\n    required this.status,\n    this.onRefresh,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      child: Padding(\n        padding: EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            _buildHeader(),\n            SizedBox(height: 16),\n            _buildStatusGrid(),\n            SizedBox(height: 16),\n            _buildActionButtons(),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildStatusGrid() {\n    return GridView.count(\n      shrinkWrap: true,\n      physics: NeverScrollableScrollPhysics(),\n      crossAxisCount: 2,\n      children: [\n        _buildStatusItem('\u8f66\u95e8', status.lockStatus.displayName),\n        _buildStatusItem('\u7535\u91cf', '${status.batteryStatus.percentage}%'),\n        _buildStatusItem('\u7a7a\u8c03', status.climatisationStatus.displayName),\n        _buildStatusItem('\u5145\u7535', status.chargingStatus.displayName),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#_14","title":"\u8f66\u8f86\u63a7\u5236\u9762\u677f","text":"<pre><code>// \u8f66\u8f86\u63a7\u5236\u9762\u677f\nclass VehicleControlPanel extends StatelessWidget {\n  final VehicleStatus status;\n  final Function(VehicleCommand) onCommand;\n\n  const VehicleControlPanel({\n    Key? key,\n    required this.status,\n    required this.onCommand,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        _buildLockControls(),\n        SizedBox(height: 16),\n        _buildClimatisationControls(),\n        SizedBox(height: 16),\n        _buildChargingControls(),\n        SizedBox(height: 16),\n        _buildFinderControls(),\n      ],\n    );\n  }\n\n  Widget _buildLockControls() {\n    return Row(\n      children: [\n        Expanded(\n          child: ElevatedButton.icon(\n            onPressed: status.lockStatus == LockStatus.unlocked\n                ? () =&gt; onCommand(VehicleCommand.lock())\n                : null,\n            icon: Icon(Icons.lock),\n            label: Text('\u4e0a\u9501'),\n          ),\n        ),\n        SizedBox(width: 8),\n        Expanded(\n          child: ElevatedButton.icon(\n            onPressed: status.lockStatus == LockStatus.locked\n                ? () =&gt; onCommand(VehicleCommand.unlock())\n                : null,\n            icon: Icon(Icons.lock_open),\n            label: Text('\u89e3\u9501'),\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#car_animation","title":"\u52a8\u753b\u6548\u679c (<code>car_animation/</code>)","text":""},{"location":"app_car/app_car.html#_15","title":"\u8f66\u8f86\u63a7\u5236\u52a8\u753b","text":"<pre><code>// \u8f66\u8f86\u63a7\u5236\u52a8\u753b\u63a7\u5236\u5668\nclass VehicleAnimationController extends ChangeNotifier {\n  late AnimationController _lockAnimationController;\n  late AnimationController _chargingAnimationController;\n\n  Animation&lt;double&gt; get lockAnimation =&gt; _lockAnimationController;\n  Animation&lt;double&gt; get chargingAnimation =&gt; _chargingAnimationController;\n\n  void initialize(TickerProvider vsync) {\n    _lockAnimationController = AnimationController(\n      duration: Duration(milliseconds: 500),\n      vsync: vsync,\n    );\n\n    _chargingAnimationController = AnimationController(\n      duration: Duration(milliseconds: 1500),\n      vsync: vsync,\n    )..repeat();\n  }\n\n  void playLockAnimation() {\n    _lockAnimationController.forward().then((_) {\n      _lockAnimationController.reverse();\n    });\n  }\n\n  void startChargingAnimation() {\n    _chargingAnimationController.repeat();\n  }\n\n  void stopChargingAnimation() {\n    _chargingAnimationController.stop();\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#ai_ai_chat","title":"AI \u804a\u5929\u96c6\u6210 (<code>ai_chat/</code>)","text":""},{"location":"app_car/app_car.html#ai","title":"AI \u804a\u5929\u8f66\u8f86\u63a7\u5236","text":"<pre><code>// AI \u804a\u5929\u8f66\u8f86\u63a7\u5236\u96c6\u6210\nclass AIChatVehicleIntegration {\n  final VehicleControlRepository _vehicleRepository;\n  final AIChatAssistant _aiAssistant;\n\n  AIChatVehicleIntegration(this._vehicleRepository, this._aiAssistant);\n\n  // \u5904\u7406\u8f66\u8f86\u63a7\u5236\u8bed\u97f3\u547d\u4ee4\n  Future&lt;AIChatResponse&gt; handleVehicleCommand(String command) async {\n    final intent = await _aiAssistant.parseIntent(command);\n\n    switch (intent.type) {\n      case VehicleIntentType.lock:\n        return await _handleLockCommand();\n      case VehicleIntentType.unlock:\n        return await _handleUnlockCommand();\n      case VehicleIntentType.startAC:\n        return await _handleStartACCommand(intent.parameters);\n      case VehicleIntentType.stopAC:\n        return await _handleStopACCommand();\n      default:\n        return AIChatResponse.error('\u672a\u8bc6\u522b\u7684\u8f66\u8f86\u63a7\u5236\u547d\u4ee4');\n    }\n  }\n\n  Future&lt;AIChatResponse&gt; _handleLockCommand() async {\n    final result = await _vehicleRepository.lockVehicle();\n    return result.fold(\n      (failure) =&gt; AIChatResponse.error('\u8f66\u8f86\u4e0a\u9501\u5931\u8d25\uff1a${failure.message}'),\n      (_) =&gt; AIChatResponse.success('\u8f66\u8f86\u5df2\u6210\u529f\u4e0a\u9501'),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_car.html#_16","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/app_car.html#_17","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>car_connector: \u8f66\u8054\u7f51\u8fde\u63a5\u670d\u52a1</li> <li>car_vehicle: \u8f66\u8f86\u57fa\u7840\u670d\u52a1</li> <li>car_vur: \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55</li> <li>flutter_ingeek_carkey: \u6570\u5b57\u94a5\u5319 SDK</li> </ul>"},{"location":"app_car/app_car.html#_18","title":"\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_modular_route: \u8def\u7531\u7ba1\u7406</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> <li>basic_storage: \u672c\u5730\u5b58\u50a8</li> </ul>"},{"location":"app_car/app_car.html#_19","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li>ai_chat_assistant: AI \u804a\u5929\u52a9\u624b\u96c6\u6210</li> <li>clr_mno: MNO \u670d\u52a1</li> <li>dartz: \u51fd\u6570\u5f0f\u7f16\u7a0b\u652f\u6301</li> </ul>"},{"location":"app_car/app_car.html#route_dpdart_route_exportdart","title":"\u8def\u7531\u914d\u7f6e (<code>route_dp.dart</code>, <code>route_export.dart</code>)","text":""},{"location":"app_car/app_car.html#_20","title":"\u8def\u7531\u5b9a\u4e49","text":"<pre><code>// \u8f66\u8f86\u6a21\u5757\u8def\u7531\u914d\u7f6e\nclass CarRoutes {\n  static const String vehicleStatus = '/car/status';\n  static const String vehicleControl = '/car/control';\n  static const String chargingCenter = '/car/charging';\n  static const String digitalKey = '/car/digital-key';\n  static const String carFinder = '/car/finder';\n  static const String climatisation = '/car/climatisation';\n\n  static List&lt;ModularRoute&gt; get routes =&gt; [\n    ChildRoute(\n      vehicleStatus,\n      child: (context, args) =&gt; VehicleStatusPage(),\n    ),\n    ChildRoute(\n      vehicleControl,\n      child: (context, args) =&gt; VehicleControlPage(),\n    ),\n    ChildRoute(\n      chargingCenter,\n      child: (context, args) =&gt; ChargingCenterPage(),\n    ),\n    ChildRoute(\n      digitalKey,\n      child: (context, args) =&gt; DigitalKeyPage(),\n    ),\n    ChildRoute(\n      carFinder,\n      child: (context, args) =&gt; CarFinderPage(),\n    ),\n    ChildRoute(\n      climatisation,\n      child: (context, args) =&gt; ClimatisationPage(),\n    ),\n  ];\n}\n</code></pre>"},{"location":"app_car/app_car.html#constants","title":"\u5e38\u91cf\u5b9a\u4e49 (<code>constants/</code>)","text":""},{"location":"app_car/app_car.html#_21","title":"\u8f66\u8f86\u5e38\u91cf","text":"<pre><code>// \u8f66\u8f86\u63a7\u5236\u5e38\u91cf\nclass CarConstants {\n  // \u6e29\u5ea6\u8303\u56f4\n  static const double minTemperature = 16.0;\n  static const double maxTemperature = 32.0;\n  static const double defaultTemperature = 22.0;\n\n  // \u5145\u7535\u76f8\u5173\n  static const int minChargingTarget = 20;\n  static const int maxChargingTarget = 100;\n  static const int defaultChargingTarget = 80;\n\n  // \u52a8\u753b\u65f6\u957f\n  static const Duration lockAnimationDuration = Duration(milliseconds: 500);\n  static const Duration statusUpdateInterval = Duration(seconds: 30);\n\n  // \u9519\u8bef\u91cd\u8bd5\n  static const int maxRetryCount = 3;\n  static const Duration retryDelay = Duration(seconds: 2);\n}\n</code></pre>"},{"location":"app_car/app_car.html#_22","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/app_car.html#_23","title":"\u8f66\u8f86\u7279\u5b9a\u5f02\u5e38","text":"<pre><code>// \u8f66\u8f86\u64cd\u4f5c\u5f02\u5e38\nabstract class VehicleFailure {\n  const VehicleFailure();\n\n  factory VehicleFailure.networkError(String message) = NetworkFailure;\n  factory VehicleFailure.authenticationError() = AuthenticationFailure;\n  factory VehicleFailure.vehicleNotFound() = VehicleNotFoundFailure;\n  factory VehicleFailure.commandTimeout() = CommandTimeoutFailure;\n  factory VehicleFailure.vehicleOffline() = VehicleOfflineFailure;\n  factory VehicleFailure.insufficientBattery() = InsufficientBatteryFailure;\n}\n\nclass NetworkFailure extends VehicleFailure {\n  final String message;\n  const NetworkFailure(this.message);\n}\n\nclass VehicleOfflineFailure extends VehicleFailure {\n  const VehicleOfflineFailure();\n}\n</code></pre>"},{"location":"app_car/app_car.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_car.html#_25","title":"\u72b6\u6001\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u8f66\u8f86\u72b6\u6001\u672c\u5730\u7f13\u5b58</li> <li>\u667a\u80fd\u5237\u65b0\u673a\u5236</li> <li>\u540e\u53f0\u72b6\u6001\u540c\u6b65</li> </ul>"},{"location":"app_car/app_car.html#_26","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u547d\u4ee4\u961f\u5217\u7ba1\u7406</li> <li>\u6279\u91cf\u8bf7\u6c42\u5904\u7406</li> <li>\u79bb\u7ebf\u547d\u4ee4\u7f13\u5b58</li> </ul>"},{"location":"app_car/app_car.html#ui","title":"UI \u4f18\u5316","text":"<ul> <li>\u72b6\u6001\u53d8\u66f4\u52a8\u753b</li> <li>\u52a0\u8f7d\u72b6\u6001\u6307\u793a</li> <li>\u9519\u8bef\u72b6\u6001\u5904\u7406</li> </ul>"},{"location":"app_car/app_car.html#_27","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_car.html#_28","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>BLoC \u72b6\u6001\u7ba1\u7406\u6d4b\u8bd5</li> <li>\u670d\u52a1\u7c7b\u529f\u80fd\u6d4b\u8bd5</li> <li>\u6a21\u578b\u5e8f\u5217\u5316\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_car.html#_29","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u8f66\u8054\u7f51\u901a\u4fe1\u6d4b\u8bd5</li> <li>\u72b6\u6001\u540c\u6b65\u6d4b\u8bd5</li> <li>\u547d\u4ee4\u6267\u884c\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_car.html#ui_1","title":"UI \u6d4b\u8bd5","text":"<ul> <li>\u63a7\u5236\u9762\u677f\u4ea4\u4e92\u6d4b\u8bd5</li> <li>\u72b6\u6001\u663e\u793a\u6d4b\u8bd5</li> <li>\u9519\u8bef\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_car.html#_30","title":"\u603b\u7ed3","text":"<p><code>app_car</code> \u6a21\u5757\u662f OneApp \u8f66\u8f86\u529f\u80fd\u7684\u6838\u5fc3\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8f66\u8f86\u63a7\u5236\u548c\u72b6\u6001\u7ba1\u7406\u529f\u80fd\u3002\u6a21\u5757\u91c7\u7528 BLoC \u6a21\u5f0f\u8fdb\u884c\u72b6\u6001\u7ba1\u7406\uff0c\u5177\u6709\u6e05\u6670\u7684\u5206\u5c42\u67b6\u6784\u548c\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u3002\u901a\u8fc7\u96c6\u6210 AI \u804a\u5929\u52a9\u624b\u548c\u6570\u5b57\u94a5\u5319\u6280\u672f\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u667a\u80fd\u5316\u548c\u4fbf\u6377\u7684\u8f66\u8f86\u64cd\u4f5c\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_carwatcher.html","title":"App Carwatcher \u8f66\u8f86\u76d1\u63a7\u6a21\u5757","text":""},{"location":"app_car/app_carwatcher.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_carwatcher</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u8f66\u8f86\u76d1\u63a7\u6a21\u5757\uff0c\u8d1f\u8d23\u5b9e\u65f6\u76d1\u63a7\u8f66\u8f86\u72b6\u6001\u3001\u4f4d\u7f6e\u4fe1\u606f\u3001\u5b89\u5168\u8b66\u62a5\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u7528\u6237\u63d0\u4f9b\u5168\u65b9\u4f4d\u7684\u8f66\u8f86\u5b89\u5168\u76d1\u63a7\u670d\u52a1\uff0c\u786e\u4fdd\u8f66\u8f86\u7684\u5b89\u5168\u6027\u548c\u7528\u6237\u7684\u4f7f\u7528\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_carwatcher.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_carwatcher</li> <li>\u7248\u672c: 0.1.2</li> <li>\u63cf\u8ff0: \u8f66\u8f86\u76d1\u63a7\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_carwatcher.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_carwatcher.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u5b9e\u65f6\u8f66\u8f86\u76d1\u63a7    - \u8f66\u8f86\u4f4d\u7f6e\u5b9e\u65f6\u8ffd\u8e2a    - \u8f66\u8f86\u72b6\u6001\u76d1\u63a7\uff08\u9501\u8f66\u72b6\u6001\u3001\u8f66\u7a97\u72b6\u6001\u7b49\uff09    - \u8f66\u8f86\u5f02\u5e38\u62a5\u8b66</p> </li> <li> <p>\u5b89\u5168\u9632\u62a4    - \u9632\u76d7\u62a5\u8b66    - \u5f02\u5e38\u79fb\u52a8\u68c0\u6d4b    - \u8fdc\u7a0b\u76d1\u63a7\u544a\u8b66</p> </li> <li> <p>\u5730\u56fe\u96c6\u6210    - \u8f66\u8f86\u4f4d\u7f6e\u53ef\u89c6\u5316    - \u5386\u53f2\u8f68\u8ff9\u67e5\u770b    - \u5730\u7406\u56f4\u680f\u8bbe\u7f6e</p> </li> <li> <p>\u6743\u9650\u7ba1\u7406    - \u4f4d\u7f6e\u6743\u9650\u7ba1\u7406    - \u7528\u6237\u6388\u6743\u9a8c\u8bc1    - \u9690\u79c1\u5408\u89c4\u68c0\u67e5</p> </li> </ol>"},{"location":"app_car/app_carwatcher.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_carwatcher.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_carwatcher.dart           # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                          # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 app_carwatcher_module.dart # \u6a21\u5757\u5b9a\u4e49\u548c\u4f9d\u8d56\u6ce8\u5165\n\u2502   \u251c\u2500\u2500 route_dp.dart             # \u8def\u7531\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 route_export.dart         # \u8def\u7531\u5bfc\u51fa\n\u2502   \u251c\u2500\u2500 blocs/                    # \u72b6\u6001\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 constants/                # \u5e38\u91cf\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 pages/                    # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u2514\u2500\u2500 utils/                    # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 generated/                    # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                        # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_carwatcher.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_carwatcher.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_consent: ^0.2.17</code> - \u9690\u79c1\u5408\u89c4</li> </ul>"},{"location":"app_car/app_carwatcher.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>app_consent: ^0.2.19</code> - \u7528\u6237\u540c\u610f\u6a21\u5757</li> <li><code>ui_mapview: ^0.2.18</code> - \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li><code>clr_geo: ^0.2.16+1</code> - \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> <li><code>clr_carwatcher: ^0.1.0</code> - \u8f66\u8f86\u76d1\u63a7\u670d\u52a1SDK</li> </ul>"},{"location":"app_car/app_carwatcher.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>permission_handler: ^10.3.0</code> - \u6743\u9650\u7ba1\u7406</li> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> </ul>"},{"location":"app_car/app_carwatcher.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_carwatcher.html#1_app_carwatcherdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_carwatcher.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - \u6838\u5fc3\u7ec4\u4ef6\u66b4\u9732</p> <p>\u5bfc\u51fa\u5185\u5bb9: <pre><code>export 'src/app_carwatcher_module.dart';  // \u6a21\u5757\u5b9a\u4e49\nexport 'src/route_dp.dart';              // \u8def\u7531\u914d\u7f6e\nexport 'src/route_export.dart';          // \u8def\u7531\u5bfc\u51fa\n</code></pre></p>"},{"location":"app_car/app_carwatcher.html#2_srcapp_carwatcher_moduledart","title":"2. \u6a21\u5757\u5b9a\u4e49 (<code>src/app_carwatcher_module.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u4f9d\u8d56\u6ce8\u5165\u914d\u7f6e - \u670d\u52a1\u6ce8\u518c\u548c\u751f\u547d\u5468\u671f\u7ba1\u7406 - \u6a21\u5757\u521d\u59cb\u5316\u903b\u8f91</p> <p>\u4e3b\u8981\u529f\u80fd: - \u6ce8\u518c\u8f66\u8f86\u76d1\u63a7\u76f8\u5173\u670d\u52a1 - \u914d\u7f6e\u6a21\u5757\u8def\u7531 - \u521d\u59cb\u5316\u5730\u56fe\u670d\u52a1 - \u8bbe\u7f6e\u6743\u9650\u7ba1\u7406</p>"},{"location":"app_car/app_carwatcher.html#3_srcroute_dpdart_srcroute_exportdart","title":"3. \u8def\u7531\u914d\u7f6e (<code>src/route_dp.dart</code> &amp; <code>src/route_export.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5b9a\u4e49\u6a21\u5757\u5185\u90e8\u8def\u7531 - \u914d\u7f6e\u9875\u9762\u5bfc\u822a\u89c4\u5219 - \u5bf9\u5916\u8def\u7531\u63a5\u53e3\u66b4\u9732</p> <p>\u8def\u7531\u529f\u80fd: - \u8f66\u8f86\u76d1\u63a7\u4e3b\u9875\u9762 - \u8f66\u8f86\u4f4d\u7f6e\u8be6\u60c5\u9875 - \u5386\u53f2\u8f68\u8ff9\u67e5\u770b\u9875 - \u5b89\u5168\u8bbe\u7f6e\u9875\u9762</p>"},{"location":"app_car/app_carwatcher.html#4_srcblocs","title":"4. \u72b6\u6001\u7ba1\u7406 (<code>src/blocs/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8f66\u8f86\u72b6\u6001\u6570\u636e\u7ba1\u7406 - \u4f4d\u7f6e\u4fe1\u606f\u72b6\u6001\u7ef4\u62a4 - \u76d1\u63a7\u544a\u8b66\u72b6\u6001\u5904\u7406</p> <p>\u4e3b\u8981BLoC: - <code>CarwatcherBloc</code> - \u8f66\u8f86\u76d1\u63a7\u4e3b\u72b6\u6001 - <code>LocationBloc</code> - \u4f4d\u7f6e\u4fe1\u606f\u72b6\u6001 - <code>AlertBloc</code> - \u544a\u8b66\u4fe1\u606f\u72b6\u6001 - <code>PermissionBloc</code> - \u6743\u9650\u72b6\u6001\u7ba1\u7406</p>"},{"location":"app_car/app_carwatcher.html#5_srcpages","title":"5. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u7528\u6237\u4ea4\u4e92\u5904\u7406 - \u6570\u636e\u5c55\u793a\u548c\u64cd\u4f5c</p> <p>\u4e3b\u8981\u9875\u9762: - <code>CarwatcherHomePage</code> - \u76d1\u63a7\u4e3b\u9875 - <code>VehicleLocationPage</code> - \u8f66\u8f86\u4f4d\u7f6e\u9875 - <code>TrackHistoryPage</code> - \u8f68\u8ff9\u5386\u53f2\u9875 - <code>SecuritySettingsPage</code> - \u5b89\u5168\u8bbe\u7f6e\u9875</p>"},{"location":"app_car/app_carwatcher.html#6_srcutils","title":"6. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4e1a\u52a1\u5de5\u5177\u65b9\u6cd5 - \u6570\u636e\u5904\u7406\u8f85\u52a9 - \u901a\u7528\u529f\u80fd\u5c01\u88c5</p> <p>\u4e3b\u8981\u5de5\u5177: - \u5730\u7406\u4f4d\u7f6e\u8ba1\u7b97\u5de5\u5177 - \u65f6\u95f4\u683c\u5f0f\u5316\u5de5\u5177 - \u6570\u636e\u8f6c\u6362\u5de5\u5177 - \u6743\u9650\u68c0\u67e5\u5de5\u5177</p>"},{"location":"app_car/app_carwatcher.html#7_srcconstants","title":"7. \u5e38\u91cf\u5b9a\u4e49 (<code>src/constants/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5e38\u91cf\u5b9a\u4e49 - \u914d\u7f6e\u53c2\u6570\u7ba1\u7406 - \u9519\u8bef\u7801\u5b9a\u4e49</p> <p>\u5e38\u91cf\u7c7b\u578b: - API\u63a5\u53e3\u5e38\u91cf - \u4e1a\u52a1\u914d\u7f6e\u5e38\u91cf - \u9519\u8bef\u6d88\u606f\u5e38\u91cf - UI\u914d\u7f6e\u5e38\u91cf</p>"},{"location":"app_car/app_carwatcher.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_carwatcher.html#_13","title":"\u8f66\u8f86\u76d1\u63a7\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u542f\u52a8\u76d1\u63a7] --&gt; B[\u6743\u9650\u68c0\u67e5]\n    B --&gt; C{\u6743\u9650\u662f\u5426\u5df2\u6388\u4e88}\n    C --&gt;|\u662f| D[\u83b7\u53d6\u8f66\u8f86\u4f4d\u7f6e]\n    C --&gt;|\u5426| E[\u8bf7\u6c42\u4f4d\u7f6e\u6743\u9650]\n    E --&gt; F{\u7528\u6237\u662f\u5426\u540c\u610f}\n    F --&gt;|\u662f| D\n    F --&gt;|\u5426| G[\u663e\u793a\u6743\u9650\u8bf4\u660e]\n    D --&gt; H[\u66f4\u65b0\u5730\u56fe\u4f4d\u7f6e]\n    H --&gt; I[\u68c0\u67e5\u5f02\u5e38\u72b6\u6001]\n    I --&gt; J{\u662f\u5426\u6709\u5f02\u5e38}\n    J --&gt;|\u662f| K[\u53d1\u9001\u544a\u8b66\u901a\u77e5]\n    J --&gt;|\u5426| L[\u7ee7\u7eed\u76d1\u63a7]\n    K --&gt; L\n    L --&gt; D</code></pre>"},{"location":"app_car/app_carwatcher.html#_14","title":"\u544a\u8b66\u5904\u7406\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u63a5\u6536\u544a\u8b66] --&gt; B[\u9a8c\u8bc1\u544a\u8b66\u6709\u6548\u6027]\n    B --&gt; C[\u786e\u5b9a\u544a\u8b66\u7c7b\u578b]\n    C --&gt; D{\u544a\u8b66\u7ea7\u522b}\n    D --&gt;|\u9ad8\u5371| E[\u7acb\u5373\u63a8\u9001\u901a\u77e5]\n    D --&gt;|\u4e2d\u5371| F[\u8bb0\u5f55\u65e5\u5fd7+\u901a\u77e5]\n    D --&gt;|\u4f4e\u5371| G[\u4ec5\u8bb0\u5f55\u65e5\u5fd7]\n    E --&gt; H[\u66f4\u65b0UI\u72b6\u6001]\n    F --&gt; H\n    G --&gt; H\n    H --&gt; I[\u5b58\u50a8\u544a\u8b66\u8bb0\u5f55]</code></pre>"},{"location":"app_car/app_carwatcher.html#_15","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_carwatcher.html#_16","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u4f4d\u7f6e\u6570\u636e\u52a0\u5bc6\u4f20\u8f93</li> <li>\u672c\u5730\u6570\u636e\u5b89\u5168\u5b58\u50a8</li> <li>\u7528\u6237\u9690\u79c1\u5408\u89c4\u68c0\u67e5</li> <li>\u6570\u636e\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"app_car/app_carwatcher.html#_17","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>API\u63a5\u53e3\u5b89\u5168\u8ba4\u8bc1</li> <li>\u6570\u636e\u4f20\u8f93\u52a0\u5bc6</li> <li>\u654f\u611f\u4fe1\u606f\u8131\u654f</li> <li>\u9632\u91cd\u653e\u653b\u51fb\u673a\u5236</li> </ul>"},{"location":"app_car/app_carwatcher.html#_18","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_carwatcher.html#_19","title":"\u4f4d\u7f6e\u670d\u52a1\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u5b9a\u4f4d\u9891\u7387\u8c03\u8282</li> <li>\u4f4e\u529f\u8017\u5b9a\u4f4d\u7b56\u7565</li> <li>\u4f4d\u7f6e\u7f13\u5b58\u673a\u5236</li> <li>\u7f51\u7edc\u72b6\u6001\u9002\u914d</li> </ul>"},{"location":"app_car/app_carwatcher.html#_20","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u5386\u53f2\u6570\u636e\u5b9a\u671f\u6e05\u7406</li> <li>\u5730\u56fe\u8d44\u6e90\u91ca\u653e</li> <li>\u72b6\u6001\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7ba1\u7406</li> <li>\u5185\u5b58\u6cc4\u6f0f\u9632\u62a4</li> </ul>"},{"location":"app_car/app_carwatcher.html#_21","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_carwatcher.html#_22","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u76d1\u63a7\u529f\u80fd\u6a21\u5757\u5316</li> <li>\u544a\u8b66\u7b56\u7565\u53ef\u914d\u7f6e</li> <li>\u7b2c\u4e09\u65b9\u670d\u52a1\u96c6\u6210</li> <li>\u81ea\u5b9a\u4e49\u76d1\u63a7\u89c4\u5219</li> </ul>"},{"location":"app_car/app_carwatcher.html#_23","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u76d1\u63a7\u53c2\u6570\u53ef\u914d\u7f6e</li> <li>\u544a\u8b66\u9608\u503c\u52a8\u6001\u8c03\u6574</li> <li>UI\u754c\u9762\u4e2a\u6027\u5316</li> <li>\u529f\u80fd\u5f00\u5173\u63a7\u5236</li> </ul>"},{"location":"app_car/app_carwatcher.html#_24","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_carwatcher.html#_25","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>BLoC\u72b6\u6001\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u65b9\u6cd5\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u6743\u9650\u903b\u8f91\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_carwatcher.html#_26","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u5730\u56fe\u96c6\u6210\u6d4b\u8bd5</li> <li>\u4f4d\u7f6e\u670d\u52a1\u6d4b\u8bd5</li> <li>\u544a\u8b66\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u6743\u9650\u6d41\u7a0b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_carwatcher.html#ui","title":"UI\u6d4b\u8bd5","text":"<ul> <li>\u9875\u9762\u6e32\u67d3\u6d4b\u8bd5</li> <li>\u7528\u6237\u4ea4\u4e92\u6d4b\u8bd5</li> <li>\u5bfc\u822a\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u5f02\u5e38\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_carwatcher.html#_27","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_carwatcher.html#_28","title":"\u6784\u5efa\u914d\u7f6e","text":"<ul> <li>\u591a\u73af\u5883\u6784\u5efa\u652f\u6301</li> <li>\u6743\u9650\u914d\u7f6e\u68c0\u67e5</li> <li>\u8d44\u6e90\u6587\u4ef6\u4f18\u5316</li> <li>\u4ee3\u7801\u6df7\u6dc6\u914d\u7f6e</li> </ul>"},{"location":"app_car/app_carwatcher.html#_29","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u5b9a\u4f4d\u6210\u529f\u7387</li> <li>\u544a\u8b66\u54cd\u5e94\u65f6\u95f4</li> <li>\u7528\u6237\u6d3b\u8dc3\u5ea6</li> <li>\u5f02\u5e38\u9519\u8bef\u7387</li> </ul>"},{"location":"app_car/app_carwatcher.html#_30","title":"\u603b\u7ed3","text":"<p><code>app_carwatcher</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u91cd\u8981\u5b89\u5168\u7ec4\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5168\u9762\u7684\u8f66\u8f86\u76d1\u63a7\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u6a21\u5757\u5316\u7684\u8bbe\u8ba1\u3001\u5b8c\u5584\u7684\u6743\u9650\u7ba1\u7406\u548c\u667a\u80fd\u7684\u544a\u8b66\u673a\u5236\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u53ef\u9760\u7684\u8f66\u8f86\u5b89\u5168\u4fdd\u969c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u4e1a\u52a1\u9700\u6c42\u3002</p>"},{"location":"app_car/app_charging.html","title":"App Charging - \u5145\u7535\u7ba1\u7406\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/app_charging.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_charging</code> \u662f OneApp \u7684\u5145\u7535\u7ba1\u7406\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684\u7535\u52a8\u8f66\u5145\u7535\u529f\u80fd\uff0c\u5305\u62ec\u5145\u7535\u6869\u67e5\u627e\u3001\u5145\u7535\u72b6\u6001\u76d1\u63a7\u3001\u5145\u7535\u5386\u53f2\u8bb0\u5f55\u3001\u652f\u4ed8\u7ed3\u7b97\u7b49\u5168\u6d41\u7a0b\u5145\u7535\u670d\u52a1\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u5730\u56fe\u670d\u52a1\u3001\u4e8c\u7ef4\u7801\u626b\u63cf\u3001\u652f\u4ed8\u529f\u80fd\u7b49\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4fbf\u6377\u7684\u5145\u7535\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_charging.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_charging</li> <li>\u7248\u672c: 0.3.13</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-app-charging</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=2.17.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_charging.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_charging/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_charging.dart         # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 generated/                # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 l10n/                     # \u56fd\u9645\u5316\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 app_charging_module.dart # \u5145\u7535\u6a21\u5757\u914d\u7f6e\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\uff08BLoC\uff09\n\u2502       \u251c\u2500\u2500 carfinder/            # \u8f66\u8f86\u67e5\u627e\u529f\u80fd\n\u2502       \u251c\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u2502       \u251c\u2500\u2500 pages/                # \u9875\u9762\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u251c\u2500\u2500 route_dp.dart         # \u8def\u7531\u914d\u7f6e\n\u2502       \u251c\u2500\u2500 route_export.dart     # \u8def\u7531\u5bfc\u51fa\n\u2502       \u2514\u2500\u2500 switch_vehicle.dart   # \u8f66\u8f86\u5207\u6362\u529f\u80fd\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/app_charging.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/app_charging.html#1","title":"1. \u5145\u7535\u6869\u67e5\u627e\u4e0e\u5bfc\u822a","text":""},{"location":"app_car/app_charging.html#_5","title":"\u5730\u56fe\u96c6\u6210\u5145\u7535\u6869\u641c\u7d22","text":"<pre><code>// \u5145\u7535\u6869\u67e5\u627e\u670d\u52a1\nclass ChargingStationFinder {\n  final GeoService _geoService;\n  final ChargingService _chargingService;\n\n  ChargingStationFinder(this._geoService, this._chargingService);\n\n  // \u641c\u7d22\u9644\u8fd1\u5145\u7535\u6869\n  Future&lt;Result&lt;List&lt;ChargingStation&gt;&gt;&gt; findNearbyStations({\n    required LatLng location,\n    double radiusKm = 5.0,\n    ChargingStationType? type,\n    bool onlyAvailable = false,\n  }) async {\n    try {\n      final stations = await _chargingService.searchStations(\n        location: location,\n        radius: radiusKm,\n        type: type,\n        availableOnly: onlyAvailable,\n      );\n\n      return Right(stations);\n    } catch (e) {\n      return Left(ChargingFailure.searchFailed(e.toString()));\n    }\n  }\n\n  // \u89c4\u5212\u5145\u7535\u8def\u7ebf\n  Future&lt;Result&lt;ChargingRoute&gt;&gt; planChargingRoute({\n    required LatLng origin,\n    required LatLng destination,\n    required VehicleBatteryStatus batteryStatus,\n  }) async {\n    // \u8ba1\u7b97\u8def\u7ebf\u6240\u9700\u5145\u7535\u70b9\n    final routeDistance = await _geoService.calculateDistance(origin, destination);\n    final requiredCharging = _calculateChargingNeeds(routeDistance, batteryStatus);\n\n    if (!requiredCharging.needsCharging) {\n      return Right(ChargingRoute.direct(origin, destination));\n    }\n\n    // \u67e5\u627e\u8def\u7ebf\u4e0a\u7684\u5145\u7535\u6869\n    final waypoints = await _findChargingWaypoints(\n      origin: origin,\n      destination: destination,\n      chargingNeeds: requiredCharging,\n    );\n\n    return Right(ChargingRoute.withCharging(origin, destination, waypoints));\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#_6","title":"\u5145\u7535\u6869\u8be6\u60c5\u4e0e\u72b6\u6001","text":"<pre><code>// \u5145\u7535\u6869\u72b6\u6001\u6a21\u578b\nclass ChargingStation {\n  final String id;\n  final String name;\n  final String address;\n  final LatLng location;\n  final List&lt;ChargingPoint&gt; chargingPoints;\n  final StationOperator operator;\n  final double rating;\n  final List&lt;String&gt; amenities;\n  final StationStatus status;\n  final PricingInfo pricing;\n\n  const ChargingStation({\n    required this.id,\n    required this.name,\n    required this.address,\n    required this.location,\n    required this.chargingPoints,\n    required this.operator,\n    required this.rating,\n    required this.amenities,\n    required this.status,\n    required this.pricing,\n  });\n\n  // \u83b7\u53d6\u53ef\u7528\u5145\u7535\u6869\u6570\u91cf\n  int get availablePointsCount =&gt; chargingPoints\n      .where((point) =&gt; point.status == ChargingPointStatus.available)\n      .length;\n\n  // \u83b7\u53d6\u6700\u5927\u5145\u7535\u529f\u7387\n  double get maxPower =&gt; chargingPoints\n      .map((point) =&gt; point.maxPower)\n      .reduce(math.max);\n\n  // \u662f\u5426\u652f\u6301\u5feb\u5145\n  bool get supportsFastCharging =&gt; chargingPoints\n      .any((point) =&gt; point.type == ChargingPointType.dcFast);\n}\n\n// \u5145\u7535\u6869\u5145\u7535\u70b9\nclass ChargingPoint {\n  final String id;\n  final ChargingPointType type;\n  final double maxPower;\n  final ChargingPointStatus status;\n  final ConnectorType connectorType;\n  final double pricePerKwh;\n  final EstimatedChargingTime? estimatedTime;\n\n  const ChargingPoint({\n    required this.id,\n    required this.type,\n    required this.maxPower,\n    required this.status,\n    required this.connectorType,\n    required this.pricePerKwh,\n    this.estimatedTime,\n  });\n}\n</code></pre>"},{"location":"app_car/app_charging.html#2","title":"2. \u5145\u7535\u4f1a\u8bdd\u7ba1\u7406","text":""},{"location":"app_car/app_charging.html#_7","title":"\u5145\u7535\u542f\u52a8\u4e0e\u63a7\u5236","text":"<pre><code>// \u5145\u7535\u4f1a\u8bdd\u7ba1\u7406\u670d\u52a1\nclass ChargingSessionManager {\n  final ChargingService _chargingService;\n  final PaymentService _paymentService;\n\n  ChargingSessionManager(this._chargingService, this._paymentService);\n\n  // \u542f\u52a8\u5145\u7535\u4f1a\u8bdd\n  Future&lt;Result&lt;ChargingSession&gt;&gt; startChargingSession({\n    required String stationId,\n    required String pointId,\n    required PaymentMethod paymentMethod,\n    ChargingTarget? target,\n  }) async {\n    try {\n      // 1. \u9a8c\u8bc1\u5145\u7535\u6869\u53ef\u7528\u6027\n      final pointStatus = await _chargingService.getPointStatus(pointId);\n      if (pointStatus.status != ChargingPointStatus.available) {\n        return Left(ChargingFailure.pointUnavailable());\n      }\n\n      // 2. \u9884\u6388\u6743\u652f\u4ed8\n      final paymentAuth = await _paymentService.authorizePayment(\n        paymentMethod: paymentMethod,\n        estimatedAmount: _calculateEstimatedCost(target, pointStatus),\n      );\n\n      if (paymentAuth.isLeft()) {\n        return Left(ChargingFailure.paymentFailed());\n      }\n\n      // 3. \u542f\u52a8\u5145\u7535\n      final session = await _chargingService.startCharging(\n        pointId: pointId,\n        paymentAuthId: paymentAuth.getOrElse(() =&gt; ''),\n        target: target,\n      );\n\n      return Right(session);\n    } catch (e) {\n      return Left(ChargingFailure.sessionStartFailed(e.toString()));\n    }\n  }\n\n  // \u505c\u6b62\u5145\u7535\u4f1a\u8bdd\n  Future&lt;Result&lt;ChargingSessionSummary&gt;&gt; stopChargingSession(\n    String sessionId,\n  ) async {\n    try {\n      final session = await _chargingService.stopCharging(sessionId);\n\n      // \u5904\u7406\u652f\u4ed8\u7ed3\u7b97\n      final payment = await _paymentService.processPayment(\n        sessionId: sessionId,\n        amount: session.totalCost,\n      );\n\n      return Right(ChargingSessionSummary.fromSession(session, payment));\n    } catch (e) {\n      return Left(ChargingFailure.sessionStopFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#_8","title":"\u5145\u7535\u72b6\u6001\u76d1\u63a7","text":"<pre><code>// \u5145\u7535\u4f1a\u8bdd\u5b9e\u65f6\u72b6\u6001\nclass ChargingSession {\n  final String id;\n  final String stationId;\n  final String pointId;\n  final DateTime startTime;\n  final ChargingSessionStatus status;\n  final ChargingProgress progress;\n  final ChargingTarget target;\n  final double currentCost;\n  final Duration estimatedTimeRemaining;\n\n  const ChargingSession({\n    required this.id,\n    required this.stationId,\n    required this.pointId,\n    required this.startTime,\n    required this.status,\n    required this.progress,\n    required this.target,\n    required this.currentCost,\n    required this.estimatedTimeRemaining,\n  });\n\n  // \u5145\u7535\u8fdb\u5ea6\u767e\u5206\u6bd4\n  double get progressPercentage {\n    switch (target.type) {\n      case ChargingTargetType.percentage:\n        return (progress.currentPercentage - progress.startPercentage) /\n               (target.targetPercentage! - progress.startPercentage);\n      case ChargingTargetType.energy:\n        return progress.energyDelivered / target.targetEnergy!;\n      case ChargingTargetType.time:\n        final elapsed = DateTime.now().difference(startTime);\n        return elapsed.inMinutes / target.targetMinutes!;\n    }\n  }\n}\n\n// \u5145\u7535\u8fdb\u5ea6\u4fe1\u606f\nclass ChargingProgress {\n  final double startPercentage;\n  final double currentPercentage;\n  final double energyDelivered; // kWh\n  final double currentPower; // kW\n  final double averagePower; // kW\n  final Duration chargingTime;\n\n  const ChargingProgress({\n    required this.startPercentage,\n    required this.currentPercentage,\n    required this.energyDelivered,\n    required this.currentPower,\n    required this.averagePower,\n    required this.chargingTime,\n  });\n}\n</code></pre>"},{"location":"app_car/app_charging.html#3","title":"3. \u4e8c\u7ef4\u7801\u626b\u63cf\u542f\u52a8\u5145\u7535","text":""},{"location":"app_car/app_charging.html#_9","title":"\u626b\u7801\u5145\u7535\u670d\u52a1","text":"<pre><code>// \u4e8c\u7ef4\u7801\u5145\u7535\u542f\u52a8\u670d\u52a1\nclass QRCodeChargingService {\n  final ScanKitService _scanService;\n  final ChargingSessionManager _sessionManager;\n\n  QRCodeChargingService(this._scanService, this._sessionManager);\n\n  // \u626b\u63cf\u5145\u7535\u6869\u4e8c\u7ef4\u7801\n  Future&lt;Result&lt;ChargingPointInfo&gt;&gt; scanChargingPoint() async {\n    try {\n      final scanResult = await _scanService.startScan();\n\n      if (scanResult.isSuccess) {\n        final qrData = scanResult.code;\n        final pointInfo = await _parseChargingQRCode(qrData);\n        return Right(pointInfo);\n      } else {\n        return Left(ChargingFailure.scanFailed());\n      }\n    } catch (e) {\n      return Left(ChargingFailure.scanError(e.toString()));\n    }\n  }\n\n  // \u89e3\u6790\u5145\u7535\u6869\u4e8c\u7ef4\u7801\n  Future&lt;ChargingPointInfo&gt; _parseChargingQRCode(String qrData) async {\n    // QR\u7801\u683c\u5f0f\uff1acharging://station/{stationId}/point/{pointId}\n    final uri = Uri.parse(qrData);\n\n    if (uri.scheme != 'charging') {\n      throw ChargingException('\u65e0\u6548\u7684\u5145\u7535\u6869\u4e8c\u7ef4\u7801');\n    }\n\n    final pathSegments = uri.pathSegments;\n    if (pathSegments.length &lt; 4 || \n        pathSegments[0] != 'station' || \n        pathSegments[2] != 'point') {\n      throw ChargingException('\u4e8c\u7ef4\u7801\u683c\u5f0f\u9519\u8bef');\n    }\n\n    final stationId = pathSegments[1];\n    final pointId = pathSegments[3];\n\n    // \u83b7\u53d6\u5145\u7535\u6869\u8be6\u7ec6\u4fe1\u606f\n    final stationInfo = await _chargingService.getStationInfo(stationId);\n    final pointInfo = stationInfo.chargingPoints\n        .firstWhere((point) =&gt; point.id == pointId);\n\n    return ChargingPointInfo(\n      stationId: stationId,\n      pointId: pointId,\n      station: stationInfo,\n      point: pointInfo,\n    );\n  }\n\n  // \u901a\u8fc7\u626b\u7801\u542f\u52a8\u5145\u7535\n  Future&lt;Result&lt;ChargingSession&gt;&gt; startChargingFromQR(\n    ChargingPointInfo pointInfo,\n    PaymentMethod paymentMethod,\n  ) async {\n    return await _sessionManager.startChargingSession(\n      stationId: pointInfo.stationId,\n      pointId: pointInfo.pointId,\n      paymentMethod: paymentMethod,\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#4","title":"4. \u5145\u7535\u5386\u53f2\u4e0e\u7edf\u8ba1","text":""},{"location":"app_car/app_charging.html#_10","title":"\u5145\u7535\u8bb0\u5f55\u7ba1\u7406","text":"<pre><code>// \u5145\u7535\u5386\u53f2\u8bb0\u5f55\u670d\u52a1\nclass ChargingHistoryService {\n  final ChargingService _chargingService;\n  final StorageService _storageService;\n\n  ChargingHistoryService(this._chargingService, this._storageService);\n\n  // \u83b7\u53d6\u5145\u7535\u5386\u53f2\u8bb0\u5f55\n  Future&lt;Result&lt;List&lt;ChargingRecord&gt;&gt;&gt; getChargingHistory({\n    DateRange? dateRange,\n    String? stationId,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final records = await _chargingService.getChargingRecords(\n        startDate: dateRange?.start,\n        endDate: dateRange?.end,\n        stationId: stationId,\n        page: page,\n        pageSize: pageSize,\n      );\n\n      // \u7f13\u5b58\u5230\u672c\u5730\n      await _cacheChargingRecords(records);\n\n      return Right(records);\n    } catch (e) {\n      // \u5c1d\u8bd5\u4ece\u7f13\u5b58\u52a0\u8f7d\n      final cachedRecords = await _loadCachedRecords();\n      if (cachedRecords.isNotEmpty) {\n        return Right(cachedRecords);\n      }\n      return Left(ChargingFailure.historyLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u5145\u7535\u7edf\u8ba1\u4fe1\u606f\n  Future&lt;Result&lt;ChargingStatistics&gt;&gt; getChargingStatistics({\n    required StatisticsPeriod period,\n  }) async {\n    try {\n      final stats = await _chargingService.getChargingStatistics(period);\n      return Right(stats);\n    } catch (e) {\n      return Left(ChargingFailure.statisticsLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u5145\u7535\u8bb0\u5f55\u6a21\u578b\nclass ChargingRecord {\n  final String id;\n  final String sessionId;\n  final String stationName;\n  final String stationAddress;\n  final DateTime startTime;\n  final DateTime endTime;\n  final double energyDelivered;\n  final double totalCost;\n  final int startPercentage;\n  final int endPercentage;\n  final Duration chargingDuration;\n  final PaymentMethod paymentMethod;\n  final ChargingRecordStatus status;\n\n  const ChargingRecord({\n    required this.id,\n    required this.sessionId,\n    required this.stationName,\n    required this.stationAddress,\n    required this.startTime,\n    required this.endTime,\n    required this.energyDelivered,\n    required this.totalCost,\n    required this.startPercentage,\n    required this.endPercentage,\n    required this.chargingDuration,\n    required this.paymentMethod,\n    required this.status,\n  });\n\n  // \u8ba1\u7b97\u5e73\u5747\u5145\u7535\u529f\u7387\n  double get averagePower =&gt; energyDelivered / (chargingDuration.inHours);\n\n  // \u8ba1\u7b97\u5355\u4f4d\u80fd\u91cf\u6210\u672c\n  double get costPerKwh =&gt; totalCost / energyDelivered;\n}\n</code></pre>"},{"location":"app_car/app_charging.html#5","title":"5. \u5145\u7535\u652f\u4ed8\u7ba1\u7406","text":""},{"location":"app_car/app_charging.html#_11","title":"\u652f\u4ed8\u65b9\u5f0f\u4e0e\u7ed3\u7b97","text":"<pre><code>// \u5145\u7535\u652f\u4ed8\u670d\u52a1\nclass ChargingPaymentService {\n  final PaymentService _paymentService;\n  final ChargingService _chargingService;\n\n  ChargingPaymentService(this._paymentService, this._chargingService);\n\n  // \u83b7\u53d6\u53ef\u7528\u652f\u4ed8\u65b9\u5f0f\n  Future&lt;Result&lt;List&lt;PaymentMethod&gt;&gt;&gt; getAvailablePaymentMethods() async {\n    try {\n      final methods = await _paymentService.getPaymentMethods();\n      // \u8fc7\u6ee4\u652f\u6301\u5145\u7535\u7684\u652f\u4ed8\u65b9\u5f0f\n      final chargingMethods = methods\n          .where((method) =&gt; method.supportsCharging)\n          .toList();\n      return Right(chargingMethods);\n    } catch (e) {\n      return Left(PaymentFailure.methodsLoadFailed(e.toString()));\n    }\n  }\n\n  // \u5904\u7406\u5145\u7535\u652f\u4ed8\n  Future&lt;Result&lt;PaymentResult&gt;&gt; processChargingPayment({\n    required String sessionId,\n    required double amount,\n    required PaymentMethod paymentMethod,\n  }) async {\n    try {\n      final paymentResult = await _paymentService.processPayment(\n        amount: amount,\n        paymentMethod: paymentMethod,\n        description: '\u5145\u7535\u670d\u52a1\u8d39\u7528',\n        metadata: {'session_id': sessionId, 'type': 'charging'},\n      );\n\n      if (paymentResult.isSuccess) {\n        // \u66f4\u65b0\u5145\u7535\u4f1a\u8bdd\u652f\u4ed8\u72b6\u6001\n        await _chargingService.updateSessionPaymentStatus(\n          sessionId: sessionId,\n          paymentId: paymentResult.paymentId,\n          status: PaymentStatus.completed,\n        );\n      }\n\n      return Right(paymentResult);\n    } catch (e) {\n      return Left(PaymentFailure.processingFailed(e.toString()));\n    }\n  }\n\n  // \u5904\u7406\u5145\u7535\u9000\u6b3e\n  Future&lt;Result&lt;RefundResult&gt;&gt; processChargingRefund({\n    required String sessionId,\n    required String reason,\n  }) async {\n    try {\n      final session = await _chargingService.getSessionDetails(sessionId);\n\n      if (session.paymentStatus != PaymentStatus.completed) {\n        return Left(PaymentFailure.invalidRefundState());\n      }\n\n      final refundResult = await _paymentService.processRefund(\n        paymentId: session.paymentId!,\n        amount: session.totalCost,\n        reason: reason,\n      );\n\n      return Right(refundResult);\n    } catch (e) {\n      return Left(PaymentFailure.refundFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#blocs","title":"\u72b6\u6001\u7ba1\u7406 (<code>blocs/</code>)","text":""},{"location":"app_car/app_charging.html#bloc","title":"\u5145\u7535\u6869\u641c\u7d22 BLoC","text":"<pre><code>// \u5145\u7535\u6869\u641c\u7d22\u72b6\u6001\u7ba1\u7406\nclass ChargingStationBloc extends Bloc&lt;ChargingStationEvent, ChargingStationState&gt; {\n  final ChargingStationFinder _stationFinder;\n  final GeoService _geoService;\n\n  ChargingStationBloc(this._stationFinder, this._geoService) \n      : super(ChargingStationInitial()) {\n    on&lt;SearchNearbyStations&gt;(_onSearchNearbyStations);\n    on&lt;SearchStationsByKeyword&gt;(_onSearchStationsByKeyword);\n    on&lt;FilterStations&gt;(_onFilterStations);\n    on&lt;UpdateUserLocation&gt;(_onUpdateUserLocation);\n  }\n\n  Future&lt;void&gt; _onSearchNearbyStations(\n    SearchNearbyStations event,\n    Emitter&lt;ChargingStationState&gt; emit,\n  ) async {\n    emit(ChargingStationLoading());\n\n    final result = await _stationFinder.findNearbyStations(\n      location: event.location,\n      radiusKm: event.radiusKm,\n      type: event.stationType,\n      onlyAvailable: event.onlyAvailable,\n    );\n\n    result.fold(\n      (failure) =&gt; emit(ChargingStationError(failure.message)),\n      (stations) =&gt; emit(ChargingStationLoaded(\n        stations: stations,\n        userLocation: event.location,\n      )),\n    );\n  }\n}\n\n// \u5145\u7535\u4f1a\u8bdd BLoC\nclass ChargingSessionBloc extends Bloc&lt;ChargingSessionEvent, ChargingSessionState&gt; {\n  final ChargingSessionManager _sessionManager;\n  Timer? _statusUpdateTimer;\n\n  ChargingSessionBloc(this._sessionManager) : super(ChargingSessionInitial()) {\n    on&lt;StartChargingSession&gt;(_onStartChargingSession);\n    on&lt;StopChargingSession&gt;(_onStopChargingSession);\n    on&lt;UpdateChargingProgress&gt;(_onUpdateChargingProgress);\n  }\n\n  Future&lt;void&gt; _onStartChargingSession(\n    StartChargingSession event,\n    Emitter&lt;ChargingSessionState&gt; emit,\n  ) async {\n    emit(ChargingSessionStarting());\n\n    final result = await _sessionManager.startChargingSession(\n      stationId: event.stationId,\n      pointId: event.pointId,\n      paymentMethod: event.paymentMethod,\n      target: event.target,\n    );\n\n    result.fold(\n      (failure) =&gt; emit(ChargingSessionError(failure.message)),\n      (session) {\n        emit(ChargingSessionActive(session));\n        _startStatusUpdates(session.id);\n      },\n    );\n  }\n\n  void _startStatusUpdates(String sessionId) {\n    _statusUpdateTimer = Timer.periodic(\n      Duration(seconds: 10),\n      (_) =&gt; add(UpdateChargingProgress(sessionId)),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#pages","title":"\u9875\u9762\u7ec4\u4ef6 (<code>pages/</code>)","text":""},{"location":"app_car/app_charging.html#_12","title":"\u5145\u7535\u6869\u5730\u56fe\u9875\u9762","text":"<pre><code>// \u5145\u7535\u6869\u5730\u56fe\u9875\u9762\nclass ChargingStationMapPage extends StatefulWidget {\n  @override\n  _ChargingStationMapPageState createState() =&gt; _ChargingStationMapPageState();\n}\n\nclass _ChargingStationMapPageState extends State&lt;ChargingStationMapPage&gt; {\n  late AMapController _mapController;\n  late ChargingStationBloc _stationBloc;\n  LatLng? _userLocation;\n  List&lt;ChargingStation&gt; _stations = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _stationBloc = context.read&lt;ChargingStationBloc&gt;();\n    _getUserLocationAndSearch();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        children: [\n          _buildMap(),\n          _buildSearchBar(),\n          _buildFilterButton(),\n          _buildStationList(),\n        ],\n      ),\n      floatingActionButton: _buildLocationButton(),\n    );\n  }\n\n  Widget _buildMap() {\n    return AMapWidget(\n      onMapCreated: (controller) {\n        _mapController = controller;\n        _setupMapStyle();\n      },\n      markers: _buildStationMarkers(),\n      onTap: _onMapTap,\n    );\n  }\n\n  Set&lt;Marker&gt; _buildStationMarkers() {\n    return _stations.map((station) {\n      return Marker(\n        markerId: MarkerId(station.id),\n        position: station.location,\n        icon: _getStationIcon(station),\n        onTap: () =&gt; _showStationDetails(station),\n        infoWindow: InfoWindow(\n          title: station.name,\n          snippet: '${station.availablePointsCount}\u4e2a\u53ef\u7528\u5145\u7535\u6869',\n        ),\n      );\n    }).toSet();\n  }\n\n  void _showStationDetails(ChargingStation station) {\n    showModalBottomSheet(\n      context: context,\n      builder: (context) =&gt; ChargingStationDetailSheet(station: station),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#_13","title":"\u5145\u7535\u4f1a\u8bdd\u9875\u9762","text":"<pre><code>// \u5145\u7535\u4f1a\u8bdd\u76d1\u63a7\u9875\u9762\nclass ChargingSessionPage extends StatefulWidget {\n  final String sessionId;\n\n  const ChargingSessionPage({required this.sessionId});\n\n  @override\n  _ChargingSessionPageState createState() =&gt; _ChargingSessionPageState();\n}\n\nclass _ChargingSessionPageState extends State&lt;ChargingSessionPage&gt; {\n  late ChargingSessionBloc _sessionBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _sessionBloc = context.read&lt;ChargingSessionBloc&gt;();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u5145\u7535\u4e2d')),\n      body: BlocBuilder&lt;ChargingSessionBloc, ChargingSessionState&gt;(\n        builder: (context, state) {\n          if (state is ChargingSessionActive) {\n            return _buildActiveSession(state.session);\n          } else if (state is ChargingSessionError) {\n            return _buildErrorState(state.message);\n          } else {\n            return _buildLoadingState();\n          }\n        },\n      ),\n    );\n  }\n\n  Widget _buildActiveSession(ChargingSession session) {\n    return SingleChildScrollView(\n      padding: EdgeInsets.all(16),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          _buildProgressCard(session),\n          SizedBox(height: 16),\n          _buildSessionInfo(session),\n          SizedBox(height: 16),\n          _buildCostInfo(session),\n          SizedBox(height: 24),\n          _buildStopButton(session),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildProgressCard(ChargingSession session) {\n    return Card(\n      child: Padding(\n        padding: EdgeInsets.all(20),\n        child: Column(\n          children: [\n            CircularProgressIndicator(\n              value: session.progressPercentage,\n              strokeWidth: 8,\n              backgroundColor: Colors.grey[300],\n            ),\n            SizedBox(height: 16),\n            Text(\n              '${(session.progressPercentage * 100).toInt()}%',\n              style: Theme.of(context).textTheme.headlineMedium,\n            ),\n            Text(\n              '\u9884\u8ba1\u5269\u4f59 ${session.estimatedTimeRemaining.inMinutes} \u5206\u949f',\n              style: Theme.of(context).textTheme.bodyMedium,\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#carfinder","title":"\u8f66\u8f86\u67e5\u627e\u96c6\u6210 (<code>carfinder/</code>)","text":""},{"location":"app_car/app_charging.html#_14","title":"\u5145\u7535\u65f6\u8f66\u8f86\u5b9a\u4f4d","text":"<pre><code>// \u5145\u7535\u65f6\u8f66\u8f86\u67e5\u627e\u529f\u80fd\nclass ChargingCarFinder {\n  final CarFinderService _carFinderService;\n  final ChargingSessionManager _sessionManager;\n\n  ChargingCarFinder(this._carFinderService, this._sessionManager);\n\n  // \u83b7\u53d6\u5145\u7535\u4e2d\u7684\u8f66\u8f86\u4f4d\u7f6e\n  Future&lt;Result&lt;VehicleLocation&gt;&gt; getChargingVehicleLocation(\n    String sessionId,\n  ) async {\n    try {\n      final session = await _sessionManager.getSessionDetails(sessionId);\n      if (session.status != ChargingSessionStatus.active) {\n        return Left(ChargingFailure.sessionNotActive());\n      }\n\n      // \u83b7\u53d6\u5145\u7535\u6869\u4f4d\u7f6e\u4f5c\u4e3a\u8f66\u8f86\u4f4d\u7f6e\n      final station = await _chargingService.getStationInfo(session.stationId);\n      final point = station.chargingPoints\n          .firstWhere((p) =&gt; p.id == session.pointId);\n\n      return Right(VehicleLocation(\n        coordinates: station.location,\n        accuracy: 10.0, // \u5145\u7535\u6869\u4f4d\u7f6e\u7cbe\u5ea6\u8f83\u9ad8\n        timestamp: DateTime.now(),\n        isCharging: true,\n        chargingStationId: station.id,\n        chargingPointId: point.id,\n      ));\n    } catch (e) {\n      return Left(ChargingFailure.locationNotFound(e.toString()));\n    }\n  }\n\n  // \u95ea\u706f\u63d0\u9192\uff08\u5145\u7535\u65f6\uff09\n  Future&lt;Result&lt;void&gt;&gt; flashVehicleAtChargingStation(\n    String sessionId,\n  ) async {\n    try {\n      // \u901a\u8fc7\u5145\u7535\u6869\u63a7\u5236\u8f66\u8f86\u95ea\u706f\n      final result = await _chargingService.triggerVehicleAlert(sessionId);\n      return Right(unit);\n    } catch (e) {\n      // \u56de\u9000\u5230\u8f66\u8f86\u76f4\u63a5\u63a7\u5236\n      return await _carFinderService.flashAndHonk();\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#utils","title":"\u5de5\u5177\u7c7b (<code>utils/</code>)","text":""},{"location":"app_car/app_charging.html#_15","title":"\u5145\u7535\u8ba1\u7b97\u5de5\u5177","text":"<pre><code>// \u5145\u7535\u76f8\u5173\u8ba1\u7b97\u5de5\u5177\nclass ChargingCalculations {\n  // \u8ba1\u7b97\u5145\u7535\u65f6\u95f4\n  static Duration calculateChargingTime({\n    required double currentPercentage,\n    required double targetPercentage,\n    required double batteryCapacity, // kWh\n    required double chargingPower, // kW\n    required ChargingCurve? chargingCurve,\n  }) {\n    final energyNeeded = (targetPercentage - currentPercentage) / 100 * batteryCapacity;\n\n    if (chargingCurve != null) {\n      return _calculateWithCurve(\n        currentPercentage,\n        targetPercentage,\n        batteryCapacity,\n        chargingCurve,\n      );\n    } else {\n      // \u7b80\u5355\u7ebf\u6027\u8ba1\u7b97\n      final hours = energyNeeded / chargingPower;\n      return Duration(minutes: (hours * 60).round());\n    }\n  }\n\n  // \u8ba1\u7b97\u5145\u7535\u6210\u672c\n  static double calculateChargingCost({\n    required double energyDelivered,\n    required double pricePerKwh,\n    double? serviceFee,\n    double? parkingFee,\n  }) {\n    double totalCost = energyDelivered * pricePerKwh;\n\n    if (serviceFee != null) {\n      totalCost += serviceFee;\n    }\n\n    if (parkingFee != null) {\n      totalCost += parkingFee;\n    }\n\n    return totalCost;\n  }\n\n  // \u8ba1\u7b97\u78b3\u51cf\u6392\u91cf\n  static double calculateCarbonSaved({\n    required double energyDelivered,\n    required double gridCarbonIntensity, // kg CO2/kWh\n    required double fuelCarbonIntensity, // kg CO2/L\n    required double vehicleEfficiency, // km/kWh\n    required double fuelEfficiency, // km/L\n  }) {\n    final electricEmissions = energyDelivered * gridCarbonIntensity;\n    final distance = energyDelivered * vehicleEfficiency;\n    final fuelUsed = distance / fuelEfficiency;\n    final fuelEmissions = fuelUsed * fuelCarbonIntensity;\n\n    return fuelEmissions - electricEmissions;\n  }\n}\n</code></pre>"},{"location":"app_car/app_charging.html#constants","title":"\u5e38\u91cf\u5b9a\u4e49 (<code>constants/</code>)","text":""},{"location":"app_car/app_charging.html#_16","title":"\u5145\u7535\u76f8\u5173\u5e38\u91cf","text":"<pre><code>// \u5145\u7535\u6a21\u5757\u5e38\u91cf\nclass ChargingConstants {\n  // \u5145\u7535\u6869\u7c7b\u578b\n  static const Map&lt;ChargingPointType, String&gt; chargingTypeNames = {\n    ChargingPointType.acSlow: 'AC \u6162\u5145',\n    ChargingPointType.acFast: 'AC \u5feb\u5145',\n    ChargingPointType.dcFast: 'DC \u5feb\u5145',\n    ChargingPointType.dcUltraFast: 'DC \u8d85\u5feb\u5145',\n  };\n\n  // \u5145\u7535\u529f\u7387\u8303\u56f4\n  static const Map&lt;ChargingPointType, PowerRange&gt; powerRanges = {\n    ChargingPointType.acSlow: PowerRange(3.7, 22.0),\n    ChargingPointType.acFast: PowerRange(22.0, 43.0),\n    ChargingPointType.dcFast: PowerRange(50.0, 150.0),\n    ChargingPointType.dcUltraFast: PowerRange(150.0, 350.0),\n  };\n\n  // \u9ed8\u8ba4\u641c\u7d22\u534a\u5f84\n  static const double defaultSearchRadius = 5.0; // km\n  static const double maxSearchRadius = 50.0; // km\n\n  // \u5145\u7535\u4f1a\u8bdd\u66f4\u65b0\u95f4\u9694\n  static const Duration sessionUpdateInterval = Duration(seconds: 10);\n  static const Duration statusCheckInterval = Duration(seconds: 30);\n\n  // \u652f\u4ed8\u76f8\u5173\n  static const double minPreAuthAmount = 10.0; // \u6700\u5c0f\u9884\u6388\u6743\u91d1\u989d\n  static const double maxPreAuthAmount = 500.0; // \u6700\u5927\u9884\u6388\u6743\u91d1\u989d\n}\n</code></pre>"},{"location":"app_car/app_charging.html#_17","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/app_charging.html#_18","title":"\u5145\u7535\u7279\u5b9a\u5f02\u5e38","text":"<pre><code>// \u5145\u7535\u529f\u80fd\u5f02\u5e38\nabstract class ChargingFailure {\n  const ChargingFailure();\n\n  factory ChargingFailure.searchFailed(String message) = SearchFailure;\n  factory ChargingFailure.pointUnavailable() = PointUnavailableFailure;\n  factory ChargingFailure.sessionStartFailed(String message) = SessionStartFailure;\n  factory ChargingFailure.sessionStopFailed(String message) = SessionStopFailure;\n  factory ChargingFailure.paymentFailed() = PaymentFailure;\n  factory ChargingFailure.scanFailed() = ScanFailure;\n  factory ChargingFailure.networkError(String message) = NetworkFailure;\n}\n\nclass PointUnavailableFailure extends ChargingFailure {\n  const PointUnavailableFailure();\n\n  String get message =&gt; '\u9009\u62e9\u7684\u5145\u7535\u6869\u5f53\u524d\u4e0d\u53ef\u7528';\n}\n\nclass SessionStartFailure extends ChargingFailure {\n  final String message;\n  const SessionStartFailure(this.message);\n}\n</code></pre>"},{"location":"app_car/app_charging.html#_19","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/app_charging.html#_20","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>clr_charging: \u5145\u7535\u670d\u52a1 SDK</li> <li>clr_geo: \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> <li>ui_mapview: \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li>flutter_scankit: \u4e8c\u7ef4\u7801\u626b\u63cf</li> </ul>"},{"location":"app_car/app_charging.html#_21","title":"\u5730\u56fe\u76f8\u5173","text":"<ul> <li>amap_flutter_map: \u9ad8\u5fb7\u5730\u56fe</li> <li>amap_flutter_base: \u9ad8\u5fb7\u5730\u56fe\u57fa\u7840\u7ec4\u4ef6</li> </ul>"},{"location":"app_car/app_charging.html#ui","title":"UI \u7ec4\u4ef6","text":"<ul> <li>flutter_rating_bar: \u8bc4\u5206\u7ec4\u4ef6</li> <li>url_launcher: \u94fe\u63a5\u6253\u5f00</li> </ul>"},{"location":"app_car/app_charging.html#_22","title":"\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> <li>basic_storage: \u672c\u5730\u5b58\u50a8</li> <li>basic_share: \u5206\u4eab\u529f\u80fd</li> </ul>"},{"location":"app_car/app_charging.html#_23","title":"\u603b\u7ed3","text":"<p><code>app_charging</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5145\u7535\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\uff0c\u6db5\u76d6\u4e86\u5145\u7535\u6869\u67e5\u627e\u3001\u4f1a\u8bdd\u7ba1\u7406\u3001\u652f\u4ed8\u7ed3\u7b97\u3001\u5386\u53f2\u8bb0\u5f55\u7b49\u5168\u6d41\u7a0b\u529f\u80fd\u3002\u6a21\u5757\u91c7\u7528 BLoC \u6a21\u5f0f\u8fdb\u884c\u72b6\u6001\u7ba1\u7406\uff0c\u96c6\u6210\u4e86\u5730\u56fe\u670d\u52a1\u548c\u652f\u4ed8\u529f\u80fd\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4fbf\u6377\u9ad8\u6548\u7684\u5145\u7535\u4f53\u9a8c\u3002\u901a\u8fc7\u4e0e\u8f66\u8f86\u67e5\u627e\u529f\u80fd\u7684\u96c6\u6210\uff0c\u8fdb\u4e00\u6b65\u63d0\u5347\u4e86\u7528\u6237\u5728\u5145\u7535\u573a\u666f\u4e0b\u7684\u670d\u52a1\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_composer.html","title":"App Composer \u8f66\u8f86\u7f16\u6392\u6a21\u5757","text":""},{"location":"app_car/app_composer.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_composer</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u8f66\u8f86\u7f16\u6392\u6a21\u5757\uff0c\u8d1f\u8d23\u8f66\u8f86\u529f\u80fd\u7684\u7ec4\u5408\u7f16\u6392\u3001\u81ea\u5b9a\u4e49\u573a\u666f\u8bbe\u7f6e\u3001\u667a\u80fd\u63a7\u5236\u6d41\u7a0b\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u8f66\u8f86\u63a7\u5236\u4f53\u9a8c\uff0c\u901a\u8fc7\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u8ba9\u7528\u6237\u81ea\u5b9a\u4e49\u8f66\u8f86\u64cd\u4f5c\u6d41\u7a0b\u3002</p>"},{"location":"app_car/app_composer.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_composer</li> <li>\u7248\u672c: 0.2.9+21</li> <li>\u63cf\u8ff0: \u8f66\u8f86\u529f\u80fd\u7f16\u6392\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.5.0</li> <li>Dart \u7248\u672c: &gt;=2.17.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_composer.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_composer.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u573a\u666f\u7f16\u6392    - \u81ea\u5b9a\u4e49\u8f66\u8f86\u63a7\u5236\u573a\u666f    - \u591a\u6b65\u9aa4\u64cd\u4f5c\u6d41\u7a0b\u8bbe\u8ba1    - \u6761\u4ef6\u89e6\u53d1\u903b\u8f91\u8bbe\u7f6e    - \u573a\u666f\u6a21\u677f\u7ba1\u7406</p> </li> <li> <p>\u667a\u80fd\u63a7\u5236    - \u57fa\u4e8e\u65f6\u95f4\u7684\u81ea\u52a8\u63a7\u5236    - \u57fa\u4e8e\u4f4d\u7f6e\u7684\u89e6\u53d1\u63a7\u5236    - \u57fa\u4e8e\u72b6\u6001\u7684\u6761\u4ef6\u63a7\u5236    - \u591a\u8bbe\u5907\u8054\u52a8\u63a7\u5236</p> </li> <li> <p>\u53ef\u89c6\u5316\u7f16\u8f91    - \u62d6\u62fd\u5f0f\u6d41\u7a0b\u8bbe\u8ba1    - \u53ef\u89c6\u5316\u903b\u8f91\u7f16\u6392    - \u5b9e\u65f6\u9884\u89c8\u6548\u679c    - \u9519\u8bef\u68c0\u67e5\u63d0\u793a</p> </li> <li> <p>\u573a\u666f\u6267\u884c    - \u573a\u666f\u4e00\u952e\u6267\u884c    - \u6267\u884c\u72b6\u6001\u76d1\u63a7    - \u6267\u884c\u7ed3\u679c\u53cd\u9988    - \u5f02\u5e38\u5904\u7406\u673a\u5236</p> </li> </ol>"},{"location":"app_car/app_composer.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_composer.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_composer.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                          # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 config/                   # \u914d\u7f6e\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 constants/                # \u5e38\u91cf\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 global/                   # \u5168\u5c40\u72b6\u6001\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 pages/                    # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 router/                   # \u8def\u7531\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 util/                     # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 widgets/                  # \u81ea\u5b9a\u4e49\u7ec4\u4ef6\n\u251c\u2500\u2500 const/                        # \u6a21\u5757\u5e38\u91cf\n\u251c\u2500\u2500 generated/                    # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                        # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_composer.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_composer.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.1</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.0</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_logger: ^0.2.0</code> - \u65e5\u5fd7\u7cfb\u7edf</li> </ul>"},{"location":"app_car/app_composer.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>ui_basic: ^0.2.43+5</code> - \u57fa\u7840UI\u7ec4\u4ef6</li> <li><code>clr_composer: ^0.2.6+7</code> - \u7f16\u6392\u670d\u52a1SDK</li> <li><code>clr_account: ^0.2.8</code> - \u8d26\u6237\u670d\u52a1SDK</li> </ul>"},{"location":"app_car/app_composer.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.6.0</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>uuid: ^3.0.7</code> - UUID\u751f\u6210</li> <li><code>crypto: ^3.0.3</code> - \u52a0\u5bc6\u529f\u80fd</li> <li><code>path_provider: ^2.0.15</code> - \u6587\u4ef6\u8def\u5f84</li> <li><code>bottom_sheet: ^4.0.0</code> - \u5e95\u90e8\u5f39\u7a97</li> </ul>"},{"location":"app_car/app_composer.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_composer.html#1_app_composerdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_composer.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - \u6838\u5fc3\u7ec4\u4ef6\u548c\u670d\u52a1\u66b4\u9732</p>"},{"location":"app_car/app_composer.html#2_srcconfig","title":"2. \u914d\u7f6e\u7ba1\u7406 (<code>src/config/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7f16\u6392\u5f15\u64ce\u914d\u7f6e - \u573a\u666f\u6a21\u677f\u914d\u7f6e - \u6267\u884c\u7b56\u7565\u914d\u7f6e - \u6027\u80fd\u53c2\u6570\u914d\u7f6e</p> <p>\u4e3b\u8981\u914d\u7f6e: - <code>ComposerConfig</code> - \u7f16\u6392\u5f15\u64ce\u914d\u7f6e - <code>SceneConfig</code> - \u573a\u666f\u914d\u7f6e - <code>ExecutionConfig</code> - \u6267\u884c\u914d\u7f6e - <code>TemplateConfig</code> - \u6a21\u677f\u914d\u7f6e</p>"},{"location":"app_car/app_composer.html#3_srcconstants","title":"3. \u5e38\u91cf\u5b9a\u4e49 (<code>src/constants/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7f16\u6392\u5e38\u91cf\u5b9a\u4e49 - \u64cd\u4f5c\u7c7b\u578b\u679a\u4e3e - \u72b6\u6001\u7801\u5b9a\u4e49 - \u9519\u8bef\u6d88\u606f\u5e38\u91cf</p> <p>\u4e3b\u8981\u5e38\u91cf: - \u64cd\u4f5c\u7c7b\u578b\u5e38\u91cf - \u89e6\u53d1\u6761\u4ef6\u5e38\u91cf - \u6267\u884c\u72b6\u6001\u5e38\u91cf - UI\u914d\u7f6e\u5e38\u91cf</p>"},{"location":"app_car/app_composer.html#4_srcglobal","title":"4. \u5168\u5c40\u72b6\u6001\u7ba1\u7406 (<code>src/global/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7f16\u6392\u72b6\u6001\u5168\u5c40\u7ba1\u7406 - \u573a\u666f\u6570\u636e\u7f13\u5b58 - \u6267\u884c\u72b6\u6001\u76d1\u63a7 - \u6570\u636e\u540c\u6b65\u534f\u8c03</p> <p>\u4e3b\u8981\u72b6\u6001: - <code>ComposerState</code> - \u7f16\u6392\u5668\u72b6\u6001 - <code>SceneState</code> - \u573a\u666f\u72b6\u6001 - <code>ExecutionState</code> - \u6267\u884c\u72b6\u6001 - <code>TemplateState</code> - \u6a21\u677f\u72b6\u6001</p>"},{"location":"app_car/app_composer.html#5_srcpages","title":"5. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u7528\u6237\u4ea4\u4e92\u5904\u7406 - \u7f16\u6392\u64cd\u4f5c\u754c\u9762</p> <p>\u4e3b\u8981\u9875\u9762: - <code>ComposerHomePage</code> - \u7f16\u6392\u4e3b\u9875 - <code>SceneEditorPage</code> - \u573a\u666f\u7f16\u8f91\u9875 - <code>SceneListPage</code> - \u573a\u666f\u5217\u8868\u9875 - <code>ExecutionMonitorPage</code> - \u6267\u884c\u76d1\u63a7\u9875 - <code>TemplateGalleryPage</code> - \u6a21\u677f\u5e93\u9875\u9762</p>"},{"location":"app_car/app_composer.html#6_srcrouter","title":"6. \u8def\u7531\u914d\u7f6e (<code>src/router/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5185\u90e8\u8def\u7531\u5b9a\u4e49 - \u9875\u9762\u5bfc\u822a\u7ba1\u7406 - \u8def\u7531\u53c2\u6570\u4f20\u9012 - \u5bfc\u822a\u5b88\u536b\u8bbe\u7f6e</p>"},{"location":"app_car/app_composer.html#7_srcutil","title":"7. \u5de5\u5177\u7c7b (<code>src/util/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7f16\u6392\u903b\u8f91\u5de5\u5177 - \u6570\u636e\u5904\u7406\u8f85\u52a9 - \u6587\u4ef6\u64cd\u4f5c\u5de5\u5177 - \u52a0\u5bc6\u89e3\u5bc6\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>SceneBuilder</code> - \u573a\u666f\u6784\u5efa\u5668 - <code>ExecutionEngine</code> - \u6267\u884c\u5f15\u64ce - <code>DataConverter</code> - \u6570\u636e\u8f6c\u6362\u5668 - <code>FileManager</code> - \u6587\u4ef6\u7ba1\u7406\u5668</p>"},{"location":"app_car/app_composer.html#8_srcwidgets","title":"8. \u81ea\u5b9a\u4e49\u7ec4\u4ef6 (<code>src/widgets/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7f16\u6392\u4e13\u7528UI\u7ec4\u4ef6 - \u53ef\u89c6\u5316\u7f16\u8f91\u7ec4\u4ef6 - \u4ea4\u4e92\u63a7\u5236\u7ec4\u4ef6 - \u72b6\u6001\u5c55\u793a\u7ec4\u4ef6</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>FlowChart</code> - \u6d41\u7a0b\u56fe\u7ec4\u4ef6 - <code>NodeEditor</code> - \u8282\u70b9\u7f16\u8f91\u5668 - <code>ConditionBuilder</code> - \u6761\u4ef6\u6784\u5efa\u5668 - <code>ExecutionProgress</code> - \u6267\u884c\u8fdb\u5ea6\u7ec4\u4ef6</p>"},{"location":"app_car/app_composer.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_composer.html#_13","title":"\u573a\u666f\u7f16\u6392\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u521b\u5efa\u573a\u666f] --&gt; B[\u9009\u62e9\u6a21\u677f]\n    B --&gt; C[\u6dfb\u52a0\u64cd\u4f5c\u8282\u70b9]\n    C --&gt; D[\u8bbe\u7f6e\u8282\u70b9\u53c2\u6570]\n    D --&gt; E[\u914d\u7f6e\u89e6\u53d1\u6761\u4ef6]\n    E --&gt; F[\u8fde\u63a5\u8282\u70b9\u5173\u7cfb]\n    F --&gt; G[\u9884\u89c8\u573a\u666f\u6d41\u7a0b]\n    G --&gt; H{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    H --&gt;|\u662f| I[\u4fdd\u5b58\u573a\u666f]\n    H --&gt;|\u5426| J[\u4fee\u6b63\u9519\u8bef]\n    J --&gt; F\n    I --&gt; K[\u573a\u666f\u6d4b\u8bd5]\n    K --&gt; L{\u6d4b\u8bd5\u662f\u5426\u901a\u8fc7}\n    L --&gt;|\u662f| M[\u53d1\u5e03\u573a\u666f]\n    L --&gt;|\u5426| N[\u8c03\u8bd5\u4fee\u6539]\n    N --&gt; G</code></pre>"},{"location":"app_car/app_composer.html#_14","title":"\u573a\u666f\u6267\u884c\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u89e6\u53d1\u573a\u666f] --&gt; B[\u9a8c\u8bc1\u6267\u884c\u6761\u4ef6]\n    B --&gt; C{\u6761\u4ef6\u662f\u5426\u6ee1\u8db3}\n    C --&gt;|\u662f| D[\u5f00\u59cb\u6267\u884c]\n    C --&gt;|\u5426| E[\u7b49\u5f85\u6216\u8df3\u8fc7]\n    D --&gt; F[\u6267\u884c\u5f53\u524d\u8282\u70b9]\n    F --&gt; G[\u68c0\u67e5\u6267\u884c\u7ed3\u679c]\n    G --&gt; H{\u662f\u5426\u6210\u529f}\n    H --&gt;|\u662f| I[\u6267\u884c\u4e0b\u4e00\u8282\u70b9]\n    H --&gt;|\u5426| J[\u6267\u884c\u9519\u8bef\u5904\u7406]\n    J --&gt; K{\u662f\u5426\u7ee7\u7eed}\n    K --&gt;|\u662f| I\n    K --&gt;|\u5426| L[\u7ec8\u6b62\u6267\u884c]\n    I --&gt; M{\u662f\u5426\u8fd8\u6709\u8282\u70b9}\n    M --&gt;|\u662f| F\n    M --&gt;|\u5426| N[\u6267\u884c\u5b8c\u6210]\n    E --&gt; O[\u8bb0\u5f55\u65e5\u5fd7]\n    L --&gt; O\n    N --&gt; O</code></pre>"},{"location":"app_car/app_composer.html#_15","title":"\u7f16\u6392\u5f15\u64ce\u8bbe\u8ba1","text":""},{"location":"app_car/app_composer.html#_16","title":"\u8282\u70b9\u7c7b\u578b","text":"<ol> <li> <p>\u63a7\u5236\u8282\u70b9    - \u8f66\u8f86\u89e3\u9501/\u4e0a\u9501    - \u8f66\u7a97\u63a7\u5236    - \u7a7a\u8c03\u63a7\u5236    - \u706f\u5149\u63a7\u5236</p> </li> <li> <p>\u6761\u4ef6\u8282\u70b9    - \u65f6\u95f4\u6761\u4ef6    - \u4f4d\u7f6e\u6761\u4ef6    - \u72b6\u6001\u6761\u4ef6    - \u4f20\u611f\u5668\u6761\u4ef6</p> </li> <li> <p>\u903b\u8f91\u8282\u70b9    - \u5206\u652f\u5224\u65ad    - \u5faa\u73af\u63a7\u5236    - \u5ef6\u65f6\u7b49\u5f85    - \u5e76\u884c\u6267\u884c</p> </li> <li> <p>\u901a\u77e5\u8282\u70b9    - \u63a8\u9001\u901a\u77e5    - \u77ed\u4fe1\u901a\u77e5    - \u90ae\u4ef6\u901a\u77e5    - \u8bed\u97f3\u63d0\u9192</p> </li> </ol>"},{"location":"app_car/app_composer.html#_17","title":"\u6267\u884c\u7b56\u7565","text":"<ul> <li>\u4e32\u884c\u6267\u884c: \u6309\u987a\u5e8f\u9010\u4e2a\u6267\u884c</li> <li>\u5e76\u884c\u6267\u884c: \u540c\u65f6\u6267\u884c\u591a\u4e2a\u64cd\u4f5c</li> <li>\u6761\u4ef6\u6267\u884c: \u57fa\u4e8e\u6761\u4ef6\u5224\u65ad\u6267\u884c</li> <li>\u5faa\u73af\u6267\u884c: \u91cd\u590d\u6267\u884c\u6307\u5b9a\u6b21\u6570</li> </ul>"},{"location":"app_car/app_composer.html#_18","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_composer.html#_19","title":"\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u64cd\u4f5c\u6743\u9650\u9a8c\u8bc1</li> <li>\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1</li> <li>\u8bbe\u5907\u6388\u6743\u68c0\u67e5</li> <li>\u573a\u666f\u8bbf\u95ee\u63a7\u5236</li> </ul>"},{"location":"app_car/app_composer.html#_20","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u573a\u666f\u6570\u636e\u52a0\u5bc6</li> <li>\u6267\u884c\u65e5\u5fd7\u4fdd\u62a4</li> <li>\u654f\u611f\u4fe1\u606f\u8131\u654f</li> <li>\u6570\u636e\u4f20\u8f93\u5b89\u5168</li> </ul>"},{"location":"app_car/app_composer.html#_21","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_composer.html#_22","title":"\u6267\u884c\u4f18\u5316","text":"<ul> <li>\u8282\u70b9\u7f13\u5b58\u673a\u5236</li> <li>\u6279\u91cf\u64cd\u4f5c\u4f18\u5316</li> <li>\u5f02\u6b65\u6267\u884c\u7b56\u7565</li> <li>\u8d44\u6e90\u590d\u7528\u8bbe\u8ba1</li> </ul>"},{"location":"app_car/app_composer.html#_23","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u573a\u666f\u6570\u636e\u61d2\u52a0\u8f7d</li> <li>\u6267\u884c\u4e0a\u4e0b\u6587\u7ba1\u7406</li> <li>\u5185\u5b58\u6cc4\u6f0f\u9632\u62a4</li> <li>\u5927\u573a\u666f\u5206\u7247\u5904\u7406</li> </ul>"},{"location":"app_car/app_composer.html#_24","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_composer.html#_25","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u81ea\u5b9a\u4e49\u8282\u70b9\u63d2\u4ef6</li> <li>\u7b2c\u4e09\u65b9\u670d\u52a1\u96c6\u6210</li> <li>\u6269\u5c55\u64cd\u4f5c\u7c7b\u578b</li> <li>\u81ea\u5b9a\u4e49\u89e6\u53d1\u5668</li> </ul>"},{"location":"app_car/app_composer.html#_26","title":"\u6a21\u677f\u7cfb\u7edf","text":"<ul> <li>\u9884\u8bbe\u573a\u666f\u6a21\u677f</li> <li>\u7528\u6237\u81ea\u5b9a\u4e49\u6a21\u677f</li> <li>\u6a21\u677f\u5206\u4eab\u673a\u5236</li> <li>\u6a21\u677f\u7248\u672c\u7ba1\u7406</li> </ul>"},{"location":"app_car/app_composer.html#_27","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_composer.html#_28","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u8282\u70b9\u903b\u8f91\u6d4b\u8bd5</li> <li>\u6267\u884c\u5f15\u64ce\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_composer.html#_29","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u573a\u666f\u6267\u884c\u6d4b\u8bd5</li> <li>\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5</li> <li>\u6570\u636e\u6d41\u6d4b\u8bd5</li> <li>\u6743\u9650\u6d41\u7a0b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_composer.html#_30","title":"\u573a\u666f\u6d4b\u8bd5","text":"<ul> <li>\u590d\u6742\u573a\u666f\u6d4b\u8bd5</li> <li>\u5f02\u5e38\u573a\u666f\u6d4b\u8bd5</li> <li>\u6027\u80fd\u538b\u529b\u6d4b\u8bd5</li> <li>\u7528\u6237\u4f53\u9a8c\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_composer.html#_31","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_composer.html#_32","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u73af\u5883\u914d\u7f6e\u5206\u79bb</li> <li>\u529f\u80fd\u5f00\u5173\u63a7\u5236</li> <li>\u6027\u80fd\u53c2\u6570\u8c03\u4f18</li> <li>\u9519\u8bef\u6062\u590d\u7b56\u7565</li> </ul>"},{"location":"app_car/app_composer.html#_33","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u573a\u666f\u6267\u884c\u6210\u529f\u7387</li> <li>\u6267\u884c\u54cd\u5e94\u65f6\u95f4</li> <li>\u7528\u6237\u4f7f\u7528\u9891\u7387</li> <li>\u5f02\u5e38\u9519\u8bef\u7edf\u8ba1</li> </ul>"},{"location":"app_car/app_composer.html#_34","title":"\u603b\u7ed3","text":"<p><code>app_composer</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u667a\u80fd\u7f16\u6392\u4e2d\u5fc3\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u8f66\u8f86\u529f\u80fd\u5b9a\u5236\u80fd\u529b\u3002\u901a\u8fc7\u53ef\u89c6\u5316\u7684\u7f16\u6392\u754c\u9762\u3001\u7075\u6d3b\u7684\u6267\u884c\u5f15\u64ce\u548c\u4e30\u5bcc\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u7528\u6237\u53ef\u4ee5\u521b\u5efa\u4e2a\u6027\u5316\u7684\u8f66\u8f86\u63a7\u5236\u573a\u666f\uff0c\u63d0\u5347\u7528\u8f66\u4f53\u9a8c\u7684\u667a\u80fd\u5316\u6c34\u5e73\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u667a\u80fd\u8f66\u8054\u7f51\u9700\u6c42\u3002</p>"},{"location":"app_car/app_maintenance.html","title":"App Maintenance - \u7ef4\u62a4\u4fdd\u517b\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/app_maintenance.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_maintenance</code> \u662f OneApp \u8f66\u8f86\u6a21\u5757\u7fa4\u4e2d\u7684\u7ef4\u62a4\u4fdd\u517b\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u8f66\u8f86\u4fdd\u517b\u8ba1\u5212\u7ba1\u7406\u3001\u4fdd\u517b\u63d0\u9192\u3001\u670d\u52a1\u9884\u7ea6\u3001\u4fdd\u517b\u8bb0\u5f55\u8ddf\u8e2a\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u5730\u56fe\u670d\u52a1\u3001\u65e5\u5386\u7ec4\u4ef6\u3001\u5730\u7406\u4f4d\u7f6e\u670d\u52a1\u7b49\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u8f66\u8f86\u7ef4\u62a4\u4fdd\u517b\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_maintenance.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_maintenance</li> <li>\u7248\u672c: 0.2.20</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-app-maintenance</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_maintenance.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_maintenance/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_maintenance.dart      # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u7ef4\u62a4\u4fdd\u517b\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u7ef4\u62a4\u4fdd\u517b\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u2514\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 uml.puml/svg                  # UML \u8bbe\u8ba1\u56fe\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/app_maintenance.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/app_maintenance.html#1","title":"1. \u4fdd\u517b\u8ba1\u5212\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_5","title":"\u4fdd\u517b\u8ba1\u5212\u670d\u52a1","text":"<pre><code>// \u4fdd\u517b\u8ba1\u5212\u7ba1\u7406\u670d\u52a1\nclass MaintenancePlanService {\n  final MaintenanceRepository _repository;\n  final VehicleService _vehicleService;\n  final NotificationService _notificationService;\n\n  MaintenancePlanService(\n    this._repository,\n    this._vehicleService,\n    this._notificationService,\n  );\n\n  // \u83b7\u53d6\u8f66\u8f86\u4fdd\u517b\u8ba1\u5212\n  Future&lt;Result&lt;MaintenancePlan&gt;&gt; getVehicleMaintenancePlan(\n    String vehicleId,\n  ) async {\n    try {\n      // \u83b7\u53d6\u8f66\u8f86\ufffd\ufffd\ufffd\u606f\n      final vehicle = await _vehicleService.getVehicleById(vehicleId);\n      if (vehicle == null) {\n        return Left(MaintenanceFailure.vehicleNotFound());\n      }\n\n      // \u83b7\u53d6\u4fdd\u517b\u8ba1\u5212\u6a21\u677f\n      final planTemplate = await _repository.getMaintenancePlanTemplate(\n        vehicle.model,\n        vehicle.year,\n      );\n\n      // \u83b7\u53d6\u5df2\u5b8c\u6210\u7684\u4fdd\u517b\u8bb0\u5f55\n      final completedServices = await _repository.getCompletedMaintenanceRecords(\n        vehicleId,\n      );\n\n      // \u8ba1\u7b97\u4e0b\u6b21\u4fdd\u517b\u65f6\u95f4\n      final plan = _calculateMaintenancePlan(\n        vehicle: vehicle,\n        template: planTemplate,\n        completedServices: completedServices,\n      );\n\n      return Right(plan);\n    } catch (e) {\n      return Left(MaintenanceFailure.planLoadFailed(e.toString()));\n    }\n  }\n\n  // \u8ba1\u7b97\u4fdd\u517b\u8ba1\u5212\n  MaintenancePlan _calculateMaintenancePlan({\n    required Vehicle vehicle,\n    required MaintenancePlanTemplate template,\n    required List&lt;MaintenanceRecord&gt; completedServices,\n  }) {\n    final currentMileage = vehicle.mileage;\n    final lastServiceDate = completedServices.isNotEmpty\n        ? completedServices\n            .map((record) =&gt; record.serviceDate)\n            .reduce((a, b) =&gt; a.isAfter(b) ? a : b)\n        : vehicle.purchaseDate;\n\n    final upcomingServices = &lt;MaintenanceService&gt;[];\n\n    for (final serviceTemplate in template.services) {\n      final nextService = _calculateNextService(\n        serviceTemplate: serviceTemplate,\n        currentMileage: currentMileage,\n        lastServiceDate: lastServiceDate,\n        completedServices: completedServices,\n      );\n\n      if (nextService != null) {\n        upcomingServices.add(nextService);\n      }\n    }\n\n    // \u6309\u7d27\u6025\u7a0b\u5ea6\u6392\u5e8f\n    upcomingServices.sort((a, b) =&gt; a.priority.compareTo(b.priority));\n\n    return MaintenancePlan(\n      vehicleId: vehicle.id,\n      upcomingServices: upcomingServices,\n      lastServiceDate: lastServiceDate,\n      totalServicesCompleted: completedServices.length,\n      nextServiceDue: upcomingServices.isNotEmpty ? upcomingServices.first : null,\n    );\n  }\n\n  // \u8bbe\u7f6e\u4fdd\u517b\u63d0\u9192\n  Future&lt;Result&lt;void&gt;&gt; setMaintenanceReminder({\n    required String vehicleId,\n    required String serviceType,\n    required DateTime reminderDate,\n    required ReminderType reminderType,\n    String? customMessage,\n  }) async {\n    try {\n      final reminder = MaintenanceReminder(\n        id: generateId(),\n        vehicleId: vehicleId,\n        serviceType: serviceType,\n        reminderDate: reminderDate,\n        reminderType: reminderType,\n        customMessage: customMessage,\n        isActive: true,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.createMaintenanceReminder(reminder);\n\n      // \u8bbe\u7f6e\u672c\u5730\u901a\u77e5\n      await _notificationService.scheduleMaintenanceReminder(reminder);\n\n      return Right(unit);\n    } catch (e) {\n      return Left(MaintenanceFailure.reminderSetFailed(e.toString()));\n    }\n  }\n}\n\n// \u4fdd\u517b\u8ba1\u5212\u6a21\u578b\nclass MaintenancePlan {\n  final String vehicleId;\n  final List&lt;MaintenanceService&gt; upcomingServices;\n  final DateTime lastServiceDate;\n  final int totalServicesCompleted;\n  final MaintenanceService? nextServiceDue;\n\n  const MaintenancePlan({\n    required this.vehicleId,\n    required this.upcomingServices,\n    required this.lastServiceDate,\n    required this.totalServicesCompleted,\n    this.nextServiceDue,\n  });\n\n  bool get hasOverdueServices =&gt; upcomingServices\n      .any((service) =&gt; service.isOverdue);\n\n  int get overdueServicesCount =&gt; upcomingServices\n      .where((service) =&gt; service.isOverdue)\n      .length;\n\n  Duration get timeSinceLastService =&gt; DateTime.now().difference(lastServiceDate);\n}\n\n// \u4fdd\u517b\u670d\u52a1\u6a21\u578b\nclass MaintenanceService {\n  final String id;\n  final String name;\n  final String description;\n  final ServiceType type;\n  final ServicePriority priority;\n  final int intervalMileage;\n  final Duration intervalTime;\n  final double estimatedCost;\n  final Duration estimatedDuration;\n  final DateTime? dueDate;\n  final int? dueMileage;\n  final List&lt;String&gt; requiredParts;\n  final bool isOverdue;\n\n  const MaintenanceService({\n    required this.id,\n    required this.name,\n    required this.description,\n    required this.type,\n    required this.priority,\n    required this.intervalMileage,\n    required this.intervalTime,\n    required this.estimatedCost,\n    required this.estimatedDuration,\n    this.dueDate,\n    this.dueMileage,\n    required this.requiredParts,\n    required this.isOverdue,\n  });\n\n  String get priorityDisplayName {\n    switch (priority) {\n      case ServicePriority.urgent:\n        return '\u7d27\u6025';\n      case ServicePriority.high:\n        return '\u91cd\u8981';\n      case ServicePriority.medium:\n        return '\u4e00\u822c';\n      case ServicePriority.low:\n        return '\u53ef\u9009';\n    }\n  }\n\n  Color get priorityColor {\n    switch (priority) {\n      case ServicePriority.urgent:\n        return Colors.red;\n      case ServicePriority.high:\n        return Colors.orange;\n      case ServicePriority.medium:\n        return Colors.blue;\n      case ServicePriority.low:\n        return Colors.grey;\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#2","title":"2. \u670d\u52a1\u9884\u7ea6\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_6","title":"\u670d\u52a1\u9884\u7ea6\u670d\u52a1","text":"<pre><code>// \u7ef4\u62a4\u4fdd\u517b\u9884\u7ea6\u670d\u52a1\nclass MaintenanceAppointmentService {\n  final AppointmentRepository _repository;\n  final ServiceProviderService _providerService;\n  final NotificationService _notificationService;\n\n  MaintenanceAppointmentService(\n    this._repository,\n    this._providerService,\n    this._notificationService,\n  );\n\n  // \u521b\u5efa\u4fdd\u517b\u9884\u7ea6\n  Future&lt;Result&lt;MaintenanceAppointment&gt;&gt; createMaintenanceAppointment({\n    required String userId,\n    required String vehicleId,\n    required String serviceProviderId,\n    required List&lt;String&gt; serviceTypes,\n    required DateTime preferredDateTime,\n    DateTime? alternativeDateTime,\n    required CustomerInfo customerInfo,\n    String? specialRequests,\n    bool pickupService = false,\n  }) async {\n    try {\n      // \u68c0\u67e5\u670d\u52a1\u63d0\u4f9b\u5546\u53ef\u7528\u6027\n      final provider = await _providerService.getServiceProviderById(\n        serviceProviderId,\n      );\n      if (provider == null) {\n        return Left(MaintenanceFailure.providerNotFound());\n      }\n\n      // \u68c0\u67e5\u65f6\u95f4\u6bb5\u53ef\u7528\u6027\n      final isAvailable = await _checkTimeSlotAvailability(\n        providerId: serviceProviderId,\n        dateTime: preferredDateTime,\n        serviceTypes: serviceTypes,\n      );\n\n      if (!isAvailable) {\n        return Left(MaintenanceFailure.timeSlotNotAvailable());\n      }\n\n      // \u4f30\u7b97\u670d\u52a1\u8d39\u7528\n      final costEstimate = await _calculateServiceCost(\n        serviceTypes: serviceTypes,\n        providerId: serviceProviderId,\n        vehicleId: vehicleId,\n      );\n\n      // \u521b\u5efa\u9884\u7ea6\n      final appointment = MaintenanceAppointment(\n        id: generateId(),\n        userId: userId,\n        vehicleId: vehicleId,\n        serviceProviderId: serviceProviderId,\n        serviceTypes: serviceTypes,\n        customerInfo: customerInfo,\n        preferredDateTime: preferredDateTime,\n        alternativeDateTime: alternativeDateTime,\n        specialRequests: specialRequests,\n        pickupService: pickupService,\n        costEstimate: costEstimate,\n        status: AppointmentStatus.pending,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.createMaintenanceAppointment(appointment);\n\n      // \u53d1\u9001\u786e\u8ba4\u901a\u77e5\n      await _notificationService.sendAppointmentConfirmation(\n        userId: userId,\n        appointment: appointment,\n      );\n\n      // \u901a\u77e5\u670d\u52a1\u63d0\u4f9b\u5546\n      await _notifyServiceProvider(appointment);\n\n      return Right(appointment);\n    } catch (e) {\n      return Left(MaintenanceFailure.appointmentCreationFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u53ef\u7528\u65f6\u95f4\u6bb5\n  Future&lt;Result&lt;List&lt;TimeSlot&gt;&gt;&gt; getAvailableTimeSlots({\n    required String serviceProviderId,\n    required List&lt;String&gt; serviceTypes,\n    required DateTime date,\n  }) async {\n    try {\n      final provider = await _providerService.getServiceProviderById(\n        serviceProviderId,\n      );\n      if (provider == null) {\n        return Left(MaintenanceFailure.providerNotFound());\n      }\n\n      // \u83b7\u53d6\u8425\u4e1a\u65f6\u95f4\n      final businessHours = provider.getBusinessHours(date.weekday - 1);\n\n      // \u83b7\u53d6\u5df2\u9884\u7ea6\u65f6\u95f4\u6bb5\n      final bookedSlots = await _repository.getBookedTimeSlots(\n        providerId: serviceProviderId,\n        date: date,\n      );\n\n      // \u8ba1\u7b97\u670d\u52a1\u6240\u9700\u65f6\u95f4\n      final estimatedDuration = await _calculateServiceDuration(\n        serviceTypes: serviceTypes,\n        providerId: serviceProviderId,\n      );\n\n      // \u751f\u6210\u53ef\u7528\u65f6\u95f4\u6bb5\n      final availableSlots = _generateAvailableTimeSlots(\n        businessHours: businessHours,\n        bookedSlots: bookedSlots,\n        serviceDuration: estimatedDuration,\n      );\n\n      return Right(availableSlots);\n    } catch (e) {\n      return Left(MaintenanceFailure.timeSlotsLoadFailed(e.toString()));\n    }\n  }\n\n  // \u53d6\u6d88\u9884\u7ea6\n  Future&lt;Result&lt;void&gt;&gt; cancelAppointment({\n    required String appointmentId,\n    required String reason,\n    String? userId,\n  }) async {\n    try {\n      final appointment = await _repository.getAppointmentById(appointmentId);\n      if (appointment == null) {\n        return Left(MaintenanceFailure.appointmentNotFound());\n      }\n\n      // \u68c0\u67e5\u53d6\u6d88\u6743\u9650\n      if (userId != null &amp;&amp; appointment.userId != userId) {\n        return Left(MaintenanceFailure.permissionDenied());\n      }\n\n      // \u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u53d6\u6d88\n      if (!appointment.canBeCancelled) {\n        return Left(MaintenanceFailure.cannotBeCancelled());\n      }\n\n      // \u66f4\u65b0\u9884\u7ea6\u72b6\u6001\n      await _repository.updateAppointmentStatus(\n        appointmentId: appointmentId,\n        status: AppointmentStatus.cancelled,\n        reason: reason,\n        updatedAt: DateTime.now(),\n      );\n\n      // \u53d1\u9001\u53d6\u6d88\u901a\u77e5\n      await _notificationService.sendAppointmentCancellation(\n        userId: appointment.userId,\n        appointment: appointment,\n        reason: reason,\n      );\n\n      return Right(unit);\n    } catch (e) {\n      return Left(MaintenanceFailure.cancellationFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#3","title":"3. \u4fdd\u517b\u8bb0\u5f55\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_7","title":"\u4fdd\u517b\u8bb0\u5f55\u670d\u52a1","text":"<pre><code>// \u4fdd\u517b\u8bb0\u5f55\u7ba1\u7406\u670d\u52a1\nclass MaintenanceRecordService {\n  final RecordRepository _repository;\n  final TrackingService _trackingService;\n\n  MaintenanceRecordService(this._repository, this._trackingService);\n\n  // \u521b\u5efa\u4fdd\u517b\u8bb0\u5f55\n  Future&lt;Result&lt;MaintenanceRecord&gt;&gt; createMaintenanceRecord({\n    required String vehicleId,\n    required String serviceProviderId,\n    required List&lt;String&gt; servicesPerformed,\n    required DateTime serviceDate,\n    required int mileageAtService,\n    required double totalCost,\n    required List&lt;MaintenanceItem&gt; items,\n    String? notes,\n    List&lt;String&gt;? images,\n    String? invoiceNumber,\n    String? technicianName,\n  }) async {\n    try {\n      final record = MaintenanceRecord(\n        id: generateId(),\n        vehicleId: vehicleId,\n        serviceProviderId: serviceProviderId,\n        servicesPerformed: servicesPerformed,\n        serviceDate: serviceDate,\n        mileageAtService: mileageAtService,\n        totalCost: totalCost,\n        items: items,\n        notes: notes,\n        images: images ?? [],\n        invoiceNumber: invoiceNumber,\n        technicianName: technicianName,\n        status: RecordStatus.completed,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.createMaintenanceRecord(record);\n\n      // \u8bb0\u5f55\u7528\u6237\u884c\u4e3a\n      await _trackingService.trackMaintenanceCompleted(\n        vehicleId: vehicleId,\n        servicesPerformed: servicesPerformed,\n        totalCost: totalCost,\n      );\n\n      return Right(record);\n    } catch (e) {\n      return Left(MaintenanceFailure.recordCreationFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8f66\u8f86\u4fdd\u517b\u5386\u53f2\n  Future&lt;Result&lt;List&lt;MaintenanceRecord&gt;&gt;&gt; getVehicleMaintenanceHistory({\n    required String vehicleId,\n    DateTime? startDate,\n    DateTime? endDate,\n    List&lt;String&gt;? serviceTypes,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final records = await _repository.getVehicleMaintenanceRecords(\n        vehicleId: vehicleId,\n        startDate: startDate,\n        endDate: endDate,\n        serviceTypes: serviceTypes,\n        page: page,\n        pageSize: pageSize,\n      );\n\n      return Right(records);\n    } catch (e) {\n      return Left(MaintenanceFailure.historyLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u4fdd\u517b\u7edf\u8ba1\u4fe1\u606f\n  Future&lt;Result&lt;MaintenanceStatistics&gt;&gt; getMaintenanceStatistics({\n    required String vehicleId,\n    required StatisticsPeriod period,\n  }) async {\n    try {\n      final records = await _repository.getVehicleMaintenanceRecords(\n        vehicleId: vehicleId,\n        startDate: period.startDate,\n        endDate: period.endDate,\n      );\n\n      final statistics = _calculateStatistics(records, period);\n      return Right(statistics);\n    } catch (e) {\n      return Left(MaintenanceFailure.statisticsLoadFailed(e.toString()));\n    }\n  }\n\n  // \u8ba1\u7b97\u4fdd\u517b\u7edf\u8ba1\u4fe1\u606f\n  MaintenanceStatistics _calculateStatistics(\n    List&lt;MaintenanceRecord&gt; records,\n    StatisticsPeriod period,\n  ) {\n    final totalCost = records.fold&lt;double&gt;(\n      0.0,\n      (sum, record) =&gt; sum + record.totalCost,\n    );\n\n    final serviceFrequency = records.length / period.durationInMonths;\n\n    final serviceTypeCount = &lt;String, int&gt;{};\n    for (final record in records) {\n      for (final service in record.servicesPerformed) {\n        serviceTypeCount[service] = (serviceTypeCount[service] ?? 0) + 1;\n      }\n    }\n\n    final mostCommonService = serviceTypeCount.entries\n        .reduce((a, b) =&gt; a.value &gt; b.value ? a : b)\n        .key;\n\n    final averageCostPerService = records.isNotEmpty ? totalCost / records.length : 0.0;\n\n    return MaintenanceStatistics(\n      period: period,\n      totalRecords: records.length,\n      totalCost: totalCost,\n      averageCostPerService: averageCostPerService,\n      serviceFrequency: serviceFrequency,\n      mostCommonService: mostCommonService,\n      serviceTypeBreakdown: serviceTypeCount,\n    );\n  }\n}\n\n// \u4fdd\u517b\u8bb0\u5f55\u6a21\u578b\nclass MaintenanceRecord {\n  final String id;\n  final String vehicleId;\n  final String serviceProviderId;\n  final List&lt;String&gt; servicesPerformed;\n  final DateTime serviceDate;\n  final int mileageAtService;\n  final double totalCost;\n  final List&lt;MaintenanceItem&gt; items;\n  final String? notes;\n  final List&lt;String&gt; images;\n  final String? invoiceNumber;\n  final String? technicianName;\n  final RecordStatus status;\n  final DateTime createdAt;\n\n  const MaintenanceRecord({\n    required this.id,\n    required this.vehicleId,\n    required this.serviceProviderId,\n    required this.servicesPerformed,\n    required this.serviceDate,\n    required this.mileageAtService,\n    required this.totalCost,\n    required this.items,\n    this.notes,\n    required this.images,\n    this.invoiceNumber,\n    this.technicianName,\n    required this.status,\n    required this.createdAt,\n  });\n\n  Duration get ageOfRecord =&gt; DateTime.now().difference(serviceDate);\n  bool get hasInvoice =&gt; invoiceNumber != null;\n  bool get hasImages =&gt; images.isNotEmpty;\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#4","title":"4. \u670d\u52a1\u63d0\u4f9b\u5546\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_8","title":"\u670d\u52a1\u63d0\u4f9b\u5546\u670d\u52a1","text":"<pre><code>// \u670d\u52a1\u63d0\u4f9b\u5546\u7ba1\u7406\u670d\u52a1\nclass ServiceProviderService {\n  final ProviderRepository _repository;\n  final GeoService _geoService;\n\n  ServiceProviderService(this._repository, this._geoService);\n\n  // \u67e5\u627e\u9644\u8fd1\u7684\u670d\u52a1\u63d0\u4f9b\u5546\n  Future&lt;Result&lt;List&lt;ServiceProvider&gt;&gt;&gt; findNearbyServiceProviders({\n    required LatLng userLocation,\n    double radiusKm = 20,\n    List&lt;String&gt;? serviceTypes,\n    ServiceProviderType? providerType,\n    double? minRating,\n  }) async {\n    try {\n      final providers = await _repository.findProvidersNearLocation(\n        location: userLocation,\n        radius: radiusKm,\n        serviceTypes: serviceTypes,\n        providerType: providerType,\n        minRating: minRating,\n      );\n\n      // \u8ba1\u7b97\u8ddd\u79bb\u5e76\u6392\u5e8f\n      final providersWithDistance = providers.map((provider) {\n        final distance = _geoService.calculateDistance(\n          userLocation,\n          provider.location,\n        );\n        return ProviderWithDistance(provider: provider, distance: distance);\n      }).toList();\n\n      providersWithDistance.sort((a, b) =&gt; a.distance.compareTo(b.distance));\n\n      return Right(providersWithDistance.map((p) =&gt; p.provider).toList());\n    } catch (e) {\n      return Left(MaintenanceFailure.providerSearchFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u670d\u52a1\u63d0\u4f9b\u5546\u8be6\u60c5\n  Future&lt;Result&lt;ServiceProviderDetail&gt;&gt; getServiceProviderDetail(\n    String providerId,\n  ) async {\n    try {\n      final provider = await _repository.getServiceProviderById(providerId);\n      if (provider == null) {\n        return Left(MaintenanceFailure.providerNotFound());\n      }\n\n      final reviews = await _repository.getProviderReviews(providerId);\n      final services = await _repository.getProviderServices(providerId);\n      final certifications = await _repository.getProviderCertifications(providerId);\n\n      final detail = ServiceProviderDetail(\n        provider: provider,\n        reviews: reviews,\n        services: services,\n        certifications: certifications,\n      );\n\n      return Right(detail);\n    } catch (e) {\n      return Left(MaintenanceFailure.providerDetailLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u670d\u52a1\u63d0\u4f9b\u5546\u6a21\u578b\nclass ServiceProvider {\n  final String id;\n  final String name;\n  final String description;\n  final ServiceProviderType type;\n  final Address address;\n  final LatLng location;\n  final ContactInfo contactInfo;\n  final List&lt;BusinessHours&gt; businessHours;\n  final List&lt;String&gt; serviceTypes;\n  final double rating;\n  final int reviewCount;\n  final List&lt;String&gt; certifications;\n  final List&lt;String&gt; images;\n  final bool isAuthorized;\n  final bool isActive;\n  final bool offersPickupService;\n  final bool offers24HourService;\n\n  const ServiceProvider({\n    required this.id,\n    required this.name,\n    required this.description,\n    required this.type,\n    required this.address,\n    required this.location,\n    required this.contactInfo,\n    required this.businessHours,\n    required this.serviceTypes,\n    required this.rating,\n    required this.reviewCount,\n    required this.certifications,\n    required this.images,\n    required this.isAuthorized,\n    required this.isActive,\n    required this.offersPickupService,\n    required this.offers24HourService,\n  });\n\n  bool get isOpen {\n    if (offers24HourService) return true;\n\n    final now = DateTime.now();\n    final todayHours = businessHours[now.weekday - 1];\n    return todayHours.isOpen(now);\n  }\n\n  bool get isOfficialDealer =&gt; type == ServiceProviderType.officialDealer;\n  bool get isCertified =&gt; certifications.isNotEmpty;\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#_9","title":"\u9875\u9762\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"app_car/app_maintenance.html#_10","title":"\u4fdd\u517b\u8ba1\u5212\u9875\u9762","text":"<pre><code>// \u4fdd\u517b\u8ba1\u5212\u9875\u9762\nclass MaintenancePlanPage extends StatefulWidget {\n  final String vehicleId;\n\n  const MaintenancePlanPage({required this.vehicleId});\n\n  @override\n  _MaintenancePlanPageState createState() =&gt; _MaintenancePlanPageState();\n}\n\nclass _MaintenancePlanPageState extends State&lt;MaintenancePlanPage&gt; {\n  late MaintenancePlanBloc _planBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _planBloc = context.read&lt;MaintenancePlanBloc&gt;();\n    _planBloc.add(LoadMaintenancePlan(widget.vehicleId));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u4fdd\u517b\u8ba1\u5212'),\n        actions: [\n          IconButton(\n            icon: Icon(Icons.notifications),\n            onPressed: () =&gt; _navigateToReminders(),\n          ),\n        ],\n      ),\n      body: BlocBuilder&lt;MaintenancePlanBloc, MaintenancePlanState&gt;(\n        builder: (context, state) {\n          if (state is MaintenancePlanLoaded) {\n            return _buildPlanContent(state.plan);\n          } else if (state is MaintenancePlanError) {\n            return _buildErrorState(state.message);\n          }\n          return _buildLoadingState();\n        },\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () =&gt; _navigateToServiceBooking(),\n        child: Icon(Icons.add),\n        tooltip: '\u9884\u7ea6\u4fdd\u517b',\n      ),\n    );\n  }\n\n  Widget _buildPlanContent(MaintenancePlan plan) {\n    return RefreshIndicator(\n      onRefresh: () async {\n        _planBloc.add(RefreshMaintenancePlan(widget.vehicleId));\n      },\n      child: ListView(\n        padding: EdgeInsets.all(16),\n        children: [\n          _buildOverviewCard(plan),\n          SizedBox(height: 16),\n          _buildUpcomingServicesSection(plan.upcomingServices),\n          SizedBox(height: 16),\n          _buildMaintenanceHistorySection(),\n          SizedBox(height: 16),\n          _buildMaintenanceStatisticsSection(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildOverviewCard(MaintenancePlan plan) {\n    return Card(\n      child: Padding(\n        padding: EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              '\u4fdd\u517b\u6982\u89c8',\n              style: TextStyle(\n                fontSize: 18,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n            SizedBox(height: 12),\n            Row(\n              children: [\n                Expanded(\n                  child: _buildStatItem(\n                    '\u5df2\u5b8c\u6210\u4fdd\u517b',\n                    '${plan.totalServicesCompleted}\u6b21',\n                    Icons.check_circle,\n                    Colors.green,\n                  ),\n                ),\n                Expanded(\n                  child: _buildStatItem(\n                    '\u5f85\u5904\u7406\u9879\u76ee',\n                    '${plan.upcomingServices.length}\u9879',\n                    Icons.schedule,\n                    Colors.orange,\n                  ),\n                ),\n              ],\n            ),\n            if (plan.hasOverdueServices) ...[\n              SizedBox(height: 12),\n              Container(\n                padding: EdgeInsets.all(12),\n                decoration: BoxDecoration(\n                  color: Colors.red.withOpacity(0.1),\n                  borderRadius: BorderRadius.circular(8),\n                  border: Border.all(color: Colors.red),\n                ),\n                child: Row(\n                  children: [\n                    Icon(Icons.warning, color: Colors.red),\n                    SizedBox(width: 8),\n                    Expanded(\n                      child: Text(\n                        '\u60a8\u6709 ${plan.overdueServicesCount} \u9879\u903e\u671f\u4fdd\u517b\u9700\u8981\u5904\u7406',\n                        style: TextStyle(color: Colors.red),\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n            ],\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildUpcomingServicesSection(List&lt;MaintenanceService&gt; services) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          '\u5373\u5c06\u5230\u671f\u7684\u4fdd\u517b',\n          style: TextStyle(\n            fontSize: 18,\n            fontWeight: FontWeight.bold,\n          ),\n        ),\n        SizedBox(height: 12),\n        ...services.take(5).map((service) {\n          return Padding(\n            padding: EdgeInsets.only(bottom: 8),\n            child: MaintenanceServiceCard(\n              service: service,\n              onTap: () =&gt; _navigateToServiceDetail(service),\n              onBookService: () =&gt; _bookService(service),\n            ),\n          );\n        }).toList(),\n        if (services.length &gt; 5)\n          TextButton(\n            onPressed: () =&gt; _showAllUpcomingServices(services),\n            child: Text('\u67e5\u770b\u5168\u90e8 ${services.length} \u9879'),\n          ),\n      ],\n    );\n  }\n}\n\n// \u4fdd\u517b\u670d\u52a1\u5361\u7247\u7ec4\u4ef6\nclass MaintenanceServiceCard extends StatelessWidget {\n  final MaintenanceService service;\n  final VoidCallback? onTap;\n  final VoidCallback? onBookService;\n\n  const MaintenanceServiceCard({\n    Key? key,\n    required this.service,\n    this.onTap,\n    this.onBookService,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      child: InkWell(\n        onTap: onTap,\n        child: Padding(\n          padding: EdgeInsets.all(16),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Row(\n                children: [\n                  Expanded(\n                    child: Text(\n                      service.name,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                  ),\n                  Container(\n                    padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),\n                    decoration: BoxDecoration(\n                      color: service.priorityColor.withOpacity(0.1),\n                      border: Border.all(color: service.priorityColor),\n                      borderRadius: BorderRadius.circular(12),\n                    ),\n                    child: Text(\n                      service.priorityDisplayName,\n                      style: TextStyle(\n                        fontSize: 12,\n                        color: service.priorityColor,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n              SizedBox(height: 8),\n              Text(\n                service.description,\n                style: TextStyle(\n                  fontSize: 14,\n                  color: Colors.grey[600],\n                ),\n              ),\n              SizedBox(height: 12),\n              Row(\n                children: [\n                  Icon(\n                    Icons.calendar_today,\n                    size: 16,\n                    color: Colors.grey[600],\n                  ),\n                  SizedBox(width: 4),\n                  Text(\n                    service.dueDate != null\n                        ? DateFormat('yyyy-MM-dd').format(service.dueDate!)\n                        : '\u6839\u636e\u91cc\u7a0b',\n                    style: TextStyle(\n                      fontSize: 12,\n                      color: Colors.grey[600],\n                    ),\n                  ),\n                  SizedBox(width: 16),\n                  Icon(\n                    Icons.attach_money,\n                    size: 16,\n                    color: Colors.grey[600],\n                  ),\n                  SizedBox(width: 4),\n                  Text(\n                    '\u7ea6 \u00a5${service.estimatedCost.toStringAsFixed(0)}',\n                    style: TextStyle(\n                      fontSize: 12,\n                      color: Colors.grey[600],\n                    ),\n                  ),\n                  Spacer(),\n                  TextButton(\n                    onPressed: onBookService,\n                    child: Text('\u9884\u7ea6'),\n                  ),\n                ],\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#_11","title":"\u4fdd\u517b\u65e5\u5386\u9875\u9762","text":"<pre><code>// \u4fdd\u517b\u65e5\u5386\u9875\u9762\nclass MaintenanceCalendarPage extends StatefulWidget {\n  final String vehicleId;\n\n  const MaintenanceCalendarPage({required this.vehicleId});\n\n  @override\n  _MaintenanceCalendarPageState createState() =&gt; _MaintenanceCalendarPageState();\n}\n\nclass _MaintenanceCalendarPageState extends State&lt;MaintenanceCalendarPage&gt; {\n  late DateTime _selectedDay;\n  late DateTime _focusedDay;\n  Map&lt;DateTime, List&lt;MaintenanceEvent&gt;&gt; _events = {};\n\n  @override\n  void initState() {\n    super.initState();\n    _selectedDay = DateTime.now();\n    _focusedDay = DateTime.now();\n    _loadMaintenanceEvents();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u4fdd\u517b\u65e5\u5386'),\n        actions: [\n          IconButton(\n            icon: Icon(Icons.add),\n            onPressed: () =&gt; _addMaintenanceEvent(),\n          ),\n        ],\n      ),\n      body: Column(\n        children: [\n          TableCalendar&lt;MaintenanceEvent&gt;(\n            firstDay: DateTime.utc(2020, 1, 1),\n            lastDay: DateTime.utc(2030, 12, 31),\n            focusedDay: _focusedDay,\n            selectedDayPredicate: (day) =&gt; isSameDay(_selectedDay, day),\n            eventLoader: (day) =&gt; _getEventsForDay(day),\n            onDaySelected: (selectedDay, focusedDay) {\n              setState(() {\n                _selectedDay = selectedDay;\n                _focusedDay = focusedDay;\n              });\n            },\n            onPageChanged: (focusedDay) {\n              _focusedDay = focusedDay;\n            },\n            calendarBuilders: CalendarBuilders(\n              markerBuilder: (context, day, events) {\n                if (events.isNotEmpty) {\n                  return _buildEventMarkers(events.cast&lt;MaintenanceEvent&gt;());\n                }\n                return null;\n              },\n            ),\n          ),\n          const SizedBox(height: 8.0),\n          Expanded(\n            child: ListView.builder(\n              itemCount: _getEventsForDay(_selectedDay).length,\n              itemBuilder: (context, index) {\n                final event = _getEventsForDay(_selectedDay)[index];\n                return MaintenanceEventCard(\n                  event: event,\n                  onTap: () =&gt; _showEventDetail(event),\n                );\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildEventMarkers(List&lt;MaintenanceEvent&gt; events) {\n    return Row(\n      mainAxisSize: MainAxisSize.min,\n      children: events.take(3).map((event) {\n        return Container(\n          margin: EdgeInsets.only(top: 5, right: 2),\n          width: 6,\n          height: 6,\n          decoration: BoxDecoration(\n            color: event.type.color,\n            shape: BoxShape.circle,\n          ),\n        );\n      }).toList(),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#_12","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_13","title":"\u4fdd\u517b\u8ba1\u5212\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u4fdd\u517b\u8ba1\u5212\u72b6\u6001 BLoC\nclass MaintenancePlanBloc extends Bloc&lt;MaintenancePlanEvent, MaintenancePlanState&gt; {\n  final MaintenancePlanService _planService;\n\n  MaintenancePlanBloc(this._planService) : super(MaintenancePlanInitial()) {\n    on&lt;LoadMaintenancePlan&gt;(_onLoadMaintenancePlan);\n    on&lt;RefreshMaintenancePlan&gt;(_onRefreshMaintenancePlan);\n    on&lt;UpdateMaintenancePlan&gt;(_onUpdateMaintenancePlan);\n  }\n\n  Future&lt;void&gt; _onLoadMaintenancePlan(\n    LoadMaintenancePlan event,\n    Emitter&lt;MaintenancePlanState&gt; emit,\n  ) async {\n    emit(MaintenancePlanLoading());\n\n    final result = await _planService.getVehicleMaintenancePlan(event.vehicleId);\n    result.fold(\n      (failure) =&gt; emit(MaintenancePlanError(failure.message)),\n      (plan) =&gt; emit(MaintenancePlanLoaded(plan)),\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#_14","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/app_maintenance.html#_15","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> <li>clr_maintenance: \u7ef4\u62a4\u4fdd\u517b\u670d\u52a1 SDK</li> <li>clr_geo: \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> </ul>"},{"location":"app_car/app_maintenance.html#ui","title":"UI \u76f8\u5173\u4f9d\u8d56","text":"<ul> <li>flutter_pickers: \u9009\u62e9\u5668\u7ec4\u4ef6</li> <li>ui_mapview: \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li>table_calendar: \u65e5\u5386\u7ec4\u4ef6</li> <li>scroll_to_index: \u6eda\u52a8\u5b9a\u4f4d\u7ec4\u4ef6</li> </ul>"},{"location":"app_car/app_maintenance.html#_16","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li>dartz: \u51fd\u6570\u5f0f\u7f16\u7a0b\u652f\u6301</li> <li>freezed_annotation: \u4e0d\u53ef\u53d8\u7c7b\u751f\u6210</li> <li>json_annotation: JSON \u5e8f\u5217\u5316</li> <li>url_launcher: \u94fe\u63a5\u6253\u5f00</li> <li>basic_track: \u884c\u4e3a\u8ffd\u8e2a</li> </ul>"},{"location":"app_car/app_maintenance.html#_17","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/app_maintenance.html#_18","title":"\u7ef4\u62a4\u4fdd\u517b\u5f02\u5e38","text":"<pre><code>// \u7ef4\u62a4\u4fdd\u517b\u529f\u80fd\u5f02\u5e38\nabstract class MaintenanceFailure {\n  const MaintenanceFailure();\n\n  factory MaintenanceFailure.vehicleNotFound() = VehicleNotFoundFailure;\n  factory MaintenanceFailure.planLoadFailed(String message) = PlanLoadFailure;\n  factory MaintenanceFailure.appointmentCreationFailed(String message) = AppointmentCreationFailure;\n  factory MaintenanceFailure.providerNotFound() = ProviderNotFoundFailure;\n  factory MaintenanceFailure.timeSlotNotAvailable() = TimeSlotNotAvailableFailure;\n  factory MaintenanceFailure.permissionDenied() = PermissionDeniedFailure;\n}\n</code></pre>"},{"location":"app_car/app_maintenance.html#_19","title":"\u603b\u7ed3","text":"<p><code>app_maintenance</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8f66\u8f86\u7ef4\u62a4\u4fdd\u517b\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u4fdd\u517b\u8ba1\u5212\u7ba1\u7406\u3001\u670d\u52a1\u9884\u7ea6\u3001\u8bb0\u5f55\u8ddf\u8e2a\u548c\u7edf\u8ba1\u5206\u6790\uff0c\u5e2e\u52a9\u7528\u6237\u79d1\u5b66\u5408\u7406\u5730\u7ef4\u62a4\u8f66\u8f86\u3002\u6a21\u5757\u96c6\u6210\u4e86\u5730\u56fe\u670d\u52a1\u3001\u65e5\u5386\u7ec4\u4ef6\u7b49\u529f\u80fd\uff0c\u63d0\u4f9b\u4e86\u76f4\u89c2\u6613\u7528\u7684\u4fdd\u517b\u7ba1\u7406\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_order.html","title":"App Order - \u8ba2\u5355\u7ba1\u7406\u6a21\u5757\u6587\u6863","text":""},{"location":"app_car/app_order.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_order</code> \u662f OneApp \u8f66\u8f86\u6a21\u5757\u7fa4\u4e2d\u7684\u8ba2\u5355\u7ba1\u7406\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684\u8ba2\u5355\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u5305\u62ec\u8ba2\u5355\u521b\u5efa\u3001\u652f\u4ed8\u5904\u7406\u3001\u72b6\u6001\u8ddf\u8e2a\u3001\u8ba2\u5355\u5386\u53f2\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e0e\u652f\u4ed8\u7cfb\u7edf\u3001\u8d26\u6237\u7cfb\u7edf\u6df1\u5ea6\u96c6\u6210\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u7edf\u4e00\u7684\u8ba2\u5355\u7ba1\u7406\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_order.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_order</li> <li>\u7248\u672c: 0.2.15+1</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-app-order</li> <li>Flutter \u7248\u672c: &gt;=3.10.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_order.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_order/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_order.dart            # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u8ba2\u5355\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u8ba2\u5355\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u2514\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 uml.puml/png/svg             # UML \u8bbe\u8ba1\u56fe\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"app_car/app_order.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"app_car/app_order.html#1","title":"1. \u8ba2\u5355\u521b\u5efa\u4e0e\u7ba1\u7406","text":""},{"location":"app_car/app_order.html#_5","title":"\u8ba2\u5355\u521b\u5efa\u670d\u52a1","text":"<pre><code>// \u8ba2\u5355\u521b\u5efa\u670d\u52a1\nclass OrderCreationService {\n  final OrderRepository _repository;\n  final PaymentService _paymentService;\n  final AccountService _accountService;\n  final NotificationService _notificationService;\n\n  OrderCreationService(\n    this._repository,\n    this._paymentService,\n    this._accountService,\n    this._notificationService,\n  );\n\n  // \u521b\u5efa\u8ba2\u5355\n  Future&lt;Result&lt;Order&gt;&gt; createOrder({\n    required String userId,\n    required OrderType type,\n    required List&lt;OrderItem&gt; items,\n    required DeliveryInfo deliveryInfo,\n    String? couponCode,\n    String? notes,\n    Map&lt;String, dynamic&gt;? metadata,\n  }) async {\n    try {\n      // 1. \u9a8c\u8bc1\u7528\u6237\u8d26\u6237\n      final accountResult = await _accountService.validateAccount(userId);\n      if (accountResult.isLeft()) {\n        return Left(OrderFailure.accountValidationFailed());\n      }\n\n      // 2. \u8ba1\u7b97\u8ba2\u5355\u91d1\u989d\n      final pricing = await _calculateOrderPricing(\n        items: items,\n        couponCode: couponCode,\n        deliveryInfo: deliveryInfo,\n      );\n\n      // 3. \u521b\u5efa\u8ba2\u5355\n      final order = Order(\n        id: generateOrderId(),\n        userId: userId,\n        type: type,\n        items: items,\n        deliveryInfo: deliveryInfo,\n        pricing: pricing,\n        status: OrderStatus.pending,\n        couponCode: couponCode,\n        notes: notes,\n        metadata: metadata,\n        createdAt: DateTime.now(),\n        updatedAt: DateTime.now(),\n      );\n\n      // 4. \u4fdd\u5b58\u8ba2\u5355\n      await _repository.createOrder(order);\n\n      // 5. \u53d1\u9001\u8ba2\u5355\u521b\u5efa\u901a\u77e5\n      await _notificationService.sendOrderCreatedNotification(\n        userId: userId,\n        order: order,\n      );\n\n      return Right(order);\n    } catch (e) {\n      return Left(OrderFailure.creationFailed(e.toString()));\n    }\n  }\n\n  // \u8ba1\u7b97\u8ba2\u5355\u4ef7\u683c\n  Future&lt;OrderPricing&gt; _calculateOrderPricing({\n    required List&lt;OrderItem&gt; items,\n    String? couponCode,\n    required DeliveryInfo deliveryInfo,\n  }) async {\n    double subtotal = items.fold(0.0, (sum, item) =&gt; sum + item.totalPrice);\n\n    // \u8ba1\u7b97\u4f18\u60e0\u5238\u6298\u6263\n    double discount = 0.0;\n    if (couponCode != null) {\n      final coupon = await _repository.validateCoupon(couponCode);\n      if (coupon != null &amp;&amp; coupon.isValid) {\n        discount = coupon.calculateDiscount(subtotal);\n      }\n    }\n\n    // \u8ba1\u7b97\u914d\u9001\u8d39\n    double deliveryFee = await _calculateDeliveryFee(deliveryInfo, subtotal);\n\n    // \u8ba1\u7b97\u7a0e\u8d39\n    double tax = _calculateTax(subtotal - discount, deliveryInfo.address);\n\n    double total = subtotal - discount + deliveryFee + tax;\n\n    return OrderPricing(\n      subtotal: subtotal,\n      discount: discount,\n      deliveryFee: deliveryFee,\n      tax: tax,\n      total: total,\n    );\n  }\n\n  // \u53d6\u6d88\u8ba2\u5355\n  Future&lt;Result&lt;void&gt;&gt; cancelOrder({\n    required String orderId,\n    required String reason,\n    String? userId,\n  }) async {\n    try {\n      final order = await _repository.getOrderById(orderId);\n      if (order == null) {\n        return Left(OrderFailure.orderNotFound());\n      }\n\n      // \u68c0\u67e5\u53d6\u6d88\u6743\u9650\n      if (userId != null &amp;&amp; order.userId != userId) {\n        return Left(OrderFailure.permissionDenied());\n      }\n\n      // \u68c0\u67e5\u8ba2\u5355\u72b6\u6001\u662f\u5426\u5141\u8bb8\u53d6\u6d88\n      if (!order.canBeCancelled) {\n        return Left(OrderFailure.cannotBeCancelled());\n      }\n\n      // \u5904\u7406\u9000\u6b3e\n      if (order.isPaid) {\n        final refundResult = await _paymentService.processRefund(\n          orderId: orderId,\n          amount: order.pricing.total,\n          reason: reason,\n        );\n\n        if (refundResult.isLeft()) {\n          return Left(OrderFailure.refundFailed());\n        }\n      }\n\n      // \u66f4\u65b0\u8ba2\u5355\u72b6\u6001\n      await _repository.updateOrderStatus(\n        orderId: orderId,\n        status: OrderStatus.cancelled,\n        reason: reason,\n        updatedAt: DateTime.now(),\n      );\n\n      return Right(unit);\n    } catch (e) {\n      return Left(OrderFailure.cancellationFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#2","title":"2. \u8ba2\u5355\u652f\u4ed8\u5904\u7406","text":""},{"location":"app_car/app_order.html#_6","title":"\u652f\u4ed8\u96c6\u6210\u670d\u52a1","text":"<pre><code>// \u8ba2\u5355\u652f\u4ed8\u670d\u52a1\nclass OrderPaymentService {\n  final PaymentService _paymentService;\n  final OrderRepository _repository;\n\n  OrderPaymentService(this._paymentService, this._repository);\n\n  // \u5904\u7406\u8ba2\u5355\u652f\u4ed8\n  Future&lt;Result&lt;PaymentResult&gt;&gt; processOrderPayment({\n    required String orderId,\n    required PaymentMethod paymentMethod,\n    Map&lt;String, dynamic&gt;? paymentData,\n  }) async {\n    try {\n      final order = await _repository.getOrderById(orderId);\n      if (order == null) {\n        return Left(OrderFailure.orderNotFound());\n      }\n\n      if (order.status != OrderStatus.pending) {\n        return Left(OrderFailure.orderNotPayable());\n      }\n\n      // \u521b\u5efa\u652f\u4ed8\u8bf7\u6c42\n      final paymentRequest = PaymentRequest(\n        orderId: orderId,\n        amount: order.pricing.total,\n        currency: 'CNY',\n        paymentMethod: paymentMethod,\n        description: '\u8ba2\u5355\u652f\u4ed8 - ${order.id}',\n        metadata: {\n          'order_id': orderId,\n          'user_id': order.userId,\n          'order_type': order.type.toString(),\n        },\n        additionalData: paymentData,\n      );\n\n      // \u5904\u7406\u652f\u4ed8\n      final paymentResult = await _paymentService.processPayment(paymentRequest);\n\n      return paymentResult.fold(\n        (failure) =&gt; Left(OrderFailure.paymentFailed(failure.message)),\n        (result) async {\n          // \u66f4\u65b0\u8ba2\u5355\u652f\u4ed8\u72b6\u6001\n          await _updateOrderPaymentStatus(orderId, result);\n          return Right(result);\n        },\n      );\n    } catch (e) {\n      return Left(OrderFailure.paymentProcessingFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u8ba2\u5355\u652f\u4ed8\u72b6\u6001\n  Future&lt;void&gt; _updateOrderPaymentStatus(\n    String orderId,\n    PaymentResult paymentResult,\n  ) async {\n    OrderStatus newStatus;\n    switch (paymentResult.status) {\n      case PaymentStatus.success:\n        newStatus = OrderStatus.paid;\n        break;\n      case PaymentStatus.pending:\n        newStatus = OrderStatus.paymentPending;\n        break;\n      case PaymentStatus.failed:\n        newStatus = OrderStatus.paymentFailed;\n        break;\n      case PaymentStatus.cancelled:\n        newStatus = OrderStatus.pending;\n        break;\n    }\n\n    await _repository.updateOrderPayment(\n      orderId: orderId,\n      paymentId: paymentResult.paymentId,\n      paymentStatus: paymentResult.status,\n      orderStatus: newStatus,\n      paidAt: paymentResult.status == PaymentStatus.success \n          ? DateTime.now() \n          : null,\n    );\n  }\n\n  // \u9a8c\u8bc1\u652f\u4ed8\u7ed3\u679c\n  Future&lt;Result&lt;void&gt;&gt; verifyPayment({\n    required String orderId,\n    required String paymentId,\n  }) async {\n    try {\n      final verificationResult = await _paymentService.verifyPayment(paymentId);\n\n      return verificationResult.fold(\n        (failure) =&gt; Left(OrderFailure.paymentVerificationFailed()),\n        (isValid) async {\n          if (isValid) {\n            await _repository.updateOrderStatus(\n              orderId: orderId,\n              status: OrderStatus.paid,\n              updatedAt: DateTime.now(),\n            );\n            return Right(unit);\n          } else {\n            await _repository.updateOrderStatus(\n              orderId: orderId,\n              status: OrderStatus.paymentFailed,\n              updatedAt: DateTime.now(),\n            );\n            return Left(OrderFailure.paymentVerificationFailed());\n          }\n        },\n      );\n    } catch (e) {\n      return Left(OrderFailure.verificationError(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#3","title":"3. \u8ba2\u5355\u72b6\u6001\u8ddf\u8e2a","text":""},{"location":"app_car/app_order.html#_7","title":"\u8ba2\u5355\u72b6\u6001\u7ba1\u7406\u670d\u52a1","text":"<pre><code>// \u8ba2\u5355\u72b6\u6001\u8ddf\u8e2a\u670d\u52a1\nclass OrderTrackingService {\n  final OrderRepository _repository;\n  final NotificationService _notificationService;\n  final LogisticsService _logisticsService;\n\n  OrderTrackingService(\n    this._repository,\n    this._notificationService,\n    this._logisticsService,\n  );\n\n  // \u66f4\u65b0\u8ba2\u5355\u72b6\u6001\n  Future&lt;Result&lt;void&gt;&gt; updateOrderStatus({\n    required String orderId,\n    required OrderStatus newStatus,\n    String? operatorId,\n    String? notes,\n    Map&lt;String, dynamic&gt;? metadata,\n  }) async {\n    try {\n      final order = await _repository.getOrderById(orderId);\n      if (order == null) {\n        return Left(OrderFailure.orderNotFound());\n      }\n\n      // \u9a8c\u8bc1\u72b6\u6001\u8f6c\u6362\u7684\u5408\u6cd5\u6027\n      if (!_isValidStatusTransition(order.status, newStatus)) {\n        return Left(OrderFailure.invalidStatusTransition());\n      }\n\n      // \u521b\u5efa\u72b6\u6001\u5386\u53f2\u8bb0\u5f55\n      final statusHistory = OrderStatusHistory(\n        id: generateId(),\n        orderId: orderId,\n        fromStatus: order.status,\n        toStatus: newStatus,\n        operatorId: operatorId,\n        notes: notes,\n        metadata: metadata,\n        createdAt: DateTime.now(),\n      );\n\n      // \u66f4\u65b0\u8ba2\u5355\u72b6\u6001\n      await _repository.updateOrderStatusWithHistory(\n        orderId: orderId,\n        newStatus: newStatus,\n        statusHistory: statusHistory,\n        updatedAt: DateTime.now(),\n      );\n\n      // \u6267\u884c\u72b6\u6001\u76f8\u5173\u7684\u4e1a\u52a1\u903b\u8f91\n      await _executeStatusChangeActions(order, newStatus);\n\n      // \u53d1\u9001\u72b6\u6001\u66f4\u65b0\u901a\u77e5\n      await _notificationService.sendOrderStatusUpdateNotification(\n        userId: order.userId,\n        orderId: orderId,\n        newStatus: newStatus,\n      );\n\n      return Right(unit);\n    } catch (e) {\n      return Left(OrderFailure.statusUpdateFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8ba2\u5355\u8ddf\u8e2a\u4fe1\u606f\n  Future&lt;Result&lt;OrderTrackingInfo&gt;&gt; getOrderTracking(String orderId) async {\n    try {\n      final order = await _repository.getOrderById(orderId);\n      if (order == null) {\n        return Left(OrderFailure.orderNotFound());\n      }\n\n      final statusHistory = await _repository.getOrderStatusHistory(orderId);\n\n      // \u83b7\u53d6\u7269\u6d41\u4fe1\u606f\uff08\u5982\u679c\u6709\uff09\n      LogisticsInfo? logisticsInfo;\n      if (order.trackingNumber != null) {\n        logisticsInfo = await _logisticsService.getLogisticsInfo(\n          order.trackingNumber!,\n        );\n      }\n\n      final trackingInfo = OrderTrackingInfo(\n        order: order,\n        statusHistory: statusHistory,\n        logisticsInfo: logisticsInfo,\n        estimatedDelivery: _calculateEstimatedDelivery(order),\n      );\n\n      return Right(trackingInfo);\n    } catch (e) {\n      return Left(OrderFailure.trackingLoadFailed(e.toString()));\n    }\n  }\n\n  // \u9a8c\u8bc1\u72b6\u6001\u8f6c\u6362\u5408\u6cd5\u6027\n  bool _isValidStatusTransition(OrderStatus fromStatus, OrderStatus toStatus) {\n    final validTransitions = {\n      OrderStatus.pending: [\n        OrderStatus.paid,\n        OrderStatus.paymentFailed,\n        OrderStatus.cancelled,\n      ],\n      OrderStatus.paid: [\n        OrderStatus.processing,\n        OrderStatus.cancelled,\n      ],\n      OrderStatus.processing: [\n        OrderStatus.shipped,\n        OrderStatus.cancelled,\n      ],\n      OrderStatus.shipped: [\n        OrderStatus.delivered,\n        OrderStatus.returnRequested,\n      ],\n      OrderStatus.delivered: [\n        OrderStatus.completed,\n        OrderStatus.returnRequested,\n      ],\n      // ... \u5176\u4ed6\u72b6\u6001\u8f6c\u6362\u89c4\u5219\n    };\n\n    return validTransitions[fromStatus]?.contains(toStatus) ?? false;\n  }\n\n  // \u6267\u884c\u72b6\u6001\u53d8\u66f4\u76f8\u5173\u64cd\u4f5c\n  Future&lt;void&gt; _executeStatusChangeActions(\n    Order order,\n    OrderStatus newStatus,\n  ) async {\n    switch (newStatus) {\n      case OrderStatus.paid:\n        await _onOrderPaid(order);\n        break;\n      case OrderStatus.shipped:\n        await _onOrderShipped(order);\n        break;\n      case OrderStatus.delivered:\n        await _onOrderDelivered(order);\n        break;\n      case OrderStatus.completed:\n        await _onOrderCompleted(order);\n        break;\n      default:\n        break;\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#4","title":"4. \u8ba2\u5355\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/app_order.html#_8","title":"\u6838\u5fc3\u8ba2\u5355\u6a21\u578b","text":"<pre><code>// \u8ba2\u5355\u6a21\u578b\nclass Order {\n  final String id;\n  final String userId;\n  final OrderType type;\n  final List&lt;OrderItem&gt; items;\n  final DeliveryInfo deliveryInfo;\n  final OrderPricing pricing;\n  final OrderStatus status;\n  final String? couponCode;\n  final String? notes;\n  final Map&lt;String, dynamic&gt;? metadata;\n  final DateTime createdAt;\n  final DateTime updatedAt;\n  final DateTime? paidAt;\n  final DateTime? shippedAt;\n  final DateTime? deliveredAt;\n  final DateTime? completedAt;\n  final String? paymentId;\n  final String? trackingNumber;\n  final List&lt;OrderStatusHistory&gt; statusHistory;\n\n  const Order({\n    required this.id,\n    required this.userId,\n    required this.type,\n    required this.items,\n    required this.deliveryInfo,\n    required this.pricing,\n    required this.status,\n    this.couponCode,\n    this.notes,\n    this.metadata,\n    required this.createdAt,\n    required this.updatedAt,\n    this.paidAt,\n    this.shippedAt,\n    this.deliveredAt,\n    this.completedAt,\n    this.paymentId,\n    this.trackingNumber,\n    this.statusHistory = const [],\n  });\n\n  // \u4e1a\u52a1\u903b\u8f91\u65b9\u6cd5\n  bool get isPaid =&gt; status.index &gt;= OrderStatus.paid.index;\n  bool get isShipped =&gt; status.index &gt;= OrderStatus.shipped.index;\n  bool get isDelivered =&gt; status.index &gt;= OrderStatus.delivered.index;\n  bool get isCompleted =&gt; status == OrderStatus.completed;\n  bool get isCancelled =&gt; status == OrderStatus.cancelled;\n\n  bool get canBeCancelled =&gt; [\n    OrderStatus.pending,\n    OrderStatus.paid,\n    OrderStatus.processing,\n  ].contains(status);\n\n  bool get canBeReturned =&gt; [\n    OrderStatus.delivered,\n    OrderStatus.completed,\n  ].contains(status) &amp;&amp; \n      DateTime.now().difference(deliveredAt ?? DateTime.now()).inDays &lt;= 7;\n\n  Duration get processingTime =&gt; updatedAt.difference(createdAt);\n\n  factory Order.fromJson(Map&lt;String, dynamic&gt; json) {\n    return Order(\n      id: json['id'],\n      userId: json['user_id'],\n      type: OrderType.fromString(json['type']),\n      items: (json['items'] as List)\n          .map((item) =&gt; OrderItem.fromJson(item))\n          .toList(),\n      deliveryInfo: DeliveryInfo.fromJson(json['delivery_info']),\n      pricing: OrderPricing.fromJson(json['pricing']),\n      status: OrderStatus.fromString(json['status']),\n      couponCode: json['coupon_code'],\n      notes: json['notes'],\n      metadata: json['metadata'],\n      createdAt: DateTime.parse(json['created_at']),\n      updatedAt: DateTime.parse(json['updated_at']),\n      paidAt: json['paid_at'] != null ? DateTime.parse(json['paid_at']) : null,\n      shippedAt: json['shipped_at'] != null ? DateTime.parse(json['shipped_at']) : null,\n      deliveredAt: json['delivered_at'] != null ? DateTime.parse(json['delivered_at']) : null,\n      completedAt: json['completed_at'] != null ? DateTime.parse(json['completed_at']) : null,\n      paymentId: json['payment_id'],\n      trackingNumber: json['tracking_number'],\n    );\n  }\n}\n\n// \u8ba2\u5355\u9879\u6a21\u578b\nclass OrderItem {\n  final String id;\n  final String productId;\n  final String productName;\n  final String productDescription;\n  final String? productImage;\n  final int quantity;\n  final double unitPrice;\n  final double totalPrice;\n  final Map&lt;String, dynamic&gt;? productVariant;\n  final Map&lt;String, dynamic&gt;? metadata;\n\n  const OrderItem({\n    required this.id,\n    required this.productId,\n    required this.productName,\n    required this.productDescription,\n    this.productImage,\n    required this.quantity,\n    required this.unitPrice,\n    required this.totalPrice,\n    this.productVariant,\n    this.metadata,\n  });\n\n  factory OrderItem.fromJson(Map&lt;String, dynamic&gt; json) {\n    return OrderItem(\n      id: json['id'],\n      productId: json['product_id'],\n      productName: json['product_name'],\n      productDescription: json['product_description'],\n      productImage: json['product_image'],\n      quantity: json['quantity'],\n      unitPrice: (json['unit_price'] as num).toDouble(),\n      totalPrice: (json['total_price'] as num).toDouble(),\n      productVariant: json['product_variant'],\n      metadata: json['metadata'],\n    );\n  }\n}\n\n// \u8ba2\u5355\u72b6\u6001\u679a\u4e3e\nenum OrderStatus {\n  pending,          // \u5f85\u652f\u4ed8\n  paymentPending,   // \u652f\u4ed8\u4e2d\n  paymentFailed,    // \u652f\u4ed8\u5931\u8d25\n  paid,            // \u5df2\u652f\u4ed8\n  processing,      // \u5904\u7406\u4e2d\n  shipped,         // \u5df2\u53d1\u8d27\n  delivered,       // \u5df2\u9001\u8fbe\n  completed,       // \u5df2\u5b8c\u6210\n  cancelled,       // \u5df2\u53d6\u6d88\n  returnRequested, // \u7533\u8bf7\u9000\u8d27\n  returned,        // \u5df2\u9000\u8d27\n  refunded,        // \u5df2\u9000\u6b3e\n}\n\nextension OrderStatusExtension on OrderStatus {\n  String get displayName {\n    switch (this) {\n      case OrderStatus.pending:\n        return '\u5f85\u652f\u4ed8';\n      case OrderStatus.paymentPending:\n        return '\u652f\u4ed8\u4e2d';\n      case OrderStatus.paymentFailed:\n        return '\u652f\u4ed8\u5931\u8d25';\n      case OrderStatus.paid:\n        return '\u5df2\u652f\u4ed8';\n      case OrderStatus.processing:\n        return '\u5904\u7406\u4e2d';\n      case OrderStatus.shipped:\n        return '\u5df2\u53d1\u8d27';\n      case OrderStatus.delivered:\n        return '\u5df2\u9001\u8fbe';\n      case OrderStatus.completed:\n        return '\u5df2\u5b8c\u6210';\n      case OrderStatus.cancelled:\n        return '\u5df2\u53d6\u6d88';\n      case OrderStatus.returnRequested:\n        return '\u7533\u8bf7\u9000\u8d27';\n      case OrderStatus.returned:\n        return '\u5df2\u9000\u8d27';\n      case OrderStatus.refunded:\n        return '\u5df2\u9000\u6b3e';\n    }\n  }\n\n  Color get color {\n    switch (this) {\n      case OrderStatus.pending:\n      case OrderStatus.paymentPending:\n        return Colors.orange;\n      case OrderStatus.paymentFailed:\n      case OrderStatus.cancelled:\n        return Colors.red;\n      case OrderStatus.paid:\n      case OrderStatus.processing:\n        return Colors.blue;\n      case OrderStatus.shipped:\n        return Colors.purple;\n      case OrderStatus.delivered:\n      case OrderStatus.completed:\n        return Colors.green;\n      case OrderStatus.returnRequested:\n      case OrderStatus.returned:\n      case OrderStatus.refunded:\n        return Colors.grey;\n    }\n  }\n\n  static OrderStatus fromString(String value) {\n    return OrderStatus.values.firstWhere(\n      (status) =&gt; status.toString().split('.').last == value,\n      orElse: () =&gt; OrderStatus.pending,\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#_9","title":"\u9875\u9762\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"app_car/app_order.html#_10","title":"\u8ba2\u5355\u5217\u8868\u9875\u9762","text":"<pre><code>// \u8ba2\u5355\u5217\u8868\u9875\u9762\nclass OrderListPage extends StatefulWidget {\n  @override\n  _OrderListPageState createState() =&gt; _OrderListPageState();\n}\n\nclass _OrderListPageState extends State&lt;OrderListPage&gt;\n    with TickerProviderStateMixin {\n  late TabController _tabController;\n  late OrderListBloc _orderBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _tabController = TabController(length: 5, vsync: this);\n    _orderBloc = context.read&lt;OrderListBloc&gt;();\n    _orderBloc.add(LoadOrders());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u6211\u7684\u8ba2\u5355'),\n        bottom: TabBar(\n          controller: _tabController,\n          isScrollable: true,\n          tabs: [\n            Tab(text: '\u5168\u90e8'),\n            Tab(text: '\u5f85\u652f\u4ed8'),\n            Tab(text: '\u5f85\u53d1\u8d27'),\n            Tab(text: '\u5f85\u6536\u8d27'),\n            Tab(text: '\u5df2\u5b8c\u6210'),\n          ],\n          onTap: (index) =&gt; _onTabChanged(index),\n        ),\n      ),\n      body: TabBarView(\n        controller: _tabController,\n        children: [\n          _buildOrderList(null),\n          _buildOrderList(OrderStatus.pending),\n          _buildOrderList(OrderStatus.paid),\n          _buildOrderList(OrderStatus.shipped),\n          _buildOrderList(OrderStatus.completed),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildOrderList(OrderStatus? status) {\n    return BlocBuilder&lt;OrderListBloc, OrderListState&gt;(\n      builder: (context, state) {\n        if (state is OrderListLoaded) {\n          final filteredOrders = status != null\n              ? state.orders.where((order) =&gt; order.status == status).toList()\n              : state.orders;\n\n          if (filteredOrders.isEmpty) {\n            return _buildEmptyState();\n          }\n\n          return RefreshIndicator(\n            onRefresh: () async {\n              _orderBloc.add(RefreshOrders());\n            },\n            child: ListView.builder(\n              padding: EdgeInsets.all(16),\n              itemCount: filteredOrders.length,\n              itemBuilder: (context, index) {\n                return OrderCard(\n                  order: filteredOrders[index],\n                  onTap: () =&gt; _navigateToOrderDetail(filteredOrders[index]),\n                );\n              },\n            ),\n          );\n        } else if (state is OrderListError) {\n          return _buildErrorState(state.message);\n        }\n        return _buildLoadingState();\n      },\n    );\n  }\n}\n\n// \u8ba2\u5355\u5361\u7247\u7ec4\u4ef6\nclass OrderCard extends StatelessWidget {\n  final Order order;\n  final VoidCallback? onTap;\n\n  const OrderCard({\n    Key? key,\n    required this.order,\n    this.onTap,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      margin: EdgeInsets.only(bottom: 16),\n      child: InkWell(\n        onTap: onTap,\n        child: Padding(\n          padding: EdgeInsets.all(16),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              _buildHeader(),\n              SizedBox(height: 12),\n              _buildItems(),\n              SizedBox(height: 12),\n              _buildFooter(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildHeader() {\n    return Row(\n      children: [\n        Text(\n          '\u8ba2\u5355\u53f7: ${order.id}',\n          style: TextStyle(\n            fontSize: 14,\n            color: Colors.grey[600],\n          ),\n        ),\n        Spacer(),\n        Container(\n          padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),\n          decoration: BoxDecoration(\n            color: order.status.color.withOpacity(0.1),\n            border: Border.all(color: order.status.color),\n            borderRadius: BorderRadius.circular(12),\n          ),\n          child: Text(\n            order.status.displayName,\n            style: TextStyle(\n              fontSize: 12,\n              color: order.status.color,\n              fontWeight: FontWeight.bold,\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildItems() {\n    return Column(\n      children: order.items.take(3).map((item) {\n        return Padding(\n          padding: EdgeInsets.only(bottom: 8),\n          child: Row(\n            children: [\n              ClipRRect(\n                borderRadius: BorderRadius.circular(8),\n                child: Image.network(\n                  item.productImage ?? '',\n                  width: 50,\n                  height: 50,\n                  fit: BoxFit.cover,\n                  errorBuilder: (context, error, stackTrace) {\n                    return Container(\n                      width: 50,\n                      height: 50,\n                      color: Colors.grey[300],\n                      child: Icon(Icons.image, color: Colors.grey),\n                    );\n                  },\n                ),\n              ),\n              SizedBox(width: 12),\n              Expanded(\n                child: Column(\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      item.productName,\n                      style: TextStyle(fontSize: 14),\n                      maxLines: 1,\n                      overflow: TextOverflow.ellipsis,\n                    ),\n                    Text(\n                      '\u6570\u91cf: ${item.quantity}',\n                      style: TextStyle(\n                        fontSize: 12,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                  ],\n                ),\n              ),\n              Text(\n                '\u00a5${item.totalPrice.toStringAsFixed(2)}',\n                style: TextStyle(\n                  fontSize: 14,\n                  fontWeight: FontWeight.bold,\n                ),\n              ),\n            ],\n          ),\n        );\n      }).toList(),\n    );\n  }\n\n  Widget _buildFooter() {\n    return Row(\n      children: [\n        Text(\n          '\u5171${order.items.length}\u4ef6\u5546\u54c1',\n          style: TextStyle(\n            fontSize: 12,\n            color: Colors.grey[600],\n          ),\n        ),\n        Spacer(),\n        Text(\n          '\u5408\u8ba1: \u00a5${order.pricing.total.toStringAsFixed(2)}',\n          style: TextStyle(\n            fontSize: 16,\n            fontWeight: FontWeight.bold,\n            color: Colors.red,\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#_11","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"app_car/app_order.html#_12","title":"\u8ba2\u5355\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u8ba2\u5355\u5217\u8868\u72b6\u6001 BLoC\nclass OrderListBloc extends Bloc&lt;OrderListEvent, OrderListState&gt; {\n  final OrderRepository _repository;\n\n  OrderListBloc(this._repository) : super(OrderListInitial()) {\n    on&lt;LoadOrders&gt;(_onLoadOrders);\n    on&lt;RefreshOrders&gt;(_onRefreshOrders);\n    on&lt;FilterOrders&gt;(_onFilterOrders);\n  }\n\n  Future&lt;void&gt; _onLoadOrders(\n    LoadOrders event,\n    Emitter&lt;OrderListState&gt; emit,\n  ) async {\n    emit(OrderListLoading());\n\n    try {\n      final orders = await _repository.getUserOrders(\n        userId: event.userId,\n        status: event.status,\n        page: 1,\n        pageSize: 20,\n      );\n\n      emit(OrderListLoaded(orders));\n    } catch (e) {\n      emit(OrderListError('\u52a0\u8f7d\u8ba2\u5355\u5931\u8d25: $e'));\n    }\n  }\n}\n</code></pre>"},{"location":"app_car/app_order.html#_13","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"app_car/app_order.html#_14","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_modular_route: \u8def\u7531\u7ba1\u7406</li> <li>basic_network: \u7f51\u7edc\u8bf7\u6c42</li> <li>basic_logger: \u65e5\u5fd7\u8bb0\u5f55</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"app_car/app_order.html#ui","title":"UI \u4f9d\u8d56","text":"<ul> <li>ui_basic: \u57fa\u7840 UI \u7ec4\u4ef6</li> <li>ui_payment: \u652f\u4ed8\u754c\u9762\u7ec4\u4ef6</li> </ul>"},{"location":"app_car/app_order.html#_15","title":"\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li>clr_payment: \u652f\u4ed8\u670d\u52a1 SDK</li> <li>clr_account: \u8d26\u6237\u670d\u52a1 SDK</li> <li>clr_order: \u8ba2\u5355\u670d\u52a1 SDK (\u672c\u5730\u8def\u5f84)</li> </ul>"},{"location":"app_car/app_order.html#_16","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/app_order.html#_17","title":"\u8ba2\u5355\u5f02\u5e38\u5b9a\u4e49","text":"<pre><code>// \u8ba2\u5355\u529f\u80fd\u5f02\u5e38\nabstract class OrderFailure {\n  const OrderFailure();\n\n  factory OrderFailure.creationFailed(String message) = OrderCreationFailure;\n  factory OrderFailure.paymentFailed(String message) = OrderPaymentFailure;\n  factory OrderFailure.orderNotFound() = OrderNotFoundFailure;\n  factory OrderFailure.permissionDenied() = OrderPermissionDeniedFailure;\n  factory OrderFailure.cannotBeCancelled() = OrderCannotBeCancelledFailure;\n  factory OrderFailure.invalidStatusTransition() = InvalidStatusTransitionFailure;\n}\n</code></pre>"},{"location":"app_car/app_order.html#_18","title":"\u603b\u7ed3","text":"<p><code>app_order</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8ba2\u5355\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\uff0c\u6db5\u76d6\u4e86\u8ba2\u5355\u521b\u5efa\u3001\u652f\u4ed8\u5904\u7406\u3001\u72b6\u6001\u8ddf\u8e2a\u3001\u5386\u53f2\u67e5\u8be2\u7b49\u5168\u751f\u547d\u5468\u671f\u529f\u80fd\u3002\u6a21\u5757\u4e0e\u652f\u4ed8\u7cfb\u7edf\u3001\u8d26\u6237\u7cfb\u7edf\u6df1\u5ea6\u96c6\u6210\uff0c\u901a\u8fc7\u6e05\u6670\u7684\u72b6\u6001\u7ba1\u7406\u548c\u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u8ba2\u5355\u7ba1\u7406\u4f53\u9a8c\u3002</p>"},{"location":"app_car/app_rpa.html","title":"App RPA \u81ea\u52a8\u5316\u6a21\u5757","text":""},{"location":"app_car/app_rpa.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_rpa</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684 RPA\uff08Robotic Process Automation\uff09\u81ea\u52a8\u5316\u6a21\u5757\uff0c\u8d1f\u8d23\u8f66\u8f86\u64cd\u4f5c\u7684\u81ea\u52a8\u5316\u6d41\u7a0b\u3001\u667a\u80fd\u4efb\u52a1\u8c03\u5ea6\u3001\u6279\u91cf\u64cd\u4f5c\u5904\u7406\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u901a\u8fc7\u81ea\u52a8\u5316\u6280\u672f\u63d0\u5347\u7528\u6237\u7684\u8f66\u8f86\u7ba1\u7406\u6548\u7387\uff0c\u51cf\u5c11\u91cd\u590d\u6027\u64cd\u4f5c\u3002</p>"},{"location":"app_car/app_rpa.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_rpa</li> <li>\u7248\u672c: 0.1.7</li> <li>\u63cf\u8ff0: RPA\u81ea\u52a8\u5316\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_rpa.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_rpa.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u81ea\u52a8\u5316\u4efb\u52a1    - \u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6    - \u6279\u91cf\u64cd\u4f5c\u6267\u884c    - \u6761\u4ef6\u89e6\u53d1\u81ea\u52a8\u5316    - \u667a\u80fd\u4efb\u52a1\u4f18\u5316</p> </li> <li> <p>\u6d41\u7a0b\u81ea\u52a8\u5316    - \u8f66\u8f86\u72b6\u6001\u81ea\u52a8\u68c0\u67e5    - \u7ef4\u62a4\u63d0\u9192\u81ea\u52a8\u5316    - \u6570\u636e\u540c\u6b65\u81ea\u52a8\u5316    - \u62a5\u544a\u751f\u6210\u81ea\u52a8\u5316</p> </li> <li> <p>\u667a\u80fd\u8c03\u5ea6    - \u4efb\u52a1\u4f18\u5148\u7ea7\u7ba1\u7406    - \u8d44\u6e90\u51b2\u7a81\u89e3\u51b3    - \u6267\u884c\u65f6\u95f4\u4f18\u5316    - \u5931\u8d25\u91cd\u8bd5\u673a\u5236</p> </li> <li> <p>\u76d1\u63a7\u7ba1\u7406    - \u4efb\u52a1\u6267\u884c\u76d1\u63a7    - \u6027\u80fd\u6307\u6807\u7edf\u8ba1    - \u5f02\u5e38\u544a\u8b66\u5904\u7406    - \u65e5\u5fd7\u8bb0\u5f55\u5206\u6790</p> </li> </ol>"},{"location":"app_car/app_rpa.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_rpa.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_rpa.dart                 # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                         # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 automation/              # \u81ea\u52a8\u5316\u5f15\u64ce\n\u2502   \u251c\u2500\u2500 scheduler/               # \u4efb\u52a1\u8c03\u5ea6\u5668\n\u2502   \u251c\u2500\u2500 tasks/                   # \u4efb\u52a1\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 monitors/                # \u76d1\u63a7\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 pages/                   # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 generated/                   # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_rpa.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_rpa.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_theme: ^0.2.5</code> - \u4e3b\u9898\u7cfb\u7edf</li> <li><code>basic_track: ^0.1.3</code> - \u6570\u636e\u57cb\u70b9</li> </ul>"},{"location":"app_car/app_rpa.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>car_rpa: ^0.1.5</code> - RPA\u670d\u52a1SDK</li> <li><code>location_service_check: ^1.0.1</code> - \u4f4d\u7f6e\u670d\u52a1\u68c0\u67e5</li> <li><code>amap_flutter_location: ^3.0.3</code> - \u9ad8\u5fb7\u5b9a\u4f4d\u670d\u52a1</li> </ul>"},{"location":"app_car/app_rpa.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>shared_preferences: ^2.2.2</code> - \u672c\u5730\u5b58\u50a8</li> <li><code>flutter_constraintlayout: ^1.7.0-stable</code> - \u7ea6\u675f\u5e03\u5c40</li> <li><code>url_launcher: ^6.1.11</code> - URL\u542f\u52a8</li> </ul>"},{"location":"app_car/app_rpa.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_rpa.html#1_app_rpadart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_rpa.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - RPA\u670d\u52a1\u521d\u59cb\u5316 - \u81ea\u52a8\u5316\u5f15\u64ce\u542f\u52a8</p>"},{"location":"app_car/app_rpa.html#2_srcautomation","title":"2. \u81ea\u52a8\u5316\u5f15\u64ce (<code>src/automation/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u81ea\u52a8\u5316\u4efb\u52a1\u6267\u884c\u5f15\u64ce - \u6d41\u7a0b\u63a7\u5236\u903b\u8f91 - \u6761\u4ef6\u5224\u65ad\u5904\u7406 - \u5f02\u5e38\u6062\u590d\u673a\u5236</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>AutomationEngine</code> - \u81ea\u52a8\u5316\u5f15\u64ce\u6838\u5fc3 - <code>ProcessController</code> - \u6d41\u7a0b\u63a7\u5236\u5668 - <code>ConditionEvaluator</code> - \u6761\u4ef6\u8bc4\u4f30\u5668 - <code>ErrorHandler</code> - \u9519\u8bef\u5904\u7406\u5668</p>"},{"location":"app_car/app_rpa.html#3_srcscheduler","title":"3. \u4efb\u52a1\u8c03\u5ea6\u5668 (<code>src/scheduler/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4efb\u52a1\u65f6\u95f4\u8c03\u5ea6 - \u4f18\u5148\u7ea7\u961f\u5217\u7ba1\u7406 - \u8d44\u6e90\u5206\u914d\u63a7\u5236 - \u5e76\u53d1\u6267\u884c\u534f\u8c03</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>TaskScheduler</code> - \u4efb\u52a1\u8c03\u5ea6\u5668 - <code>PriorityQueue</code> - \u4f18\u5148\u7ea7\u961f\u5217 - <code>ResourceManager</code> - \u8d44\u6e90\u7ba1\u7406\u5668 - <code>ConcurrencyController</code> - \u5e76\u53d1\u63a7\u5236\u5668</p>"},{"location":"app_car/app_rpa.html#4_srctasks","title":"4. \u4efb\u52a1\u5b9a\u4e49 (<code>src/tasks/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u9884\u5b9a\u4e49\u4efb\u52a1\u6a21\u677f - \u81ea\u5b9a\u4e49\u4efb\u52a1\u521b\u5efa - \u4efb\u52a1\u53c2\u6570\u914d\u7f6e - \u4efb\u52a1\u751f\u547d\u5468\u671f\u7ba1\u7406</p> <p>\u4e3b\u8981\u4efb\u52a1\u7c7b\u578b: - <code>VehicleCheckTask</code> - \u8f66\u8f86\u72b6\u6001\u68c0\u67e5\u4efb\u52a1 - <code>MaintenanceReminderTask</code> - \u7ef4\u62a4\u63d0\u9192\u4efb\u52a1 - <code>DataSyncTask</code> - \u6570\u636e\u540c\u6b65\u4efb\u52a1 - <code>ReportGenerationTask</code> - \u62a5\u544a\u751f\u6210\u4efb\u52a1</p>"},{"location":"app_car/app_rpa.html#5_srcmonitors","title":"5. \u76d1\u63a7\u7ec4\u4ef6 (<code>src/monitors/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4efb\u52a1\u6267\u884c\u76d1\u63a7 - \u6027\u80fd\u6307\u6807\u6536\u96c6 - \u5f02\u5e38\u68c0\u6d4b\u544a\u8b66 - \u7edf\u8ba1\u6570\u636e\u5206\u6790</p> <p>\u4e3b\u8981\u76d1\u63a7\u5668: - <code>ExecutionMonitor</code> - \u6267\u884c\u76d1\u63a7\u5668 - <code>PerformanceMonitor</code> - \u6027\u80fd\u76d1\u63a7\u5668 - <code>ExceptionMonitor</code> - \u5f02\u5e38\u76d1\u63a7\u5668 - <code>StatisticsCollector</code> - \u7edf\u8ba1\u6536\u96c6\u5668</p>"},{"location":"app_car/app_rpa.html#6_srcpages","title":"6. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u4efb\u52a1\u7ba1\u7406\u754c\u9762 - \u76d1\u63a7\u4eea\u8868\u677f - \u914d\u7f6e\u8bbe\u7f6e\u9875\u9762</p> <p>\u4e3b\u8981\u9875\u9762: - <code>RPAHomePage</code> - RPA\u4e3b\u9875 - <code>TaskManagementPage</code> - \u4efb\u52a1\u7ba1\u7406\u9875 - <code>MonitorDashboardPage</code> - \u76d1\u63a7\u4eea\u8868\u677f - <code>AutomationConfigPage</code> - \u81ea\u52a8\u5316\u914d\u7f6e\u9875</p>"},{"location":"app_car/app_rpa.html#7_srcmodels","title":"7. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4efb\u52a1\u6570\u636e\u6a21\u578b - \u6267\u884c\u7ed3\u679c\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b - \u7edf\u8ba1\u6570\u636e\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>Task</code> - \u4efb\u52a1\u6a21\u578b - <code>ExecutionResult</code> - \u6267\u884c\u7ed3\u679c\u6a21\u578b - <code>AutomationConfig</code> - \u81ea\u52a8\u5316\u914d\u7f6e\u6a21\u578b - <code>MonitoringData</code> - \u76d1\u63a7\u6570\u636e\u6a21\u578b</p>"},{"location":"app_car/app_rpa.html#8_srcutils","title":"8. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - RPA\u5de5\u5177\u65b9\u6cd5 - \u6570\u636e\u5904\u7406\u8f85\u52a9 - \u65f6\u95f4\u8ba1\u7b97\u5de5\u5177 - \u914d\u7f6e\u89e3\u6790\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>TaskBuilder</code> - \u4efb\u52a1\u6784\u5efa\u5668 - <code>CronParser</code> - \u5b9a\u65f6\u8868\u8fbe\u5f0f\u89e3\u6790\u5668 - <code>DataProcessor</code> - \u6570\u636e\u5904\u7406\u5668 - <code>ConfigValidator</code> - \u914d\u7f6e\u9a8c\u8bc1\u5668</p>"},{"location":"app_car/app_rpa.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_rpa.html#_13","title":"\u4efb\u52a1\u8c03\u5ea6\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u521b\u5efa\u4efb\u52a1] --&gt; B[\u4efb\u52a1\u9a8c\u8bc1]\n    B --&gt; C{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    C --&gt;|\u662f| D[\u6dfb\u52a0\u5230\u8c03\u5ea6\u961f\u5217]\n    C --&gt;|\u5426| E[\u8fd4\u56de\u9519\u8bef\u4fe1\u606f]\n    D --&gt; F[\u7b49\u5f85\u8c03\u5ea6\u6267\u884c]\n    F --&gt; G[\u68c0\u67e5\u6267\u884c\u6761\u4ef6]\n    G --&gt; H{\u6761\u4ef6\u662f\u5426\u6ee1\u8db3}\n    H --&gt;|\u662f| I[\u5f00\u59cb\u6267\u884c\u4efb\u52a1]\n    H --&gt;|\u5426| J[\u5ef6\u8fdf\u6216\u8df3\u8fc7]\n    I --&gt; K[\u76d1\u63a7\u6267\u884c\u8fc7\u7a0b]\n    K --&gt; L{\u6267\u884c\u662f\u5426\u6210\u529f}\n    L --&gt;|\u662f| M[\u8bb0\u5f55\u6210\u529f\u7ed3\u679c]\n    L --&gt;|\u5426| N[\u6267\u884c\u91cd\u8bd5\u903b\u8f91]\n    N --&gt; O{\u91cd\u8bd5\u6b21\u6570\u662f\u5426\u8d85\u9650}\n    O --&gt;|\u662f| P[\u6807\u8bb0\u4e3a\u5931\u8d25]\n    O --&gt;|\u5426| I\n    J --&gt; Q[\u66f4\u65b0\u4efb\u52a1\u72b6\u6001]\n    M --&gt; Q\n    P --&gt; Q\n    Q --&gt; R[\u901a\u77e5\u7ed3\u679c]</code></pre>"},{"location":"app_car/app_rpa.html#_14","title":"\u81ea\u52a8\u5316\u6267\u884c\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u89e6\u53d1\u81ea\u52a8\u5316] --&gt; B[\u52a0\u8f7d\u4efb\u52a1\u914d\u7f6e]\n    B --&gt; C[\u521d\u59cb\u5316\u6267\u884c\u73af\u5883]\n    C --&gt; D[\u5f00\u59cb\u6267\u884c\u6b65\u9aa4]\n    D --&gt; E[\u6267\u884c\u5f53\u524d\u6b65\u9aa4]\n    E --&gt; F[\u68c0\u67e5\u6b65\u9aa4\u7ed3\u679c]\n    F --&gt; G{\u662f\u5426\u6210\u529f}\n    G --&gt;|\u662f| H[\u6267\u884c\u4e0b\u4e00\u6b65\u9aa4]\n    G --&gt;|\u5426| I[\u6267\u884c\u9519\u8bef\u5904\u7406]\n    I --&gt; J{\u662f\u5426\u53ef\u6062\u590d}\n    J --&gt;|\u662f| K[\u5c1d\u8bd5\u6062\u590d]\n    J --&gt;|\u5426| L[\u7ec8\u6b62\u6267\u884c]\n    K --&gt; M{\u6062\u590d\u662f\u5426\u6210\u529f}\n    M --&gt;|\u662f| H\n    M --&gt;|\u5426| L\n    H --&gt; N{\u662f\u5426\u8fd8\u6709\u6b65\u9aa4}\n    N --&gt;|\u662f| E\n    N --&gt;|\u5426| O[\u6267\u884c\u5b8c\u6210]\n    L --&gt; P[\u6e05\u7406\u8d44\u6e90]\n    O --&gt; P\n    P --&gt; Q[\u751f\u6210\u6267\u884c\u62a5\u544a]</code></pre>"},{"location":"app_car/app_rpa.html#rpa","title":"RPA\u5f15\u64ce\u8bbe\u8ba1","text":""},{"location":"app_car/app_rpa.html#_15","title":"\u4efb\u52a1\u7c7b\u578b","text":"<ol> <li> <p>\u5b9a\u65f6\u4efb\u52a1    - \u5468\u671f\u6027\u68c0\u67e5\u4efb\u52a1    - \u5b9a\u65f6\u62a5\u544a\u751f\u6210    - \u6570\u636e\u5907\u4efd\u4efb\u52a1    - \u6e05\u7406\u7ef4\u62a4\u4efb\u52a1</p> </li> <li> <p>\u4e8b\u4ef6\u9a71\u52a8\u4efb\u52a1    - \u72b6\u6001\u53d8\u5316\u89e6\u53d1    - \u5f02\u5e38\u68c0\u6d4b\u89e6\u53d1    - \u7528\u6237\u64cd\u4f5c\u89e6\u53d1    - \u5916\u90e8\u7cfb\u7edf\u89e6\u53d1</p> </li> <li> <p>\u6761\u4ef6\u4efb\u52a1    - \u57fa\u4e8e\u4f4d\u7f6e\u7684\u4efb\u52a1    - \u57fa\u4e8e\u65f6\u95f4\u7684\u4efb\u52a1    - \u57fa\u4e8e\u72b6\u6001\u7684\u4efb\u52a1    - \u57fa\u4e8e\u6570\u636e\u7684\u4efb\u52a1</p> </li> <li> <p>\u6d41\u7a0b\u4efb\u52a1    - \u591a\u6b65\u9aa4\u6d41\u7a0b    - \u5206\u652f\u5224\u65ad\u6d41\u7a0b    - \u5faa\u73af\u6267\u884c\u6d41\u7a0b    - \u5e76\u884c\u5904\u7406\u6d41\u7a0b</p> </li> </ol>"},{"location":"app_car/app_rpa.html#_16","title":"\u6267\u884c\u7b56\u7565","text":"<ul> <li>\u7acb\u5373\u6267\u884c: \u4efb\u52a1\u521b\u5efa\u540e\u7acb\u5373\u6267\u884c</li> <li>\u5ef6\u8fdf\u6267\u884c: \u6307\u5b9a\u65f6\u95f4\u540e\u6267\u884c</li> <li>\u5468\u671f\u6267\u884c: \u6309\u5468\u671f\u91cd\u590d\u6267\u884c</li> <li>\u6761\u4ef6\u6267\u884c: \u6ee1\u8db3\u6761\u4ef6\u65f6\u6267\u884c</li> </ul>"},{"location":"app_car/app_rpa.html#_17","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_rpa.html#_18","title":"\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u4efb\u52a1\u6267\u884c\u6743\u9650\u9a8c\u8bc1</li> <li>\u654f\u611f\u64cd\u4f5c\u6388\u6743\u68c0\u67e5</li> <li>\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1</li> <li>\u64cd\u4f5c\u5ba1\u8ba1\u65e5\u5fd7</li> </ul>"},{"location":"app_car/app_rpa.html#_19","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u4efb\u52a1\u914d\u7f6e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u6267\u884c\u65e5\u5fd7\u5b89\u5168\u4fdd\u62a4</li> <li>\u654f\u611f\u6570\u636e\u8131\u654f\u5904\u7406</li> <li>\u4f20\u8f93\u6570\u636e\u52a0\u5bc6</li> </ul>"},{"location":"app_car/app_rpa.html#_20","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_rpa.html#_21","title":"\u6267\u884c\u4f18\u5316","text":"<ul> <li>\u4efb\u52a1\u6279\u91cf\u5904\u7406</li> <li>\u5e76\u53d1\u6267\u884c\u63a7\u5236</li> <li>\u8d44\u6e90\u6c60\u7ba1\u7406</li> <li>\u7f13\u5b58\u673a\u5236\u4f18\u5316</li> </ul>"},{"location":"app_car/app_rpa.html#_22","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u4efb\u52a1\u6570\u636e\u61d2\u52a0\u8f7d</li> <li>\u6267\u884c\u4e0a\u4e0b\u6587\u6e05\u7406</li> <li>\u5927\u6570\u636e\u5206\u7247\u5904\u7406</li> <li>\u5185\u5b58\u6cc4\u6f0f\u76d1\u63a7</li> </ul>"},{"location":"app_car/app_rpa.html#_23","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_rpa.html#_24","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u81ea\u5b9a\u4e49\u4efb\u52a1\u63d2\u4ef6</li> <li>\u7b2c\u4e09\u65b9\u670d\u52a1\u96c6\u6210</li> <li>\u6269\u5c55\u89e6\u53d1\u5668\u7c7b\u578b</li> <li>\u81ea\u5b9a\u4e49\u6267\u884c\u5668</li> </ul>"},{"location":"app_car/app_rpa.html#_25","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u4efb\u52a1\u6a21\u677f\u53ef\u914d\u7f6e</li> <li>\u6267\u884c\u7b56\u7565\u53ef\u8c03\u6574</li> <li>\u76d1\u63a7\u89c4\u5219\u53ef\u5b9a\u5236</li> <li>\u544a\u8b66\u673a\u5236\u53ef\u914d\u7f6e</li> </ul>"},{"location":"app_car/app_rpa.html#_26","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_rpa.html#_27","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u4efb\u52a1\u6267\u884c\u903b\u8f91\u6d4b\u8bd5</li> <li>\u8c03\u5ea6\u5668\u529f\u80fd\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u65b9\u6cd5\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_rpa.html#_28","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u7aef\u5230\u7aef\u4efb\u52a1\u6267\u884c\u6d4b\u8bd5</li> <li>\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5</li> <li>\u6570\u636e\u6d41\u6d4b\u8bd5</li> <li>\u5f02\u5e38\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_rpa.html#_29","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u5e76\u53d1\u6267\u884c\u538b\u529b\u6d4b\u8bd5</li> <li>\u957f\u65f6\u95f4\u8fd0\u884c\u7a33\u5b9a\u6027\u6d4b\u8bd5</li> <li>\u5185\u5b58\u4f7f\u7528\u6d4b\u8bd5</li> <li>\u54cd\u5e94\u65f6\u95f4\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_rpa.html#_30","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_rpa.html#_31","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u73af\u5883\u914d\u7f6e\u5206\u79bb</li> <li>\u4efb\u52a1\u53c2\u6570\u914d\u7f6e</li> <li>\u6027\u80fd\u8c03\u4f18\u53c2\u6570</li> <li>\u76d1\u63a7\u9608\u503c\u914d\u7f6e</li> </ul>"},{"location":"app_car/app_rpa.html#_32","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u4efb\u52a1\u6267\u884c\u6210\u529f\u7387</li> <li>\u5e73\u5747\u6267\u884c\u65f6\u95f4</li> <li>\u7cfb\u7edf\u8d44\u6e90\u4f7f\u7528\u7387</li> <li>\u5f02\u5e38\u9519\u8bef\u7edf\u8ba1</li> </ul>"},{"location":"app_car/app_rpa.html#_33","title":"\u603b\u7ed3","text":"<p><code>app_rpa</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u81ea\u52a8\u5316\u4e2d\u67a2\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u8f66\u8f86\u7ba1\u7406\u81ea\u52a8\u5316\u80fd\u529b\u3002\u901a\u8fc7\u667a\u80fd\u7684\u4efb\u52a1\u8c03\u5ea6\u3001\u53ef\u9760\u7684\u6267\u884c\u5f15\u64ce\u548c\u5b8c\u5584\u7684\u76d1\u63a7\u673a\u5236\uff0c\u7528\u6237\u53ef\u4ee5\u5b9e\u73b0\u8f66\u8f86\u7ba1\u7406\u7684\u81ea\u52a8\u5316\u548c\u667a\u80fd\u5316\uff0c\u663e\u8457\u63d0\u5347\u7ba1\u7406\u6548\u7387\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u81ea\u52a8\u5316\u9700\u6c42\u3002</p>"},{"location":"app_car/app_touchgo.html","title":"App TouchGo \u89e6\u63a7\u4ea4\u4e92\u6a21\u5757","text":""},{"location":"app_car/app_touchgo.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_touchgo</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u89e6\u63a7\u4ea4\u4e92\u6a21\u5757\uff0c\u8d1f\u8d23\u8f66\u8f86\u7684\u89e6\u63a7\u64cd\u4f5c\u3001\u624b\u52bf\u8bc6\u522b\u3001\u5feb\u6377\u64cd\u4f5c\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u7528\u6237\u63d0\u4f9b\u76f4\u89c2\u4fbf\u6377\u7684\u8f66\u8f86\u4ea4\u4e92\u4f53\u9a8c\uff0c\u901a\u8fc7\u624b\u52bf\u548c\u89e6\u63a7\u64cd\u4f5c\u7b80\u5316\u8f66\u8f86\u63a7\u5236\u6d41\u7a0b\u3002</p>"},{"location":"app_car/app_touchgo.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_touchgo</li> <li>\u7248\u672c: 0.1.5</li> <li>\u63cf\u8ff0: \u89e6\u63a7\u4ea4\u4e92\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.5.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_touchgo.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_touchgo.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u89e6\u63a7\u4ea4\u4e92    - \u591a\u70b9\u89e6\u63a7\u8bc6\u522b    - \u624b\u52bf\u64cd\u4f5c\u8bc6\u522b    - \u5feb\u6377\u64cd\u4f5c\u8bbe\u7f6e    - \u89e6\u63a7\u53cd\u9988\u4f18\u5316</p> </li> <li> <p>\u684c\u9762\u5c0f\u7ec4\u4ef6    - \u8f66\u8f86\u72b6\u6001\u5c0f\u7ec4\u4ef6    - \u5feb\u6377\u63a7\u5236\u5c0f\u7ec4\u4ef6    - \u4fe1\u606f\u5c55\u793a\u5c0f\u7ec4\u4ef6    - \u81ea\u5b9a\u4e49\u5c0f\u7ec4\u4ef6</p> </li> <li> <p>\u5730\u7406\u4f4d\u7f6e\u96c6\u6210    - \u57fa\u4e8e\u4f4d\u7f6e\u7684\u64cd\u4f5c    - \u5730\u7406\u56f4\u680f\u89e6\u53d1    - \u4f4d\u7f6e\u76f8\u5173\u63d0\u9192    - \u5730\u56fe\u89e6\u63a7\u4ea4\u4e92</p> </li> <li> <p>\u8f66\u8f86\u670d\u52a1\u96c6\u6210    - \u8f66\u8f86\u63a7\u5236\u63a5\u53e3    - \u72b6\u6001\u4fe1\u606f\u83b7\u53d6    - \u670d\u52a1\u8c03\u7528\u4f18\u5316    - \u5b9e\u65f6\u6570\u636e\u540c\u6b65</p> </li> </ol>"},{"location":"app_car/app_touchgo.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_touchgo.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_touchgo.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                         # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 gestures/                # \u624b\u52bf\u8bc6\u522b\n\u2502   \u251c\u2500\u2500 widgets/                 # \u684c\u9762\u5c0f\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 controllers/             # \u63a7\u5236\u5668\n\u2502   \u251c\u2500\u2500 services/                # \u670d\u52a1\u5c42\n\u2502   \u251c\u2500\u2500 pages/                   # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 generated/                   # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_touchgo.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_touchgo.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl_flutter: ^0.2.2+1</code> - \u56fd\u9645\u5316Flutter\u652f\u6301</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u57fa\u7840</li> <li><code>basic_logger: ^0.2.2</code> - \u65e5\u5fd7\u7cfb\u7edf</li> </ul>"},{"location":"app_car/app_touchgo.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>ui_basic: ^0.2.17</code> - \u57fa\u7840UI\u7ec4\u4ef6</li> <li><code>car_services: ^0.6.1</code> - \u8f66\u8f86\u670d\u52a1</li> <li><code>car_vehicle: ^0.6.4+1</code> - \u8f66\u8f86\u63a7\u5236</li> <li><code>clr_geo: ^0.2.16+1</code> - \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> <li><code>clr_touchgo: ^0.1.3</code> - \u89e6\u63a7\u670d\u52a1SDK</li> </ul>"},{"location":"app_car/app_touchgo.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>home_widget: ^0.6.0</code> - \u684c\u9762\u5c0f\u7ec4\u4ef6</li> <li><code>amap_flutter_base: ^3.0.4</code> - \u9ad8\u5fb7\u5730\u56fe\u57fa\u7840</li> <li><code>amap_flutter_search: ^0.0.17</code> - \u9ad8\u5fb7\u5730\u56fe\u641c\u7d22</li> </ul>"},{"location":"app_car/app_touchgo.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_touchgo.html#1_app_touchgodart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_touchgo.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - \u89e6\u63a7\u670d\u52a1\u521d\u59cb\u5316 - \u624b\u52bf\u8bc6\u522b\u5f15\u64ce\u542f\u52a8</p>"},{"location":"app_car/app_touchgo.html#2_srcgestures","title":"2. \u624b\u52bf\u8bc6\u522b (<code>src/gestures/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u591a\u70b9\u89e6\u63a7\u5904\u7406 - \u624b\u52bf\u6a21\u5f0f\u8bc6\u522b - \u81ea\u5b9a\u4e49\u624b\u52bf\u5b9a\u4e49 - \u624b\u52bf\u4e8b\u4ef6\u5206\u53d1</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>GestureDetector</code> - \u624b\u52bf\u68c0\u6d4b\u5668 - <code>TouchProcessor</code> - \u89e6\u63a7\u5904\u7406\u5668 - <code>GestureRecognizer</code> - \u624b\u52bf\u8bc6\u522b\u5668 - <code>CustomGestureBuilder</code> - \u81ea\u5b9a\u4e49\u624b\u52bf\u6784\u5efa\u5668</p> <p>\u652f\u6301\u7684\u624b\u52bf\u7c7b\u578b: - \u5355\u51fb/\u53cc\u51fb - \u957f\u6309\u64cd\u4f5c - \u6ed1\u52a8\u624b\u52bf - \u7f29\u653e\u624b\u52bf - \u65cb\u8f6c\u624b\u52bf - \u591a\u6307\u64cd\u4f5c</p>"},{"location":"app_car/app_touchgo.html#3_srcwidgets","title":"3. \u684c\u9762\u5c0f\u7ec4\u4ef6 (<code>src/widgets/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u539f\u751f\u684c\u9762\u5c0f\u7ec4\u4ef6 - \u8f66\u8f86\u4fe1\u606f\u5c55\u793a - \u5feb\u6377\u64cd\u4f5c\u5165\u53e3 - \u5b9e\u65f6\u6570\u636e\u66f4\u65b0</p> <p>\u4e3b\u8981\u5c0f\u7ec4\u4ef6: - <code>VehicleStatusWidget</code> - \u8f66\u8f86\u72b6\u6001\u5c0f\u7ec4\u4ef6 - <code>QuickControlWidget</code> - \u5feb\u6377\u63a7\u5236\u5c0f\u7ec4\u4ef6 - <code>LocationWidget</code> - \u4f4d\u7f6e\u4fe1\u606f\u5c0f\u7ec4\u4ef6 - <code>BatteryWidget</code> - \u7535\u6c60\u72b6\u6001\u5c0f\u7ec4\u4ef6</p>"},{"location":"app_car/app_touchgo.html#4_srccontrollers","title":"4. \u63a7\u5236\u5668 (<code>src/controllers/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u89e6\u63a7\u4e8b\u4ef6\u5904\u7406 - \u8f66\u8f86\u64cd\u4f5c\u63a7\u5236 - \u72b6\u6001\u7ba1\u7406\u534f\u8c03 - \u6570\u636e\u6d41\u63a7\u5236</p> <p>\u4e3b\u8981\u63a7\u5236\u5668: - <code>TouchController</code> - \u89e6\u63a7\u63a7\u5236\u5668 - <code>VehicleController</code> - \u8f66\u8f86\u63a7\u5236\u5668 - <code>WidgetController</code> - \u5c0f\u7ec4\u4ef6\u63a7\u5236\u5668 - <code>GestureController</code> - \u624b\u52bf\u63a7\u5236\u5668</p>"},{"location":"app_car/app_touchgo.html#5_srcservices","title":"5. \u670d\u52a1\u5c42 (<code>src/services/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8f66\u8f86\u670d\u52a1\u63a5\u53e3 - \u5730\u7406\u4f4d\u7f6e\u670d\u52a1 - \u5c0f\u7ec4\u4ef6\u6570\u636e\u670d\u52a1 - \u89e6\u63a7\u6570\u636e\u5904\u7406</p> <p>\u4e3b\u8981\u670d\u52a1: - <code>VehicleService</code> - \u8f66\u8f86\u670d\u52a1 - <code>LocationService</code> - \u4f4d\u7f6e\u670d\u52a1 - <code>WidgetDataService</code> - \u5c0f\u7ec4\u4ef6\u6570\u636e\u670d\u52a1 - <code>TouchDataService</code> - \u89e6\u63a7\u6570\u636e\u670d\u52a1</p>"},{"location":"app_car/app_touchgo.html#6_srcpages","title":"6. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u4ea4\u4e92\u914d\u7f6e\u9875\u9762 - \u624b\u52bf\u8bbe\u7f6e\u9875\u9762 - \u5c0f\u7ec4\u4ef6\u7ba1\u7406\u9875\u9762</p> <p>\u4e3b\u8981\u9875\u9762: - <code>TouchGoHomePage</code> - \u89e6\u63a7\u4e3b\u9875 - <code>GestureConfigPage</code> - \u624b\u52bf\u914d\u7f6e\u9875 - <code>WidgetManagementPage</code> - \u5c0f\u7ec4\u4ef6\u7ba1\u7406\u9875 - <code>TouchSettingsPage</code> - \u89e6\u63a7\u8bbe\u7f6e\u9875</p>"},{"location":"app_car/app_touchgo.html#7_srcmodels","title":"7. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u89e6\u63a7\u6570\u636e\u6a21\u578b - \u624b\u52bf\u914d\u7f6e\u6a21\u578b - \u5c0f\u7ec4\u4ef6\u6570\u636e\u6a21\u578b - \u8f66\u8f86\u72b6\u6001\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>TouchEvent</code> - \u89e6\u63a7\u4e8b\u4ef6\u6a21\u578b - <code>GestureConfig</code> - \u624b\u52bf\u914d\u7f6e\u6a21\u578b - <code>WidgetData</code> - \u5c0f\u7ec4\u4ef6\u6570\u636e\u6a21\u578b - <code>VehicleStatus</code> - \u8f66\u8f86\u72b6\u6001\u6a21\u578b</p>"},{"location":"app_car/app_touchgo.html#8_srcutils","title":"8. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u89e6\u63a7\u5de5\u5177\u65b9\u6cd5 - \u624b\u52bf\u8ba1\u7b97\u5de5\u5177 - \u6570\u636e\u8f6c\u6362\u5de5\u5177 - \u6027\u80fd\u4f18\u5316\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>TouchCalculator</code> - \u89e6\u63a7\u8ba1\u7b97\u5668 - <code>GestureAnalyzer</code> - \u624b\u52bf\u5206\u6790\u5668 - <code>WidgetRenderer</code> - \u5c0f\u7ec4\u4ef6\u6e32\u67d3\u5668 - <code>PerformanceOptimizer</code> - \u6027\u80fd\u4f18\u5316\u5668</p>"},{"location":"app_car/app_touchgo.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_touchgo.html#_13","title":"\u624b\u52bf\u8bc6\u522b\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u63a5\u6536\u89e6\u63a7\u4e8b\u4ef6] --&gt; B[\u9884\u5904\u7406\u89e6\u63a7\u6570\u636e]\n    B --&gt; C[\u5206\u6790\u89e6\u63a7\u6a21\u5f0f]\n    C --&gt; D{\u662f\u5426\u4e3a\u5df2\u77e5\u624b\u52bf}\n    D --&gt;|\u662f| E[\u5339\u914d\u624b\u52bf\u7c7b\u578b]\n    D --&gt;|\u5426| F[\u8bb0\u5f55\u672a\u77e5\u6a21\u5f0f]\n    E --&gt; G[\u6267\u884c\u5bf9\u5e94\u64cd\u4f5c]\n    G --&gt; H[\u63d0\u4f9b\u89e6\u89c9\u53cd\u9988]\n    H --&gt; I[\u8bb0\u5f55\u64cd\u4f5c\u65e5\u5fd7]\n    F --&gt; J[\u5b66\u4e60\u65b0\u624b\u52bf]\n    J --&gt; K{\u662f\u5426\u9700\u8981\u7528\u6237\u786e\u8ba4}\n    K --&gt;|\u662f| L[\u8bf7\u6c42\u7528\u6237\u786e\u8ba4]\n    K --&gt;|\u5426| M[\u81ea\u52a8\u5b66\u4e60]\n    L --&gt; N{\u7528\u6237\u662f\u5426\u786e\u8ba4}\n    N --&gt;|\u662f| O[\u4fdd\u5b58\u65b0\u624b\u52bf]\n    N --&gt;|\u5426| P[\u4e22\u5f03\u624b\u52bf]\n    M --&gt; O\n    O --&gt; Q[\u66f4\u65b0\u624b\u52bf\u5e93]\n    P --&gt; R[\u7ed3\u675f\u5904\u7406]\n    I --&gt; R\n    Q --&gt; R</code></pre>"},{"location":"app_car/app_touchgo.html#_14","title":"\u5c0f\u7ec4\u4ef6\u66f4\u65b0\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u6570\u636e\u53d8\u5316\u4e8b\u4ef6] --&gt; B[\u68c0\u67e5\u5c0f\u7ec4\u4ef6\u8ba2\u9605]\n    B --&gt; C{\u662f\u5426\u6709\u8ba2\u9605\u5c0f\u7ec4\u4ef6}\n    C --&gt;|\u662f| D[\u83b7\u53d6\u6700\u65b0\u6570\u636e]\n    C --&gt;|\u5426| E[\u5ffd\u7565\u66f4\u65b0]\n    D --&gt; F[\u683c\u5f0f\u5316\u6570\u636e]\n    F --&gt; G[\u6e32\u67d3\u5c0f\u7ec4\u4ef6]\n    G --&gt; H[\u66f4\u65b0\u7cfb\u7edf\u684c\u9762]\n    H --&gt; I[\u9a8c\u8bc1\u66f4\u65b0\u7ed3\u679c]\n    I --&gt; J{\u66f4\u65b0\u662f\u5426\u6210\u529f}\n    J --&gt;|\u662f| K[\u8bb0\u5f55\u6210\u529f\u65e5\u5fd7]\n    J --&gt;|\u5426| L[\u6267\u884c\u91cd\u8bd5\u673a\u5236]\n    L --&gt; M{\u91cd\u8bd5\u6b21\u6570\u662f\u5426\u8d85\u9650}\n    M --&gt;|\u662f| N[\u8bb0\u5f55\u5931\u8d25\u65e5\u5fd7]\n    M --&gt;|\u5426| G\n    K --&gt; O[\u901a\u77e5\u8ba2\u9605\u8005]\n    N --&gt; P[\u53d1\u9001\u9519\u8bef\u62a5\u544a]\n    O --&gt; Q[\u7ed3\u675f\u66f4\u65b0]\n    P --&gt; Q\n    E --&gt; Q</code></pre>"},{"location":"app_car/app_touchgo.html#_15","title":"\u89e6\u63a7\u4ea4\u4e92\u8bbe\u8ba1","text":""},{"location":"app_car/app_touchgo.html#_16","title":"\u624b\u52bf\u7c7b\u578b","text":"<ol> <li> <p>\u57fa\u7840\u624b\u52bf    - \u5355\u51fb\uff1a\u5feb\u901f\u64cd\u4f5c    - \u53cc\u51fb\uff1a\u786e\u8ba4\u64cd\u4f5c    - \u957f\u6309\uff1a\u83dc\u5355\u64cd\u4f5c    - \u6ed1\u52a8\uff1a\u5207\u6362\u64cd\u4f5c</p> </li> <li> <p>\u590d\u5408\u624b\u52bf    - \u53cc\u6307\u7f29\u653e\uff1a\u8c03\u6574\u53c2\u6570    - \u4e09\u6307\u6ed1\u52a8\uff1a\u5207\u6362\u6a21\u5f0f    - \u591a\u6307\u70b9\u51fb\uff1a\u7ec4\u5408\u64cd\u4f5c    - \u81ea\u5b9a\u4e49\u624b\u52bf\uff1a\u4e2a\u6027\u5316\u64cd\u4f5c</p> </li> <li> <p>\u4e0a\u4e0b\u6587\u624b\u52bf    - \u57fa\u4e8e\u4f4d\u7f6e\u7684\u624b\u52bf    - \u57fa\u4e8e\u65f6\u95f4\u7684\u624b\u52bf    - \u57fa\u4e8e\u72b6\u6001\u7684\u624b\u52bf    - \u57fa\u4e8e\u573a\u666f\u7684\u624b\u52bf</p> </li> </ol>"},{"location":"app_car/app_touchgo.html#_17","title":"\u53cd\u9988\u673a\u5236","text":"<ul> <li>\u89e6\u89c9\u53cd\u9988: \u9707\u52a8\u53cd\u9988</li> <li>\u89c6\u89c9\u53cd\u9988: \u52a8\u753b\u6548\u679c</li> <li>\u542c\u89c9\u53cd\u9988: \u63d0\u793a\u97f3\u6548</li> <li>\u8bed\u97f3\u53cd\u9988: \u8bed\u97f3\u786e\u8ba4</li> </ul>"},{"location":"app_car/app_touchgo.html#_18","title":"\u5c0f\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"app_car/app_touchgo.html#_19","title":"\u5c0f\u7ec4\u4ef6\u7c7b\u578b","text":"<ol> <li> <p>\u4fe1\u606f\u5c55\u793a\u7c7b    - \u8f66\u8f86\u72b6\u6001\u5c55\u793a    - \u7535\u6c60\u7535\u91cf\u663e\u793a    - \u4f4d\u7f6e\u4fe1\u606f\u663e\u793a    - \u5929\u6c14\u4fe1\u606f\u663e\u793a</p> </li> <li> <p>\u5feb\u6377\u64cd\u4f5c\u7c7b    - \u4e00\u952e\u9501\u8f66/\u89e3\u9501    - \u7a7a\u8c03\u63a7\u5236    - \u5145\u7535\u63a7\u5236    - \u5bfc\u822a\u542f\u52a8</p> </li> <li> <p>\u76d1\u63a7\u7c7b    - \u5b89\u5168\u72b6\u6001\u76d1\u63a7    - \u5f02\u5e38\u544a\u8b66\u663e\u793a    - \u7ef4\u62a4\u63d0\u9192    - \u670d\u52a1\u901a\u77e5</p> </li> </ol>"},{"location":"app_car/app_touchgo.html#_20","title":"\u66f4\u65b0\u7b56\u7565","text":"<ul> <li>\u5b9e\u65f6\u66f4\u65b0: \u5173\u952e\u72b6\u6001\u4fe1\u606f</li> <li>\u5b9a\u65f6\u66f4\u65b0: \u5b9a\u671f\u5237\u65b0\u6570\u636e</li> <li>\u4e8b\u4ef6\u66f4\u65b0: \u72b6\u6001\u53d8\u5316\u89e6\u53d1</li> <li>\u624b\u52a8\u66f4\u65b0: \u7528\u6237\u4e3b\u52a8\u5237\u65b0</li> </ul>"},{"location":"app_car/app_touchgo.html#_21","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_touchgo.html#_22","title":"\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u89e6\u63a7\u64cd\u4f5c\u6743\u9650\u9a8c\u8bc1</li> <li>\u654f\u611f\u529f\u80fd\u6388\u6743\u68c0\u67e5</li> <li>\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1</li> <li>\u64cd\u4f5c\u5ba1\u8ba1\u8bb0\u5f55</li> </ul>"},{"location":"app_car/app_touchgo.html#_23","title":"\u6570\u636e\u4fdd\u62a4","text":"<ul> <li>\u89e6\u63a7\u6570\u636e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u624b\u52bf\u6a21\u5f0f\u9690\u79c1\u4fdd\u62a4</li> <li>\u654f\u611f\u64cd\u4f5c\u4e8c\u6b21\u786e\u8ba4</li> <li>\u6570\u636e\u4f20\u8f93\u5b89\u5168</li> </ul>"},{"location":"app_car/app_touchgo.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_touchgo.html#_25","title":"\u89e6\u63a7\u4f18\u5316","text":"<ul> <li>\u89e6\u63a7\u4e8b\u4ef6\u53bb\u6296\u52a8</li> <li>\u624b\u52bf\u8bc6\u522b\u7b97\u6cd5\u4f18\u5316</li> <li>\u54cd\u5e94\u65f6\u95f4\u4f18\u5316</li> <li>\u5185\u5b58\u4f7f\u7528\u4f18\u5316</li> </ul>"},{"location":"app_car/app_touchgo.html#_26","title":"\u5c0f\u7ec4\u4ef6\u4f18\u5316","text":"<ul> <li>\u6570\u636e\u7f13\u5b58\u673a\u5236</li> <li>\u589e\u91cf\u66f4\u65b0\u7b56\u7565</li> <li>\u6e32\u67d3\u6027\u80fd\u4f18\u5316</li> <li>\u7535\u6c60\u7eed\u822a\u4f18\u5316</li> </ul>"},{"location":"app_car/app_touchgo.html#_27","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_touchgo.html#_28","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u81ea\u5b9a\u4e49\u624b\u52bf\u63d2\u4ef6</li> <li>\u7b2c\u4e09\u65b9\u5c0f\u7ec4\u4ef6\u96c6\u6210</li> <li>\u6269\u5c55\u89e6\u63a7\u529f\u80fd</li> <li>\u81ea\u5b9a\u4e49\u53cd\u9988\u673a\u5236</li> </ul>"},{"location":"app_car/app_touchgo.html#_29","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u624b\u52bf\u7075\u654f\u5ea6\u914d\u7f6e</li> <li>\u53cd\u9988\u5f3a\u5ea6\u8bbe\u7f6e</li> <li>\u5c0f\u7ec4\u4ef6\u5e03\u5c40\u914d\u7f6e</li> <li>\u4e2a\u6027\u5316\u5b9a\u5236</li> </ul>"},{"location":"app_car/app_touchgo.html#_30","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_touchgo.html#_31","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u624b\u52bf\u8bc6\u522b\u7b97\u6cd5\u6d4b\u8bd5</li> <li>\u89e6\u63a7\u4e8b\u4ef6\u5904\u7406\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u65b9\u6cd5\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_touchgo.html#_32","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u8f66\u8f86\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5</li> <li>\u5c0f\u7ec4\u4ef6\u529f\u80fd\u6d4b\u8bd5</li> <li>\u5730\u7406\u4f4d\u7f6e\u96c6\u6210\u6d4b\u8bd5</li> <li>\u5b8c\u6574\u4ea4\u4e92\u6d41\u7a0b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_touchgo.html#_33","title":"\u7528\u6237\u4f53\u9a8c\u6d4b\u8bd5","text":"<ul> <li>\u624b\u52bf\u54cd\u5e94\u901f\u5ea6\u6d4b\u8bd5</li> <li>\u64cd\u4f5c\u51c6\u786e\u6027\u6d4b\u8bd5</li> <li>\u7528\u6237\u6ee1\u610f\u5ea6\u6d4b\u8bd5</li> <li>\u6613\u7528\u6027\u8bc4\u4f30</li> </ul>"},{"location":"app_car/app_touchgo.html#_34","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_touchgo.html#_35","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u624b\u52bf\u5e93\u914d\u7f6e</li> <li>\u5c0f\u7ec4\u4ef6\u6a21\u677f\u914d\u7f6e</li> <li>\u6027\u80fd\u53c2\u6570\u8c03\u4f18</li> <li>\u6743\u9650\u7b56\u7565\u914d\u7f6e</li> </ul>"},{"location":"app_car/app_touchgo.html#_36","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u624b\u52bf\u8bc6\u522b\u51c6\u786e\u7387</li> <li>\u89e6\u63a7\u54cd\u5e94\u65f6\u95f4</li> <li>\u5c0f\u7ec4\u4ef6\u66f4\u65b0\u6210\u529f\u7387</li> <li>\u7528\u6237\u64cd\u4f5c\u9891\u7387</li> </ul>"},{"location":"app_car/app_touchgo.html#_37","title":"\u603b\u7ed3","text":"<p><code>app_touchgo</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u89e6\u63a7\u4ea4\u4e92\u4e2d\u5fc3\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u76f4\u89c2\u4fbf\u6377\u7684\u8f66\u8f86\u64cd\u4f5c\u4f53\u9a8c\u3002\u901a\u8fc7\u5148\u8fdb\u7684\u624b\u52bf\u8bc6\u522b\u6280\u672f\u3001\u4e30\u5bcc\u7684\u684c\u9762\u5c0f\u7ec4\u4ef6\u548c\u667a\u80fd\u7684\u89e6\u63a7\u53cd\u9988\uff0c\u7528\u6237\u53ef\u4ee5\u66f4\u81ea\u7136\u5730\u4e0e\u8f66\u8f86\u8fdb\u884c\u4ea4\u4e92\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u4e2a\u6027\u5316\u80fd\u529b\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u7528\u6237\u7684\u4f7f\u7528\u4e60\u60ef\u548c\u9700\u6c42\u3002</p>"},{"location":"app_car/app_vur.html","title":"App VUR \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757","text":""},{"location":"app_car/app_vur.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_vur</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684 VUR\uff08Vehicle Update Record\uff09\u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u6a21\u5757\uff0c\u8d1f\u8d23\u8f66\u8f86\u8f6f\u4ef6\u66f4\u65b0\u3001\u56fa\u4ef6\u5347\u7ea7\u3001\u7cfb\u7edf\u7ef4\u62a4\u8bb0\u5f55\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u8f66\u8f86\u66f4\u65b0\u5386\u53f2\u8ffd\u8e2a\u548c\u7ba1\u7406\u670d\u52a1\u3002</p>"},{"location":"app_car/app_vur.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_vur</li> <li>\u7248\u672c: 0.1.25</li> <li>\u63cf\u8ff0: \u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.5.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_vur.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_vur.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u66f4\u65b0\u8bb0\u5f55\u7ba1\u7406    - \u8f6f\u4ef6\u66f4\u65b0\u5386\u53f2\u8bb0\u5f55    - \u56fa\u4ef6\u5347\u7ea7\u8ddf\u8e2a    - \u7cfb\u7edf\u7ef4\u62a4\u65e5\u5fd7    - \u7248\u672c\u53d8\u66f4\u8bb0\u5f55</p> </li> <li> <p>\u66f4\u65b0\u8fdb\u5ea6\u76d1\u63a7    - \u5b9e\u65f6\u66f4\u65b0\u8fdb\u5ea6\u663e\u793a    - \u66f4\u65b0\u72b6\u6001\u8ddf\u8e2a    - \u9519\u8bef\u4fe1\u606f\u6536\u96c6    - \u56de\u6eda\u64cd\u4f5c\u652f\u6301</p> </li> <li> <p>\u7248\u672c\u4fe1\u606f\u5c55\u793a    - \u5f53\u524d\u7cfb\u7edf\u7248\u672c\u4fe1\u606f    - \u53ef\u7528\u66f4\u65b0\u68c0\u67e5    - \u7248\u672c\u5dee\u5f02\u5bf9\u6bd4    - \u66f4\u65b0\u8bf4\u660e\u5c55\u793a</p> </li> <li> <p>\u5206\u4eab\u548c\u5bfc\u51fa    - \u66f4\u65b0\u8bb0\u5f55\u5206\u4eab    - \u65e5\u5fd7\u6587\u4ef6\u5bfc\u51fa    - \u62a5\u544a\u751f\u6210\u529f\u80fd    - \u6280\u672f\u652f\u6301\u6570\u636e</p> </li> </ol>"},{"location":"app_car/app_vur.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_vur.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_vur.dart                 # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                         # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 records/                 # \u8bb0\u5f55\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 updates/                 # \u66f4\u65b0\u5904\u7406\n\u2502   \u251c\u2500\u2500 versions/                # \u7248\u672c\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 monitoring/              # \u76d1\u63a7\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 pages/                   # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 generated/                   # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_vur.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_vur.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u57fa\u7840</li> <li><code>basic_intl_flutter: ^0.2.2+1</code> - \u56fd\u9645\u5316Flutter\u652f\u6301</li> </ul>"},{"location":"app_car/app_vur.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>car_vur: ^0.1.12</code> - VUR\u670d\u52a1SDK</li> <li><code>basic_webview: ^0.2.4</code> - WebView\u7ec4\u4ef6</li> <li><code>app_consent: ^0.2.19</code> - \u7528\u6237\u540c\u610f\u6a21\u5757</li> <li><code>basic_consent: ^0.2.17</code> - \u57fa\u7840\u540c\u610f\u6846\u67b6</li> <li><code>basic_share: ^0.2.1</code> - \u57fa\u7840\u5206\u4eab\u670d\u52a1</li> <li><code>ui_share: ^0.2.0</code> - \u5206\u4eabUI\u7ec4\u4ef6</li> </ul>"},{"location":"app_car/app_vur.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>super_tooltip: ^2.0.8</code> - \u63d0\u793a\u6846\u7ec4\u4ef6</li> <li><code>just_the_tooltip: ^0.0.12</code> - \u8f7b\u91cf\u7ea7\u63d0\u793a\u6846</li> </ul>"},{"location":"app_car/app_vur.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_vur.html#1_app_vurdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_vur.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - VUR\u670d\u52a1\u521d\u59cb\u5316 - \u66f4\u65b0\u76d1\u63a7\u542f\u52a8</p>"},{"location":"app_car/app_vur.html#2_srcrecords","title":"2. \u8bb0\u5f55\u7ba1\u7406 (<code>src/records/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u66f4\u65b0\u8bb0\u5f55\u5b58\u50a8\u548c\u7ba1\u7406 - \u5386\u53f2\u6570\u636e\u67e5\u8be2 - \u8bb0\u5f55\u5206\u7c7b\u548c\u7b5b\u9009 - \u6570\u636e\u5907\u4efd\u548c\u6062\u590d</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>RecordManager</code> - \u8bb0\u5f55\u7ba1\u7406\u5668 - <code>RecordStorage</code> - \u8bb0\u5f55\u5b58\u50a8 - <code>RecordQuery</code> - \u8bb0\u5f55\u67e5\u8be2 - <code>RecordBackup</code> - \u8bb0\u5f55\u5907\u4efd</p>"},{"location":"app_car/app_vur.html#3_srcupdates","title":"3. \u66f4\u65b0\u5904\u7406 (<code>src/updates/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u66f4\u65b0\u4efb\u52a1\u5904\u7406 - \u66f4\u65b0\u8fdb\u5ea6\u8ddf\u8e2a - \u66f4\u65b0\u72b6\u6001\u7ba1\u7406 - \u5f02\u5e38\u5904\u7406\u548c\u6062\u590d</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>UpdateProcessor</code> - \u66f4\u65b0\u5904\u7406\u5668 - <code>ProgressTracker</code> - \u8fdb\u5ea6\u8ddf\u8e2a\u5668 - <code>StatusManager</code> - \u72b6\u6001\u7ba1\u7406\u5668 - <code>ErrorHandler</code> - \u9519\u8bef\u5904\u7406\u5668</p>"},{"location":"app_car/app_vur.html#4_srcversions","title":"4. \u7248\u672c\u7ba1\u7406 (<code>src/versions/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7248\u672c\u4fe1\u606f\u7ba1\u7406 - \u7248\u672c\u6bd4\u8f83\u548c\u5206\u6790 - \u517c\u5bb9\u6027\u68c0\u67e5 - \u4f9d\u8d56\u5173\u7cfb\u5904\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>VersionManager</code> - \u7248\u672c\u7ba1\u7406\u5668 - <code>VersionComparator</code> - \u7248\u672c\u6bd4\u8f83\u5668 - <code>CompatibilityChecker</code> - \u517c\u5bb9\u6027\u68c0\u67e5\u5668 - <code>DependencyResolver</code> - \u4f9d\u8d56\u89e3\u6790\u5668</p>"},{"location":"app_car/app_vur.html#5_srcmonitoring","title":"5. \u76d1\u63a7\u7ec4\u4ef6 (<code>src/monitoring/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u66f4\u65b0\u8fc7\u7a0b\u76d1\u63a7 - \u6027\u80fd\u6307\u6807\u6536\u96c6 - \u5f02\u5e38\u68c0\u6d4b\u548c\u62a5\u544a - \u7cfb\u7edf\u5065\u5eb7\u72b6\u6001\u76d1\u63a7</p> <p>\u4e3b\u8981\u76d1\u63a7\u5668: - <code>UpdateMonitor</code> - \u66f4\u65b0\u76d1\u63a7\u5668 - <code>PerformanceCollector</code> - \u6027\u80fd\u6536\u96c6\u5668 - <code>HealthChecker</code> - \u5065\u5eb7\u68c0\u67e5\u5668 - <code>AlertManager</code> - \u544a\u8b66\u7ba1\u7406\u5668</p>"},{"location":"app_car/app_vur.html#6_srcpages","title":"6. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u66f4\u65b0\u8bb0\u5f55\u5c55\u793a - \u7248\u672c\u4fe1\u606f\u9875\u9762 - \u8bbe\u7f6e\u914d\u7f6e\u9875\u9762</p> <p>\u4e3b\u8981\u9875\u9762: - <code>VURHomePage</code> - VUR\u4e3b\u9875 - <code>UpdateHistoryPage</code> - \u66f4\u65b0\u5386\u53f2\u9875 - <code>VersionInfoPage</code> - \u7248\u672c\u4fe1\u606f\u9875 - <code>UpdateProgressPage</code> - \u66f4\u65b0\u8fdb\u5ea6\u9875 - <code>SettingsPage</code> - \u8bbe\u7f6e\u9875\u9762</p>"},{"location":"app_car/app_vur.html#7_srcmodels","title":"7. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u66f4\u65b0\u8bb0\u5f55\u6570\u636e\u6a21\u578b - \u7248\u672c\u4fe1\u606f\u6a21\u578b - \u8fdb\u5ea6\u72b6\u6001\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>UpdateRecord</code> - \u66f4\u65b0\u8bb0\u5f55\u6a21\u578b - <code>VersionInfo</code> - \u7248\u672c\u4fe1\u606f\u6a21\u578b - <code>UpdateProgress</code> - \u66f4\u65b0\u8fdb\u5ea6\u6a21\u578b - <code>VURConfig</code> - VUR\u914d\u7f6e\u6a21\u578b</p>"},{"location":"app_car/app_vur.html#8_srcutils","title":"8. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - VUR\u5de5\u5177\u65b9\u6cd5 - \u6570\u636e\u5904\u7406\u8f85\u52a9 - \u6587\u4ef6\u64cd\u4f5c\u5de5\u5177 - \u683c\u5f0f\u5316\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>RecordFormatter</code> - \u8bb0\u5f55\u683c\u5f0f\u5316\u5668 - <code>DataExporter</code> - \u6570\u636e\u5bfc\u51fa\u5668 - <code>LogAnalyzer</code> - \u65e5\u5fd7\u5206\u6790\u5668 - <code>ReportGenerator</code> - \u62a5\u544a\u751f\u6210\u5668</p>"},{"location":"app_car/app_vur.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_vur.html#_13","title":"\u66f4\u65b0\u8bb0\u5f55\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u68c0\u6d4b\u5230\u66f4\u65b0] --&gt; B[\u521b\u5efa\u66f4\u65b0\u8bb0\u5f55]\n    B --&gt; C[\u8bb0\u5f55\u521d\u59cb\u72b6\u6001]\n    C --&gt; D[\u5f00\u59cb\u66f4\u65b0\u8fc7\u7a0b]\n    D --&gt; E[\u5b9e\u65f6\u8bb0\u5f55\u8fdb\u5ea6]\n    E --&gt; F[\u76d1\u63a7\u66f4\u65b0\u72b6\u6001]\n    F --&gt; G{\u66f4\u65b0\u662f\u5426\u6210\u529f}\n    G --&gt;|\u662f| H[\u8bb0\u5f55\u6210\u529f\u72b6\u6001]\n    G --&gt;|\u5426| I[\u8bb0\u5f55\u5931\u8d25\u4fe1\u606f]\n    H --&gt; J[\u66f4\u65b0\u7248\u672c\u4fe1\u606f]\n    I --&gt; K[\u4fdd\u5b58\u9519\u8bef\u65e5\u5fd7]\n    J --&gt; L[\u751f\u6210\u66f4\u65b0\u62a5\u544a]\n    K --&gt; M[\u89e6\u53d1\u5f02\u5e38\u5904\u7406]\n    L --&gt; N[\u901a\u77e5\u7528\u6237\u7ed3\u679c]\n    M --&gt; O[\u8bb0\u5f55\u6062\u590d\u64cd\u4f5c]\n    N --&gt; P[\u4fdd\u5b58\u5b8c\u6574\u8bb0\u5f55]\n    O --&gt; P\n    P --&gt; Q[\u66f4\u65b0\u5386\u53f2\u5217\u8868]</code></pre>"},{"location":"app_car/app_vur.html#_14","title":"\u7248\u672c\u68c0\u67e5\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u542f\u52a8\u7248\u672c\u68c0\u67e5] --&gt; B[\u83b7\u53d6\u5f53\u524d\u7248\u672c]\n    B --&gt; C[\u67e5\u8be2\u53ef\u7528\u66f4\u65b0]\n    C --&gt; D{\u662f\u5426\u6709\u65b0\u7248\u672c}\n    D --&gt;|\u662f| E[\u83b7\u53d6\u7248\u672c\u8be6\u60c5]\n    D --&gt;|\u5426| F[\u8bb0\u5f55\u68c0\u67e5\u7ed3\u679c]\n    E --&gt; G[\u68c0\u67e5\u517c\u5bb9\u6027]\n    G --&gt; H{\u662f\u5426\u517c\u5bb9}\n    H --&gt;|\u662f| I[\u663e\u793a\u66f4\u65b0\u63d0\u793a]\n    H --&gt;|\u5426| J[\u8bb0\u5f55\u517c\u5bb9\u6027\u95ee\u9898]\n    I --&gt; K[\u7528\u6237\u786e\u8ba4\u66f4\u65b0]\n    K --&gt; L{\u7528\u6237\u662f\u5426\u540c\u610f}\n    L --&gt;|\u662f| M[\u5f00\u59cb\u66f4\u65b0\u6d41\u7a0b]\n    L --&gt;|\u5426| N[\u8bb0\u5f55\u7528\u6237\u62d2\u7edd]\n    J --&gt; O[\u63d0\u4f9b\u89e3\u51b3\u65b9\u6848]\n    F --&gt; P[\u7ed3\u675f\u68c0\u67e5]\n    M --&gt; P\n    N --&gt; P\n    O --&gt; P</code></pre>"},{"location":"app_car/app_vur.html#vur","title":"VUR\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"app_car/app_vur.html#_15","title":"\u8bb0\u5f55\u7c7b\u578b","text":"<ol> <li> <p>\u8f6f\u4ef6\u66f4\u65b0\u8bb0\u5f55    - \u5e94\u7528\u7a0b\u5e8f\u66f4\u65b0    - \u7cfb\u7edf\u8f6f\u4ef6\u66f4\u65b0    - \u9a71\u52a8\u7a0b\u5e8f\u66f4\u65b0    - \u914d\u7f6e\u6587\u4ef6\u66f4\u65b0</p> </li> <li> <p>\u56fa\u4ef6\u5347\u7ea7\u8bb0\u5f55    - ECU\u56fa\u4ef6\u5347\u7ea7    - \u4f20\u611f\u5668\u56fa\u4ef6\u66f4\u65b0    - \u901a\u4fe1\u6a21\u5757\u66f4\u65b0    - \u5b89\u5168\u6a21\u5757\u5347\u7ea7</p> </li> <li> <p>\u7ef4\u62a4\u8bb0\u5f55    - \u7cfb\u7edf\u8bca\u65ad\u8bb0\u5f55    - \u6027\u80fd\u4f18\u5316\u8bb0\u5f55    - \u6e05\u7406\u7ef4\u62a4\u8bb0\u5f55    - \u914d\u7f6e\u4fee\u6539\u8bb0\u5f55</p> </li> <li> <p>\u56de\u6eda\u8bb0\u5f55    - \u66f4\u65b0\u56de\u6eda\u64cd\u4f5c    - \u7248\u672c\u964d\u7ea7\u8bb0\u5f55    - \u6062\u590d\u64cd\u4f5c\u65e5\u5fd7    - \u7d27\u6025\u4fee\u590d\u8bb0\u5f55</p> </li> </ol>"},{"location":"app_car/app_vur.html#_16","title":"\u72b6\u6001\u7ba1\u7406","text":"<ul> <li>\u5f85\u66f4\u65b0: \u68c0\u6d4b\u5230\u53ef\u7528\u66f4\u65b0</li> <li>\u4e0b\u8f7d\u4e2d: \u6b63\u5728\u4e0b\u8f7d\u66f4\u65b0\u5305</li> <li>\u51c6\u5907\u4e2d: \u51c6\u5907\u5b89\u88c5\u66f4\u65b0</li> <li>\u5b89\u88c5\u4e2d: \u6b63\u5728\u5b89\u88c5\u66f4\u65b0</li> <li>\u9a8c\u8bc1\u4e2d: \u9a8c\u8bc1\u66f4\u65b0\u7ed3\u679c</li> <li>\u5b8c\u6210: \u66f4\u65b0\u6210\u529f\u5b8c\u6210</li> <li>\u5931\u8d25: \u66f4\u65b0\u8fc7\u7a0b\u5931\u8d25</li> <li>\u56de\u6eda: \u6267\u884c\u56de\u6eda\u64cd\u4f5c</li> </ul>"},{"location":"app_car/app_vur.html#_17","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_vur.html#_18","title":"\u6570\u636e\u5b8c\u6574\u6027","text":"<ul> <li>\u66f4\u65b0\u8bb0\u5f55\u6570\u5b57\u7b7e\u540d</li> <li>\u6570\u636e\u6821\u9a8c\u548c\u9a8c\u8bc1</li> <li>\u8bb0\u5f55\u7be1\u6539\u68c0\u6d4b</li> <li>\u5907\u4efd\u6570\u636e\u9a8c\u8bc1</li> </ul>"},{"location":"app_car/app_vur.html#_19","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u654f\u611f\u4fe1\u606f\u52a0\u5bc6\u5b58\u50a8</li> <li>\u7528\u6237\u6570\u636e\u8131\u654f\u5904\u7406</li> <li>\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> <li>\u6570\u636e\u4f20\u8f93\u52a0\u5bc6</li> </ul>"},{"location":"app_car/app_vur.html#_20","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_vur.html#_21","title":"\u5b58\u50a8\u4f18\u5316","text":"<ul> <li>\u8bb0\u5f55\u6570\u636e\u538b\u7f29</li> <li>\u8fc7\u671f\u6570\u636e\u6e05\u7406</li> <li>\u7d22\u5f15\u4f18\u5316\u8bbe\u8ba1</li> <li>\u67e5\u8be2\u6027\u80fd\u4f18\u5316</li> </ul>"},{"location":"app_car/app_vur.html#_22","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u5927\u6570\u636e\u5206\u9875\u52a0\u8f7d</li> <li>\u7f13\u5b58\u673a\u5236\u4f18\u5316</li> <li>\u5185\u5b58\u4f7f\u7528\u76d1\u63a7</li> <li>\u8d44\u6e90\u53ca\u65f6\u91ca\u653e</li> </ul>"},{"location":"app_car/app_vur.html#_23","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_vur.html#_24","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u81ea\u5b9a\u4e49\u8bb0\u5f55\u7c7b\u578b</li> <li>\u7b2c\u4e09\u65b9\u66f4\u65b0\u6e90\u96c6\u6210</li> <li>\u6269\u5c55\u76d1\u63a7\u529f\u80fd</li> <li>\u81ea\u5b9a\u4e49\u62a5\u544a\u683c\u5f0f</li> </ul>"},{"location":"app_car/app_vur.html#_25","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u8bb0\u5f55\u4fdd\u7559\u7b56\u7565\u914d\u7f6e</li> <li>\u76d1\u63a7\u89c4\u5219\u53ef\u914d\u7f6e</li> <li>\u62a5\u544a\u6a21\u677f\u5b9a\u5236</li> <li>\u544a\u8b66\u9608\u503c\u8bbe\u7f6e</li> </ul>"},{"location":"app_car/app_vur.html#_26","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_vur.html#_27","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u8bb0\u5f55\u7ba1\u7406\u903b\u8f91\u6d4b\u8bd5</li> <li>\u7248\u672c\u6bd4\u8f83\u7b97\u6cd5\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u5de5\u5177\u7c7b\u65b9\u6cd5\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_vur.html#_28","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u66f4\u65b0\u6d41\u7a0b\u7aef\u5230\u7aef\u6d4b\u8bd5</li> <li>\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5</li> <li>\u6570\u636e\u6301\u4e45\u5316\u6d4b\u8bd5</li> <li>\u5f02\u5e38\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_vur.html#_29","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u5927\u91cf\u8bb0\u5f55\u5904\u7406\u6d4b\u8bd5</li> <li>\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5</li> <li>\u5185\u5b58\u4f7f\u7528\u6d4b\u8bd5</li> <li>\u5e76\u53d1\u8bbf\u95ee\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_vur.html#_30","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_vur.html#_31","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u8bb0\u5f55\u5b58\u50a8\u914d\u7f6e</li> <li>\u66f4\u65b0\u7b56\u7565\u914d\u7f6e</li> <li>\u76d1\u63a7\u53c2\u6570\u8bbe\u7f6e</li> <li>\u6027\u80fd\u8c03\u4f18\u53c2\u6570</li> </ul>"},{"location":"app_car/app_vur.html#_32","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u66f4\u65b0\u6210\u529f\u7387</li> <li>\u8bb0\u5f55\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4</li> <li>\u5b58\u50a8\u7a7a\u95f4\u4f7f\u7528\u7387</li> <li>\u5f02\u5e38\u9519\u8bef\u7edf\u8ba1</li> </ul>"},{"location":"app_car/app_vur.html#_33","title":"\u603b\u7ed3","text":"<p><code>app_vur</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u8f66\u8f86\u66f4\u65b0\u8bb0\u5f55\u4e2d\u5fc3\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8f66\u8f86\u8f6f\u786c\u4ef6\u66f4\u65b0\u5386\u53f2\u8ffd\u8e2a\u670d\u52a1\u3002\u901a\u8fc7\u8be6\u7ec6\u7684\u8bb0\u5f55\u7ba1\u7406\u3001\u5b9e\u65f6\u7684\u8fdb\u5ea6\u76d1\u63a7\u548c\u5b8c\u5584\u7684\u7248\u672c\u7ba1\u7406\uff0c\u7528\u6237\u53ef\u4ee5\u5168\u9762\u4e86\u89e3\u8f66\u8f86\u7684\u66f4\u65b0\u72b6\u6001\u548c\u5386\u53f2\u53d8\u66f4\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6570\u636e\u5b8c\u6574\u6027\u4fdd\u969c\u548c\u6027\u80fd\u4f18\u5316\u8bbe\u8ba1\uff0c\u80fd\u591f\u53ef\u9760\u5730\u8bb0\u5f55\u548c\u7ba1\u7406\u8f66\u8f86\u7684\u5404\u7c7b\u66f4\u65b0\u4fe1\u606f\u3002</p>"},{"location":"app_car/app_wallbox.html","title":"App Wallbox \u5145\u7535\u5899\u76d2\u6a21\u5757","text":""},{"location":"app_car/app_wallbox.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_wallbox</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u5145\u7535\u5899\u76d2\u7ba1\u7406\u6a21\u5757\uff0c\u8d1f\u8d23\u5bb6\u7528\u5145\u7535\u6869\uff08\u5899\u76d2\uff09\u7684\u7ba1\u7406\u3001\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u76d1\u63a7\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u5bb6\u5ead\u5145\u7535\u89e3\u51b3\u65b9\u6848\u7ba1\u7406\u670d\u52a1\u3002</p>"},{"location":"app_car/app_wallbox.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_wallbox</li> <li>\u7248\u672c: 0.2.29</li> <li>\u63cf\u8ff0: \u5145\u7535\u5899\u76d2\u5e94\u7528\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/app_wallbox.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/app_wallbox.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u5899\u76d2\u8bbe\u5907\u7ba1\u7406    - \u8bbe\u5907\u6ce8\u518c\u548c\u7ed1\u5b9a    - \u8bbe\u5907\u72b6\u6001\u76d1\u63a7    - \u8bbe\u5907\u914d\u7f6e\u7ba1\u7406    - \u8bbe\u5907\u56fa\u4ef6\u5347\u7ea7</p> </li> <li> <p>\u5b89\u88c5\u670d\u52a1    - \u5b89\u88c5\u9884\u7ea6\u7533\u8bf7    - \u5b89\u88c5\u8fdb\u5ea6\u8ddf\u8e2a    - \u5b89\u88c5\u57ce\u5e02\u9009\u62e9    - \u5b89\u88c5\u6587\u4ef6\u4e0a\u4f20</p> </li> <li> <p>\u5145\u7535\u7ba1\u7406    - \u8fdc\u7a0b\u5145\u7535\u63a7\u5236    - \u5145\u7535\u8ba1\u5212\u8bbe\u7f6e    - \u5145\u7535\u8bb0\u5f55\u67e5\u770b    - \u7535\u8d39\u7edf\u8ba1\u5206\u6790</p> </li> <li> <p>\u667a\u80fd\u529f\u80fd    - \u667a\u80fd\u5145\u7535\u8c03\u5ea6    - \u7535\u7f51\u8d1f\u8377\u4f18\u5316    - \u592a\u9633\u80fd\u96c6\u6210    - \u80fd\u6e90\u7ba1\u7406\u4f18\u5316</p> </li> </ol>"},{"location":"app_car/app_wallbox.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/app_wallbox.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 app_wallbox.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                         # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 devices/                 # \u8bbe\u5907\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 installation/            # \u5b89\u88c5\u670d\u52a1\n\u2502   \u251c\u2500\u2500 charging/                # \u5145\u7535\u63a7\u5236\n\u2502   \u251c\u2500\u2500 monitoring/              # \u76d1\u63a7\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 smart/                   # \u667a\u80fd\u529f\u80fd\n\u2502   \u251c\u2500\u2500 pages/                   # \u9875\u9762\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 generated/                   # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2514\u2500\u2500 l10n/                       # \u56fd\u9645\u5316\u6587\u4ef6\n</code></pre>"},{"location":"app_car/app_wallbox.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/app_wallbox.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_resource: ^0.2.10</code> - \u8d44\u6e90\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_storage: ^0.2.2</code> - \u672c\u5730\u5b58\u50a8</li> <li><code>basic_network: ^0.2.3+3</code> - \u7f51\u7edc\u901a\u4fe1</li> <li><code>basic_track: ^0.1.3</code> - \u6570\u636e\u57cb\u70b9</li> </ul>"},{"location":"app_car/app_wallbox.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>ui_business: ^0.2.23</code> - \u4e1a\u52a1UI\u7ec4\u4ef6</li> </ul>"},{"location":"app_car/app_wallbox.html#_10","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.6.0</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>extended_image: ^8.2.3</code> - \u589e\u5f3a\u56fe\u7247\u7ec4\u4ef6</li> <li><code>url_launcher: ^6.1.4</code> - URL\u542f\u52a8</li> <li><code>collection: ^1.17.1</code> - \u96c6\u5408\u5de5\u5177</li> <li><code>path_provider: ^2.0.15</code> - \u6587\u4ef6\u8def\u5f84</li> <li><code>path: ^1.8.3</code> - \u8def\u5f84\u64cd\u4f5c</li> </ul>"},{"location":"app_car/app_wallbox.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/app_wallbox.html#1_app_wallboxdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>app_wallbox.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u7edf\u4e00\u5bfc\u51fa - \u5899\u76d2\u670d\u52a1\u521d\u59cb\u5316 - \u8bbe\u5907\u7ba1\u7406\u542f\u52a8</p>"},{"location":"app_car/app_wallbox.html#2_srcdevices","title":"2. \u8bbe\u5907\u7ba1\u7406 (<code>src/devices/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5899\u76d2\u8bbe\u5907\u6ce8\u518c\u548c\u7ed1\u5b9a - \u8bbe\u5907\u72b6\u6001\u5b9e\u65f6\u76d1\u63a7 - \u8bbe\u5907\u914d\u7f6e\u53c2\u6570\u7ba1\u7406 - \u8bbe\u5907\u56fa\u4ef6\u548c\u8f6f\u4ef6\u5347\u7ea7</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>DeviceManager</code> - \u8bbe\u5907\u7ba1\u7406\u5668 - <code>DeviceRegistry</code> - \u8bbe\u5907\u6ce8\u518c\u8868 - <code>StatusMonitor</code> - \u72b6\u6001\u76d1\u63a7\u5668 - <code>ConfigManager</code> - \u914d\u7f6e\u7ba1\u7406\u5668 - <code>FirmwareUpdater</code> - \u56fa\u4ef6\u5347\u7ea7\u5668</p>"},{"location":"app_car/app_wallbox.html#3_srcinstallation","title":"3. \u5b89\u88c5\u670d\u52a1 (<code>src/installation/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5b89\u88c5\u670d\u52a1\u9884\u7ea6\u548c\u7533\u8bf7 - \u5b89\u88c5\u8fdb\u5ea6\u5b9e\u65f6\u8ddf\u8e2a - \u5b89\u88c5\u57ce\u5e02\u548c\u5730\u533a\u9009\u62e9 - \u5b89\u88c5\u76f8\u5173\u6587\u4ef6\u4e0a\u4f20\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>InstallationService</code> - \u5b89\u88c5\u670d\u52a1 - <code>ProgressTracker</code> - \u8fdb\u5ea6\u8ddf\u8e2a\u5668 - <code>CityPicker</code> - \u57ce\u5e02\u9009\u62e9\u5668 - <code>UploadManager</code> - \u6587\u4ef6\u4e0a\u4f20\u7ba1\u7406\u5668 - <code>AppointmentManager</code> - \u9884\u7ea6\u7ba1\u7406\u5668</p>"},{"location":"app_car/app_wallbox.html#4_srccharging","title":"4. \u5145\u7535\u63a7\u5236 (<code>src/charging/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8fdc\u7a0b\u5145\u7535\u542f\u505c\u63a7\u5236 - \u5145\u7535\u8ba1\u5212\u548c\u7b56\u7565\u8bbe\u7f6e - \u5145\u7535\u8fc7\u7a0b\u76d1\u63a7 - \u5145\u7535\u6570\u636e\u8bb0\u5f55\u548c\u5206\u6790</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>ChargingController</code> - \u5145\u7535\u63a7\u5236\u5668 - <code>ScheduleManager</code> - \u8ba1\u5212\u7ba1\u7406\u5668 - <code>ProcessMonitor</code> - \u8fc7\u7a0b\u76d1\u63a7\u5668 - <code>DataRecorder</code> - \u6570\u636e\u8bb0\u5f55\u5668</p>"},{"location":"app_car/app_wallbox.html#5_srcmonitoring","title":"5. \u76d1\u63a7\u7ec4\u4ef6 (<code>src/monitoring/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8bbe\u5907\u8fd0\u884c\u72b6\u6001\u76d1\u63a7 - \u5145\u7535\u8fc7\u7a0b\u5b9e\u65f6\u76d1\u63a7 - \u5f02\u5e38\u68c0\u6d4b\u548c\u544a\u8b66 - \u6027\u80fd\u6307\u6807\u6536\u96c6</p> <p>\u4e3b\u8981\u76d1\u63a7\u5668: - <code>DeviceMonitor</code> - \u8bbe\u5907\u76d1\u63a7\u5668 - <code>ChargingMonitor</code> - \u5145\u7535\u76d1\u63a7\u5668 - <code>AlertManager</code> - \u544a\u8b66\u7ba1\u7406\u5668 - <code>MetricsCollector</code> - \u6307\u6807\u6536\u96c6\u5668</p>"},{"location":"app_car/app_wallbox.html#6_srcsmart","title":"6. \u667a\u80fd\u529f\u80fd (<code>src/smart/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u667a\u80fd\u5145\u7535\u8c03\u5ea6\u7b97\u6cd5 - \u7535\u7f51\u8d1f\u8377\u5e73\u8861\u4f18\u5316 - \u53ef\u518d\u751f\u80fd\u6e90\u96c6\u6210 - \u80fd\u6e90\u6210\u672c\u4f18\u5316</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>SmartScheduler</code> - \u667a\u80fd\u8c03\u5ea6\u5668 - <code>LoadBalancer</code> - \u8d1f\u8377\u5747\u8861\u5668 - <code>EnergyOptimizer</code> - \u80fd\u6e90\u4f18\u5316\u5668 - <code>GridInterface</code> - \u7535\u7f51\u63a5\u53e3</p>"},{"location":"app_car/app_wallbox.html#7_srcpages","title":"7. \u9875\u9762\u7ec4\u4ef6 (<code>src/pages/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u754c\u9762\u5c55\u793a - \u8bbe\u5907\u7ba1\u7406\u754c\u9762 - \u5145\u7535\u63a7\u5236\u754c\u9762 - \u5b89\u88c5\u670d\u52a1\u754c\u9762</p> <p>\u4e3b\u8981\u9875\u9762: - <code>WallboxHomePage</code> - \u5899\u76d2\u4e3b\u9875 - <code>DeviceManagementPage</code> - \u8bbe\u5907\u7ba1\u7406\u9875 - <code>ChargingControlPage</code> - \u5145\u7535\u63a7\u5236\u9875 - <code>InstallationPage</code> - \u5b89\u88c5\u670d\u52a1\u9875 - <code>MonitoringDashboard</code> - \u76d1\u63a7\u4eea\u8868\u677f</p>"},{"location":"app_car/app_wallbox.html#8_srcmodels","title":"8. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8bbe\u5907\u4fe1\u606f\u6570\u636e\u6a21\u578b - \u5145\u7535\u6570\u636e\u6a21\u578b - \u5b89\u88c5\u670d\u52a1\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>WallboxDevice</code> - \u5899\u76d2\u8bbe\u5907\u6a21\u578b - <code>ChargingSession</code> - \u5145\u7535\u4f1a\u8bdd\u6a21\u578b - <code>InstallationOrder</code> - \u5b89\u88c5\u8ba2\u5355\u6a21\u578b - <code>DeviceConfig</code> - \u8bbe\u5907\u914d\u7f6e\u6a21\u578b</p>"},{"location":"app_car/app_wallbox.html#9_srcutils","title":"9. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5899\u76d2\u5de5\u5177\u65b9\u6cd5 - \u6570\u636e\u5904\u7406\u8f85\u52a9 - \u6587\u4ef6\u64cd\u4f5c\u5de5\u5177 - \u8ba1\u7b97\u8f85\u52a9\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>PowerCalculator</code> - \u529f\u7387\u8ba1\u7b97\u5668 - <code>EnergyAnalyzer</code> - \u80fd\u6e90\u5206\u6790\u5668 - <code>FileUploader</code> - \u6587\u4ef6\u4e0a\u4f20\u5668 - <code>DataFormatter</code> - \u6570\u636e\u683c\u5f0f\u5316\u5668</p>"},{"location":"app_car/app_wallbox.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/app_wallbox.html#_13","title":"\u8bbe\u5907\u5b89\u88c5\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u7528\u6237\u7533\u8bf7\u5b89\u88c5] --&gt; B[\u9009\u62e9\u5b89\u88c5\u57ce\u5e02]\n    B --&gt; C[\u586b\u5199\u5b89\u88c5\u4fe1\u606f]\n    C --&gt; D[\u4e0a\u4f20\u76f8\u5173\u6587\u4ef6]\n    D --&gt; E[\u63d0\u4ea4\u5b89\u88c5\u7533\u8bf7]\n    E --&gt; F[\u7cfb\u7edf\u5ba1\u6838\u7533\u8bf7]\n    F --&gt; G{\u5ba1\u6838\u662f\u5426\u901a\u8fc7}\n    G --&gt;|\u662f| H[\u5b89\u6392\u5b89\u88c5\u670d\u52a1]\n    G --&gt;|\u5426| I[\u901a\u77e5\u4fee\u6539\u7533\u8bf7]\n    H --&gt; J[\u6d3e\u9063\u5b89\u88c5\u56e2\u961f]\n    J --&gt; K[\u73b0\u573a\u5b89\u88c5\u65bd\u5de5]\n    K --&gt; L[\u8bbe\u5907\u8c03\u8bd5\u6d4b\u8bd5]\n    L --&gt; M{\u6d4b\u8bd5\u662f\u5426\u901a\u8fc7}\n    M --&gt;|\u662f| N[\u8bbe\u5907\u6ce8\u518c\u7ed1\u5b9a]\n    M --&gt;|\u5426| O[\u95ee\u9898\u6392\u67e5\u4fee\u590d]\n    N --&gt; P[\u5b89\u88c5\u5b8c\u6210]\n    O --&gt; L\n    I --&gt; C\n    P --&gt; Q[\u7528\u6237\u9a8c\u6536]</code></pre>"},{"location":"app_car/app_wallbox.html#_14","title":"\u667a\u80fd\u5145\u7535\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u7528\u6237\u8bbe\u7f6e\u5145\u7535\u9700\u6c42] --&gt; B[\u7cfb\u7edf\u5206\u6790\u7528\u7535\u8d1f\u8377]\n    B --&gt; C[\u83b7\u53d6\u7535\u4ef7\u4fe1\u606f]\n    C --&gt; D[\u68c0\u67e5\u7535\u7f51\u72b6\u6001]\n    D --&gt; E[\u8ba1\u7b97\u6700\u4f18\u5145\u7535\u7b56\u7565]\n    E --&gt; F[\u751f\u6210\u5145\u7535\u8ba1\u5212]\n    F --&gt; G[\u7528\u6237\u786e\u8ba4\u8ba1\u5212]\n    G --&gt; H{\u7528\u6237\u662f\u5426\u540c\u610f}\n    H --&gt;|\u662f| I[\u6267\u884c\u5145\u7535\u8ba1\u5212]\n    H --&gt;|\u5426| J[\u8c03\u6574\u8ba1\u5212\u53c2\u6570]\n    I --&gt; K[\u76d1\u63a7\u5145\u7535\u8fc7\u7a0b]\n    K --&gt; L[\u52a8\u6001\u8c03\u6574\u529f\u7387]\n    L --&gt; M{\u662f\u5426\u8fbe\u5230\u76ee\u6807}\n    M --&gt;|\u662f| N[\u5145\u7535\u5b8c\u6210]\n    M --&gt;|\u5426| O[\u7ee7\u7eed\u5145\u7535]\n    J --&gt; E\n    O --&gt; K\n    N --&gt; P[\u751f\u6210\u5145\u7535\u62a5\u544a]</code></pre>"},{"location":"app_car/app_wallbox.html#_15","title":"\u5899\u76d2\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"app_car/app_wallbox.html#_16","title":"\u8bbe\u5907\u7c7b\u578b","text":"<ol> <li> <p>\u5bb6\u7528\u6807\u51c6\u5899\u76d2    - 7kW\u4ea4\u6d41\u5145\u7535    - \u5355\u76f8/\u4e09\u76f8\u4f9b\u7535    - WiFi/\u4ee5\u592a\u7f51\u8fde\u63a5    - \u57fa\u7840\u667a\u80fd\u529f\u80fd</p> </li> <li> <p>\u5546\u7528\u5feb\u5145\u5899\u76d2    - 22kW\u4ea4\u6d41\u5feb\u5145    - \u4e09\u76f8\u4f9b\u7535    - \u6709\u7ebf\u7f51\u7edc\u8fde\u63a5    - \u9ad8\u7ea7\u667a\u80fd\u529f\u80fd</p> </li> <li> <p>\u667a\u80fd\u5899\u76d2    - \u53ef\u53d8\u529f\u7387\u5145\u7535    - \u592a\u9633\u80fd\u96c6\u6210    - \u50a8\u80fd\u7cfb\u7edf\u96c6\u6210    - AI\u4f18\u5316\u7b97\u6cd5</p> </li> </ol>"},{"location":"app_car/app_wallbox.html#_17","title":"\u901a\u4fe1\u534f\u8bae","text":"<ul> <li>OCPP: \u5f00\u653e\u5145\u7535\u70b9\u534f\u8bae</li> <li>Modbus: \u5de5\u4e1a\u901a\u4fe1\u534f\u8bae</li> <li>HTTP/HTTPS: Web API\u901a\u4fe1</li> <li>MQTT: \u7269\u8054\u7f51\u6d88\u606f\u534f\u8bae</li> </ul>"},{"location":"app_car/app_wallbox.html#_18","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/app_wallbox.html#_19","title":"\u8bbe\u5907\u5b89\u5168","text":"<ul> <li>\u8bbe\u5907\u8eab\u4efd\u8ba4\u8bc1</li> <li>\u901a\u4fe1\u6570\u636e\u52a0\u5bc6</li> <li>\u56fa\u4ef6\u7b7e\u540d\u9a8c\u8bc1</li> <li>\u5b89\u5168\u5347\u7ea7\u673a\u5236</li> </ul>"},{"location":"app_car/app_wallbox.html#_20","title":"\u7528\u6237\u5b89\u5168","text":"<ul> <li>\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1</li> <li>\u64cd\u4f5c\u6743\u9650\u63a7\u5236</li> <li>\u654f\u611f\u6570\u636e\u4fdd\u62a4</li> <li>\u5b89\u5168\u5ba1\u8ba1\u65e5\u5fd7</li> </ul>"},{"location":"app_car/app_wallbox.html#_21","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/app_wallbox.html#_22","title":"\u901a\u4fe1\u4f18\u5316","text":"<ul> <li>\u6570\u636e\u538b\u7f29\u4f20\u8f93</li> <li>\u65ad\u7ebf\u91cd\u8fde\u673a\u5236</li> <li>\u79bb\u7ebf\u6570\u636e\u7f13\u5b58</li> <li>\u7f51\u7edc\u81ea\u9002\u5e94</li> </ul>"},{"location":"app_car/app_wallbox.html#_23","title":"\u80fd\u6548\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u529f\u7387\u8c03\u8282</li> <li>\u8d1f\u8377\u5747\u8861\u7b97\u6cd5</li> <li>\u80fd\u6e90\u635f\u8017\u6700\u5c0f\u5316</li> <li>\u7535\u7f51\u53cb\u597d\u5145\u7535</li> </ul>"},{"location":"app_car/app_wallbox.html#_24","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/app_wallbox.html#_25","title":"\u534f\u8bae\u652f\u6301","text":"<ul> <li>\u591a\u79cd\u901a\u4fe1\u534f\u8bae\u9002\u914d</li> <li>\u6807\u51c6\u534f\u8bae\u517c\u5bb9</li> <li>\u81ea\u5b9a\u4e49\u534f\u8bae\u6269\u5c55</li> <li>\u534f\u8bae\u7248\u672c\u5347\u7ea7</li> </ul>"},{"location":"app_car/app_wallbox.html#_26","title":"\u8bbe\u5907\u517c\u5bb9","text":"<ul> <li>\u591a\u5382\u5546\u8bbe\u5907\u652f\u6301</li> <li>\u4e0d\u540c\u578b\u53f7\u9002\u914d</li> <li>\u65b0\u8bbe\u5907\u5feb\u901f\u63a5\u5165</li> <li>\u8bbe\u5907\u80fd\u529b\u81ea\u52a8\u8bc6\u522b</li> </ul>"},{"location":"app_car/app_wallbox.html#_27","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/app_wallbox.html#_28","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u5145\u7535\u63a7\u5236\u903b\u8f91\u6d4b\u8bd5</li> <li>\u8bbe\u5907\u901a\u4fe1\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>\u7b97\u6cd5\u529f\u80fd\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_wallbox.html#_29","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u8bbe\u5907\u96c6\u6210\u6d4b\u8bd5</li> <li>\u7cfb\u7edf\u7aef\u5230\u7aef\u6d4b\u8bd5</li> <li>\u534f\u8bae\u517c\u5bb9\u6027\u6d4b\u8bd5</li> <li>\u6027\u80fd\u538b\u529b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_wallbox.html#_30","title":"\u73b0\u573a\u6d4b\u8bd5","text":"<ul> <li>\u5b9e\u9645\u8bbe\u5907\u6d4b\u8bd5</li> <li>\u7f51\u7edc\u73af\u5883\u6d4b\u8bd5</li> <li>\u7528\u6237\u573a\u666f\u6d4b\u8bd5</li> <li>\u957f\u671f\u7a33\u5b9a\u6027\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/app_wallbox.html#_31","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/app_wallbox.html#_32","title":"\u8bbe\u5907\u7ba1\u7406","text":"<ul> <li>\u8bbe\u5907\u8fdc\u7a0b\u914d\u7f6e</li> <li>\u56fa\u4ef6OTA\u5347\u7ea7</li> <li>\u6545\u969c\u8fdc\u7a0b\u8bca\u65ad</li> <li>\u9884\u9632\u6027\u7ef4\u62a4</li> </ul>"},{"location":"app_car/app_wallbox.html#_33","title":"\u7cfb\u7edf\u76d1\u63a7","text":"<ul> <li>\u8bbe\u5907\u5728\u7ebf\u7387\u76d1\u63a7</li> <li>\u5145\u7535\u6210\u529f\u7387\u7edf\u8ba1</li> <li>\u7cfb\u7edf\u6027\u80fd\u76d1\u63a7</li> <li>\u7528\u6237\u6ee1\u610f\u5ea6\u8ddf\u8e2a</li> </ul>"},{"location":"app_car/app_wallbox.html#_34","title":"\u603b\u7ed3","text":"<p><code>app_wallbox</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u5bb6\u5ead\u5145\u7535\u89e3\u51b3\u65b9\u6848\u4e2d\u5fc3\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5145\u7535\u5899\u76d2\u7ba1\u7406\u670d\u52a1\u3002\u901a\u8fc7\u667a\u80fd\u7684\u8bbe\u5907\u7ba1\u7406\u3001\u4fbf\u6377\u7684\u5b89\u88c5\u670d\u52a1\u548c\u9ad8\u6548\u7684\u5145\u7535\u63a7\u5236\uff0c\u7528\u6237\u53ef\u4ee5\u4eab\u53d7\u5230\u5b89\u5168\u3001\u667a\u80fd\u3001\u7ecf\u6d4e\u7684\u5bb6\u5ead\u5145\u7535\u4f53\u9a8c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u8bbe\u5907\u517c\u5bb9\u6027\u548c\u6269\u5c55\u80fd\u529b\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d1\u5c55\u7684\u5145\u7535\u6280\u672f\u548c\u7528\u6237\u9700\u6c42\u3002</p>"},{"location":"app_car/car_services.html","title":"Car Services \u8f66\u8f86\u670d\u52a1\u6a21\u5757","text":""},{"location":"app_car/car_services.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>car_services</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u8f66\u8f86\u670d\u52a1\u6a21\u5757\uff0c\u8d1f\u8d23\u8f66\u8f86\u6838\u5fc3\u670d\u52a1\u7684\u7edf\u4e00\u63a5\u53e3\u5c01\u88c5\u3001\u8f66\u8f86\u6570\u636e\u5904\u7406\u3001\u670d\u52a1\u8c03\u7528\u7ba1\u7406\u548c\u4e1a\u52a1\u903b\u8f91\u62bd\u8c61\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u8f66\u8f86\u670d\u52a1\u63a5\u53e3\u3002</p>"},{"location":"app_car/car_services.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: car_services</li> <li>\u7248\u672c: 0.6.25</li> <li>\u63cf\u8ff0: \u8f66\u8f86\u670d\u52a1\u7edf\u4e00\u63a5\u53e3\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.08</li> </ul>"},{"location":"app_car/car_services.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/car_services.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u670d\u52a1\u63a5\u53e3\u7edf\u4e00    - \u8f66\u8f86\u63a7\u5236\u63a5\u53e3\u5c01\u88c5    - \u6570\u636e\u67e5\u8be2\u63a5\u53e3\u6807\u51c6\u5316    - \u5f02\u6b65\u8c03\u7528\u7ba1\u7406    - \u9519\u8bef\u5904\u7406\u7edf\u4e00</p> </li> <li> <p>\u6570\u636e\u6a21\u578b\u7ba1\u7406    - \u8f66\u8f86\u72b6\u6001\u6570\u636e\u6a21\u578b    - \u670d\u52a1\u8bf7\u6c42\u54cd\u5e94\u6a21\u578b    - \u914d\u7f6e\u53c2\u6570\u6a21\u578b    - \u4e1a\u52a1\u5b9e\u4f53\u6a21\u578b</p> </li> <li> <p>\u670d\u52a1\u8c03\u7528\u4f18\u5316    - \u8bf7\u6c42\u7f13\u5b58\u673a\u5236    - \u6279\u91cf\u64cd\u4f5c\u652f\u6301    - \u8d85\u65f6\u91cd\u8bd5\u673a\u5236    - \u5e76\u53d1\u63a7\u5236\u7ba1\u7406</p> </li> <li> <p>\u4e1a\u52a1\u903b\u8f91\u62bd\u8c61    - \u9886\u57df\u9a71\u52a8\u8bbe\u8ba1    - \u670d\u52a1\u5c42\u89e3\u8026    - \u4f9d\u8d56\u6ce8\u5165\u652f\u6301    - \u6a21\u5757\u5316\u67b6\u6784</p> </li> </ol>"},{"location":"app_car/car_services.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/car_services.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 car_services.dart           # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 services/               # \u670d\u52a1\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u251c\u2500\u2500 repositories/           # \u6570\u636e\u4ed3\u5e93\n\u2502   \u251c\u2500\u2500 interfaces/             # \u63a5\u53e3\u5b9a\u4e49\n\u2502   \u251c\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 constants/              # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n\u2514\u2500\u2500 generated/                  # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n</code></pre>"},{"location":"app_car/car_services.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/car_services.html#_8","title":"\u6838\u5fc3\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_network: ^0.2.3+4</code> - \u7f51\u7edc\u901a\u4fe1\u6846\u67b6</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"app_car/car_services.html#_9","title":"\u4e1a\u52a1\u4f9d\u8d56","text":"<ul> <li><code>car_connector: ^0.4.11</code> - \u8f66\u8054\u7f51\u8fde\u63a5\u5668</li> </ul>"},{"location":"app_car/car_services.html#_10","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>freezed_annotation: ^2.2.0</code> - \u6570\u636e\u7c7b\u6ce8\u89e3</li> </ul>"},{"location":"app_car/car_services.html#_11","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li><code>build_runner: ^2.4.9</code> - \u4ee3\u7801\u751f\u6210\u5f15\u64ce</li> <li><code>freezed: ^2.4.7</code> - \u4e0d\u53ef\u53d8\u7c7b\u751f\u6210</li> <li><code>json_serializable: ^6.7.0</code> - JSON\u5e8f\u5217\u5316</li> <li><code>mockito: ^5.4.1</code> - \u6d4b\u8bd5\u6a21\u62df\u6846\u67b6</li> </ul>"},{"location":"app_car/car_services.html#_12","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/car_services.html#1_car_servicesdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>car_services.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u670d\u52a1\u6a21\u5757\u5bf9\u5916\u63a5\u53e3\u5bfc\u51fa - \u4f9d\u8d56\u6ce8\u5165\u914d\u7f6e - \u6a21\u5757\u521d\u59cb\u5316\u7ba1\u7406</p>"},{"location":"app_car/car_services.html#2_srcservices","title":"2. \u670d\u52a1\u5b9e\u73b0 (<code>src/services/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8f66\u8f86\u63a7\u5236\u670d\u52a1\u5b9e\u73b0 - \u6570\u636e\u67e5\u8be2\u670d\u52a1\u5b9e\u73b0 - \u72b6\u6001\u76d1\u63a7\u670d\u52a1\u5b9e\u73b0 - \u914d\u7f6e\u7ba1\u7406\u670d\u52a1\u5b9e\u73b0</p> <p>\u4e3b\u8981\u670d\u52a1: - <code>VehicleControlService</code> - \u8f66\u8f86\u63a7\u5236\u670d\u52a1 - <code>VehicleDataService</code> - \u8f66\u8f86\u6570\u636e\u670d\u52a1 - <code>VehicleStatusService</code> - \u8f66\u8f86\u72b6\u6001\u670d\u52a1 - <code>VehicleConfigService</code> - \u8f66\u8f86\u914d\u7f6e\u670d\u52a1 - <code>DiagnosticService</code> - \u8bca\u65ad\u670d\u52a1</p>"},{"location":"app_car/car_services.html#3_srcmodels","title":"3. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4e1a\u52a1\u6570\u636e\u6a21\u578b\u5b9a\u4e49 - \u8bf7\u6c42\u54cd\u5e94\u6a21\u578b - \u72b6\u6001\u4fe1\u606f\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>VehicleInfo</code> - \u8f66\u8f86\u4fe1\u606f\u6a21\u578b - <code>VehicleStatus</code> - \u8f66\u8f86\u72b6\u6001\u6a21\u578b - <code>ControlCommand</code> - \u63a7\u5236\u547d\u4ee4\u6a21\u578b - <code>ServiceRequest</code> - \u670d\u52a1\u8bf7\u6c42\u6a21\u578b - <code>ServiceResponse</code> - \u670d\u52a1\u54cd\u5e94\u6a21\u578b</p>"},{"location":"app_car/car_services.html#4_srcrepositories","title":"4. \u6570\u636e\u4ed3\u5e93 (<code>src/repositories/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6570\u636e\u8bbf\u95ee\u5c42\u62bd\u8c61 - \u672c\u5730\u7f13\u5b58\u7ba1\u7406 - \u8fdc\u7a0b\u6570\u636e\u83b7\u53d6 - \u6570\u636e\u540c\u6b65\u63a7\u5236</p> <p>\u4e3b\u8981\u4ed3\u5e93: - <code>VehicleRepository</code> - \u8f66\u8f86\u6570\u636e\u4ed3\u5e93 - <code>ConfigRepository</code> - \u914d\u7f6e\u6570\u636e\u4ed3\u5e93 - <code>StatusRepository</code> - \u72b6\u6001\u6570\u636e\u4ed3\u5e93 - <code>HistoryRepository</code> - \u5386\u53f2\u6570\u636e\u4ed3\u5e93</p>"},{"location":"app_car/car_services.html#5_srcinterfaces","title":"5. \u63a5\u53e3\u5b9a\u4e49 (<code>src/interfaces/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u670d\u52a1\u63a5\u53e3\u62bd\u8c61\u5b9a\u4e49 - \u4f9d\u8d56\u5012\u7f6e\u5b9e\u73b0 - \u63a5\u53e3\u89c4\u8303\u7ea6\u675f - \u6269\u5c55\u6027\u652f\u6301</p> <p>\u4e3b\u8981\u63a5\u53e3: - <code>IVehicleService</code> - \u8f66\u8f86\u670d\u52a1\u63a5\u53e3 - <code>IDataRepository</code> - \u6570\u636e\u4ed3\u5e93\u63a5\u53e3 - <code>IStatusProvider</code> - \u72b6\u6001\u63d0\u4f9b\u8005\u63a5\u53e3 - <code>IConfigManager</code> - \u914d\u7f6e\u7ba1\u7406\u63a5\u53e3</p>"},{"location":"app_car/car_services.html#6_srcutils","title":"6. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6570\u636e\u8f6c\u6362\u5de5\u5177 - \u9a8c\u8bc1\u5de5\u5177\u65b9\u6cd5 - \u7f13\u5b58\u5de5\u5177 - \u7f51\u7edc\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>DataConverter</code> - \u6570\u636e\u8f6c\u6362\u5668 - <code>Validator</code> - \u6570\u636e\u9a8c\u8bc1\u5668 - <code>CacheHelper</code> - \u7f13\u5b58\u52a9\u624b - <code>NetworkHelper</code> - \u7f51\u7edc\u52a9\u624b</p>"},{"location":"app_car/car_services.html#7_srcconstants","title":"7. \u5e38\u91cf\u5b9a\u4e49 (<code>src/constants/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u670d\u52a1\u5e38\u91cf\u5b9a\u4e49 - \u9519\u8bef\u7801\u7ba1\u7406 - \u914d\u7f6e\u5e38\u91cf - API\u7aef\u70b9\u5b9a\u4e49</p> <p>\u4e3b\u8981\u5e38\u91cf: - <code>ServiceConstants</code> - \u670d\u52a1\u5e38\u91cf - <code>ErrorCodes</code> - \u9519\u8bef\u7801\u5b9a\u4e49 - <code>ApiEndpoints</code> - API\u7aef\u70b9 - <code>ConfigKeys</code> - \u914d\u7f6e\u952e\u503c</p>"},{"location":"app_car/car_services.html#_13","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/car_services.html#_14","title":"\u670d\u52a1\u8c03\u7528\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u5e94\u7528\u53d1\u8d77\u8bf7\u6c42] --&gt; B[\u670d\u52a1\u63a5\u53e3\u5c42]\n    B --&gt; C[\u53c2\u6570\u9a8c\u8bc1]\n    C --&gt; D{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    D --&gt;|\u5426| E[\u8fd4\u56de\u9a8c\u8bc1\u9519\u8bef]\n    D --&gt;|\u662f| F[\u68c0\u67e5\u672c\u5730\u7f13\u5b58]\n    F --&gt; G{\u7f13\u5b58\u662f\u5426\u6709\u6548}\n    G --&gt;|\u662f| H[\u8fd4\u56de\u7f13\u5b58\u6570\u636e]\n    G --&gt;|\u5426| I[\u8c03\u7528\u8fdc\u7a0b\u670d\u52a1]\n    I --&gt; J[\u7f51\u7edc\u8bf7\u6c42]\n    J --&gt; K{\u8bf7\u6c42\u662f\u5426\u6210\u529f}\n    K --&gt;|\u662f| L[\u5904\u7406\u54cd\u5e94\u6570\u636e]\n    K --&gt;|\u5426| M[\u9519\u8bef\u5904\u7406]\n    L --&gt; N[\u66f4\u65b0\u672c\u5730\u7f13\u5b58]\n    N --&gt; O[\u8fd4\u56de\u5904\u7406\u7ed3\u679c]\n    M --&gt; P[\u91cd\u8bd5\u673a\u5236]\n    P --&gt; Q{\u662f\u5426\u9700\u8981\u91cd\u8bd5}\n    Q --&gt;|\u662f| I\n    Q --&gt;|\u5426| R[\u8fd4\u56de\u9519\u8bef\u7ed3\u679c]\n    E --&gt; S[\u8bb0\u5f55\u65e5\u5fd7]\n    H --&gt; S\n    O --&gt; S\n    R --&gt; S</code></pre>"},{"location":"app_car/car_services.html#_15","title":"\u6570\u636e\u540c\u6b65\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u89e6\u53d1\u6570\u636e\u540c\u6b65] --&gt; B[\u83b7\u53d6\u672c\u5730\u6570\u636e\u7248\u672c]\n    B --&gt; C[\u8bf7\u6c42\u8fdc\u7a0b\u6570\u636e\u7248\u672c]\n    C --&gt; D{\u7248\u672c\u662f\u5426\u4e00\u81f4}\n    D --&gt;|\u662f| E[\u65e0\u9700\u540c\u6b65]\n    D --&gt;|\u5426| F[\u4e0b\u8f7d\u589e\u91cf\u6570\u636e]\n    F --&gt; G[\u9a8c\u8bc1\u6570\u636e\u5b8c\u6574\u6027]\n    G --&gt; H{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    H --&gt;|\u662f| I[\u66f4\u65b0\u672c\u5730\u6570\u636e]\n    H --&gt;|\u5426| J[\u91cd\u65b0\u4e0b\u8f7d]\n    I --&gt; K[\u66f4\u65b0\u7248\u672c\u4fe1\u606f]\n    K --&gt; L[\u89e6\u53d1\u6570\u636e\u66f4\u65b0\u4e8b\u4ef6]\n    J --&gt; M{\u91cd\u8bd5\u6b21\u6570\u662f\u5426\u8d85\u9650}\n    M --&gt;|\u5426| F\n    M --&gt;|\u662f| N[\u540c\u6b65\u5931\u8d25]\n    E --&gt; O[\u540c\u6b65\u5b8c\u6210]\n    L --&gt; O\n    N --&gt; P[\u8bb0\u5f55\u9519\u8bef\u65e5\u5fd7]</code></pre>"},{"location":"app_car/car_services.html#_16","title":"\u670d\u52a1\u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"app_car/car_services.html#ddd","title":"\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1(DDD)","text":"<ol> <li> <p>\u5b9e\u4f53\u5c42(Entity)    - \u8f66\u8f86\u5b9e\u4f53    - \u7528\u6237\u5b9e\u4f53    - \u8ba2\u5355\u5b9e\u4f53    - \u914d\u7f6e\u5b9e\u4f53</p> </li> <li> <p>\u503c\u5bf9\u8c61\u5c42(Value Object)    - \u8f66\u8f86\u72b6\u6001    - \u4f4d\u7f6e\u4fe1\u606f    - \u65f6\u95f4\u8303\u56f4    - \u914d\u7f6e\u9879</p> </li> <li> <p>\u670d\u52a1\u5c42(Service)    - \u9886\u57df\u670d\u52a1    - \u5e94\u7528\u670d\u52a1    - \u57fa\u7840\u8bbe\u65bd\u670d\u52a1</p> </li> <li> <p>\u4ed3\u5e93\u5c42(Repository)    - \u6570\u636e\u8bbf\u95ee\u62bd\u8c61    - \u7f13\u5b58\u7b56\u7565    - \u6570\u636e\u540c\u6b65</p> </li> </ol>"},{"location":"app_car/car_services.html#_17","title":"\u4f9d\u8d56\u6ce8\u5165\u6a21\u5f0f","text":"<ul> <li>\u63a5\u53e3\u62bd\u8c61: \u5b9a\u4e49\u670d\u52a1\u5951\u7ea6</li> <li>\u5b9e\u73b0\u5206\u79bb: \u5177\u4f53\u5b9e\u73b0\u4e0e\u63a5\u53e3\u5206\u79bb</li> <li>\u751f\u547d\u5468\u671f\u7ba1\u7406: \u5355\u4f8b\u3001\u77ac\u6001\u3001\u4f5c\u7528\u57df</li> <li>\u914d\u7f6e\u9a71\u52a8: \u901a\u8fc7\u914d\u7f6e\u63a7\u5236\u4f9d\u8d56\u5173\u7cfb</li> </ul>"},{"location":"app_car/car_services.html#_18","title":"\u7f13\u5b58\u7b56\u7565","text":""},{"location":"app_car/car_services.html#_19","title":"\u591a\u7ea7\u7f13\u5b58\u67b6\u6784","text":"<ol> <li> <p>\u5185\u5b58\u7f13\u5b58    - \u70ed\u70b9\u6570\u636e\u7f13\u5b58    - LRU\u6dd8\u6c70\u7b56\u7565    - \u5bb9\u91cf\u9650\u5236\u7ba1\u7406    - \u8fc7\u671f\u65f6\u95f4\u63a7\u5236</p> </li> <li> <p>\u672c\u5730\u5b58\u50a8\u7f13\u5b58    - \u6301\u4e45\u5316\u6570\u636e\u5b58\u50a8    - \u79bb\u7ebf\u6570\u636e\u652f\u6301    - \u589e\u91cf\u66f4\u65b0\u673a\u5236    - \u6570\u636e\u538b\u7f29\u5b58\u50a8</p> </li> <li> <p>\u8fdc\u7a0b\u7f13\u5b58    - CDN\u5185\u5bb9\u5206\u53d1    - \u8fb9\u7f18\u8282\u70b9\u7f13\u5b58    - \u533a\u57df\u5316\u6570\u636e    - \u8d1f\u8f7d\u5747\u8861</p> </li> </ol>"},{"location":"app_car/car_services.html#_20","title":"\u7f13\u5b58\u4e00\u81f4\u6027","text":"<ul> <li>\u5199\u901a\u7b56\u7565: \u540c\u65f6\u66f4\u65b0\u7f13\u5b58\u548c\u6570\u636e\u6e90</li> <li>\u5199\u56de\u7b56\u7565: \u5ef6\u8fdf\u5199\u5165\u6570\u636e\u6e90</li> <li>\u5931\u6548\u7b56\u7565: \u4e3b\u52a8\u5931\u6548\u8fc7\u671f\u6570\u636e</li> <li>\u7248\u672c\u63a7\u5236: \u6570\u636e\u7248\u672c\u7ba1\u7406</li> </ul>"},{"location":"app_car/car_services.html#_21","title":"\u9519\u8bef\u5904\u7406\u673a\u5236","text":""},{"location":"app_car/car_services.html#_22","title":"\u9519\u8bef\u5206\u7c7b","text":"<ol> <li> <p>\u7f51\u7edc\u9519\u8bef    - \u8fde\u63a5\u8d85\u65f6    - \u7f51\u7edc\u4e0d\u53ef\u8fbe    - \u670d\u52a1\u4e0d\u53ef\u7528    - \u9650\u6d41\u7194\u65ad</p> </li> <li> <p>\u4e1a\u52a1\u9519\u8bef    - \u53c2\u6570\u9a8c\u8bc1\u5931\u8d25    - \u4e1a\u52a1\u89c4\u5219\u8fdd\u53cd    - \u6743\u9650\u4e0d\u8db3    - \u6570\u636e\u4e0d\u5b58\u5728</p> </li> <li> <p>\u7cfb\u7edf\u9519\u8bef    - \u5185\u5b58\u4e0d\u8db3    - \u5b58\u50a8\u7a7a\u95f4\u4e0d\u591f    - \u7cfb\u7edf\u5f02\u5e38    - \u672a\u77e5\u9519\u8bef</p> </li> </ol>"},{"location":"app_car/car_services.html#_23","title":"\u5904\u7406\u7b56\u7565","text":"<ul> <li>\u91cd\u8bd5\u673a\u5236: \u6307\u6570\u9000\u907f\u91cd\u8bd5</li> <li>\u7194\u65ad\u4fdd\u62a4: \u5feb\u901f\u5931\u8d25\u673a\u5236</li> <li>\u964d\u7ea7\u5904\u7406: \u670d\u52a1\u964d\u7ea7\u7b56\u7565</li> <li>\u76d1\u63a7\u544a\u8b66: \u5f02\u5e38\u76d1\u63a7\u62a5\u8b66</li> </ul>"},{"location":"app_car/car_services.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/car_services.html#_25","title":"\u8bf7\u6c42\u4f18\u5316","text":"<ul> <li>\u6279\u91cf\u8bf7\u6c42: \u51cf\u5c11\u7f51\u7edc\u5f80\u8fd4</li> <li>\u6570\u636e\u538b\u7f29: \u51cf\u5c11\u4f20\u8f93\u91cf</li> <li>\u8fde\u63a5\u590d\u7528: HTTP\u8fde\u63a5\u6c60</li> <li>\u5e76\u53d1\u63a7\u5236: \u9650\u5236\u5e76\u53d1\u6570\u91cf</li> </ul>"},{"location":"app_car/car_services.html#_26","title":"\u7f13\u5b58\u4f18\u5316","text":"<ul> <li>\u9884\u52a0\u8f7d: \u9884\u6d4b\u6027\u6570\u636e\u52a0\u8f7d</li> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u6570\u636e\u52a0\u8f7d</li> <li>\u7f13\u5b58\u9884\u70ed: \u7cfb\u7edf\u542f\u52a8\u9884\u70ed</li> <li>\u7f13\u5b58\u7a7f\u900f\u4fdd\u62a4: \u7a7a\u503c\u7f13\u5b58</li> </ul>"},{"location":"app_car/car_services.html#_27","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/car_services.html#_28","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u670d\u52a1\u63d2\u4ef6: \u81ea\u5b9a\u4e49\u670d\u52a1\u5b9e\u73b0</li> <li>\u6570\u636e\u6e90\u63d2\u4ef6: \u591a\u6570\u636e\u6e90\u652f\u6301</li> <li>\u7f13\u5b58\u63d2\u4ef6: \u81ea\u5b9a\u4e49\u7f13\u5b58\u7b56\u7565</li> <li>\u7f51\u7edc\u63d2\u4ef6: \u7f51\u7edc\u9002\u914d\u5668</li> </ul>"},{"location":"app_car/car_services.html#_29","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u670d\u52a1\u914d\u7f6e: \u670d\u52a1\u53c2\u6570\u53ef\u914d\u7f6e</li> <li>\u7f13\u5b58\u914d\u7f6e: \u7f13\u5b58\u7b56\u7565\u53ef\u8c03\u6574</li> <li>\u7f51\u7edc\u914d\u7f6e: \u7f51\u7edc\u53c2\u6570\u53ef\u8bbe\u7f6e</li> <li>\u4e1a\u52a1\u914d\u7f6e: \u4e1a\u52a1\u89c4\u5219\u53ef\u5b9a\u5236</li> </ul>"},{"location":"app_car/car_services.html#_30","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/car_services.html#_31","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u670d\u52a1\u903b\u8f91\u6d4b\u8bd5: \u4e1a\u52a1\u903b\u8f91\u6b63\u786e\u6027</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5: \u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u5de5\u5177\u65b9\u6cd5\u529f\u80fd</li> <li>\u63a5\u53e3\u6d4b\u8bd5: \u63a5\u53e3\u5951\u7ea6\u9a8c\u8bc1</li> </ul>"},{"location":"app_car/car_services.html#_32","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5: \u7aef\u5230\u7aef\u6d41\u7a0b</li> <li>\u6570\u636e\u5e93\u96c6\u6210\u6d4b\u8bd5: \u6570\u636e\u8bbf\u95ee\u5c42</li> <li>\u7f51\u7edc\u96c6\u6210\u6d4b\u8bd5: \u7f51\u7edc\u901a\u4fe1</li> <li>\u7f13\u5b58\u96c6\u6210\u6d4b\u8bd5: \u7f13\u5b58\u673a\u5236</li> </ul>"},{"location":"app_car/car_services.html#_33","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u538b\u529b\u6d4b\u8bd5: \u9ad8\u5e76\u53d1\u573a\u666f</li> <li>\u8d1f\u8f7d\u6d4b\u8bd5: \u6b63\u5e38\u8d1f\u8f7d\u4e0b\u6027\u80fd</li> <li>\u5bb9\u91cf\u6d4b\u8bd5: \u7cfb\u7edf\u5bb9\u91cf\u6781\u9650</li> <li>\u7a33\u5b9a\u6027\u6d4b\u8bd5: \u957f\u65f6\u95f4\u8fd0\u884c</li> </ul>"},{"location":"app_car/car_services.html#_34","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/car_services.html#_35","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u73af\u5883\u914d\u7f6e: \u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7</li> <li>\u670d\u52a1\u914d\u7f6e: API\u5730\u5740\u3001\u8d85\u65f6\u8bbe\u7f6e</li> <li>\u7f13\u5b58\u914d\u7f6e: \u7f13\u5b58\u7b56\u7565\u53c2\u6570</li> <li>\u4e1a\u52a1\u914d\u7f6e: \u4e1a\u52a1\u89c4\u5219\u53c2\u6570</li> </ul>"},{"location":"app_car/car_services.html#_36","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u6027\u80fd\u6307\u6807: \u54cd\u5e94\u65f6\u95f4\u3001\u541e\u5410\u91cf</li> <li>\u9519\u8bef\u6307\u6807: \u9519\u8bef\u7387\u3001\u5931\u8d25\u6b21\u6570</li> <li>\u8d44\u6e90\u6307\u6807: CPU\u3001\u5185\u5b58\u4f7f\u7528\u7387</li> <li>\u4e1a\u52a1\u6307\u6807: \u8c03\u7528\u6b21\u6570\u3001\u6210\u529f\u7387</li> </ul>"},{"location":"app_car/car_services.html#_37","title":"\u603b\u7ed3","text":"<p><code>car_services</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u8f66\u8f86\u670d\u52a1\u7edf\u4e00\u63a5\u53e3\u5c42\uff0c\u901a\u8fc7\u9886\u57df\u9a71\u52a8\u8bbe\u8ba1\u548c\u6a21\u5757\u5316\u67b6\u6784\uff0c\u4e3a\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u4e86\u7a33\u5b9a\u3001\u9ad8\u6548\u3001\u53ef\u6269\u5c55\u7684\u8f66\u8f86\u670d\u52a1\u80fd\u529b\u3002\u6a21\u5757\u5177\u6709\u5b8c\u5584\u7684\u7f13\u5b58\u673a\u5236\u3001\u9519\u8bef\u5904\u7406\u548c\u6027\u80fd\u4f18\u5316\u7b56\u7565\uff0c\u80fd\u591f\u6ee1\u8db3\u5927\u89c4\u6a21\u8f66\u8054\u7f51\u5e94\u7528\u7684\u670d\u52a1\u9700\u6c42\u3002</p>"},{"location":"app_car/clr_avatarcore.html","title":"CLR AvatarCore \u865a\u62df\u5f62\u8c61\u6838\u5fc3\u670d\u52a1","text":""},{"location":"app_car/clr_avatarcore.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_avatarcore</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u865a\u62df\u5f62\u8c61\u6838\u5fc3\u670d\u52a1\u6a21\u5757\uff0c\u8d1f\u8d23\u865a\u62df\u5f62\u8c61\u7684\u6e32\u67d3\u3001\u52a8\u753b\u5904\u7406\u3001\u8d44\u6e90\u7ba1\u7406\u548c\u4ea4\u4e92\u63a7\u5236\u7b49\u6838\u5fc3\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u8f66\u8f7d\u865a\u62df\u52a9\u624b\u63d0\u4f9b\u5e95\u5c42\u7684\u5f62\u8c61\u751f\u6210\u548c\u63a7\u5236\u80fd\u529b\u3002</p>"},{"location":"app_car/clr_avatarcore.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: clr_avatarcore</li> <li>\u7248\u672c: 0.4.0+2</li> <li>\u63cf\u8ff0: \u865a\u62df\u5f62\u8c61\u6838\u5fc3\u670d\u52a1SDK</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/clr_avatarcore.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u5f62\u8c61\u6e32\u67d3\u5f15\u64ce    - 3D\u865a\u62df\u5f62\u8c61\u6e32\u67d3    - \u5b9e\u65f6\u52a8\u753b\u64ad\u653e    - \u5149\u7167\u548c\u6750\u8d28\u5904\u7406    - \u8868\u60c5\u548c\u52a8\u4f5c\u540c\u6b65</p> </li> <li> <p>\u8d44\u6e90\u7ba1\u7406\u7cfb\u7edf    - \u5f62\u8c61\u8d44\u6e90\u4e0b\u8f7d\u548c\u7f13\u5b58    - \u52a8\u753b\u8d44\u6e90\u538b\u7f29\u548c\u89e3\u538b    - \u8d44\u6e90\u7248\u672c\u7ba1\u7406    - \u672c\u5730\u5b58\u50a8\u4f18\u5316</p> </li> <li> <p>\u52a8\u753b\u63a7\u5236\u7cfb\u7edf    - \u8868\u60c5\u52a8\u753b\u63a7\u5236    - \u8bed\u97f3\u540c\u6b65\u52a8\u753b    - \u624b\u52bf\u548c\u52a8\u4f5c\u9a71\u52a8    - \u60c5\u7eea\u8868\u8fbe\u6620\u5c04</p> </li> <li> <p>\u4ea4\u4e92\u5904\u7406    - \u8bed\u97f3\u8f93\u5165\u54cd\u5e94    - \u89e6\u63a7\u4ea4\u4e92\u5904\u7406    - \u73af\u5883\u611f\u77e5\u9002\u914d    - \u667a\u80fd\u884c\u4e3a\u751f\u6210</p> </li> </ol>"},{"location":"app_car/clr_avatarcore.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/clr_avatarcore.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 clr_avatarcore.dart          # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                         # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 rendering/               # \u6e32\u67d3\u5f15\u64ce\n\u2502   \u251c\u2500\u2500 animation/               # \u52a8\u753b\u7cfb\u7edf\n\u2502   \u251c\u2500\u2500 resources/               # \u8d44\u6e90\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 interaction/             # \u4ea4\u4e92\u5904\u7406\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 assets/                      # \u8d44\u6e90\u6587\u4ef6\n\u2514\u2500\u2500 native/                      # \u539f\u751f\u4ee3\u7801\u63a5\u53e3\n</code></pre>"},{"location":"app_car/clr_avatarcore.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/clr_avatarcore.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>car_connector: ^0.4.11</code> - \u8f66\u8054\u7f51\u8fde\u63a5\u5668</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u652f\u6301</li> <li><code>basic_logger: ^0.2.0</code> - \u65e5\u5fd7\u7cfb\u7edf</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_9","title":"\u7f51\u7edc\u548c\u5b58\u50a8","text":"<ul> <li><code>dio: ^5.2.0</code> - HTTP\u5ba2\u6237\u7aef</li> <li><code>path_provider: ^2.0.11</code> - \u6587\u4ef6\u8def\u5f84</li> <li><code>shared_preferences: ^2.1.1</code> - \u672c\u5730\u5b58\u50a8</li> <li><code>flutter_archive: ^5.0.0</code> - \u6587\u4ef6\u538b\u7f29\u89e3\u538b</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_10","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>crypto: ^3.0.3</code> - \u52a0\u5bc6\u529f\u80fd</li> <li><code>fluttertoast: ^8.2.5</code> - \u63d0\u793a\u7ec4\u4ef6</li> <li><code>flutter_screenutil: ^5.9.0</code> - \u5c4f\u5e55\u9002\u914d</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/clr_avatarcore.html#1_clr_avatarcoredart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>clr_avatarcore.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u865a\u62df\u5f62\u8c61\u670d\u52a1\u521d\u59cb\u5316 - \u6e32\u67d3\u5f15\u64ce\u542f\u52a8 - \u8d44\u6e90\u7ba1\u7406\u7cfb\u7edf\u914d\u7f6e</p>"},{"location":"app_car/clr_avatarcore.html#2_srcrendering","title":"2. \u6e32\u67d3\u5f15\u64ce (<code>src/rendering/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - 3D\u5f62\u8c61\u6e32\u67d3\u7ba1\u9053 - \u5b9e\u65f6\u753b\u9762\u751f\u6210 - \u6027\u80fd\u4f18\u5316\u63a7\u5236 - \u6e32\u67d3\u8d28\u91cf\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>RenderEngine</code> - \u6e32\u67d3\u5f15\u64ce\u6838\u5fc3 - <code>SceneManager</code> - \u573a\u666f\u7ba1\u7406\u5668 - <code>MaterialProcessor</code> - \u6750\u8d28\u5904\u7406\u5668 - <code>LightingSystem</code> - \u5149\u7167\u7cfb\u7edf - <code>CameraController</code> - \u6444\u50cf\u673a\u63a7\u5236\u5668</p>"},{"location":"app_car/clr_avatarcore.html#3_srcanimation","title":"3. \u52a8\u753b\u7cfb\u7edf (<code>src/animation/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u89d2\u8272\u52a8\u753b\u64ad\u653e - \u8868\u60c5\u52a8\u753b\u63a7\u5236 - \u52a8\u4f5c\u5e8f\u5217\u7ba1\u7406 - \u52a8\u753b\u6df7\u5408\u548c\u8fc7\u6e21</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>AnimationController</code> - \u52a8\u753b\u63a7\u5236\u5668 - <code>ExpressionManager</code> - \u8868\u60c5\u7ba1\u7406\u5668 - <code>MotionBlender</code> - \u52a8\u4f5c\u6df7\u5408\u5668 - <code>Timeline</code> - \u65f6\u95f4\u8f74\u7ba1\u7406 - <code>BehaviorTree</code> - \u884c\u4e3a\u6811\u7cfb\u7edf</p>"},{"location":"app_car/clr_avatarcore.html#4_srcresources","title":"4. \u8d44\u6e90\u7ba1\u7406 (<code>src/resources/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5f62\u8c61\u8d44\u6e90\u4e0b\u8f7d - \u6587\u4ef6\u7f13\u5b58\u7ba1\u7406 - \u8d44\u6e90\u7248\u672c\u63a7\u5236 - \u5185\u5b58\u4f7f\u7528\u4f18\u5316</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>ResourceManager</code> - \u8d44\u6e90\u7ba1\u7406\u5668 - <code>DownloadManager</code> - \u4e0b\u8f7d\u7ba1\u7406\u5668 - <code>CacheManager</code> - \u7f13\u5b58\u7ba1\u7406\u5668 - <code>AssetLoader</code> - \u8d44\u6e90\u52a0\u8f7d\u5668 - <code>VersionController</code> - \u7248\u672c\u63a7\u5236\u5668</p>"},{"location":"app_car/clr_avatarcore.html#5_srcinteraction","title":"5. \u4ea4\u4e92\u5904\u7406 (<code>src/interaction/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u4ea4\u4e92\u54cd\u5e94 - \u8bed\u97f3\u8f93\u5165\u5904\u7406 - \u624b\u52bf\u8bc6\u522b\u5904\u7406 - \u73af\u5883\u9002\u5e94\u63a7\u5236</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>InteractionHandler</code> - \u4ea4\u4e92\u5904\u7406\u5668 - <code>VoiceProcessor</code> - \u8bed\u97f3\u5904\u7406\u5668 - <code>GestureRecognizer</code> - \u624b\u52bf\u8bc6\u522b\u5668 - <code>EmotionMapper</code> - \u60c5\u7eea\u6620\u5c04\u5668 - <code>BehaviorGenerator</code> - \u884c\u4e3a\u751f\u6210\u5668</p>"},{"location":"app_car/clr_avatarcore.html#6_srcmodels","title":"6. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5f62\u8c61\u6570\u636e\u6a21\u578b - \u52a8\u753b\u6570\u636e\u7ed3\u6784 - \u914d\u7f6e\u53c2\u6570\u6a21\u578b - \u72b6\u6001\u4fe1\u606f\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>AvatarModel</code> - \u865a\u62df\u5f62\u8c61\u6a21\u578b - <code>AnimationData</code> - \u52a8\u753b\u6570\u636e\u6a21\u578b - <code>SceneConfig</code> - \u573a\u666f\u914d\u7f6e\u6a21\u578b - <code>InteractionState</code> - \u4ea4\u4e92\u72b6\u6001\u6a21\u578b</p>"},{"location":"app_car/clr_avatarcore.html#7_srcutils","title":"7. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6570\u5b66\u8ba1\u7b97\u5de5\u5177 - \u6587\u4ef6\u5904\u7406\u5de5\u5177 - \u6027\u80fd\u76d1\u63a7\u5de5\u5177 - \u8c03\u8bd5\u8f85\u52a9\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>MathUtils</code> - \u6570\u5b66\u8ba1\u7b97\u5de5\u5177 - <code>FileUtils</code> - \u6587\u4ef6\u64cd\u4f5c\u5de5\u5177 - <code>PerformanceMonitor</code> - \u6027\u80fd\u76d1\u63a7\u5668 - <code>DebugUtils</code> - \u8c03\u8bd5\u5de5\u5177</p>"},{"location":"app_car/clr_avatarcore.html#_12","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/clr_avatarcore.html#_13","title":"\u865a\u62df\u5f62\u8c61\u521d\u59cb\u5316\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u542f\u52a8\u5f62\u8c61\u670d\u52a1] --&gt; B[\u68c0\u67e5\u672c\u5730\u8d44\u6e90]\n    B --&gt; C{\u8d44\u6e90\u662f\u5426\u5b8c\u6574}\n    C --&gt;|\u662f| D[\u52a0\u8f7d\u5f62\u8c61\u6a21\u578b]\n    C --&gt;|\u5426| E[\u4e0b\u8f7d\u7f3a\u5931\u8d44\u6e90]\n    E --&gt; F[\u89e3\u538b\u8d44\u6e90\u6587\u4ef6]\n    F --&gt; G[\u9a8c\u8bc1\u8d44\u6e90\u5b8c\u6574\u6027]\n    G --&gt; H{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    H --&gt;|\u662f| D\n    H --&gt;|\u5426| I[\u91cd\u65b0\u4e0b\u8f7d\u8d44\u6e90]\n    I --&gt; F\n    D --&gt; J[\u521d\u59cb\u5316\u6e32\u67d3\u5f15\u64ce]\n    J --&gt; K[\u52a0\u8f7d\u52a8\u753b\u6570\u636e]\n    K --&gt; L[\u8bbe\u7f6e\u9ed8\u8ba4\u72b6\u6001]\n    L --&gt; M[\u542f\u52a8\u4ea4\u4e92\u76d1\u542c]\n    M --&gt; N[\u5f62\u8c61\u51c6\u5907\u5c31\u7eea]</code></pre>"},{"location":"app_car/clr_avatarcore.html#_14","title":"\u52a8\u753b\u64ad\u653e\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u63a5\u6536\u52a8\u753b\u6307\u4ee4] --&gt; B[\u89e3\u6790\u52a8\u753b\u7c7b\u578b]\n    B --&gt; C[\u67e5\u627e\u52a8\u753b\u8d44\u6e90]\n    C --&gt; D{\u8d44\u6e90\u662f\u5426\u5b58\u5728}\n    D --&gt;|\u662f| E[\u52a0\u8f7d\u52a8\u753b\u6570\u636e]\n    D --&gt;|\u5426| F[\u4e0b\u8f7d\u52a8\u753b\u8d44\u6e90]\n    F --&gt; E\n    E --&gt; G[\u8ba1\u7b97\u52a8\u753b\u53c2\u6570]\n    G --&gt; H[\u5f00\u59cb\u52a8\u753b\u64ad\u653e]\n    H --&gt; I[\u5b9e\u65f6\u6e32\u67d3\u66f4\u65b0]\n    I --&gt; J{\u52a8\u753b\u662f\u5426\u7ed3\u675f}\n    J --&gt;|\u5426| I\n    J --&gt;|\u662f| K[\u6062\u590d\u9ed8\u8ba4\u72b6\u6001]\n    K --&gt; L[\u91ca\u653e\u52a8\u753b\u8d44\u6e90]</code></pre>"},{"location":"app_car/clr_avatarcore.html#_15","title":"\u6e32\u67d3\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"app_car/clr_avatarcore.html#_16","title":"\u6e32\u67d3\u7ba1\u9053","text":"<ol> <li> <p>\u51e0\u4f55\u5904\u7406\u9636\u6bb5    - \u9876\u70b9\u53d8\u6362    - \u9aa8\u9abc\u52a8\u753b    - \u5f62\u53d8\u5904\u7406    - \u88c1\u526a\u4f18\u5316</p> </li> <li> <p>\u5149\u6805\u5316\u9636\u6bb5    - \u50cf\u7d20\u7740\u8272    - \u7eb9\u7406\u6620\u5c04    - \u5149\u7167\u8ba1\u7b97    - \u9634\u5f71\u5904\u7406</p> </li> <li> <p>\u540e\u5904\u7406\u9636\u6bb5    - \u6297\u952f\u9f7f    - \u8272\u5f69\u6821\u6b63    - \u7279\u6548\u5408\u6210    - \u8f93\u51fa\u4f18\u5316</p> </li> </ol>"},{"location":"app_car/clr_avatarcore.html#_17","title":"\u6027\u80fd\u4f18\u5316\u7b56\u7565","text":"<ul> <li>LOD\u7cfb\u7edf: \u8ddd\u79bb\u5c42\u6b21\u7ec6\u8282</li> <li>\u906e\u6321\u5254\u9664: \u89c6\u9525\u4f53\u5254\u9664</li> <li>\u6279\u91cf\u6e32\u67d3: \u51cf\u5c11\u7ed8\u5236\u8c03\u7528</li> <li>\u7eb9\u7406\u538b\u7f29: \u5185\u5b58\u4f7f\u7528\u4f18\u5316</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_18","title":"\u52a8\u753b\u7cfb\u7edf\u8bbe\u8ba1","text":""},{"location":"app_car/clr_avatarcore.html#_19","title":"\u52a8\u753b\u7c7b\u578b","text":"<ol> <li> <p>\u9aa8\u9abc\u52a8\u753b    - \u5173\u8282\u65cb\u8f6c\u63a7\u5236    - \u9aa8\u9abc\u5c42\u6b21\u7ed3\u6784    - \u52a8\u4f5c\u6df7\u5408    - \u9006\u5411\u8fd0\u52a8\u5b66</p> </li> <li> <p>\u8868\u60c5\u52a8\u753b    - \u9762\u90e8\u808c\u8089\u63a7\u5236    - \u8868\u60c5\u6df7\u5408    - \u5b9e\u65f6\u8868\u60c5\u6355\u6349    - \u60c5\u7eea\u8868\u8fbe\u6620\u5c04</p> </li> <li> <p>\u7a0b\u5e8f\u52a8\u753b    - \u7269\u7406\u6a21\u62df    - \u7c92\u5b50\u7cfb\u7edf    - \u5e03\u6599\u6a21\u62df    - \u5934\u53d1\u52a8\u753b</p> </li> </ol>"},{"location":"app_car/clr_avatarcore.html#_20","title":"\u52a8\u753b\u72b6\u6001\u673a","text":"<ul> <li>\u72b6\u6001\u5b9a\u4e49: \u5f85\u673a\u3001\u8bf4\u8bdd\u3001\u601d\u8003\u3001\u54cd\u5e94</li> <li>\u72b6\u6001\u8f6c\u6362: \u5e73\u6ed1\u8fc7\u6e21\u63a7\u5236</li> <li>\u6761\u4ef6\u89e6\u53d1: \u57fa\u4e8e\u8f93\u5165\u7684\u72b6\u6001\u5207\u6362</li> <li>\u4f18\u5148\u7ea7\u7ba1\u7406: \u52a8\u753b\u64ad\u653e\u4f18\u5148\u7ea7</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_21","title":"\u8d44\u6e90\u7ba1\u7406\u7cfb\u7edf","text":""},{"location":"app_car/clr_avatarcore.html#_22","title":"\u8d44\u6e90\u7c7b\u578b","text":"<ol> <li> <p>\u6a21\u578b\u8d44\u6e90    - 3D\u51e0\u4f55\u6a21\u578b    - \u7eb9\u7406\u8d34\u56fe    - \u6750\u8d28\u5b9a\u4e49    - \u9aa8\u9abc\u6570\u636e</p> </li> <li> <p>\u52a8\u753b\u8d44\u6e90    - \u5173\u952e\u5e27\u6570\u636e    - \u52a8\u4f5c\u5e8f\u5217    - \u8868\u60c5\u6570\u636e    - \u97f3\u9891\u540c\u6b65</p> </li> <li> <p>\u914d\u7f6e\u8d44\u6e90    - \u573a\u666f\u914d\u7f6e    - \u884c\u4e3a\u5b9a\u4e49    - \u53c2\u6570\u8bbe\u7f6e    - \u76ae\u80a4\u4e3b\u9898</p> </li> </ol>"},{"location":"app_car/clr_avatarcore.html#_23","title":"\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u591a\u7ea7\u7f13\u5b58: \u5185\u5b58+\u78c1\u76d8\u7f13\u5b58</li> <li>LRU\u7b97\u6cd5: \u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u6dd8\u6c70</li> <li>\u538b\u7f29\u5b58\u50a8: \u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4</li> <li>\u589e\u91cf\u66f4\u65b0: \u4ec5\u66f4\u65b0\u53d8\u5316\u90e8\u5206</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_24","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"app_car/clr_avatarcore.html#_25","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u8d44\u6e90\u6587\u4ef6\u52a0\u5bc6\u5b58\u50a8</li> <li>\u4f20\u8f93\u6570\u636e\u52a0\u5bc6</li> <li>\u6570\u5b57\u7b7e\u540d\u9a8c\u8bc1</li> <li>\u9632\u7be1\u6539\u68c0\u6d4b</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_26","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u672c\u5730\u6570\u636e\u4fdd\u62a4</li> <li>\u7528\u6237\u884c\u4e3a\u6570\u636e\u8131\u654f</li> <li>\u654f\u611f\u4fe1\u606f\u52a0\u5bc6</li> <li>\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_27","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/clr_avatarcore.html#_28","title":"\u6e32\u67d3\u4f18\u5316","text":"<ul> <li>GPU\u8d44\u6e90\u7ba1\u7406</li> <li>\u7ed8\u5236\u6279\u6b21\u4f18\u5316</li> <li>\u7740\u8272\u5668\u7f13\u5b58</li> <li>\u5185\u5b58\u6c60\u7ba1\u7406</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_29","title":"\u52a8\u753b\u4f18\u5316","text":"<ul> <li>\u52a8\u753b\u6570\u636e\u538b\u7f29</li> <li>\u5173\u952e\u5e27\u63d2\u503c\u4f18\u5316</li> <li>\u52a8\u753bLOD\u7cfb\u7edf</li> <li>\u9884\u8ba1\u7b97\u4f18\u5316</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_30","title":"\u6269\u5c55\u6027\u8bbe\u8ba1","text":""},{"location":"app_car/clr_avatarcore.html#_31","title":"\u63d2\u4ef6\u5316\u67b6\u6784","text":"<ul> <li>\u81ea\u5b9a\u4e49\u6e32\u67d3\u5668</li> <li>\u6269\u5c55\u52a8\u753b\u7cfb\u7edf</li> <li>\u7b2c\u4e09\u65b9\u8d44\u6e90\u96c6\u6210</li> <li>\u81ea\u5b9a\u4e49\u4ea4\u4e92\u6a21\u5f0f</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_32","title":"\u914d\u7f6e\u5316\u7ba1\u7406","text":"<ul> <li>\u6e32\u67d3\u8d28\u91cf\u53ef\u914d\u7f6e</li> <li>\u52a8\u753b\u53c2\u6570\u53ef\u8c03\u8282</li> <li>\u8d44\u6e90\u7b56\u7565\u53ef\u5b9a\u5236</li> <li>\u6027\u80fd\u9608\u503c\u53ef\u8bbe\u7f6e</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_33","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/clr_avatarcore.html#_34","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u6e32\u67d3\u7b97\u6cd5\u6d4b\u8bd5</li> <li>\u52a8\u753b\u903b\u8f91\u6d4b\u8bd5</li> <li>\u8d44\u6e90\u7ba1\u7406\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_35","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u6e32\u67d3\u6027\u80fd\u6d4b\u8bd5</li> <li>\u5185\u5b58\u4f7f\u7528\u6d4b\u8bd5</li> <li>\u7535\u6c60\u7eed\u822a\u6d4b\u8bd5</li> <li>\u70ed\u91cf\u63a7\u5236\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_36","title":"\u517c\u5bb9\u6027\u6d4b\u8bd5","text":"<ul> <li>\u4e0d\u540c\u8bbe\u5907\u6d4b\u8bd5</li> <li>\u4e0d\u540c\u5206\u8fa8\u7387\u6d4b\u8bd5</li> <li>\u4e0d\u540cGPU\u6d4b\u8bd5</li> <li>\u7cfb\u7edf\u7248\u672c\u517c\u5bb9\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_37","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/clr_avatarcore.html#_38","title":"\u8d44\u6e90\u90e8\u7f72","text":"<ul> <li>CDN\u8d44\u6e90\u5206\u53d1</li> <li>\u533a\u57df\u5316\u90e8\u7f72</li> <li>\u7248\u672c\u7ba1\u7406</li> <li>\u7070\u5ea6\u53d1\u5e03</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_39","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u6e32\u67d3\u5e27\u7387</li> <li>\u8d44\u6e90\u52a0\u8f7d\u65f6\u95f4</li> <li>\u5185\u5b58\u4f7f\u7528\u7387</li> <li>\u5d29\u6e83\u7387\u7edf\u8ba1</li> </ul>"},{"location":"app_car/clr_avatarcore.html#_40","title":"\u603b\u7ed3","text":"<p><code>clr_avatarcore</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u865a\u62df\u5f62\u8c61\u6838\u5fc3\u5f15\u64ce\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u76843D\u865a\u62df\u5f62\u8c61\u6e32\u67d3\u548c\u4ea4\u4e92\u80fd\u529b\u3002\u901a\u8fc7\u9ad8\u6548\u7684\u6e32\u67d3\u7ba1\u9053\u3001\u667a\u80fd\u7684\u52a8\u753b\u7cfb\u7edf\u548c\u5b8c\u5584\u7684\u8d44\u6e90\u7ba1\u7406\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u751f\u52a8\u903c\u771f\u7684\u865a\u62df\u52a9\u624b\u4f53\u9a8c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u4f18\u5316\u548c\u6269\u5c55\u80fd\u529b\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u786c\u4ef6\u73af\u5883\u548c\u4e1a\u52a1\u9700\u6c42\u3002</p>"},{"location":"app_car/clr_order.html","title":"CLR Order - \u8ba2\u5355\u670d\u52a1 SDK","text":""},{"location":"app_car/clr_order.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_order</code> \u662f OneApp \u8f66\u8f86\u8ba2\u5355\u7ba1\u7406\u7684\u6838\u5fc3\u670d\u52a1 SDK\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8ba2\u5355\u751f\u547d\u5468\u671f\u7ba1\u7406\u529f\u80fd\u3002\u8be5\u6a21\u5757\u5c01\u88c5\u4e86\u8ba2\u5355\u521b\u5efa\u3001\u652f\u4ed8\u3001\u72b6\u6001\u8ddf\u8e2a\u3001\u53d6\u6d88\u9000\u6b3e\u7b49\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\uff0c\u4e3a\u4e0a\u5c42\u5e94\u7528\u6a21\u5757\u63d0\u4f9b\u7edf\u4e00\u7684\u8ba2\u5355\u670d\u52a1\u63a5\u53e3\u3002</p>"},{"location":"app_car/clr_order.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"app_car/clr_order.html#1","title":"1. \u8ba2\u5355\u7ba1\u7406","text":"<ul> <li>\u8ba2\u5355\u521b\u5efa\uff1a\u652f\u6301\u591a\u79cd\u7c7b\u578b\u8ba2\u5355\u7684\u521b\u5efa\u548c\u521d\u59cb\u5316</li> <li>\u8ba2\u5355\u67e5\u8be2\uff1a\u63d0\u4f9b\u8ba2\u5355\u8be6\u60c5\u67e5\u8be2\u548c\u5217\u8868\u83b7\u53d6\u529f\u80fd</li> <li>\u8ba2\u5355\u66f4\u65b0\uff1a\u652f\u6301\u8ba2\u5355\u72b6\u6001\u548c\u4fe1\u606f\u7684\u5b9e\u65f6\u66f4\u65b0</li> <li>\u8ba2\u5355\u53d6\u6d88\uff1a\u5904\u7406\u8ba2\u5355\u53d6\u6d88\u548c\u9000\u6b3e\u6d41\u7a0b</li> </ul>"},{"location":"app_car/clr_order.html#2","title":"2. \u652f\u4ed8\u96c6\u6210","text":"<ul> <li>\u652f\u4ed8\u65b9\u5f0f\u7ba1\u7406\uff1a\u652f\u6301\u591a\u79cd\u652f\u4ed8\u6e20\u9053\u7684\u96c6\u6210</li> <li>\u652f\u4ed8\u72b6\u6001\u8ddf\u8e2a\uff1a\u5b9e\u65f6\u76d1\u63a7\u652f\u4ed8\u8fdb\u5ea6\u548c\u7ed3\u679c</li> <li>\u9000\u6b3e\u5904\u7406\uff1a\u81ea\u52a8\u5316\u7684\u9000\u6b3e\u6d41\u7a0b\u5904\u7406</li> <li>\u652f\u4ed8\u5b89\u5168\uff1a\u786e\u4fdd\u652f\u4ed8\u8fc7\u7a0b\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027</li> </ul>"},{"location":"app_car/clr_order.html#3","title":"3. \u8ba2\u5355\u7c7b\u578b\u652f\u6301","text":"<ul> <li>\u5145\u7535\u8ba2\u5355\uff1a\u7535\u52a8\u8f66\u5145\u7535\u670d\u52a1\u8ba2\u5355</li> <li>\u7ef4\u4fdd\u8ba2\u5355\uff1a\u8f66\u8f86\u7ef4\u62a4\u4fdd\u517b\u670d\u52a1\u8ba2\u5355</li> <li>\u914d\u4ef6\u8ba2\u5355\uff1a\u8f66\u8f86\u914d\u4ef6\u548c\u7528\u54c1\u8ba2\u5355</li> <li>\u670d\u52a1\u8ba2\u5355\uff1a\u5404\u7c7b\u589e\u503c\u670d\u52a1\u8ba2\u5355</li> </ul>"},{"location":"app_car/clr_order.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/clr_order.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u5c42                    \u2502\n\u2502  (app_order, app_charging, etc.)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            CLR Order SDK            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u8ba2\u5355\u7ba1\u7406   \u2502    \u652f\u4ed8\u670d\u52a1     \u2502   \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524   \u2502\n\u2502  \u2502  \u72b6\u6001\u673a\u5236   \u2502    \u5b89\u5168\u8ba4\u8bc1     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            \u7f51\u7edc\u5c42                    \u2502\n\u2502     (RESTful API / GraphQL)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            \u540e\u7aef\u670d\u52a1                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u8ba2\u5355\u670d\u52a1   \u2502    \u652f\u4ed8\u7f51\u5173     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"app_car/clr_order.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"app_car/clr_order.html#1_ordermanager","title":"1. \u8ba2\u5355\u7ba1\u7406\u5668 (OrderManager)","text":"<pre><code>class OrderManager {\n  // \u521b\u5efa\u8ba2\u5355\n  Future&lt;OrderResult&gt; createOrder(OrderRequest request);\n\n  // \u67e5\u8be2\u8ba2\u5355\n  Future&lt;Order&gt; getOrder(String orderId);\n\n  // \u66f4\u65b0\u8ba2\u5355\u72b6\u6001\n  Future&lt;bool&gt; updateOrderStatus(String orderId, OrderStatus status);\n\n  // \u53d6\u6d88\u8ba2\u5355\n  Future&lt;bool&gt; cancelOrder(String orderId, String reason);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#2_paymentprocessor","title":"2. \u652f\u4ed8\u5904\u7406\u5668 (PaymentProcessor)","text":"<pre><code>class PaymentProcessor {\n  // \u53d1\u8d77\u652f\u4ed8\n  Future&lt;PaymentResult&gt; initiatePayment(PaymentRequest request);\n\n  // \u67e5\u8be2\u652f\u4ed8\u72b6\u6001\n  Future&lt;PaymentStatus&gt; getPaymentStatus(String paymentId);\n\n  // \u5904\u7406\u9000\u6b3e\n  Future&lt;RefundResult&gt; processRefund(RefundRequest request);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#3_orderstatemachine","title":"3. \u8ba2\u5355\u72b6\u6001\u673a (OrderStateMachine)","text":"<pre><code>enum OrderStatus {\n  created,      // \u5df2\u521b\u5efa\n  paid,         // \u5df2\u652f\u4ed8\n  processing,   // \u5904\u7406\u4e2d\n  completed,    // \u5df2\u5b8c\u6210\n  cancelled,    // \u5df2\u53d6\u6d88\n  refunded      // \u5df2\u9000\u6b3e\n}\n\nclass OrderStateMachine {\n  bool canTransition(OrderStatus from, OrderStatus to);\n  Future&lt;bool&gt; transition(String orderId, OrderStatus to);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/clr_order.html#_7","title":"\u8ba2\u5355\u6a21\u578b","text":"<pre><code>class Order {\n  final String id;\n  final String userId;\n  final OrderType type;\n  final OrderStatus status;\n  final DateTime createdAt;\n  final DateTime updatedAt;\n  final List&lt;OrderItem&gt; items;\n  final PaymentInfo payment;\n  final DeliveryInfo delivery;\n  final double totalAmount;\n  final String currency;\n  final Map&lt;String, dynamic&gt; metadata;\n}\n\nclass OrderItem {\n  final String id;\n  final String productId;\n  final String name;\n  final int quantity;\n  final double price;\n  final Map&lt;String, dynamic&gt; attributes;\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_8","title":"\u652f\u4ed8\u6a21\u578b","text":"<pre><code>class PaymentInfo {\n  final String paymentId;\n  final PaymentMethod method;\n  final PaymentStatus status;\n  final double amount;\n  final String currency;\n  final DateTime paidAt;\n  final String transactionId;\n}\n\nenum PaymentMethod {\n  creditCard,\n  debitCard,\n  digitalWallet,\n  bankTransfer,\n  cryptocurrency\n}\n</code></pre>"},{"location":"app_car/clr_order.html#api","title":"API \u63a5\u53e3","text":""},{"location":"app_car/clr_order.html#_9","title":"\u8ba2\u5355\u63a5\u53e3","text":"<pre><code>abstract class OrderService {\n  // \u521b\u5efa\u8ba2\u5355\n  Future&lt;ApiResponse&lt;Order&gt;&gt; createOrder(CreateOrderRequest request);\n\n  // \u83b7\u53d6\u8ba2\u5355\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;Order&gt;&gt;&gt; getOrders(OrderQuery query);\n\n  // \u83b7\u53d6\u8ba2\u5355\u8be6\u60c5\n  Future&lt;ApiResponse&lt;Order&gt;&gt; getOrderById(String orderId);\n\n  // \u66f4\u65b0\u8ba2\u5355\n  Future&lt;ApiResponse&lt;Order&gt;&gt; updateOrder(String orderId, UpdateOrderRequest request);\n\n  // \u53d6\u6d88\u8ba2\u5355\n  Future&lt;ApiResponse&lt;bool&gt;&gt; cancelOrder(String orderId, CancelOrderRequest request);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_10","title":"\u652f\u4ed8\u63a5\u53e3","text":"<pre><code>abstract class PaymentService {\n  // \u521b\u5efa\u652f\u4ed8\n  Future&lt;ApiResponse&lt;PaymentSession&gt;&gt; createPayment(CreatePaymentRequest request);\n\n  // \u786e\u8ba4\u652f\u4ed8\n  Future&lt;ApiResponse&lt;PaymentResult&gt;&gt; confirmPayment(String paymentId, ConfirmPaymentRequest request);\n\n  // \u67e5\u8be2\u652f\u4ed8\u72b6\u6001\n  Future&lt;ApiResponse&lt;PaymentStatus&gt;&gt; getPaymentStatus(String paymentId);\n\n  // \u7533\u8bf7\u9000\u6b3e\n  Future&lt;ApiResponse&lt;RefundResult&gt;&gt; requestRefund(RefundRequest request);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_11","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"app_car/clr_order.html#_12","title":"\u73af\u5883\u914d\u7f6e","text":"<pre><code>class OrderConfig {\n  static const String baseUrl = String.fromEnvironment('ORDER_API_BASE_URL');\n  static const String apiKey = String.fromEnvironment('ORDER_API_KEY');\n  static const int timeoutSeconds = 30;\n  static const int maxRetries = 3;\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_13","title":"\u652f\u4ed8\u914d\u7f6e","text":"<pre><code>class PaymentConfig {\n  static const Map&lt;PaymentMethod, PaymentProviderConfig&gt; providers = {\n    PaymentMethod.creditCard: PaymentProviderConfig(\n      provider: 'stripe',\n      publicKey: 'pk_live_...',\n    ),\n    PaymentMethod.digitalWallet: PaymentProviderConfig(\n      provider: 'alipay',\n      appId: 'app_...',\n    ),\n  };\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_14","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/clr_order.html#_15","title":"\u8ba2\u5355\u9519\u8bef\u7c7b\u578b","text":"<pre><code>enum OrderErrorType {\n  invalidRequest,       // \u65e0\u6548\u8bf7\u6c42\n  orderNotFound,       // \u8ba2\u5355\u672a\u627e\u5230\n  paymentFailed,       // \u652f\u4ed8\u5931\u8d25\n  insufficientStock,   // \u5e93\u5b58\u4e0d\u8db3\n  orderExpired,        // \u8ba2\u5355\u8fc7\u671f\n  unauthorized,        // \u672a\u6388\u6743\n  networkError,        // \u7f51\u7edc\u9519\u8bef\n  serverError          // \u670d\u52a1\u5668\u9519\u8bef\n}\n\nclass OrderException implements Exception {\n  final OrderErrorType type;\n  final String message;\n  final Map&lt;String, dynamic&gt;? details;\n\n  const OrderException(this.type, this.message, [this.details]);\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"app_car/clr_order.html#_17","title":"\u521b\u5efa\u8ba2\u5355","text":"<pre><code>try {\n  final orderRequest = CreateOrderRequest(\n    userId: 'user123',\n    items: [\n      OrderItem(\n        productId: 'charging_session',\n        quantity: 1,\n        price: 25.0,\n      ),\n    ],\n    paymentMethod: PaymentMethod.creditCard,\n  );\n\n  final order = await OrderManager.instance.createOrder(orderRequest);\n  print('\u8ba2\u5355\u521b\u5efa\u6210\u529f: ${order.id}');\n} catch (e) {\n  print('\u8ba2\u5355\u521b\u5efa\u5931\u8d25: $e');\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_18","title":"\u5904\u7406\u652f\u4ed8","text":"<pre><code>try {\n  final paymentRequest = PaymentRequest(\n    orderId: order.id,\n    amount: order.totalAmount,\n    method: PaymentMethod.creditCard,\n    cardToken: 'card_token_123',\n  );\n\n  final result = await PaymentProcessor.instance.initiatePayment(paymentRequest);\n\n  if (result.isSuccess) {\n    print('\u652f\u4ed8\u6210\u529f: ${result.transactionId}');\n  } else {\n    print('\u652f\u4ed8\u5931\u8d25: ${result.errorMessage}');\n  }\n} catch (e) {\n  print('\u652f\u4ed8\u5904\u7406\u5f02\u5e38: $e');\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_19","title":"\u67e5\u8be2\u8ba2\u5355\u72b6\u6001","text":"<pre><code>try {\n  final order = await OrderManager.instance.getOrder(orderId);\n\n  switch (order.status) {\n    case OrderStatus.created:\n      print('\u8ba2\u5355\u5df2\u521b\u5efa\uff0c\u7b49\u5f85\u652f\u4ed8');\n      break;\n    case OrderStatus.paid:\n      print('\u8ba2\u5355\u5df2\u652f\u4ed8\uff0c\u6b63\u5728\u5904\u7406');\n      break;\n    case OrderStatus.completed:\n      print('\u8ba2\u5355\u5df2\u5b8c\u6210');\n      break;\n    case OrderStatus.cancelled:\n      print('\u8ba2\u5355\u5df2\u53d6\u6d88');\n      break;\n  }\n} catch (e) {\n  print('\u67e5\u8be2\u8ba2\u5355\u5931\u8d25: $e');\n}\n</code></pre>"},{"location":"app_car/clr_order.html#_20","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/clr_order.html#_21","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('OrderManager Tests', () {\n  test('should create order successfully', () async {\n    // Given\n    final request = CreateOrderRequest(/* ... */);\n\n    // When\n    final result = await orderManager.createOrder(request);\n\n    // Then\n    expect(result.isSuccess, true);\n    expect(result.data.status, OrderStatus.created);\n  });\n\n  test('should handle payment failure', () async {\n    // Given\n    final request = PaymentRequest(/* invalid data */);\n\n    // When &amp; Then\n    expect(\n      () =&gt; paymentProcessor.initiatePayment(request),\n      throwsA(isA&lt;OrderException&gt;()),\n    );\n  });\n});\n</code></pre>"},{"location":"app_car/clr_order.html#_22","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Order Integration Tests', () {\n  testWidgets('complete order flow', (tester) async {\n    // 1. \u521b\u5efa\u8ba2\u5355\n    final order = await createTestOrder();\n\n    // 2. \u5904\u7406\u652f\u4ed8\n    final payment = await processTestPayment(order.id);\n\n    // 3. \u9a8c\u8bc1\u8ba2\u5355\u72b6\u6001\n    final updatedOrder = await getOrder(order.id);\n    expect(updatedOrder.status, OrderStatus.completed);\n  });\n});\n</code></pre>"},{"location":"app_car/clr_order.html#_23","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/clr_order.html#_24","title":"\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u8ba2\u5355\u7f13\u5b58\uff1a\u672c\u5730\u7f13\u5b58\u5e38\u7528\u8ba2\u5355\u4fe1\u606f</li> <li>\u652f\u4ed8\u72b6\u6001\u7f13\u5b58\uff1a\u7f13\u5b58\u652f\u4ed8\u72b6\u6001\u907f\u514d\u9891\u7e41\u67e5\u8be2</li> <li>\u914d\u7f6e\u7f13\u5b58\uff1a\u7f13\u5b58\u652f\u4ed8\u914d\u7f6e\u548c\u8d39\u7387\u4fe1\u606f</li> </ul>"},{"location":"app_car/clr_order.html#_25","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8bf7\u6c42\u5408\u5e76\uff1a\u5408\u5e76\u591a\u4e2a\u8ba2\u5355\u67e5\u8be2\u8bf7\u6c42</li> <li>\u5206\u9875\u52a0\u8f7d\uff1a\u5927\u91cf\u8ba2\u5355\u6570\u636e\u5206\u9875\u83b7\u53d6</li> <li>\u538b\u7f29\u4f20\u8f93\uff1a\u542f\u7528 gzip \u538b\u7f29\u51cf\u5c11\u4f20\u8f93\u91cf</li> </ul>"},{"location":"app_car/clr_order.html#_26","title":"\u5b89\u5168\u8003\u8651","text":""},{"location":"app_car/clr_order.html#_27","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u654f\u611f\u4fe1\u606f\u52a0\u5bc6\uff1a\u652f\u4ed8\u4fe1\u606f\u548c\u4e2a\u4eba\u6570\u636e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u4f20\u8f93\u5b89\u5168\uff1a\u4f7f\u7528 HTTPS \u548c\u8bc1\u4e66\u7ed1\u5b9a</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"app_car/clr_order.html#_28","title":"\u652f\u4ed8\u5b89\u5168","text":"<ul> <li>PCI DSS \u5408\u89c4\uff1a\u9075\u5faa\u652f\u4ed8\u5361\u884c\u4e1a\u6570\u636e\u5b89\u5168\u6807\u51c6</li> <li>\u4ee4\u724c\u5316\uff1a\u654f\u611f\u652f\u4ed8\u4fe1\u606f\u4f7f\u7528\u4ee4\u724c\u66ff\u6362</li> <li>\u98ce\u9669\u63a7\u5236\uff1a\u5b9e\u65f6\u98ce\u9669\u8bc4\u4f30\u548c\u6b3a\u8bc8\u68c0\u6d4b</li> </ul>"},{"location":"app_car/clr_order.html#_29","title":"\u76d1\u63a7\u548c\u5206\u6790","text":""},{"location":"app_car/clr_order.html#_30","title":"\u4e1a\u52a1\u6307\u6807","text":"<ul> <li>\u8ba2\u5355\u8f6c\u5316\u7387\uff1a\u4ece\u521b\u5efa\u5230\u5b8c\u6210\u7684\u8f6c\u5316\u7387</li> <li>\u652f\u4ed8\u6210\u529f\u7387\uff1a\u652f\u4ed8\u5904\u7406\u7684\u6210\u529f\u7387</li> <li>\u5e73\u5747\u8ba2\u5355\u4ef7\u503c\uff1a\u8ba2\u5355\u91d1\u989d\u7edf\u8ba1\u5206\u6790</li> <li>\u9000\u6b3e\u7387\uff1a\u9000\u6b3e\u8ba2\u5355\u5360\u6bd4</li> </ul>"},{"location":"app_car/clr_order.html#_31","title":"\u6280\u672f\u6307\u6807","text":"<ul> <li>API \u54cd\u5e94\u65f6\u95f4\uff1a\u63a5\u53e3\u6027\u80fd\u76d1\u63a7</li> <li>\u9519\u8bef\u7387\uff1a\u7cfb\u7edf\u9519\u8bef\u548c\u5f02\u5e38\u76d1\u63a7</li> <li>\u53ef\u7528\u6027\uff1a\u670d\u52a1\u53ef\u7528\u6027\u76d1\u63a7</li> <li>\u541e\u5410\u91cf\uff1a\u7cfb\u7edf\u5904\u7406\u80fd\u529b\u76d1\u63a7</li> </ul>"},{"location":"app_car/clr_order.html#_32","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"app_car/clr_order.html#v0263","title":"v0.2.6+3 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u52a0\u5bc6\u8d27\u5e01\u652f\u4ed8\u652f\u6301</li> <li>\u4f18\u5316\u8ba2\u5355\u72b6\u6001\u673a\u903b\u8f91</li> <li>\u4fee\u590d\u652f\u4ed8\u56de\u8c03\u5904\u7406\u95ee\u9898</li> <li>\u6539\u8fdb\u9519\u8bef\u5904\u7406\u673a\u5236</li> </ul>"},{"location":"app_car/clr_order.html#v025","title":"v0.2.5","text":"<ul> <li>\u652f\u6301\u6279\u91cf\u8ba2\u5355\u64cd\u4f5c</li> <li>\u65b0\u589e\u8ba2\u5355\u641c\u7d22\u529f\u80fd</li> <li>\u4f18\u5316\u652f\u4ed8\u6d41\u7a0b</li> <li>\u4fee\u590d\u5df2\u77e5 bug</li> </ul>"},{"location":"app_car/clr_order.html#v024","title":"v0.2.4","text":"<ul> <li>\u652f\u6301\u591a\u5e01\u79cd\u8ba2\u5355</li> <li>\u65b0\u589e\u8ba2\u5355\u6a21\u677f\u529f\u80fd</li> <li>\u6539\u8fdb\u6027\u80fd\u548c\u7a33\u5b9a\u6027</li> </ul>"},{"location":"app_car/clr_order.html#_33","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/clr_order.html#_34","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u57fa\u7840\u5e93</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_error</code>: \u9519\u8bef\u5904\u7406\u6846\u67b6</li> <li><code>basic_track</code>: \u57cb\u70b9\u7edf\u8ba1\u670d\u52a1</li> </ul>"},{"location":"app_car/clr_order.html#_35","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>dio</code>: HTTP \u5ba2\u6237\u7aef</li> <li><code>json_annotation</code>: JSON \u5e8f\u5217\u5316</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b\u652f\u6301</li> </ul>"},{"location":"app_car/clr_order.html#_36","title":"\u90e8\u7f72\u8bf4\u660e","text":""},{"location":"app_car/clr_order.html#_37","title":"\u73af\u5883\u53d8\u91cf","text":"<pre><code>ORDER_API_BASE_URL=https://api.oneapp.com/order\nORDER_API_KEY=your_api_key_here\nPAYMENT_PROVIDER_STRIPE_KEY=pk_live_...\nPAYMENT_PROVIDER_ALIPAY_APP_ID=app_...\n</code></pre>"},{"location":"app_car/clr_order.html#_38","title":"\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>order:\n  timeout: 30s\n  retry_count: 3\n  cache_ttl: 300s\n\npayment:\n  providers:\n    - stripe\n    - alipay\n    - wechat_pay\n  security:\n    encryption: aes256\n    signature: hmac_sha256\n</code></pre>"},{"location":"app_car/clr_order.html#_39","title":"\u603b\u7ed3","text":"<p><code>clr_order</code> \u4f5c\u4e3a\u8ba2\u5355\u670d\u52a1\u7684\u6838\u5fc3 SDK\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8ba2\u5355\u751f\u547d\u5468\u671f\u7ba1\u7406\u80fd\u529b\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u8bbe\u8ba1\u3001\u53ef\u9760\u7684\u652f\u4ed8\u5904\u7406\u3001\u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u548c\u5b89\u5168\u4fdd\u969c\uff0c\u4e3a OneApp \u7684\u5404\u4e2a\u4e1a\u52a1\u6a21\u5757\u63d0\u4f9b\u4e86\u7a33\u5b9a\u9ad8\u6548\u7684\u8ba2\u5355\u670d\u52a1\u652f\u6301\u3002</p> <p>\u8be5\u6a21\u5757\u5728\u8bbe\u8ba1\u4e0a\u5145\u5206\u8003\u8651\u4e86\u53ef\u6269\u5c55\u6027\u3001\u5b89\u5168\u6027\u548c\u6027\u80fd\u8981\u6c42\uff0c\u80fd\u591f\u5f88\u597d\u5730\u652f\u6491\u8f66\u8f86\u76f8\u5173\u7684\u5404\u79cd\u8ba2\u5355\u4e1a\u52a1\u573a\u666f\uff0c\u662f OneApp \u7535\u5546\u548c\u670d\u52a1\u4f53\u7cfb\u7684\u91cd\u8981\u57fa\u7840\u8bbe\u65bd\u3002</p>"},{"location":"app_car/clr_touchgo.html","title":"CLR TouchGo - Touch&amp;Go \u670d\u52a1 SDK","text":""},{"location":"app_car/clr_touchgo.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_touchgo</code> \u662f OneApp Touch&amp;Go \u667a\u80fd\u4ea4\u4e92\u529f\u80fd\u7684\u6838\u5fc3\u670d\u52a1 SDK\uff0c\u63d0\u4f9b\u4e86\u514d\u63a5\u89e6\u5f0f\u8f66\u8f86\u64cd\u4f5c\u548c\u667a\u80fd\u611f\u77e5\u670d\u52a1\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u5148\u8fdb\u7684\u4f20\u611f\u5668\u6280\u672f\u3001\u624b\u52bf\u8bc6\u522b\u3001\u8bed\u97f3\u63a7\u5236\u7b49\u591a\u79cd\u4ea4\u4e92\u65b9\u5f0f\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u66f4\u4fbf\u6377\u3001\u66f4\u667a\u80fd\u7684\u8f66\u8f86\u63a7\u5236\u4f53\u9a8c\u3002</p>"},{"location":"app_car/clr_touchgo.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"app_car/clr_touchgo.html#1","title":"1. \u624b\u52bf\u63a7\u5236","text":"<ul> <li>\u624b\u52bf\u8bc6\u522b\uff1a\u652f\u6301\u591a\u79cd\u624b\u52bf\u7684\u5b9e\u65f6\u8bc6\u522b\u548c\u54cd\u5e94</li> <li>\u52a8\u4f5c\u6620\u5c04\uff1a\u5c06\u624b\u52bf\u52a8\u4f5c\u6620\u5c04\u5230\u5177\u4f53\u7684\u8f66\u8f86\u63a7\u5236\u6307\u4ee4</li> <li>\u7cbe\u5ea6\u4f18\u5316\uff1a\u9ad8\u7cbe\u5ea6\u7684\u624b\u52bf\u8bc6\u522b\u7b97\u6cd5</li> <li>\u81ea\u5b9a\u4e49\u624b\u52bf\uff1a\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u624b\u52bf\u6307\u4ee4</li> </ul>"},{"location":"app_car/clr_touchgo.html#2","title":"2. \u8bed\u97f3\u4ea4\u4e92","text":"<ul> <li>\u8bed\u97f3\u8bc6\u522b\uff1a\u9ad8\u7cbe\u5ea6\u7684\u8bed\u97f3\u8bc6\u522b\u5f15\u64ce</li> <li>\u8bed\u4e49\u7406\u89e3\uff1a\u667a\u80fd\u7406\u89e3\u7528\u6237\u610f\u56fe\u548c\u6307\u4ee4</li> <li>\u8bed\u97f3\u5408\u6210\uff1a\u81ea\u7136\u6d41\u7545\u7684\u8bed\u97f3\u53cd\u9988</li> <li>\u591a\u8bed\u8a00\u652f\u6301\uff1a\u652f\u6301\u591a\u79cd\u8bed\u8a00\u7684\u8bed\u97f3\u4ea4\u4e92</li> </ul>"},{"location":"app_car/clr_touchgo.html#3","title":"3. \u667a\u80fd\u611f\u77e5","text":"<ul> <li>\u73af\u5883\u611f\u77e5\uff1a\u611f\u77e5\u8f66\u8f86\u5468\u56f4\u73af\u5883\u72b6\u6001</li> <li>\u7528\u6237\u8bc6\u522b\uff1a\u8bc6\u522b\u548c\u8ba4\u8bc1\u6388\u6743\u7528\u6237</li> <li>\u884c\u4e3a\u9884\u6d4b\uff1a\u57fa\u4e8e\u5386\u53f2\u6570\u636e\u9884\u6d4b\u7528\u6237\u884c\u4e3a</li> <li>\u573a\u666f\u9002\u914d\uff1a\u6839\u636e\u4e0d\u540c\u573a\u666f\u81ea\u52a8\u8c03\u6574\u4ea4\u4e92\u65b9\u5f0f</li> </ul>"},{"location":"app_car/clr_touchgo.html#4","title":"4. \u514d\u63a5\u89e6\u64cd\u4f5c","text":"<ul> <li>\u8fdc\u7a0b\u63a7\u5236\uff1a\u652f\u6301\u8fdc\u8ddd\u79bb\u7684\u8f66\u8f86\u63a7\u5236</li> <li>\u81ea\u52a8\u6267\u884c\uff1a\u57fa\u4e8e\u6761\u4ef6\u81ea\u52a8\u6267\u884c\u9884\u8bbe\u64cd\u4f5c</li> <li>\u5b89\u5168\u9a8c\u8bc1\uff1a\u591a\u91cd\u5b89\u5168\u9a8c\u8bc1\u786e\u4fdd\u64cd\u4f5c\u5b89\u5168</li> <li>\u5b9e\u65f6\u53cd\u9988\uff1a\u64cd\u4f5c\u7ed3\u679c\u7684\u5b9e\u65f6\u53cd\u9988</li> </ul>"},{"location":"app_car/clr_touchgo.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/clr_touchgo.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u5c42                    \u2502\n\u2502      (app_touchgo, app_car)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         CLR TouchGo SDK             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u624b\u52bf\u8bc6\u522b \u2502 \u8bed\u97f3\u63a7\u5236 \u2502 \u667a\u80fd\u611f\u77e5 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u4f20\u611f\u5668   \u2502 AI\u5f15\u64ce   \u2502 \u5b89\u5168\u6a21\u5757 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u786c\u4ef6\u62bd\u8c61\u5c42                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u6444\u50cf\u5934   \u2502 \u9ea6\u514b\u98ce   \u2502 \u8ddd\u79bb\u4f20\u611f \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            \u8f66\u8f7d\u7cfb\u7edf                  \u2502\n\u2502       (CAN Bus, ECU, etc.)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"app_car/clr_touchgo.html#1_gestureengine","title":"1. \u624b\u52bf\u8bc6\u522b\u5f15\u64ce (GestureEngine)","text":"<pre><code>class GestureEngine {\n  // \u521d\u59cb\u5316\u624b\u52bf\u8bc6\u522b\n  Future&lt;bool&gt; initialize();\n\n  // \u5f00\u59cb\u624b\u52bf\u68c0\u6d4b\n  Future&lt;void&gt; startDetection();\n\n  // \u505c\u6b62\u624b\u52bf\u68c0\u6d4b\n  Future&lt;void&gt; stopDetection();\n\n  // \u6ce8\u518c\u624b\u52bf\u5904\u7406\u5668\n  void registerGestureHandler(GestureType type, GestureHandler handler);\n\n  // \u6821\u51c6\u624b\u52bf\u8bc6\u522b\n  Future&lt;bool&gt; calibrateGesture(GestureType type);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#2_voiceengine","title":"2. \u8bed\u97f3\u63a7\u5236\u5f15\u64ce (VoiceEngine)","text":"<pre><code>class VoiceEngine {\n  // \u521d\u59cb\u5316\u8bed\u97f3\u5f15\u64ce\n  Future&lt;bool&gt; initialize(VoiceConfig config);\n\n  // \u5f00\u59cb\u8bed\u97f3\u76d1\u542c\n  Future&lt;void&gt; startListening();\n\n  // \u505c\u6b62\u8bed\u97f3\u76d1\u542c\n  Future&lt;void&gt; stopListening();\n\n  // \u8bed\u97f3\u5408\u6210\n  Future&lt;void&gt; speak(String text, VoiceSettings settings);\n\n  // \u8bbe\u7f6e\u8bed\u97f3\u8bc6\u522b\u8bed\u8a00\n  Future&lt;void&gt; setLanguage(String languageCode);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#3_sensingmanager","title":"3. \u667a\u80fd\u611f\u77e5\u7ba1\u7406\u5668 (SensingManager)","text":"<pre><code>class SensingManager {\n  // \u5f00\u59cb\u73af\u5883\u611f\u77e5\n  Future&lt;void&gt; startEnvironmentSensing();\n\n  // \u7528\u6237\u8eab\u4efd\u8bc6\u522b\n  Future&lt;UserIdentity&gt; identifyUser();\n\n  // \u83b7\u53d6\u73af\u5883\u72b6\u6001\n  Future&lt;EnvironmentState&gt; getEnvironmentState();\n\n  // \u9884\u6d4b\u7528\u6237\u884c\u4e3a\n  Future&lt;List&lt;PredictedAction&gt;&gt; predictUserActions();\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#4_securitymodule","title":"4. \u5b89\u5168\u9a8c\u8bc1\u6a21\u5757 (SecurityModule)","text":"<pre><code>class SecurityModule {\n  // \u751f\u7269\u7279\u5f81\u9a8c\u8bc1\n  Future&lt;bool&gt; verifyBiometrics(BiometricData data);\n\n  // \u591a\u56e0\u5b50\u8ba4\u8bc1\n  Future&lt;bool&gt; multiFactorAuth(List&lt;AuthFactor&gt; factors);\n\n  // \u64cd\u4f5c\u6743\u9650\u68c0\u67e5\n  Future&lt;bool&gt; checkPermission(String userId, Operation operation);\n\n  // \u5b89\u5168\u65e5\u5fd7\u8bb0\u5f55\n  Future&lt;void&gt; logSecurityEvent(SecurityEvent event);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"app_car/clr_touchgo.html#_7","title":"\u624b\u52bf\u6a21\u578b","text":"<pre><code>enum GestureType {\n  swipeLeft,      // \u5de6\u6ed1\n  swipeRight,     // \u53f3\u6ed1\n  swipeUp,        // \u4e0a\u6ed1\n  swipeDown,      // \u4e0b\u6ed1\n  pinch,          // \u634f\u5408\n  spread,         // \u5c55\u5f00\n  tap,            // \u70b9\u51fb\n  longPress,      // \u957f\u6309\n  circle,         // \u753b\u5708\n  custom          // \u81ea\u5b9a\u4e49\n}\n\nclass Gesture {\n  final GestureType type;\n  final List&lt;Point&gt; trajectory;\n  final double confidence;\n  final DateTime timestamp;\n  final Map&lt;String, dynamic&gt; metadata;\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_8","title":"\u8bed\u97f3\u6a21\u578b","text":"<pre><code>class VoiceCommand {\n  final String text;\n  final String intent;\n  final Map&lt;String, String&gt; entities;\n  final double confidence;\n  final String languageCode;\n  final DateTime timestamp;\n}\n\nclass VoiceResponse {\n  final String text;\n  final VoiceSettings settings;\n  final Duration duration;\n  final AudioFormat format;\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_9","title":"\u611f\u77e5\u6a21\u578b","text":"<pre><code>class EnvironmentState {\n  final double lighting;\n  final double noise;\n  final double temperature;\n  final List&lt;DetectedObject&gt; objects;\n  final List&lt;DetectedPerson&gt; persons;\n  final DateTime timestamp;\n}\n\nclass UserIdentity {\n  final String userId;\n  final String name;\n  final double confidence;\n  final BiometricData biometrics;\n  final List&lt;String&gt; permissions;\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#api","title":"API \u63a5\u53e3","text":""},{"location":"app_car/clr_touchgo.html#_10","title":"\u624b\u52bf\u63a7\u5236\u63a5\u53e3","text":"<pre><code>abstract class GestureService {\n  // \u914d\u7f6e\u624b\u52bf\u8bc6\u522b\n  Future&lt;ApiResponse&lt;bool&gt;&gt; configureGesture(GestureConfig config);\n\n  // \u6267\u884c\u624b\u52bf\u6307\u4ee4\n  Future&lt;ApiResponse&lt;CommandResult&gt;&gt; executeGestureCommand(GestureCommand command);\n\n  // \u83b7\u53d6\u652f\u6301\u7684\u624b\u52bf\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;GestureType&gt;&gt;&gt; getSupportedGestures();\n\n  // \u8bad\u7ec3\u81ea\u5b9a\u4e49\u624b\u52bf\n  Future&lt;ApiResponse&lt;bool&gt;&gt; trainCustomGesture(CustomGestureData data);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_11","title":"\u8bed\u97f3\u63a7\u5236\u63a5\u53e3","text":"<pre><code>abstract class VoiceService {\n  // \u5904\u7406\u8bed\u97f3\u6307\u4ee4\n  Future&lt;ApiResponse&lt;CommandResult&gt;&gt; processVoiceCommand(VoiceCommand command);\n\n  // \u83b7\u53d6\u8bed\u97f3\u914d\u7f6e\n  Future&lt;ApiResponse&lt;VoiceConfig&gt;&gt; getVoiceConfig();\n\n  // \u66f4\u65b0\u8bed\u97f3\u8bbe\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updateVoiceSettings(VoiceSettings settings);\n\n  // \u83b7\u53d6\u652f\u6301\u7684\u8bed\u8a00\n  Future&lt;ApiResponse&lt;List&lt;Language&gt;&gt;&gt; getSupportedLanguages();\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_12","title":"\u667a\u80fd\u611f\u77e5\u63a5\u53e3","text":"<pre><code>abstract class SensingService {\n  // \u83b7\u53d6\u73af\u5883\u72b6\u6001\n  Future&lt;ApiResponse&lt;EnvironmentState&gt;&gt; getEnvironmentState();\n\n  // \u8bc6\u522b\u7528\u6237\u8eab\u4efd\n  Future&lt;ApiResponse&lt;UserIdentity&gt;&gt; identifyUser(BiometricData data);\n\n  // \u83b7\u53d6\u884c\u4e3a\u9884\u6d4b\n  Future&lt;ApiResponse&lt;List&lt;PredictedAction&gt;&gt;&gt; getPredictedActions(String userId);\n\n  // \u66f4\u65b0\u611f\u77e5\u914d\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updateSensingConfig(SensingConfig config);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"app_car/clr_touchgo.html#_14","title":"\u624b\u52bf\u914d\u7f6e","text":"<pre><code>class GestureConfig {\n  final double sensitivity;\n  final double timeoutMs;\n  final bool enableCustomGestures;\n  final Map&lt;GestureType, GestureSettings&gt; gestureSettings;\n\n  static const GestureConfig defaultConfig = GestureConfig(\n    sensitivity: 0.8,\n    timeoutMs: 3000,\n    enableCustomGestures: true,\n    gestureSettings: {\n      GestureType.swipeLeft: GestureSettings(threshold: 50.0),\n      GestureType.swipeRight: GestureSettings(threshold: 50.0),\n      // ... other gestures\n    },\n  );\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_15","title":"\u8bed\u97f3\u914d\u7f6e","text":"<pre><code>class VoiceConfig {\n  final String languageCode;\n  final double noiseReduction;\n  final bool continuousListening;\n  final VoiceModel model;\n  final Map&lt;String, dynamic&gt; customSettings;\n\n  static const VoiceConfig defaultConfig = VoiceConfig(\n    languageCode: 'zh-CN',\n    noiseReduction: 0.7,\n    continuousListening: false,\n    model: VoiceModel.enhanced,\n    customSettings: {},\n  );\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_16","title":"\u7b97\u6cd5\u548c\u6a21\u578b","text":""},{"location":"app_car/clr_touchgo.html#_17","title":"\u624b\u52bf\u8bc6\u522b\u7b97\u6cd5","text":"<pre><code>class GestureRecognitionAlgorithm {\n  // \u7279\u5f81\u63d0\u53d6\n  List&lt;Feature&gt; extractFeatures(List&lt;Point&gt; trajectory);\n\n  // \u6a21\u5f0f\u5339\u914d\n  GestureMatch matchPattern(List&lt;Feature&gt; features);\n\n  // \u7f6e\u4fe1\u5ea6\u8ba1\u7b97\n  double calculateConfidence(GestureMatch match);\n\n  // \u6a21\u578b\u8bad\u7ec3\n  Future&lt;bool&gt; trainModel(List&lt;TrainingData&gt; data);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_18","title":"\u8bed\u97f3\u8bc6\u522b\u6a21\u578b","text":"<pre><code>class VoiceRecognitionModel {\n  // \u97f3\u9891\u9884\u5904\u7406\n  AudioFeatures preprocessAudio(AudioData audio);\n\n  // \u8bed\u97f3\u8f6c\u6587\u672c\n  String speechToText(AudioFeatures features);\n\n  // \u610f\u56fe\u8bc6\u522b\n  Intent recognizeIntent(String text);\n\n  // \u5b9e\u4f53\u62bd\u53d6\n  Map&lt;String, String&gt; extractEntities(String text);\n}\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_19","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"app_car/clr_touchgo.html#_20","title":"\u624b\u52bf\u63a7\u5236\u793a\u4f8b","text":"<pre><code>// \u521d\u59cb\u5316\u624b\u52bf\u5f15\u64ce\nfinal gestureEngine = GestureEngine.instance;\nawait gestureEngine.initialize();\n\n// \u6ce8\u518c\u624b\u52bf\u5904\u7406\u5668\ngestureEngine.registerGestureHandler(\n  GestureType.swipeLeft,\n  (gesture) async {\n    // \u6267\u884c\u5de6\u6ed1\u64cd\u4f5c\uff1a\u6253\u5f00\u8f66\u95e8\n    await CarController.instance.openDoor(DoorPosition.driver);\n  },\n);\n\n// \u5f00\u59cb\u624b\u52bf\u68c0\u6d4b\nawait gestureEngine.startDetection();\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_21","title":"\u8bed\u97f3\u63a7\u5236\u793a\u4f8b","text":"<pre><code>// \u521d\u59cb\u5316\u8bed\u97f3\u5f15\u64ce\nfinal voiceEngine = VoiceEngine.instance;\nawait voiceEngine.initialize(VoiceConfig.defaultConfig);\n\n// \u8bbe\u7f6e\u8bed\u97f3\u6307\u4ee4\u5904\u7406\u5668\nvoiceEngine.onVoiceCommand.listen((command) async {\n  switch (command.intent) {\n    case 'start_engine':\n      await CarController.instance.startEngine();\n      await voiceEngine.speak('\u5f15\u64ce\u5df2\u542f\u52a8');\n      break;\n    case 'open_window':\n      await CarController.instance.openWindow();\n      await voiceEngine.speak('\u8f66\u7a97\u5df2\u6253\u5f00');\n      break;\n  }\n});\n\n// \u5f00\u59cb\u8bed\u97f3\u76d1\u542c\nawait voiceEngine.startListening();\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_22","title":"\u667a\u80fd\u611f\u77e5\u793a\u4f8b","text":"<pre><code>// \u521d\u59cb\u5316\u611f\u77e5\u7ba1\u7406\u5668\nfinal sensingManager = SensingManager.instance;\n\n// \u5f00\u59cb\u73af\u5883\u611f\u77e5\nawait sensingManager.startEnvironmentSensing();\n\n// \u76d1\u542c\u7528\u6237\u63a5\u8fd1\u4e8b\u4ef6\nsensingManager.onUserApproaching.listen((user) async {\n  // \u7528\u6237\u63a5\u8fd1\u65f6\u81ea\u52a8\u89e3\u9501\u8f66\u8f86\n  if (user.isAuthorized) {\n    await CarController.instance.unlockVehicle();\n\n    // \u6839\u636e\u7528\u6237\u504f\u597d\u8c03\u6574\u8f66\u5185\u73af\u5883\n    final preferences = await getUserPreferences(user.id);\n    await CarController.instance.applyPreferences(preferences);\n  }\n});\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_23","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/clr_touchgo.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('GestureEngine Tests', () {\n  test('should recognize swipe left gesture', () async {\n    // Given\n    final trajectory = [\n      Point(100, 50),\n      Point(80, 50),\n      Point(60, 50),\n      Point(40, 50),\n      Point(20, 50),\n    ];\n\n    // When\n    final gesture = await gestureEngine.recognizeGesture(trajectory);\n\n    // Then\n    expect(gesture.type, GestureType.swipeLeft);\n    expect(gesture.confidence, greaterThan(0.8));\n  });\n});\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('TouchGo Integration Tests', () {\n  testWidgets('complete gesture control flow', (tester) async {\n    // 1. \u521d\u59cb\u5316\u7cfb\u7edf\n    await TouchGoService.initialize();\n\n    // 2. \u6a21\u62df\u624b\u52bf\u8f93\u5165\n    await tester.simulateGesture(GestureType.swipeLeft);\n\n    // 3. \u9a8c\u8bc1\u8f66\u8f86\u54cd\u5e94\n    verify(mockCarController.openDoor(DoorPosition.driver));\n  });\n});\n</code></pre>"},{"location":"app_car/clr_touchgo.html#_26","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/clr_touchgo.html#_27","title":"\u7b97\u6cd5\u4f18\u5316","text":"<ul> <li>\u7279\u5f81\u7f13\u5b58\uff1a\u7f13\u5b58\u5e38\u7528\u7684\u7279\u5f81\u8ba1\u7b97\u7ed3\u679c</li> <li>\u6a21\u578b\u538b\u7f29\uff1a\u4f7f\u7528\u8f7b\u91cf\u7ea7\u7684\u8bc6\u522b\u6a21\u578b</li> <li>\u5e76\u884c\u5904\u7406\uff1a\u591a\u7ebf\u7a0b\u5904\u7406\u97f3\u89c6\u9891\u6570\u636e</li> <li>\u589e\u91cf\u5b66\u4e60\uff1a\u5728\u7ebf\u5b66\u4e60\u4f18\u5316\u8bc6\u522b\u7cbe\u5ea6</li> </ul>"},{"location":"app_car/clr_touchgo.html#_28","title":"\u8d44\u6e90\u7ba1\u7406","text":"<ul> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u97f3\u89c6\u9891\u6570\u636e</li> <li>CPU\u8c03\u5ea6\uff1a\u667a\u80fd\u8c03\u5ea6 AI \u8ba1\u7b97\u4efb\u52a1</li> <li>\u7535\u6c60\u4f18\u5316\uff1a\u6839\u636e\u7535\u91cf\u81ea\u52a8\u8c03\u6574\u529f\u80fd</li> <li>\u70ed\u91cf\u63a7\u5236\uff1a\u9632\u6b62\u957f\u65f6\u95f4\u8fd0\u884c\u8fc7\u70ed</li> </ul>"},{"location":"app_car/clr_touchgo.html#_29","title":"\u5b89\u5168\u548c\u9690\u79c1","text":""},{"location":"app_car/clr_touchgo.html#_30","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u672c\u5730\u5904\u7406\uff1a\u654f\u611f\u6570\u636e\u672c\u5730\u5904\u7406\uff0c\u4e0d\u4e0a\u4f20\u4e91\u7aef</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u751f\u7269\u7279\u5f81\u6570\u636e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u4e25\u683c\u7684\u6743\u9650\u63a7\u5236\u673a\u5236</li> <li>\u5ba1\u8ba1\u65e5\u5fd7\uff1a\u5b8c\u6574\u7684\u64cd\u4f5c\u5ba1\u8ba1\u8bb0\u5f55</li> </ul>"},{"location":"app_car/clr_touchgo.html#_31","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u6570\u636e\u6700\u5c0f\u5316\uff1a\u53ea\u6536\u96c6\u5fc5\u8981\u7684\u6570\u636e</li> <li>\u7528\u6237\u6388\u6743\uff1a\u660e\u786e\u7684\u7528\u6237\u6388\u6743\u673a\u5236</li> <li>\u6570\u636e\u9500\u6bc1\uff1a\u53ca\u65f6\u5220\u9664\u8fc7\u671f\u6570\u636e</li> <li>\u533f\u540d\u5316\uff1a\u654f\u611f\u6570\u636e\u533f\u540d\u5316\u5904\u7406</li> </ul>"},{"location":"app_car/clr_touchgo.html#_32","title":"\u76d1\u63a7\u548c\u8bca\u65ad","text":""},{"location":"app_car/clr_touchgo.html#_33","title":"\u6027\u80fd\u76d1\u63a7","text":"<ul> <li>\u8bc6\u522b\u7cbe\u5ea6\uff1a\u624b\u52bf\u548c\u8bed\u97f3\u8bc6\u522b\u7684\u51c6\u786e\u7387</li> <li>\u54cd\u5e94\u65f6\u95f4\uff1a\u4ece\u8f93\u5165\u5230\u6267\u884c\u7684\u5ef6\u8fdf</li> <li>\u8d44\u6e90\u4f7f\u7528\uff1aCPU\u3001\u5185\u5b58\u3001\u7535\u6c60\u4f7f\u7528\u60c5\u51b5</li> <li>\u9519\u8bef\u7387\uff1a\u7cfb\u7edf\u9519\u8bef\u548c\u5f02\u5e38\u7edf\u8ba1</li> </ul>"},{"location":"app_car/clr_touchgo.html#_34","title":"\u7528\u6237\u4f53\u9a8c\u76d1\u63a7","text":"<ul> <li>\u4f7f\u7528\u9891\u7387\uff1a\u5404\u529f\u80fd\u7684\u4f7f\u7528\u9891\u7387\u7edf\u8ba1</li> <li>\u7528\u6237\u6ee1\u610f\u5ea6\uff1a\u7528\u6237\u53cd\u9988\u548c\u8bc4\u5206</li> <li>\u5b66\u4e60\u6548\u679c\uff1a\u4e2a\u6027\u5316\u5b66\u4e60\u7684\u6539\u8fdb\u6548\u679c</li> <li>\u573a\u666f\u9002\u914d\uff1a\u4e0d\u540c\u573a\u666f\u4e0b\u7684\u8868\u73b0</li> </ul>"},{"location":"app_car/clr_touchgo.html#_35","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"app_car/clr_touchgo.html#v0267","title":"v0.2.6+7 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u591a\u8bed\u8a00\u8bed\u97f3\u652f\u6301</li> <li>\u4f18\u5316\u624b\u52bf\u8bc6\u522b\u7b97\u6cd5</li> <li>\u6539\u8fdb\u4f4e\u5149\u73af\u5883\u4e0b\u7684\u8bc6\u522b\u80fd\u529b</li> <li>\u4fee\u590d\u5df2\u77e5\u7a33\u5b9a\u6027\u95ee\u9898</li> </ul>"},{"location":"app_car/clr_touchgo.html#v025","title":"v0.2.5","text":"<ul> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u624b\u52bf\u8bad\u7ec3</li> <li>\u65b0\u589e\u8bed\u97f3\u60c5\u611f\u8bc6\u522b</li> <li>\u4f18\u5316\u7535\u6c60\u4f7f\u7528\u6548\u7387</li> <li>\u6539\u8fdb\u5b89\u5168\u9a8c\u8bc1\u6d41\u7a0b</li> </ul>"},{"location":"app_car/clr_touchgo.html#v024","title":"v0.2.4","text":"<ul> <li>\u652f\u6301\u79bb\u7ebf\u8bed\u97f3\u8bc6\u522b</li> <li>\u65b0\u589e\u73af\u5883\u81ea\u9002\u5e94\u529f\u80fd</li> <li>\u4f18\u5316\u8bc6\u522b\u7cbe\u5ea6</li> <li>\u4fee\u590d\u517c\u5bb9\u6027\u95ee\u9898</li> </ul>"},{"location":"app_car/clr_touchgo.html#_36","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/clr_touchgo.html#_37","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_platform</code>: \u5e73\u53f0\u62bd\u8c61\u5c42</li> <li><code>basic_error</code>: \u9519\u8bef\u5904\u7406\u6846\u67b6</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>kit_native_uikit</code>: \u539f\u751f UI \u7ec4\u4ef6</li> </ul>"},{"location":"app_car/clr_touchgo.html#_38","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>camera</code>: \u6444\u50cf\u5934\u8bbf\u95ee</li> <li><code>microphone</code>: \u9ea6\u514b\u98ce\u8bbf\u95ee</li> <li><code>sensors_plus</code>: \u4f20\u611f\u5668\u6570\u636e</li> <li><code>tflite_flutter</code>: TensorFlow Lite \u6a21\u578b</li> </ul>"},{"location":"app_car/clr_touchgo.html#_39","title":"\u786c\u4ef6\u8981\u6c42","text":""},{"location":"app_car/clr_touchgo.html#_40","title":"\u6700\u4f4e\u8981\u6c42","text":"<ul> <li>\u6444\u50cf\u5934: \u524d\u7f6e\u6444\u50cf\u5934\uff0c\u5206\u8fa8\u7387 \u2265 720p</li> <li>\u9ea6\u514b\u98ce: \u6570\u5b57\u9ea6\u514b\u98ce\uff0c\u964d\u566a\u652f\u6301</li> <li>\u5904\u7406\u5668: ARM64 \u67b6\u6784\uff0c\u2265 1.5GHz</li> <li>\u5185\u5b58: \u2265 2GB RAM</li> <li>\u5b58\u50a8: \u2265 500MB \u53ef\u7528\u7a7a\u95f4</li> </ul>"},{"location":"app_car/clr_touchgo.html#_41","title":"\u63a8\u8350\u914d\u7f6e","text":"<ul> <li>\u6444\u50cf\u5934: 1080p \u524d\u7f6e\u6444\u50cf\u5934\uff0c\u7ea2\u5916\u591c\u89c6</li> <li>\u9ea6\u514b\u98ce: \u9635\u5217\u9ea6\u514b\u98ce\uff0c\u56de\u58f0\u6d88\u9664</li> <li>\u5904\u7406\u5668: \u2265 2.0GHz \u591a\u6838\u5904\u7406\u5668</li> <li>\u5185\u5b58: \u2265 4GB RAM</li> <li>\u4f20\u611f\u5668: \u8ddd\u79bb\u4f20\u611f\u5668\u3001\u73af\u5883\u5149\u4f20\u611f\u5668</li> </ul>"},{"location":"app_car/clr_touchgo.html#_42","title":"\u603b\u7ed3","text":"<p><code>clr_touchgo</code> \u4f5c\u4e3a Touch&amp;Go \u667a\u80fd\u4ea4\u4e92\u7684\u6838\u5fc3 SDK\uff0c\u901a\u8fc7\u96c6\u6210\u5148\u8fdb\u7684 AI \u6280\u672f\u548c\u4f20\u611f\u5668\u878d\u5408\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u81ea\u7136\u3001\u4fbf\u6377\u3001\u5b89\u5168\u7684\u8f66\u8f86\u4ea4\u4e92\u4f53\u9a8c\u3002\u8be5\u6a21\u5757\u4e0d\u4ec5\u652f\u6301\u4f20\u7edf\u7684\u624b\u52bf\u548c\u8bed\u97f3\u63a7\u5236\uff0c\u8fd8\u5177\u5907\u667a\u80fd\u611f\u77e5\u548c\u9884\u6d4b\u80fd\u529b\uff0c\u80fd\u591f\u4e3b\u52a8\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u670d\u52a1\u3002</p> <p>\u901a\u8fc7\u6301\u7eed\u7684\u7b97\u6cd5\u4f18\u5316\u548c\u7528\u6237\u4f53\u9a8c\u6539\u8fdb\uff0cTouchGo \u6280\u672f\u5c06\u7ee7\u7eed\u5f15\u9886\u8f66\u8f86\u667a\u80fd\u4ea4\u4e92\u7684\u53d1\u5c55\u65b9\u5411\uff0c\u4e3a OneApp \u7528\u6237\u5e26\u6765\u66f4\u52a0\u667a\u80fd\u5316\u7684\u51fa\u884c\u4f53\u9a8c\u3002</p>"},{"location":"app_car/clr_wallbox.html","title":"CLR Wallbox \u5145\u7535\u5899\u76d2\u670d\u52a1SDK","text":""},{"location":"app_car/clr_wallbox.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_wallbox</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u5145\u7535\u5899\u76d2\u670d\u52a1SDK\uff0c\u8d1f\u8d23\u5145\u7535\u5899\u76d2\u8bbe\u5907\u7684\u901a\u4fe1\u534f\u8bae\u3001\u6570\u636e\u5904\u7406\u3001\u72b6\u6001\u7ba1\u7406\u548c\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u5145\u7535\u5899\u76d2\u5e94\u7528\u63d0\u4f9b\u5e95\u5c42\u7684\u8bbe\u5907\u63a7\u5236\u548c\u6570\u636e\u670d\u52a1\u80fd\u529b\u3002</p>"},{"location":"app_car/clr_wallbox.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: clr_wallbox</li> <li>\u7248\u672c: 0.2.14</li> <li>\u63cf\u8ff0: \u5145\u7535\u5899\u76d2\u670d\u52a1SDK</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/clr_wallbox.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/clr_wallbox.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u8bbe\u5907\u901a\u4fe1\u534f\u8bae    - OCPP\u534f\u8bae\u652f\u6301    - Modbus\u901a\u4fe1\u534f\u8bae    - WebSocket\u5b9e\u65f6\u901a\u4fe1    - HTTP RESTful API</p> </li> <li> <p>\u6570\u636e\u5904\u7406\u670d\u52a1    - \u5145\u7535\u6570\u636e\u89e3\u6790    - \u8bbe\u5907\u72b6\u6001\u5904\u7406    - \u914d\u7f6e\u53c2\u6570\u7ba1\u7406    - \u5386\u53f2\u6570\u636e\u5b58\u50a8</p> </li> <li> <p>\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5    - \u5145\u7535\u4f1a\u8bdd\u7ba1\u7406    - \u8ba1\u8d39\u903b\u8f91\u5904\u7406    - \u5b89\u5168\u9a8c\u8bc1\u673a\u5236    - \u5f02\u5e38\u5904\u7406\u6d41\u7a0b</p> </li> <li> <p>\u72b6\u6001\u76d1\u63a7\u7cfb\u7edf    - \u5b9e\u65f6\u72b6\u6001\u76d1\u63a7    - \u5065\u5eb7\u72b6\u6001\u68c0\u67e5    - \u5f02\u5e38\u544a\u8b66\u5904\u7406    - \u6027\u80fd\u6307\u6807\u7edf\u8ba1</p> </li> </ol>"},{"location":"app_car/clr_wallbox.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/clr_wallbox.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 clr_wallbox.dart            # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 protocols/              # \u901a\u4fe1\u534f\u8bae\n\u2502   \u251c\u2500\u2500 services/               # \u4e1a\u52a1\u670d\u52a1\n\u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u251c\u2500\u2500 repositories/           # \u6570\u636e\u4ed3\u5e93\n\u2502   \u251c\u2500\u2500 processors/             # \u6570\u636e\u5904\u7406\u5668\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n\u2514\u2500\u2500 generated/                  # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n</code></pre>"},{"location":"app_car/clr_wallbox.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/clr_wallbox.html#_8","title":"\u6838\u5fc3\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_network: ^0.2.3+4</code> - \u7f51\u7edc\u901a\u4fe1\u6846\u67b6</li> <li><code>basic_storage: ^0.2.2</code> - \u672c\u5730\u5b58\u50a8\u6846\u67b6</li> <li><code>basic_track: ^0.1.3</code> - \u6570\u636e\u57cb\u70b9</li> </ul>"},{"location":"app_car/clr_wallbox.html#_9","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>json_annotation: ^4.6.0</code> - JSON\u5e8f\u5217\u5316</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>freezed_annotation: ^2.0.3</code> - \u6570\u636e\u7c7b\u6ce8\u89e3</li> <li><code>path_provider: ^2.1.3</code> - \u6587\u4ef6\u8def\u5f84</li> <li><code>charset_converter: ^2.1.1</code> - \u5b57\u7b26\u7f16\u7801\u8f6c\u6362</li> </ul>"},{"location":"app_car/clr_wallbox.html#_10","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/clr_wallbox.html#1_clr_wallboxdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>clr_wallbox.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - SDK\u5bf9\u5916\u63a5\u53e3\u5bfc\u51fa - \u670d\u52a1\u521d\u59cb\u5316\u914d\u7f6e - \u4f9d\u8d56\u6ce8\u5165\u7ba1\u7406</p>"},{"location":"app_car/clr_wallbox.html#2_srcprotocols","title":"2. \u901a\u4fe1\u534f\u8bae (<code>src/protocols/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5145\u7535\u8bbe\u5907\u901a\u4fe1\u534f\u8bae\u5b9e\u73b0 - \u6d88\u606f\u7f16\u7801\u89e3\u7801\u5904\u7406 - \u534f\u8bae\u7248\u672c\u7ba1\u7406 - \u8fde\u63a5\u72b6\u6001\u7ef4\u62a4</p> <p>\u4e3b\u8981\u534f\u8bae: - <code>OCPPProtocol</code> - OCPP\u5145\u7535\u534f\u8bae - <code>ModbusProtocol</code> - Modbus\u5de5\u4e1a\u534f\u8bae - <code>WebSocketProtocol</code> - WebSocket\u5b9e\u65f6\u534f\u8bae - <code>HTTPProtocol</code> - HTTP REST\u534f\u8bae</p> <p>\u534f\u8bae\u7279\u6027: - OCPP 1.6/2.0: \u5f00\u653e\u5145\u7535\u70b9\u534f\u8bae - Modbus RTU/TCP: \u5de5\u4e1a\u6807\u51c6\u534f\u8bae - \u81ea\u5b9a\u4e49\u534f\u8bae: \u5382\u5546\u7279\u5b9a\u534f\u8bae - \u534f\u8bae\u9002\u914d: \u591a\u534f\u8bae\u7edf\u4e00\u63a5\u53e3</p>"},{"location":"app_car/clr_wallbox.html#3_srcservices","title":"3. \u4e1a\u52a1\u670d\u52a1 (<code>src/services/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5145\u7535\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5 - \u8bbe\u5907\u7ba1\u7406\u670d\u52a1 - \u7528\u6237\u8ba4\u8bc1\u670d\u52a1 - \u8ba1\u8d39\u7ed3\u7b97\u670d\u52a1</p> <p>\u4e3b\u8981\u670d\u52a1: - <code>ChargingService</code> - \u5145\u7535\u670d\u52a1 - <code>DeviceService</code> - \u8bbe\u5907\u670d\u52a1 - <code>AuthService</code> - \u8ba4\u8bc1\u670d\u52a1 - <code>BillingService</code> - \u8ba1\u8d39\u670d\u52a1 - <code>MonitoringService</code> - \u76d1\u63a7\u670d\u52a1</p>"},{"location":"app_car/clr_wallbox.html#4_srcmodels","title":"4. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5145\u7535\u8bbe\u5907\u6570\u636e\u6a21\u578b - \u534f\u8bae\u6d88\u606f\u6a21\u578b - \u4e1a\u52a1\u5b9e\u4f53\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>WallboxDevice</code> - \u5899\u76d2\u8bbe\u5907\u6a21\u578b - <code>ChargingSession</code> - \u5145\u7535\u4f1a\u8bdd\u6a21\u578b - <code>OCPPMessage</code> - OCPP\u6d88\u606f\u6a21\u578b - <code>DeviceStatus</code> - \u8bbe\u5907\u72b6\u6001\u6a21\u578b - <code>ChargingConfig</code> - \u5145\u7535\u914d\u7f6e\u6a21\u578b</p>"},{"location":"app_car/clr_wallbox.html#5_srcrepositories","title":"5. \u6570\u636e\u4ed3\u5e93 (<code>src/repositories/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8bbe\u5907\u6570\u636e\u6301\u4e45\u5316 - \u5145\u7535\u8bb0\u5f55\u5b58\u50a8 - \u914d\u7f6e\u4fe1\u606f\u7ba1\u7406 - \u7f13\u5b58\u6570\u636e\u5904\u7406</p> <p>\u4e3b\u8981\u4ed3\u5e93: - <code>DeviceRepository</code> - \u8bbe\u5907\u6570\u636e\u4ed3\u5e93 - <code>SessionRepository</code> - \u4f1a\u8bdd\u6570\u636e\u4ed3\u5e93 - <code>ConfigRepository</code> - \u914d\u7f6e\u6570\u636e\u4ed3\u5e93 - <code>LogRepository</code> - \u65e5\u5fd7\u6570\u636e\u4ed3\u5e93</p>"},{"location":"app_car/clr_wallbox.html#6_srcprocessors","title":"6. \u6570\u636e\u5904\u7406\u5668 (<code>src/processors/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u534f\u8bae\u6570\u636e\u89e3\u6790 - \u4e1a\u52a1\u6570\u636e\u8f6c\u6362 - \u72b6\u6001\u6570\u636e\u5904\u7406 - \u5f02\u5e38\u6570\u636e\u8fc7\u6ee4</p> <p>\u4e3b\u8981\u5904\u7406\u5668: - <code>MessageProcessor</code> - \u6d88\u606f\u5904\u7406\u5668 - <code>StatusProcessor</code> - \u72b6\u6001\u5904\u7406\u5668 - <code>DataConverter</code> - \u6570\u636e\u8f6c\u6362\u5668 - <code>ExceptionHandler</code> - \u5f02\u5e38\u5904\u7406\u5668</p>"},{"location":"app_car/clr_wallbox.html#7_srcutils","title":"7. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u534f\u8bae\u5de5\u5177\u65b9\u6cd5 - \u6570\u636e\u9a8c\u8bc1\u5de5\u5177 - \u52a0\u5bc6\u89e3\u5bc6\u5de5\u5177 - \u65f6\u95f4\u5904\u7406\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>ProtocolUtils</code> - \u534f\u8bae\u5de5\u5177 - <code>CryptoUtils</code> - \u52a0\u5bc6\u5de5\u5177 - <code>ValidationUtils</code> - \u9a8c\u8bc1\u5de5\u5177 - <code>TimeUtils</code> - \u65f6\u95f4\u5de5\u5177</p>"},{"location":"app_car/clr_wallbox.html#_11","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/clr_wallbox.html#_12","title":"\u5145\u7535\u542f\u52a8\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u7528\u6237\u8bf7\u6c42\u5145\u7535] --&gt; B[\u8bbe\u5907\u72b6\u6001\u68c0\u67e5]\n    B --&gt; C{\u8bbe\u5907\u662f\u5426\u53ef\u7528}\n    C --&gt;|\u5426| D[\u8fd4\u56de\u8bbe\u5907\u4e0d\u53ef\u7528]\n    C --&gt;|\u662f| E[\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1]\n    E --&gt; F{\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7}\n    F --&gt;|\u5426| G[\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25]\n    F --&gt;|\u662f| H[\u53d1\u9001\u5145\u7535\u542f\u52a8\u6307\u4ee4]\n    H --&gt; I[\u8bbe\u5907\u54cd\u5e94\u5904\u7406]\n    I --&gt; J{\u542f\u52a8\u662f\u5426\u6210\u529f}\n    J --&gt;|\u662f| K[\u521b\u5efa\u5145\u7535\u4f1a\u8bdd]\n    J --&gt;|\u5426| L[\u8fd4\u56de\u542f\u52a8\u5931\u8d25]\n    K --&gt; M[\u5f00\u59cb\u5145\u7535\u76d1\u63a7]\n    M --&gt; N[\u8bb0\u5f55\u5145\u7535\u6570\u636e]\n    N --&gt; O[\u66f4\u65b0\u5145\u7535\u72b6\u6001]\n    O --&gt; P{\u5145\u7535\u662f\u5426\u5b8c\u6210}\n    P --&gt;|\u5426| N\n    P --&gt;|\u662f| Q[\u7ed3\u675f\u5145\u7535\u4f1a\u8bdd]\n    Q --&gt; R[\u751f\u6210\u5145\u7535\u62a5\u544a]</code></pre>"},{"location":"app_car/clr_wallbox.html#ocpp","title":"OCPP\u6d88\u606f\u5904\u7406\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u63a5\u6536OCPP\u6d88\u606f] --&gt; B[\u6d88\u606f\u683c\u5f0f\u9a8c\u8bc1]\n    B --&gt; C{\u683c\u5f0f\u662f\u5426\u6b63\u786e}\n    C --&gt;|\u5426| D[\u8fd4\u56de\u683c\u5f0f\u9519\u8bef]\n    C --&gt;|\u662f| E[\u89e3\u6790\u6d88\u606f\u5185\u5bb9]\n    E --&gt; F[\u8bc6\u522b\u6d88\u606f\u7c7b\u578b]\n    F --&gt; G[\u8def\u7531\u5230\u5bf9\u5e94\u5904\u7406\u5668]\n    G --&gt; H[\u6267\u884c\u4e1a\u52a1\u903b\u8f91]\n    H --&gt; I[\u751f\u6210\u54cd\u5e94\u6d88\u606f]\n    I --&gt; J[\u5e8f\u5217\u5316\u54cd\u5e94]\n    J --&gt; K[\u53d1\u9001\u54cd\u5e94\u6d88\u606f]\n    K --&gt; L[\u8bb0\u5f55\u5904\u7406\u65e5\u5fd7]</code></pre>"},{"location":"app_car/clr_wallbox.html#ocpp_1","title":"OCPP\u534f\u8bae\u8bbe\u8ba1","text":""},{"location":"app_car/clr_wallbox.html#_13","title":"\u6d88\u606f\u7c7b\u578b","text":"<ol> <li> <p>\u6838\u5fc3\u6d88\u606f    - <code>Authorize</code> - \u6388\u6743\u9a8c\u8bc1    - <code>StartTransaction</code> - \u5f00\u59cb\u5145\u7535    - <code>StopTransaction</code> - \u505c\u6b62\u5145\u7535    - <code>Heartbeat</code> - \u5fc3\u8df3\u6d88\u606f</p> </li> <li> <p>\u72b6\u6001\u6d88\u606f    - <code>StatusNotification</code> - \u72b6\u6001\u901a\u77e5    - <code>MeterValues</code> - \u7535\u8868\u6570\u503c    - <code>BootNotification</code> - \u542f\u52a8\u901a\u77e5    - <code>DataTransfer</code> - \u6570\u636e\u4f20\u8f93</p> </li> <li> <p>\u914d\u7f6e\u6d88\u606f    - <code>ChangeConfiguration</code> - \u4fee\u6539\u914d\u7f6e    - <code>GetConfiguration</code> - \u83b7\u53d6\u914d\u7f6e    - <code>Reset</code> - \u91cd\u7f6e\u8bbe\u5907    - <code>UnlockConnector</code> - \u89e3\u9501\u8fde\u63a5\u5668</p> </li> </ol>"},{"location":"app_car/clr_wallbox.html#_14","title":"\u6d88\u606f\u7ed3\u6784","text":"<pre><code>{\n  \"messageTypeId\": 2,\n  \"uniqueId\": \"19223201\",\n  \"action\": \"Heartbeat\",\n  \"payload\": {}\n}\n</code></pre>"},{"location":"app_car/clr_wallbox.html#_15","title":"\u6570\u636e\u5b58\u50a8\u8bbe\u8ba1","text":""},{"location":"app_car/clr_wallbox.html#_16","title":"\u672c\u5730\u5b58\u50a8","text":"<ol> <li> <p>\u8bbe\u5907\u914d\u7f6e    - \u8bbe\u5907\u57fa\u672c\u4fe1\u606f    - \u901a\u4fe1\u53c2\u6570    - \u5145\u7535\u53c2\u6570    - \u5b89\u5168\u914d\u7f6e</p> </li> <li> <p>\u5145\u7535\u8bb0\u5f55    - \u5145\u7535\u4f1a\u8bdd\u6570\u636e    - \u7535\u91cf\u6d88\u8017\u8bb0\u5f55    - \u65f6\u95f4\u6233\u4fe1\u606f    - \u7528\u6237\u4fe1\u606f</p> </li> <li> <p>\u72b6\u6001\u6570\u636e    - \u8bbe\u5907\u5f53\u524d\u72b6\u6001    - \u9519\u8bef\u4fe1\u606f    - \u6027\u80fd\u6307\u6807    - \u8bca\u65ad\u6570\u636e</p> </li> </ol>"},{"location":"app_car/clr_wallbox.html#_17","title":"\u6570\u636e\u540c\u6b65","text":"<ul> <li>\u589e\u91cf\u540c\u6b65: \u4ec5\u540c\u6b65\u53d8\u5316\u6570\u636e</li> <li>\u5168\u91cf\u540c\u6b65: \u5b9a\u671f\u5168\u91cf\u540c\u6b65</li> <li>\u51b2\u7a81\u89e3\u51b3: \u6570\u636e\u51b2\u7a81\u5904\u7406\u7b56\u7565</li> <li>\u7248\u672c\u63a7\u5236: \u6570\u636e\u7248\u672c\u7ba1\u7406</li> </ul>"},{"location":"app_car/clr_wallbox.html#_18","title":"\u5b89\u5168\u673a\u5236","text":""},{"location":"app_car/clr_wallbox.html#_19","title":"\u901a\u4fe1\u5b89\u5168","text":"<ul> <li>TLS\u52a0\u5bc6: \u4f20\u8f93\u5c42\u5b89\u5168</li> <li>\u8bc1\u4e66\u9a8c\u8bc1: \u8bbe\u5907\u8eab\u4efd\u9a8c\u8bc1</li> <li>\u6d88\u606f\u7b7e\u540d: \u6d88\u606f\u5b8c\u6574\u6027\u9a8c\u8bc1</li> <li>\u9632\u91cd\u653e: \u9632\u6b62\u91cd\u653e\u653b\u51fb</li> </ul>"},{"location":"app_car/clr_wallbox.html#_20","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u654f\u611f\u6570\u636e\u52a0\u5bc6: \u672c\u5730\u6570\u636e\u52a0\u5bc6</li> <li>\u8bbf\u95ee\u63a7\u5236: \u6570\u636e\u8bbf\u95ee\u6743\u9650</li> <li>\u5ba1\u8ba1\u65e5\u5fd7: \u64cd\u4f5c\u5ba1\u8ba1\u8bb0\u5f55</li> <li>\u5b89\u5168\u64e6\u9664: \u6570\u636e\u5b89\u5168\u5220\u9664</li> </ul>"},{"location":"app_car/clr_wallbox.html#_21","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/clr_wallbox.html#_22","title":"\u901a\u4fe1\u4f18\u5316","text":"<ul> <li>\u8fde\u63a5\u6c60: \u590d\u7528\u7f51\u7edc\u8fde\u63a5</li> <li>\u6d88\u606f\u6279\u5904\u7406: \u6279\u91cf\u5904\u7406\u6d88\u606f</li> <li>\u538b\u7f29\u4f20\u8f93: \u6570\u636e\u538b\u7f29\u4f20\u8f93</li> <li>\u5f02\u6b65\u5904\u7406: \u975e\u963b\u585e\u6d88\u606f\u5904\u7406</li> </ul>"},{"location":"app_car/clr_wallbox.html#_23","title":"\u5b58\u50a8\u4f18\u5316","text":"<ul> <li>\u6570\u636e\u538b\u7f29: \u5b58\u50a8\u7a7a\u95f4\u4f18\u5316</li> <li>\u7d22\u5f15\u4f18\u5316: \u67e5\u8be2\u6027\u80fd\u4f18\u5316</li> <li>\u7f13\u5b58\u7b56\u7565: \u70ed\u70b9\u6570\u636e\u7f13\u5b58</li> <li>\u6e05\u7406\u673a\u5236: \u8fc7\u671f\u6570\u636e\u6e05\u7406</li> </ul>"},{"location":"app_car/clr_wallbox.html#_24","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/clr_wallbox.html#_25","title":"\u9519\u8bef\u5206\u7c7b","text":"<ol> <li> <p>\u901a\u4fe1\u9519\u8bef    - \u7f51\u7edc\u8fde\u63a5\u5931\u8d25    - \u534f\u8bae\u89e3\u6790\u9519\u8bef    - \u8d85\u65f6\u9519\u8bef    - \u670d\u52a1\u4e0d\u53ef\u7528</p> </li> <li> <p>\u4e1a\u52a1\u9519\u8bef    - \u8ba4\u8bc1\u5931\u8d25    - \u53c2\u6570\u65e0\u6548    - \u72b6\u6001\u51b2\u7a81    - \u8d44\u6e90\u4e0d\u8db3</p> </li> <li> <p>\u7cfb\u7edf\u9519\u8bef    - \u5185\u5b58\u4e0d\u8db3    - \u5b58\u50a8\u7a7a\u95f4\u4e0d\u591f    - \u7cfb\u7edf\u5f02\u5e38    - \u786c\u4ef6\u6545\u969c</p> </li> </ol>"},{"location":"app_car/clr_wallbox.html#_26","title":"\u5904\u7406\u7b56\u7565","text":"<ul> <li>\u91cd\u8bd5\u673a\u5236: \u81ea\u52a8\u91cd\u8bd5\u5931\u8d25\u64cd\u4f5c</li> <li>\u964d\u7ea7\u5904\u7406: \u670d\u52a1\u964d\u7ea7\u7b56\u7565</li> <li>\u8865\u507f\u673a\u5236: \u4e8b\u52a1\u8865\u507f\u5904\u7406</li> <li>\u544a\u8b66\u901a\u77e5: \u5f02\u5e38\u60c5\u51b5\u544a\u8b66</li> </ul>"},{"location":"app_car/clr_wallbox.html#_27","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/clr_wallbox.html#_28","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u534f\u8bae\u89e3\u6790\u6d4b\u8bd5: \u6d88\u606f\u7f16\u89e3\u7801</li> <li>\u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5: \u5145\u7535\u6d41\u7a0b</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5: \u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u5de5\u5177\u65b9\u6cd5\u529f\u80fd</li> </ul>"},{"location":"app_car/clr_wallbox.html#_29","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u534f\u8bae\u96c6\u6210\u6d4b\u8bd5: \u8bbe\u5907\u901a\u4fe1</li> <li>\u6570\u636e\u5e93\u96c6\u6210\u6d4b\u8bd5: \u6570\u636e\u6301\u4e45\u5316</li> <li>\u670d\u52a1\u96c6\u6210\u6d4b\u8bd5: \u7aef\u5230\u7aef\u6d41\u7a0b</li> <li>\u7b2c\u4e09\u65b9\u96c6\u6210\u6d4b\u8bd5: \u5916\u90e8\u7cfb\u7edf</li> </ul>"},{"location":"app_car/clr_wallbox.html#_30","title":"\u517c\u5bb9\u6027\u6d4b\u8bd5","text":"<ul> <li>\u8bbe\u5907\u517c\u5bb9\u6027: \u4e0d\u540c\u5382\u5546\u8bbe\u5907</li> <li>\u534f\u8bae\u7248\u672c: OCPP\u4e0d\u540c\u7248\u672c</li> <li>\u7f51\u7edc\u73af\u5883: \u4e0d\u540c\u7f51\u7edc\u6761\u4ef6</li> <li>\u5e76\u53d1\u6d4b\u8bd5: \u591a\u8bbe\u5907\u5e76\u53d1</li> </ul>"},{"location":"app_car/clr_wallbox.html#_31","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/clr_wallbox.html#_32","title":"\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u73af\u5883\u914d\u7f6e: \u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7</li> <li>\u534f\u8bae\u914d\u7f6e: \u534f\u8bae\u53c2\u6570\u8bbe\u7f6e</li> <li>\u5b89\u5168\u914d\u7f6e: \u8bc1\u4e66\u548c\u5bc6\u94a5\u7ba1\u7406</li> <li>\u6027\u80fd\u914d\u7f6e: \u6027\u80fd\u8c03\u4f18\u53c2\u6570</li> </ul>"},{"location":"app_car/clr_wallbox.html#_33","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u8bbe\u5907\u5728\u7ebf\u7387: \u8bbe\u5907\u8fde\u63a5\u72b6\u6001</li> <li>\u6d88\u606f\u5904\u7406\u91cf: \u6d88\u606f\u541e\u5410\u91cf</li> <li>\u9519\u8bef\u7387: \u9519\u8bef\u53d1\u751f\u9891\u7387</li> <li>\u54cd\u5e94\u65f6\u95f4: \u6d88\u606f\u5904\u7406\u5ef6\u8fdf</li> </ul>"},{"location":"app_car/clr_wallbox.html#_34","title":"\u603b\u7ed3","text":"<p><code>clr_wallbox</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u5145\u7535\u5899\u76d2\u670d\u52a1SDK\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5145\u7535\u8bbe\u5907\u901a\u4fe1\u548c\u7ba1\u7406\u80fd\u529b\u3002\u901a\u8fc7\u6807\u51c6\u5316\u7684\u534f\u8bae\u652f\u6301\u3001\u7a33\u5b9a\u7684\u6570\u636e\u5904\u7406\u548c\u5b8c\u5584\u7684\u5b89\u5168\u673a\u5236\uff0c\u4e3a\u5145\u7535\u57fa\u7840\u8bbe\u65bd\u7684\u6570\u5b57\u5316\u7ba1\u7406\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u6280\u672f\u652f\u6491\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u517c\u5bb9\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u5382\u5546\u7684\u5145\u7535\u8bbe\u5907\u548c\u591a\u6837\u5316\u7684\u90e8\u7f72\u73af\u5883\u3002</p>"},{"location":"app_car/kit_rpa_plugin.html","title":"Kit RPA Plugin RPA\u81ea\u52a8\u5316\u63d2\u4ef6","text":""},{"location":"app_car/kit_rpa_plugin.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>kit_rpa_plugin</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684 RPA\uff08Robotic Process Automation\uff09\u539f\u751f\u63d2\u4ef6\uff0c\u8d1f\u8d23\u4e3a Flutter \u5e94\u7528\u63d0\u4f9b\u539f\u751f\u5e73\u53f0\u7684\u81ea\u52a8\u5316\u64cd\u4f5c\u80fd\u529b\u3002\u8be5\u63d2\u4ef6\u901a\u8fc7\u5e73\u53f0\u901a\u9053\u5b9e\u73b0 Flutter \u4e0e Android/iOS \u539f\u751f\u4ee3\u7801\u7684\u4ea4\u4e92\uff0c\u4e3a RPA \u81ea\u52a8\u5316\u4efb\u52a1\u63d0\u4f9b\u5e95\u5c42\u652f\u6301\u3002</p>"},{"location":"app_car/kit_rpa_plugin.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: kit_rpa_plugin</li> <li>\u7248\u672c: 0.1.8+1</li> <li>\u7c7b\u578b: Flutter Plugin\uff08\u539f\u751f\u63d2\u4ef6\uff09</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/kit_rpa_plugin.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u539f\u751f\u81ea\u52a8\u5316\u64cd\u4f5c    - \u5c4f\u5e55\u70b9\u51fb\u6a21\u62df    - \u952e\u76d8\u8f93\u5165\u6a21\u62df    - \u624b\u52bf\u64cd\u4f5c\u6a21\u62df    - \u5e94\u7528\u542f\u52a8\u63a7\u5236</p> </li> <li> <p>\u7cfb\u7edf\u4fe1\u606f\u83b7\u53d6    - \u8bbe\u5907\u4fe1\u606f\u67e5\u8be2    - \u5e94\u7528\u72b6\u6001\u76d1\u63a7    - \u7cfb\u7edf\u8d44\u6e90\u83b7\u53d6    - \u6743\u9650\u72b6\u6001\u68c0\u67e5</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c    - \u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c    - \u76ee\u5f55\u904d\u5386    - \u6743\u9650\u7ba1\u7406    - \u8def\u5f84\u89e3\u6790</p> </li> <li> <p>\u7f51\u7edc\u72b6\u6001\u76d1\u63a7    - \u7f51\u7edc\u8fde\u63a5\u72b6\u6001    - \u7f51\u7edc\u7c7b\u578b\u68c0\u6d4b    - \u6d41\u91cf\u4f7f\u7528\u7edf\u8ba1    - \u8fde\u63a5\u8d28\u91cf\u8bc4\u4f30</p> </li> </ol>"},{"location":"app_car/kit_rpa_plugin.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/kit_rpa_plugin.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>kit_rpa_plugin/\n\u251c\u2500\u2500 lib/                        # Dart\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 kit_rpa_plugin.dart    # \u63d2\u4ef6\u5165\u53e3\n\u2502   \u251c\u2500\u2500 src/                    # \u6e90\u4ee3\u7801\n\u2502   \u2502   \u251c\u2500\u2500 platform_interface.dart  # \u5e73\u53f0\u63a5\u53e3\u5b9a\u4e49\n\u2502   \u2502   \u251c\u2500\u2500 method_channel.dart      # \u65b9\u6cd5\u901a\u9053\u5b9e\u73b0\n\u2502   \u2502   \u2514\u2500\u2500 models/                   # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 kit_rpa_plugin_platform_interface.dart\n\u251c\u2500\u2500 android/                    # Android\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 src/main/kotlin/\n\u2502   \u2502   \u2514\u2500\u2500 com/oneapp/kit_rpa_plugin/\n\u2502   \u2502       \u251c\u2500\u2500 KitRpaPlugin.kt      # \u4e3b\u63d2\u4ef6\u7c7b\n\u2502   \u2502       \u251c\u2500\u2500 AutomationHandler.kt # \u81ea\u52a8\u5316\u5904\u7406\u5668\n\u2502   \u2502       \u251c\u2500\u2500 SystemInfoProvider.kt # \u7cfb\u7edf\u4fe1\u606f\u63d0\u4f9b\u8005\n\u2502   \u2502       \u2514\u2500\u2500 FileOperationHandler.kt # \u6587\u4ef6\u64cd\u4f5c\u5904\u7406\u5668\n\u2502   \u2514\u2500\u2500 build.gradle\n\u251c\u2500\u2500 ios/                        # iOS\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 Classes/\n\u2502   \u2502   \u251c\u2500\u2500 KitRpaPlugin.swift       # \u4e3b\u63d2\u4ef6\u7c7b\n\u2502   \u2502   \u251c\u2500\u2500 AutomationHandler.swift  # \u81ea\u52a8\u5316\u5904\u7406\u5668\n\u2502   \u2502   \u251c\u2500\u2500 SystemInfoProvider.swift # \u7cfb\u7edf\u4fe1\u606f\u63d0\u4f9b\u8005\n\u2502   \u2502   \u2514\u2500\u2500 FileOperationHandler.swift # \u6587\u4ef6\u64cd\u4f5c\u5904\u7406\u5668\n\u2502   \u2514\u2500\u2500 kit_rpa_plugin.podspec\n\u251c\u2500\u2500 example/                    # \u793a\u4f8b\u5e94\u7528\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"app_car/kit_rpa_plugin.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/kit_rpa_plugin.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>plugin_platform_interface: ^2.0.2</code> - \u63d2\u4ef6\u5e73\u53f0\u63a5\u53e3</li> <li><code>device_info_plus: ^9.1.1</code> - \u8bbe\u5907\u4fe1\u606f\u83b7\u53d6</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/kit_rpa_plugin.html#1_flutter","title":"1. Flutter\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/kit_rpa_plugin.html#libkit_rpa_plugindart","title":"\u63d2\u4ef6\u5165\u53e3 (<code>lib/kit_rpa_plugin.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u63d2\u4ef6\u5bf9\u5916API\u5bfc\u51fa - \u5e73\u53f0\u901a\u9053\u521d\u59cb\u5316 - \u65b9\u6cd5\u8c03\u7528\u5c01\u88c5</p>"},{"location":"app_car/kit_rpa_plugin.html#libsrcplatform_interfacedart","title":"\u5e73\u53f0\u63a5\u53e3 (<code>lib/src/platform_interface.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5b9a\u4e49\u63d2\u4ef6\u62bd\u8c61\u63a5\u53e3 - \u89c4\u8303\u65b9\u6cd5\u7b7e\u540d - \u652f\u6301\u591a\u5e73\u53f0\u5b9e\u73b0</p>"},{"location":"app_car/kit_rpa_plugin.html#libsrcmethod_channeldart","title":"\u65b9\u6cd5\u901a\u9053 (<code>lib/src/method_channel.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5b9e\u73b0\u5e73\u53f0\u901a\u9053\u901a\u4fe1 - \u5904\u7406\u5f02\u6b65\u65b9\u6cd5\u8c03\u7528 - \u7ba1\u7406\u56de\u8c03\u548c\u5f02\u5e38</p>"},{"location":"app_car/kit_rpa_plugin.html#2_android","title":"2. Android\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/kit_rpa_plugin.html#kitrpapluginkt","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>KitRpaPlugin.kt</code>)","text":"<pre><code>class KitRpaPlugin: FlutterPlugin, MethodCallHandler {\n    private lateinit var channel: MethodChannel\n    private lateinit var context: Context\n    private lateinit var automationHandler: AutomationHandler\n    private lateinit var systemInfoProvider: SystemInfoProvider\n    private lateinit var fileOperationHandler: FileOperationHandler\n\n    override fun onAttachedToEngine(binding: FlutterPlugin.FlutterPluginBinding) {\n        channel = MethodChannel(binding.binaryMessenger, \"kit_rpa_plugin\")\n        context = binding.applicationContext\n        initializeHandlers()\n        channel.setMethodCallHandler(this)\n    }\n\n    override fun onMethodCall(call: MethodCall, result: Result) {\n        when (call.method) {\n            \"simulateClick\" -&gt; automationHandler.simulateClick(call, result)\n            \"getSystemInfo\" -&gt; systemInfoProvider.getSystemInfo(call, result)\n            \"performFileOperation\" -&gt; fileOperationHandler.performOperation(call, result)\n            else -&gt; result.notImplemented()\n        }\n    }\n}\n</code></pre>"},{"location":"app_car/kit_rpa_plugin.html#automationhandlerkt","title":"\u81ea\u52a8\u5316\u5904\u7406\u5668 (<code>AutomationHandler.kt</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5c4f\u5e55\u70b9\u51fb\u6a21\u62df - \u952e\u76d8\u8f93\u5165\u6a21\u62df - \u624b\u52bf\u64cd\u4f5c\u6a21\u62df - \u65e0\u969c\u788d\u670d\u52a1\u96c6\u6210</p> <p>\u4e3b\u8981\u65b9\u6cd5: - <code>simulateClick(x: Float, y: Float)</code> - \u6a21\u62df\u5c4f\u5e55\u70b9\u51fb - <code>simulateKeyInput(text: String)</code> - \u6a21\u62df\u952e\u76d8\u8f93\u5165 - <code>simulateSwipe(startX: Float, startY: Float, endX: Float, endY: Float)</code> - \u6a21\u62df\u6ed1\u52a8 - <code>simulateLongPress(x: Float, y: Float, duration: Long)</code> - \u6a21\u62df\u957f\u6309</p>"},{"location":"app_car/kit_rpa_plugin.html#systeminfoproviderkt","title":"\u7cfb\u7edf\u4fe1\u606f\u63d0\u4f9b\u8005 (<code>SystemInfoProvider.kt</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8bbe\u5907\u786c\u4ef6\u4fe1\u606f\u83b7\u53d6 - \u7cfb\u7edf\u7248\u672c\u4fe1\u606f - \u5e94\u7528\u72b6\u6001\u76d1\u63a7 - \u6743\u9650\u72b6\u6001\u68c0\u67e5</p> <p>\u4e3b\u8981\u65b9\u6cd5: - <code>getDeviceInfo()</code> - \u83b7\u53d6\u8bbe\u5907\u4fe1\u606f - <code>getSystemVersion()</code> - \u83b7\u53d6\u7cfb\u7edf\u7248\u672c - <code>getInstalledApps()</code> - \u83b7\u53d6\u5df2\u5b89\u88c5\u5e94\u7528 - <code>checkPermissions()</code> - \u68c0\u67e5\u6743\u9650\u72b6\u6001</p>"},{"location":"app_car/kit_rpa_plugin.html#fileoperationhandlerkt","title":"\u6587\u4ef6\u64cd\u4f5c\u5904\u7406\u5668 (<code>FileOperationHandler.kt</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee - \u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c - \u76ee\u5f55\u7ba1\u7406 - \u5b58\u50a8\u6743\u9650\u5904\u7406</p> <p>\u4e3b\u8981\u65b9\u6cd5: - <code>readFile(path: String)</code> - \u8bfb\u53d6\u6587\u4ef6 - <code>writeFile(path: String, content: String)</code> - \u5199\u5165\u6587\u4ef6 - <code>listDirectory(path: String)</code> - \u5217\u51fa\u76ee\u5f55\u5185\u5bb9 - <code>createDirectory(path: String)</code> - \u521b\u5efa\u76ee\u5f55</p>"},{"location":"app_car/kit_rpa_plugin.html#3_ios","title":"3. iOS\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/kit_rpa_plugin.html#kitrpapluginswift","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>KitRpaPlugin.swift</code>)","text":"<pre><code>public class KitRpaPlugin: NSObject, FlutterPlugin {\n    private var automationHandler: AutomationHandler!\n    private var systemInfoProvider: SystemInfoProvider!\n    private var fileOperationHandler: FileOperationHandler!\n\n    public static func register(with registrar: FlutterPluginRegistrar) {\n        let channel = FlutterMethodChannel(name: \"kit_rpa_plugin\", \n                                         binaryMessenger: registrar.messenger())\n        let instance = KitRpaPlugin()\n        instance.initializeHandlers()\n        registrar.addMethodCallDelegate(instance, channel: channel)\n    }\n\n    public func handle(_ call: FlutterMethodCall, result: @escaping FlutterResult) {\n        switch call.method {\n        case \"simulateClick\":\n            automationHandler.simulateClick(call: call, result: result)\n        case \"getSystemInfo\":\n            systemInfoProvider.getSystemInfo(call: call, result: result)\n        case \"performFileOperation\":\n            fileOperationHandler.performOperation(call: call, result: result)\n        default:\n            result(FlutterMethodNotImplemented)\n        }\n    }\n}\n</code></pre>"},{"location":"app_car/kit_rpa_plugin.html#automationhandlerswift","title":"\u81ea\u52a8\u5316\u5904\u7406\u5668 (<code>AutomationHandler.swift</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5229\u7528 UIKit \u8fdb\u884c\u754c\u9762\u64cd\u4f5c - \u96c6\u6210 Accessibility \u6846\u67b6 - \u624b\u52bf\u8bc6\u522b\u548c\u6a21\u62df - \u5e94\u7528\u63a7\u5236\u64cd\u4f5c</p>"},{"location":"app_car/kit_rpa_plugin.html#systeminfoproviderswift","title":"\u7cfb\u7edf\u4fe1\u606f\u63d0\u4f9b\u8005 (<code>SystemInfoProvider.swift</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5229\u7528 UIDevice \u83b7\u53d6\u8bbe\u5907\u4fe1\u606f - \u7cfb\u7edf\u7248\u672c\u548c\u786c\u4ef6\u4fe1\u606f - \u5e94\u7528\u72b6\u6001\u76d1\u63a7 - \u6743\u9650\u72b6\u6001\u67e5\u8be2</p>"},{"location":"app_car/kit_rpa_plugin.html#fileoperationhandlerswift","title":"\u6587\u4ef6\u64cd\u4f5c\u5904\u7406\u5668 (<code>FileOperationHandler.swift</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee - \u6c99\u76d2\u76ee\u5f55\u64cd\u4f5c - \u6587\u6863\u76ee\u5f55\u7ba1\u7406 - \u5b89\u5168\u6587\u4ef6\u64cd\u4f5c</p>"},{"location":"app_car/kit_rpa_plugin.html#_10","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"app_car/kit_rpa_plugin.html#_11","title":"\u81ea\u52a8\u5316\u64cd\u4f5c\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[Flutter\u53d1\u8d77\u81ea\u52a8\u5316\u8bf7\u6c42] --&gt; B[\u65b9\u6cd5\u901a\u9053\u4f20\u9012\u53c2\u6570]\n    B --&gt; C[\u539f\u751f\u7aef\u63a5\u6536\u8c03\u7528]\n    C --&gt; D{\u5224\u65ad\u64cd\u4f5c\u7c7b\u578b}\n    D --&gt;|\u70b9\u51fb\u64cd\u4f5c| E[\u5c4f\u5e55\u70b9\u51fb\u5904\u7406]\n    D --&gt;|\u8f93\u5165\u64cd\u4f5c| F[\u952e\u76d8\u8f93\u5165\u5904\u7406]\n    D --&gt;|\u624b\u52bf\u64cd\u4f5c| G[\u624b\u52bf\u6a21\u62df\u5904\u7406]\n    E --&gt; H[\u6267\u884c\u539f\u751f\u64cd\u4f5c]\n    F --&gt; H\n    G --&gt; H\n    H --&gt; I{\u64cd\u4f5c\u662f\u5426\u6210\u529f}\n    I --&gt;|\u662f| J[\u8fd4\u56de\u6210\u529f\u7ed3\u679c]\n    I --&gt;|\u5426| K[\u8fd4\u56de\u9519\u8bef\u4fe1\u606f]\n    J --&gt; L[Flutter\u7aef\u63a5\u6536\u7ed3\u679c]\n    K --&gt; L\n    L --&gt; M[\u66f4\u65b0UI\u72b6\u6001]</code></pre>"},{"location":"app_car/kit_rpa_plugin.html#_12","title":"\u6743\u9650\u68c0\u67e5\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u68c0\u67e5\u64cd\u4f5c\u6743\u9650] --&gt; B{\u662f\u5426\u9700\u8981\u7279\u6b8a\u6743\u9650}\n    B --&gt;|\u5426| C[\u76f4\u63a5\u6267\u884c\u64cd\u4f5c]\n    B --&gt;|\u662f| D[\u68c0\u67e5\u6743\u9650\u72b6\u6001]\n    D --&gt; E{\u6743\u9650\u662f\u5426\u5df2\u6388\u4e88}\n    E --&gt;|\u662f| C\n    E --&gt;|\u5426| F[\u8bf7\u6c42\u7528\u6237\u6388\u6743]\n    F --&gt; G{\u7528\u6237\u662f\u5426\u540c\u610f}\n    G --&gt;|\u662f| H[\u83b7\u5f97\u6743\u9650]\n    G --&gt;|\u5426| I[\u6743\u9650\u88ab\u62d2\u7edd]\n    H --&gt; C\n    I --&gt; J[\u8fd4\u56de\u6743\u9650\u9519\u8bef]\n    C --&gt; K[\u6267\u884c\u81ea\u52a8\u5316\u64cd\u4f5c]</code></pre>"},{"location":"app_car/kit_rpa_plugin.html#_13","title":"\u5e73\u53f0\u7279\u6027\u5b9e\u73b0","text":""},{"location":"app_car/kit_rpa_plugin.html#android","title":"Android\u7279\u6027","text":"<ol> <li> <p>\u65e0\u969c\u788d\u670d\u52a1(Accessibility Service)    - \u5e94\u7528\u754c\u9762\u5143\u7d20\u8bbf\u95ee    - \u81ea\u52a8\u5316\u64cd\u4f5c\u6267\u884c    - \u754c\u9762\u53d8\u5316\u76d1\u542c    - \u5168\u5c40\u624b\u52bf\u6a21\u62df</p> </li> <li> <p>\u7cfb\u7edf\u6743\u9650\u7ba1\u7406    - \u52a8\u6001\u6743\u9650\u7533\u8bf7    - \u7279\u6b8a\u6743\u9650\u5904\u7406    - \u6743\u9650\u72b6\u6001\u76d1\u63a7    - \u6743\u9650\u7ec4\u7ba1\u7406</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee    - \u5916\u90e8\u5b58\u50a8\u8bbf\u95ee    - \u5e94\u7528\u79c1\u6709\u76ee\u5f55    - \u5206\u533a\u5b58\u50a8\u9002\u914d    - \u6587\u4ef6\u63d0\u4f9b\u8005\u96c6\u6210</p> </li> </ol>"},{"location":"app_car/kit_rpa_plugin.html#ios","title":"iOS\u7279\u6027","text":"<ol> <li> <p>Accessibility\u6846\u67b6    - UI\u5143\u7d20\u8bc6\u522b    - \u8f85\u52a9\u529f\u80fd\u96c6\u6210    - \u81ea\u52a8\u5316\u6d4b\u8bd5\u652f\u6301    - \u754c\u9762\u64cd\u4f5c\u6a21\u62df</p> </li> <li> <p>\u6c99\u76d2\u5b89\u5168\u673a\u5236    - \u5e94\u7528\u6c99\u76d2\u9650\u5236    - \u6587\u4ef6\u8bbf\u95ee\u6743\u9650    - \u6570\u636e\u4fdd\u62a4\u673a\u5236    - \u9690\u79c1\u6743\u9650\u7ba1\u7406</p> </li> <li> <p>\u7cfb\u7edf\u96c6\u6210    - UIKit\u6846\u67b6\u96c6\u6210    - Core Foundation\u4f7f\u7528    - \u7cfb\u7edf\u670d\u52a1\u8c03\u7528    - \u8bbe\u5907\u4fe1\u606f\u83b7\u53d6</p> </li> </ol>"},{"location":"app_car/kit_rpa_plugin.html#_14","title":"\u5b89\u5168\u8003\u8651","text":""},{"location":"app_car/kit_rpa_plugin.html#_15","title":"\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u6700\u5c0f\u6743\u9650\u539f\u5219: \u4ec5\u7533\u8bf7\u5fc5\u8981\u6743\u9650</li> <li>\u52a8\u6001\u6743\u9650: \u8fd0\u884c\u65f6\u6743\u9650\u7533\u8bf7</li> <li>\u6743\u9650\u8bf4\u660e: \u6e05\u6670\u7684\u6743\u9650\u4f7f\u7528\u8bf4\u660e</li> <li>\u6743\u9650\u56de\u6536: \u4e0d\u9700\u8981\u65f6\u91ca\u653e\u6743\u9650</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_16","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u654f\u611f\u6570\u636e\u4fdd\u62a4: \u907f\u514d\u8bb0\u5f55\u654f\u611f\u4fe1\u606f</li> <li>\u6570\u636e\u4f20\u8f93\u5b89\u5168: \u52a0\u5bc6\u654f\u611f\u6570\u636e\u4f20\u8f93</li> <li>\u672c\u5730\u5b58\u50a8\u5b89\u5168: \u5b89\u5168\u7684\u672c\u5730\u6570\u636e\u5b58\u50a8</li> <li>\u9690\u79c1\u5408\u89c4: \u9075\u5b88\u9690\u79c1\u4fdd\u62a4\u6cd5\u89c4</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_17","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/kit_rpa_plugin.html#_18","title":"\u64cd\u4f5c\u6548\u7387","text":"<ul> <li>\u6279\u91cf\u64cd\u4f5c: \u51cf\u5c11\u65b9\u6cd5\u901a\u9053\u8c03\u7528\u6b21\u6570</li> <li>\u5f02\u6b65\u5904\u7406: \u907f\u514d\u963b\u585e\u4e3b\u7ebf\u7a0b</li> <li>\u64cd\u4f5c\u7f13\u5b58: \u7f13\u5b58\u91cd\u590d\u64cd\u4f5c\u7ed3\u679c</li> <li>\u8d44\u6e90\u590d\u7528: \u590d\u7528\u7cfb\u7edf\u8d44\u6e90</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_19","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u53ca\u65f6\u91ca\u653e: \u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u8d44\u6e90</li> <li>\u5185\u5b58\u76d1\u63a7: \u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> <li>\u5783\u573e\u56de\u6536: \u914d\u5408\u7cfb\u7edf\u5783\u573e\u56de\u6536</li> <li>\u5faa\u73af\u5f15\u7528\u907f\u514d: \u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_20","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"app_car/kit_rpa_plugin.html#_21","title":"\u5f02\u5e38\u7c7b\u578b","text":"<ol> <li> <p>\u6743\u9650\u5f02\u5e38    - \u6743\u9650\u672a\u6388\u4e88    - \u6743\u9650\u88ab\u64a4\u9500    - \u7cfb\u7edf\u6743\u9650\u9650\u5236    - \u7279\u6b8a\u6743\u9650\u8981\u6c42</p> </li> <li> <p>\u64cd\u4f5c\u5f02\u5e38    - \u76ee\u6807\u5143\u7d20\u4e0d\u5b58\u5728    - \u64cd\u4f5c\u88ab\u7cfb\u7edf\u963b\u6b62    - \u754c\u9762\u72b6\u6001\u5f02\u5e38    - \u786c\u4ef6\u529f\u80fd\u4e0d\u652f\u6301</p> </li> <li> <p>\u7cfb\u7edf\u5f02\u5e38    - \u7cfb\u7edf\u7248\u672c\u4e0d\u517c\u5bb9    - \u786c\u4ef6\u529f\u80fd\u7f3a\u5931    - \u8d44\u6e90\u4e0d\u8db3    - \u7cfb\u7edf\u670d\u52a1\u5f02\u5e38</p> </li> </ol>"},{"location":"app_car/kit_rpa_plugin.html#_22","title":"\u5904\u7406\u7b56\u7565","text":"<ul> <li>\u4f18\u96c5\u964d\u7ea7: \u529f\u80fd\u4e0d\u53ef\u7528\u65f6\u7684\u66ff\u4ee3\u65b9\u6848</li> <li>\u9519\u8bef\u91cd\u8bd5: \u4e34\u65f6\u9519\u8bef\u7684\u91cd\u8bd5\u673a\u5236</li> <li>\u7528\u6237\u63d0\u793a: \u6e05\u6670\u7684\u9519\u8bef\u4fe1\u606f\u63d0\u793a</li> <li>\u65e5\u5fd7\u8bb0\u5f55: \u8be6\u7ec6\u7684\u9519\u8bef\u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_23","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/kit_rpa_plugin.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u65b9\u6cd5\u901a\u9053\u6d4b\u8bd5: \u901a\u4fe1\u63a5\u53e3\u6d4b\u8bd5</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5: \u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u8f85\u52a9\u529f\u80fd\u6d4b\u8bd5</li> <li>\u5f02\u5e38\u5904\u7406\u6d4b\u8bd5: \u9519\u8bef\u573a\u666f\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u5e73\u53f0\u96c6\u6210\u6d4b\u8bd5: \u539f\u751f\u529f\u80fd\u96c6\u6210</li> <li>\u6743\u9650\u6d41\u7a0b\u6d4b\u8bd5: \u6743\u9650\u7533\u8bf7\u6d41\u7a0b</li> <li>\u6587\u4ef6\u64cd\u4f5c\u6d4b\u8bd5: \u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c</li> <li>\u81ea\u52a8\u5316\u529f\u80fd\u6d4b\u8bd5: \u81ea\u52a8\u5316\u64cd\u4f5c\u9a8c\u8bc1</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_26","title":"\u517c\u5bb9\u6027\u6d4b\u8bd5","text":"<ul> <li>\u8bbe\u5907\u517c\u5bb9\u6027: \u4e0d\u540c\u8bbe\u5907\u578b\u53f7</li> <li>\u7cfb\u7edf\u7248\u672c: \u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c</li> <li>\u6743\u9650\u7b56\u7565: \u4e0d\u540c\u6743\u9650\u7b56\u7565</li> <li>\u6027\u80fd\u8868\u73b0: \u4e0d\u540c\u6027\u80fd\u6c34\u5e73\u8bbe\u5907</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_27","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/kit_rpa_plugin.html#_28","title":"\u7248\u672c\u7ba1\u7406","text":"<ul> <li>API\u7248\u672c\u63a7\u5236: \u517c\u5bb9\u4e0d\u540c\u7248\u672c</li> <li>\u529f\u80fd\u5f00\u5173: \u65b0\u529f\u80fd\u6e10\u8fdb\u5f0f\u53d1\u5e03</li> <li>\u56de\u6eda\u673a\u5236: \u95ee\u9898\u7248\u672c\u5feb\u901f\u56de\u6eda</li> <li>\u5347\u7ea7\u7b56\u7565: \u5e73\u6ed1\u5347\u7ea7\u8def\u5f84</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_29","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u8c03\u7528\u6210\u529f\u7387: \u65b9\u6cd5\u8c03\u7528\u6210\u529f\u7387</li> <li>\u54cd\u5e94\u65f6\u95f4: \u64cd\u4f5c\u54cd\u5e94\u5ef6\u8fdf</li> <li>\u9519\u8bef\u7387: \u5f02\u5e38\u53d1\u751f\u9891\u7387</li> <li>\u6743\u9650\u6388\u4e88\u7387: \u7528\u6237\u6743\u9650\u6388\u4e88\u60c5\u51b5</li> </ul>"},{"location":"app_car/kit_rpa_plugin.html#_30","title":"\u603b\u7ed3","text":"<p><code>kit_rpa_plugin</code> \u4f5c\u4e3a OneApp \u7684RPA\u81ea\u52a8\u5316\u539f\u751f\u63d2\u4ef6\uff0c\u4e3aFlutter\u5e94\u7528\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u539f\u751f\u5e73\u53f0\u81ea\u52a8\u5316\u64cd\u4f5c\u80fd\u529b\u3002\u901a\u8fc7\u5e73\u53f0\u901a\u9053\u673a\u5236\uff0c\u5b9e\u73b0\u4e86Flutter\u4e0eAndroid/iOS\u539f\u751f\u4ee3\u7801\u7684\u65e0\u7f1d\u96c6\u6210\uff0c\u4e3aRPA\u81ea\u52a8\u5316\u4efb\u52a1\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u5e95\u5c42\u652f\u6301\u3002\u63d2\u4ef6\u8bbe\u8ba1\u8003\u8651\u4e86\u5b89\u5168\u6027\u3001\u6027\u80fd\u548c\u517c\u5bb9\u6027\uff0c\u80fd\u591f\u5728\u4fdd\u8bc1\u7528\u6237\u9690\u79c1\u548c\u7cfb\u7edf\u5b89\u5168\u7684\u524d\u63d0\u4e0b\uff0c\u63d0\u4f9b\u9ad8\u6548\u7684\u81ea\u52a8\u5316\u64cd\u4f5c\u80fd\u529b\u3002</p>"},{"location":"app_car/one_app_cache_plugin.html","title":"OneApp Cache Plugin \u7f13\u5b58\u63d2\u4ef6","text":""},{"location":"app_car/one_app_cache_plugin.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>one_app_cache_plugin</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u539f\u751f\u7f13\u5b58\u63d2\u4ef6\uff0c\u8d1f\u8d23\u4e3a Flutter \u5e94\u7528\u63d0\u4f9b\u9ad8\u6548\u7684\u539f\u751f\u7f13\u5b58\u80fd\u529b\u3002\u8be5\u63d2\u4ef6\u901a\u8fc7\u5e73\u53f0\u901a\u9053\u5b9e\u73b0 Flutter \u4e0e Android/iOS \u539f\u751f\u7f13\u5b58\u7cfb\u7edf\u7684\u4ea4\u4e92\uff0c\u4e3a\u5e94\u7528\u6570\u636e\u7f13\u5b58\u63d0\u4f9b\u5e95\u5c42\u652f\u6301\u3002</p>"},{"location":"app_car/one_app_cache_plugin.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: one_app_cache_plugin</li> <li>\u7248\u672c: 0.0.4</li> <li>\u7c7b\u578b: Flutter Plugin\uff08\u539f\u751f\u63d2\u4ef6\uff09</li> <li>Flutter \u7248\u672c: &gt;=3.3.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/one_app_cache_plugin.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u591a\u7ea7\u7f13\u5b58\u7cfb\u7edf    - \u5185\u5b58\u7f13\u5b58\uff08L1 Cache\uff09    - \u78c1\u76d8\u7f13\u5b58\uff08L2 Cache\uff09    - \u7f51\u7edc\u7f13\u5b58\uff08L3 Cache\uff09    - \u5206\u5e03\u5f0f\u7f13\u5b58\u652f\u6301</p> </li> <li> <p>\u7f13\u5b58\u7b56\u7565\u7ba1\u7406    - LRU\uff08\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff09\u6dd8\u6c70    - LFU\uff08\u6700\u5c11\u4f7f\u7528\u9891\u7387\uff09\u6dd8\u6c70    - TTL\uff08\u751f\u5b58\u65f6\u95f4\uff09\u8fc7\u671f    - \u81ea\u5b9a\u4e49\u6dd8\u6c70\u7b56\u7565</p> </li> <li> <p>\u6570\u636e\u7c7b\u578b\u652f\u6301    - \u5b57\u7b26\u4e32\u6570\u636e\u7f13\u5b58    - \u4e8c\u8fdb\u5236\u6570\u636e\u7f13\u5b58    - JSON\u5bf9\u8c61\u7f13\u5b58    - \u6587\u4ef6\u8d44\u6e90\u7f13\u5b58</p> </li> <li> <p>\u6027\u80fd\u4f18\u5316    - \u5f02\u6b65\u64cd\u4f5c\u652f\u6301    - \u6279\u91cf\u64cd\u4f5c\u4f18\u5316    - \u9884\u52a0\u8f7d\u673a\u5236    - \u667a\u80fd\u538b\u7f29\u5b58\u50a8</p> </li> </ol>"},{"location":"app_car/one_app_cache_plugin.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/one_app_cache_plugin.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>one_app_cache_plugin/\n\u251c\u2500\u2500 lib/                        # Dart\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 one_app_cache_plugin.dart    # \u63d2\u4ef6\u5165\u53e3\n\u2502   \u251c\u2500\u2500 src/                    # \u6e90\u4ee3\u7801\n\u2502   \u2502   \u251c\u2500\u2500 cache_manager.dart       # \u7f13\u5b58\u7ba1\u7406\u5668\n\u2502   \u2502   \u251c\u2500\u2500 cache_strategy.dart      # \u7f13\u5b58\u7b56\u7565\n\u2502   \u2502   \u251c\u2500\u2500 cache_models.dart        # \u6570\u636e\u6a21\u578b\n\u2502   \u2502   \u2514\u2500\u2500 platform_interface.dart  # \u5e73\u53f0\u63a5\u53e3\n\u2502   \u2514\u2500\u2500 one_app_cache_plugin_platform_interface.dart\n\u251c\u2500\u2500 android/                    # Android\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 src/main/kotlin/\n\u2502   \u2502   \u2514\u2500\u2500 com/oneapp/cache/\n\u2502   \u2502       \u251c\u2500\u2500 OneAppCachePlugin.kt     # \u4e3b\u63d2\u4ef6\u7c7b\n\u2502   \u2502       \u251c\u2500\u2500 MemoryCache.kt           # \u5185\u5b58\u7f13\u5b58\n\u2502   \u2502       \u251c\u2500\u2500 DiskCache.kt             # \u78c1\u76d8\u7f13\u5b58\n\u2502   \u2502       \u251c\u2500\u2500 CacheStrategy.kt         # \u7f13\u5b58\u7b56\u7565\n\u2502   \u2502       \u2514\u2500\u2500 CacheUtils.kt            # \u7f13\u5b58\u5de5\u5177\n\u2502   \u2514\u2500\u2500 build.gradle\n\u251c\u2500\u2500 ios/                        # iOS\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 Classes/\n\u2502   \u2502   \u251c\u2500\u2500 OneAppCachePlugin.swift      # \u4e3b\u63d2\u4ef6\u7c7b\n\u2502   \u2502   \u251c\u2500\u2500 MemoryCache.swift            # \u5185\u5b58\u7f13\u5b58\n\u2502   \u2502   \u251c\u2500\u2500 DiskCache.swift              # \u78c1\u76d8\u7f13\u5b58\n\u2502   \u2502   \u251c\u2500\u2500 CacheStrategy.swift          # \u7f13\u5b58\u7b56\u7565\n\u2502   \u2502   \u2514\u2500\u2500 CacheUtils.swift             # \u7f13\u5b58\u5de5\u5177\n\u2502   \u2514\u2500\u2500 one_app_cache_plugin.podspec\n\u251c\u2500\u2500 example/                    # \u793a\u4f8b\u5e94\u7528\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/one_app_cache_plugin.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>plugin_platform_interface: ^2.0.2</code> - \u63d2\u4ef6\u5e73\u53f0\u63a5\u53e3</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/one_app_cache_plugin.html#1_flutter","title":"1. Flutter\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/one_app_cache_plugin.html#libone_app_cache_plugindart","title":"\u63d2\u4ef6\u5165\u53e3 (<code>lib/one_app_cache_plugin.dart</code>)","text":"<pre><code>class OneAppCachePlugin {\n  static const MethodChannel _channel = MethodChannel('one_app_cache_plugin');\n\n  /// \u83b7\u53d6\u7f13\u5b58\u6570\u636e\n  static Future&lt;String?&gt; get(String key) async {\n    return await _channel.invokeMethod('get', {'key': key});\n  }\n\n  /// \u8bbe\u7f6e\u7f13\u5b58\u6570\u636e\n  static Future&lt;bool&gt; set(String key, String value, {Duration? ttl}) async {\n    final result = await _channel.invokeMethod('set', {\n      'key': key,\n      'value': value,\n      'ttl': ttl?.inMilliseconds,\n    });\n    return result ?? false;\n  }\n\n  /// \u5220\u9664\u7f13\u5b58\u6570\u636e\n  static Future&lt;bool&gt; delete(String key) async {\n    final result = await _channel.invokeMethod('delete', {'key': key});\n    return result ?? false;\n  }\n\n  /// \u6e05\u7a7a\u6240\u6709\u7f13\u5b58\n  static Future&lt;bool&gt; clear() async {\n    final result = await _channel.invokeMethod('clear');\n    return result ?? false;\n  }\n\n  /// \u83b7\u53d6\u7f13\u5b58\u7edf\u8ba1\u4fe1\u606f\n  static Future&lt;CacheStats&gt; getStats() async {\n    final result = await _channel.invokeMethod('getStats');\n    return CacheStats.fromMap(result);\n  }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#libsrccache_managerdart","title":"\u7f13\u5b58\u7ba1\u7406\u5668 (<code>lib/src/cache_manager.dart</code>)","text":"<pre><code>class CacheManager {\n  static final CacheManager _instance = CacheManager._internal();\n  factory CacheManager() =&gt; _instance;\n  CacheManager._internal();\n\n  /// \u914d\u7f6e\u7f13\u5b58\u7b56\u7565\n  Future&lt;void&gt; configure(CacheConfig config) async {\n    await OneAppCachePlugin.configure(config);\n  }\n\n  /// \u667a\u80fd\u7f13\u5b58\u83b7\u53d6\n  Future&lt;T?&gt; getOrSet&lt;T&gt;(\n    String key,\n    Future&lt;T&gt; Function() valueFactory, {\n    Duration? ttl,\n    CacheLevel level = CacheLevel.all,\n  }) async {\n    // \u5148\u5c1d\u8bd5\u4ece\u7f13\u5b58\u83b7\u53d6\n    final cached = await get&lt;T&gt;(key, level: level);\n    if (cached != null) return cached;\n\n    // \u7f13\u5b58\u672a\u547d\u4e2d\uff0c\u83b7\u53d6\u65b0\u503c\u5e76\u7f13\u5b58\n    final value = await valueFactory();\n    await set(key, value, ttl: ttl, level: level);\n    return value;\n  }\n\n  /// \u6279\u91cf\u64cd\u4f5c\n  Future&lt;Map&lt;String, T?&gt;&gt; getBatch&lt;T&gt;(List&lt;String&gt; keys) async {\n    return await OneAppCachePlugin.getBatch(keys);\n  }\n\n  /// \u9884\u70ed\u7f13\u5b58\n  Future&lt;void&gt; preload(Map&lt;String, dynamic&gt; data) async {\n    await OneAppCachePlugin.preload(data);\n  }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#2_android","title":"2. Android\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/one_app_cache_plugin.html#oneappcachepluginkt","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>OneAppCachePlugin.kt</code>)","text":"<pre><code>class OneAppCachePlugin: FlutterPlugin, MethodCallHandler {\n    private lateinit var context: Context\n    private lateinit var memoryCache: MemoryCache\n    private lateinit var diskCache: DiskCache\n    private lateinit var cacheStrategy: CacheStrategy\n\n    override fun onAttachedToEngine(binding: FlutterPlugin.FlutterPluginBinding) {\n        context = binding.applicationContext\n        initializeCaches()\n\n        val channel = MethodChannel(binding.binaryMessenger, \"one_app_cache_plugin\")\n        channel.setMethodCallHandler(this)\n    }\n\n    private fun initializeCaches() {\n        memoryCache = MemoryCache(context)\n        diskCache = DiskCache(context)\n        cacheStrategy = CacheStrategy()\n    }\n\n    override fun onMethodCall(call: MethodCall, result: Result) {\n        when (call.method) {\n            \"get\" -&gt; handleGet(call, result)\n            \"set\" -&gt; handleSet(call, result)\n            \"delete\" -&gt; handleDelete(call, result)\n            \"clear\" -&gt; handleClear(call, result)\n            \"getStats\" -&gt; handleGetStats(call, result)\n            \"configure\" -&gt; handleConfigure(call, result)\n            else -&gt; result.notImplemented()\n        }\n    }\n\n    private fun handleGet(call: MethodCall, result: Result) {\n        val key = call.argument&lt;String&gt;(\"key\")\n        if (key == null) {\n            result.error(\"INVALID_ARGUMENT\", \"Key cannot be null\", null)\n            return\n        }\n\n        // \u591a\u7ea7\u7f13\u5b58\u67e5\u627e\n        var value = memoryCache.get(key)\n        if (value == null) {\n            value = diskCache.get(key)\n            if (value != null) {\n                // \u5c06\u78c1\u76d8\u7f13\u5b58\u7684\u6570\u636e\u63d0\u5347\u5230\u5185\u5b58\u7f13\u5b58\n                memoryCache.set(key, value)\n            }\n        }\n\n        result.success(value)\n    }\n\n    private fun handleSet(call: MethodCall, result: Result) {\n        val key = call.argument&lt;String&gt;(\"key\")\n        val value = call.argument&lt;String&gt;(\"value\")\n        val ttl = call.argument&lt;Long&gt;(\"ttl\")\n\n        if (key == null || value == null) {\n            result.error(\"INVALID_ARGUMENT\", \"Key and value cannot be null\", null)\n            return\n        }\n\n        val success = try {\n            memoryCache.set(key, value, ttl)\n            diskCache.set(key, value, ttl)\n            true\n        } catch (e: Exception) {\n            false\n        }\n\n        result.success(success)\n    }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#memorycachekt","title":"\u5185\u5b58\u7f13\u5b58 (<code>MemoryCache.kt</code>)","text":"<pre><code>class MemoryCache(private val context: Context) {\n    private val cache = LruCache&lt;String, CacheEntry&gt;(getMaxMemoryCacheSize())\n\n    fun get(key: String): String? {\n        val entry = cache.get(key) ?: return null\n\n        // \u68c0\u67e5\u662f\u5426\u8fc7\u671f\n        if (entry.isExpired()) {\n            cache.remove(key)\n            return null\n        }\n\n        return entry.value\n    }\n\n    fun set(key: String, value: String, ttl: Long? = null) {\n        val expiryTime = ttl?.let { System.currentTimeMillis() + it }\n        val entry = CacheEntry(value, expiryTime)\n        cache.put(key, entry)\n    }\n\n    private fun getMaxMemoryCacheSize(): Int {\n        val maxMemory = (Runtime.getRuntime().maxMemory() / 1024).toInt()\n        return maxMemory / 8  // \u4f7f\u7528\u6700\u5927\u5185\u5b58\u76841/8\u4f5c\u4e3a\u7f13\u5b58\u5927\u5c0f\n    }\n}\n\ndata class CacheEntry(\n    val value: String,\n    val expiryTime: Long? = null\n) {\n    fun isExpired(): Boolean {\n        return expiryTime?.let { System.currentTimeMillis() &gt; it } ?: false\n    }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#diskcachekt","title":"\u78c1\u76d8\u7f13\u5b58 (<code>DiskCache.kt</code>)","text":"<pre><code>class DiskCache(private val context: Context) {\n    private val cacheDir = File(context.cacheDir, \"one_app_cache\")\n    private val metadataFile = File(cacheDir, \"metadata.json\")\n    private val metadata = mutableMapOf&lt;String, CacheMetadata&gt;()\n\n    init {\n        if (!cacheDir.exists()) {\n            cacheDir.mkdirs()\n        }\n        loadMetadata()\n    }\n\n    fun get(key: String): String? {\n        val meta = metadata[key] ?: return null\n\n        // \u68c0\u67e5\u662f\u5426\u8fc7\u671f\n        if (meta.isExpired()) {\n            delete(key)\n            return null\n        }\n\n        val file = File(cacheDir, meta.filename)\n        return if (file.exists()) {\n            try {\n                file.readText()\n            } catch (e: Exception) {\n                null\n            }\n        } else null\n    }\n\n    fun set(key: String, value: String, ttl: Long? = null) {\n        val filename = generateFilename(key)\n        val file = File(cacheDir, filename)\n\n        try {\n            file.writeText(value)\n            val expiryTime = ttl?.let { System.currentTimeMillis() + it }\n            metadata[key] = CacheMetadata(filename, expiryTime, System.currentTimeMillis())\n            saveMetadata()\n        } catch (e: Exception) {\n            // \u5904\u7406\u5199\u5165\u9519\u8bef\n        }\n    }\n\n    private fun generateFilename(key: String): String {\n        return key.hashCode().toString() + \".cache\"\n    }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#3_ios","title":"3. iOS\u7aef\u5b9e\u73b0","text":""},{"location":"app_car/one_app_cache_plugin.html#oneappcachepluginswift","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>OneAppCachePlugin.swift</code>)","text":"<pre><code>public class OneAppCachePlugin: NSObject, FlutterPlugin {\n    private var memoryCache: MemoryCache!\n    private var diskCache: DiskCache!\n\n    public static func register(with registrar: FlutterPluginRegistrar) {\n        let channel = FlutterMethodChannel(name: \"one_app_cache_plugin\", \n                                         binaryMessenger: registrar.messenger())\n        let instance = OneAppCachePlugin()\n        instance.initializeCaches()\n        registrar.addMethodCallDelegate(instance, channel: channel)\n    }\n\n    private func initializeCaches() {\n        memoryCache = MemoryCache()\n        diskCache = DiskCache()\n    }\n\n    public func handle(_ call: FlutterMethodCall, result: @escaping FlutterResult) {\n        switch call.method {\n        case \"get\":\n            handleGet(call: call, result: result)\n        case \"set\":\n            handleSet(call: call, result: result)\n        case \"delete\":\n            handleDelete(call: call, result: result)\n        case \"clear\":\n            handleClear(call: call, result: result)\n        default:\n            result(FlutterMethodNotImplemented)\n        }\n    }\n\n    private func handleGet(call: FlutterMethodCall, result: @escaping FlutterResult) {\n        guard let args = call.arguments as? [String: Any],\n              let key = args[\"key\"] as? String else {\n            result(FlutterError(code: \"INVALID_ARGUMENT\", \n                               message: \"Key is required\", \n                               details: nil))\n            return\n        }\n\n        // \u591a\u7ea7\u7f13\u5b58\u67e5\u627e\n        if let value = memoryCache.get(key: key) {\n            result(value)\n            return\n        }\n\n        if let value = diskCache.get(key: key) {\n            // \u63d0\u5347\u5230\u5185\u5b58\u7f13\u5b58\n            memoryCache.set(key: key, value: value)\n            result(value)\n            return\n        }\n\n        result(nil)\n    }\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#_10","title":"\u7f13\u5b58\u7b56\u7565\u8bbe\u8ba1","text":""},{"location":"app_car/one_app_cache_plugin.html#_11","title":"\u6dd8\u6c70\u7b56\u7565","text":"<ol> <li> <p>LRU (Least Recently Used)    - \u6dd8\u6c70\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7684\u6570\u636e    - \u9002\u7528\u4e8e\u8bbf\u95ee\u6a21\u5f0f\u76f8\u5bf9\u7a33\u5b9a\u7684\u573a\u666f    - \u5b9e\u73b0\u7b80\u5355\uff0c\u6027\u80fd\u826f\u597d</p> </li> <li> <p>LFU (Least Frequently Used)    - \u6dd8\u6c70\u4f7f\u7528\u9891\u7387\u6700\u4f4e\u7684\u6570\u636e    - \u9002\u7528\u4e8e\u70ed\u70b9\u6570\u636e\u660e\u663e\u7684\u573a\u666f    - \u9700\u8981\u7ef4\u62a4\u8bbf\u95ee\u9891\u7387\u7edf\u8ba1</p> </li> <li> <p>TTL (Time To Live)    - \u57fa\u4e8e\u65f6\u95f4\u7684\u81ea\u52a8\u8fc7\u671f    - \u9002\u7528\u4e8e\u65f6\u6548\u6027\u6570\u636e    - \u53ef\u4e0e\u5176\u4ed6\u7b56\u7565\u7ec4\u5408\u4f7f\u7528</p> </li> <li> <p>FIFO (First In First Out)    - \u5148\u8fdb\u5148\u51fa\u7684\u7b80\u5355\u7b56\u7565    - \u5b9e\u73b0\u7b80\u5355\u4f46\u6548\u679c\u6709\u9650    - \u9002\u7528\u4e8e\u5bf9\u7f13\u5b58\u6548\u679c\u8981\u6c42\u4e0d\u9ad8\u7684\u573a\u666f</p> </li> </ol>"},{"location":"app_car/one_app_cache_plugin.html#_12","title":"\u591a\u7ea7\u7f13\u5b58\u67b6\u6784","text":"<pre><code>\u5e94\u7528\u5c42\n    \u2193\nFlutter\u7f13\u5b58\u7ba1\u7406\u5668\n    \u2193\nL1: \u5185\u5b58\u7f13\u5b58 (NSCache/LruCache)\n    \u2193\nL2: \u78c1\u76d8\u7f13\u5b58 (\u672c\u5730\u6587\u4ef6\u7cfb\u7edf)\n    \u2193\nL3: \u7f51\u7edc\u7f13\u5b58 (HTTP\u7f13\u5b58/CDN)\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#_13","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/one_app_cache_plugin.html#_14","title":"\u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u5927\u5c0f\u8c03\u6574: \u6839\u636e\u53ef\u7528\u5185\u5b58\u52a8\u6001\u8c03\u6574\u7f13\u5b58\u5927\u5c0f</li> <li>\u5185\u5b58\u538b\u529b\u76d1\u63a7: \u76d1\u542c\u7cfb\u7edf\u5185\u5b58\u538b\u529b\u4e8b\u4ef6</li> <li>\u5ef6\u8fdf\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u7f13\u5b58\u6570\u636e</li> <li>\u538b\u7f29\u5b58\u50a8: \u5bf9\u5927\u6570\u636e\u8fdb\u884c\u538b\u7f29\u5b58\u50a8</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_15","title":"\u78c1\u76d8\u4f18\u5316","text":"<ul> <li>\u5f02\u6b65I/O: \u6240\u6709\u78c1\u76d8\u64cd\u4f5c\u5f02\u6b65\u6267\u884c</li> <li>\u6279\u91cf\u64cd\u4f5c: \u6279\u91cf\u8bfb\u5199\u51cf\u5c11I/O\u6b21\u6570</li> <li>\u6587\u4ef6\u538b\u7f29: \u538b\u7f29\u5b58\u50a8\u8282\u7701\u7a7a\u95f4</li> <li>\u5b9a\u671f\u6e05\u7406: \u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u548c\u65e0\u6548\u6587\u4ef6</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_16","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u9884\u52a0\u8f7d: \u9884\u6d4b\u6027\u6570\u636e\u9884\u52a0\u8f7d</li> <li>\u589e\u91cf\u66f4\u65b0: \u4ec5\u4f20\u8f93\u53d8\u5316\u6570\u636e</li> <li>\u5e76\u53d1\u63a7\u5236: \u9650\u5236\u5e76\u53d1\u7f51\u7edc\u8bf7\u6c42</li> <li>\u65ad\u70b9\u7eed\u4f20: \u652f\u6301\u5927\u6587\u4ef6\u65ad\u70b9\u7eed\u4f20</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_17","title":"\u6570\u636e\u5b89\u5168","text":""},{"location":"app_car/one_app_cache_plugin.html#_18","title":"\u52a0\u5bc6\u5b58\u50a8","text":"<ul> <li>\u654f\u611f\u6570\u636e\u52a0\u5bc6: \u5bf9\u654f\u611f\u7f13\u5b58\u6570\u636e\u8fdb\u884c\u52a0\u5bc6</li> <li>\u5bc6\u94a5\u7ba1\u7406: \u5b89\u5168\u7684\u5bc6\u94a5\u5b58\u50a8\u548c\u7ba1\u7406</li> <li>\u5b8c\u6574\u6027\u9a8c\u8bc1: \u6570\u636e\u5b8c\u6574\u6027\u6821\u9a8c</li> <li>\u5b89\u5168\u64e6\u9664: \u5b89\u5168\u5220\u9664\u654f\u611f\u6570\u636e</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_19","title":"\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u8bbf\u95ee\u63a7\u5236: \u57fa\u4e8e\u6743\u9650\u7684\u7f13\u5b58\u8bbf\u95ee</li> <li>\u6c99\u76d2\u9694\u79bb: \u5e94\u7528\u95f4\u7f13\u5b58\u6570\u636e\u9694\u79bb</li> <li>\u5ba1\u8ba1\u65e5\u5fd7: \u7f13\u5b58\u8bbf\u95ee\u5ba1\u8ba1\u8bb0\u5f55</li> <li>\u5f02\u5e38\u76d1\u63a7: \u5f02\u5e38\u8bbf\u95ee\u884c\u4e3a\u76d1\u63a7</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_20","title":"\u76d1\u63a7\u548c\u8bca\u65ad","text":""},{"location":"app_car/one_app_cache_plugin.html#_21","title":"\u6027\u80fd\u6307\u6807","text":"<pre><code>class CacheStats {\n  final int hitCount;      // \u547d\u4e2d\u6b21\u6570\n  final int missCount;     // \u672a\u547d\u4e2d\u6b21\u6570\n  final int evictionCount; // \u6dd8\u6c70\u6b21\u6570\n  final double hitRate;    // \u547d\u4e2d\u7387\n  final int size;          // \u5f53\u524d\u5927\u5c0f\n  final int maxSize;       // \u6700\u5927\u5927\u5c0f\n\n  double get hitRate =&gt; hitCount / (hitCount + missCount);\n}\n</code></pre>"},{"location":"app_car/one_app_cache_plugin.html#_22","title":"\u8bca\u65ad\u5de5\u5177","text":"<ul> <li>\u7f13\u5b58\u547d\u4e2d\u7387\u76d1\u63a7: \u5b9e\u65f6\u76d1\u63a7\u7f13\u5b58\u6548\u679c</li> <li>\u5185\u5b58\u4f7f\u7528\u5206\u6790: \u5206\u6790\u5185\u5b58\u4f7f\u7528\u6a21\u5f0f</li> <li>\u6027\u80fd\u5206\u6790\u5668: \u5206\u6790\u7f13\u5b58\u64cd\u4f5c\u6027\u80fd</li> <li>\u8c03\u8bd5\u754c\u9762: \u53ef\u89c6\u5316\u7f13\u5b58\u72b6\u6001</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_23","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/one_app_cache_plugin.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u7f13\u5b58\u64cd\u4f5c\u6d4b\u8bd5: \u57fa\u672cCRUD\u64cd\u4f5c</li> <li>\u8fc7\u671f\u7b56\u7565\u6d4b\u8bd5: TTL\u548c\u6dd8\u6c70\u7b56\u7565</li> <li>\u5e76\u53d1\u5b89\u5168\u6d4b\u8bd5: \u591a\u7ebf\u7a0b\u8bbf\u95ee\u5b89\u5168</li> <li>\u8fb9\u754c\u6761\u4ef6\u6d4b\u8bd5: \u6781\u9650\u60c5\u51b5\u5904\u7406</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u5e73\u53f0\u96c6\u6210\u6d4b\u8bd5: \u539f\u751f\u5e73\u53f0\u529f\u80fd</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u5927\u6570\u636e\u91cf\u6027\u80fd</li> <li>\u7a33\u5b9a\u6027\u6d4b\u8bd5: \u957f\u65f6\u95f4\u8fd0\u884c\u7a33\u5b9a\u6027</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5: \u4e0d\u540c\u8bbe\u5907\u548c\u7cfb\u7edf\u7248\u672c</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_26","title":"\u538b\u529b\u6d4b\u8bd5","text":"<ul> <li>\u9ad8\u5e76\u53d1\u6d4b\u8bd5: \u5927\u91cf\u5e76\u53d1\u8bbf\u95ee</li> <li>\u5927\u6570\u636e\u6d4b\u8bd5: \u5927\u5bb9\u91cf\u6570\u636e\u5904\u7406</li> <li>\u5185\u5b58\u538b\u529b\u6d4b\u8bd5: \u4f4e\u5185\u5b58\u73af\u5883\u6d4b\u8bd5</li> <li>\u5b58\u50a8\u538b\u529b\u6d4b\u8bd5: \u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3\u6d4b\u8bd5</li> </ul>"},{"location":"app_car/one_app_cache_plugin.html#_27","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"app_car/one_app_cache_plugin.html#_28","title":"\u4f7f\u7528\u5efa\u8bae","text":"<ol> <li>\u5408\u7406\u8bbe\u7f6eTTL: \u6839\u636e\u6570\u636e\u7279\u6027\u8bbe\u7f6e\u5408\u9002\u7684\u8fc7\u671f\u65f6\u95f4</li> <li>\u9009\u62e9\u5408\u9002\u7b56\u7565: \u6839\u636e\u8bbf\u95ee\u6a21\u5f0f\u9009\u62e9\u6dd8\u6c70\u7b56\u7565</li> <li>\u76d1\u63a7\u7f13\u5b58\u6548\u679c: \u5b9a\u671f\u68c0\u67e5\u547d\u4e2d\u7387\u548c\u6027\u80fd\u6307\u6807</li> <li>\u63a7\u5236\u7f13\u5b58\u5927\u5c0f: \u907f\u514d\u7f13\u5b58\u8fc7\u5927\u5f71\u54cd\u6027\u80fd</li> </ol>"},{"location":"app_car/one_app_cache_plugin.html#_29","title":"\u6027\u80fd\u4f18\u5316\u5efa\u8bae","text":"<ol> <li>\u9884\u52a0\u8f7d\u70ed\u70b9\u6570\u636e: \u5e94\u7528\u542f\u52a8\u65f6\u9884\u52a0\u8f7d\u91cd\u8981\u6570\u636e</li> <li>\u6279\u91cf\u64cd\u4f5c: \u5c3d\u91cf\u4f7f\u7528\u6279\u91cfAPI\u51cf\u5c11\u5f00\u9500</li> <li>\u5f02\u6b65\u64cd\u4f5c: \u907f\u514d\u963b\u585e\u4e3b\u7ebf\u7a0b</li> <li>\u5408\u7406\u6e05\u7406: \u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u548c\u4e0d\u9700\u8981\u7684\u7f13\u5b58</li> </ol>"},{"location":"app_car/one_app_cache_plugin.html#_30","title":"\u603b\u7ed3","text":"<p><code>one_app_cache_plugin</code> \u4f5c\u4e3a OneApp \u7684\u539f\u751f\u7f13\u5b58\u63d2\u4ef6\uff0c\u4e3aFlutter\u5e94\u7528\u63d0\u4f9b\u4e86\u9ad8\u6548\u3001\u53ef\u9760\u7684\u591a\u7ea7\u7f13\u5b58\u80fd\u529b\u3002\u901a\u8fc7\u667a\u80fd\u7684\u7f13\u5b58\u7b56\u7565\u3001\u5b8c\u5584\u7684\u6027\u80fd\u4f18\u5316\u548c\u5b89\u5168\u7684\u6570\u636e\u4fdd\u62a4\uff0c\u663e\u8457\u63d0\u5347\u4e86\u5e94\u7528\u7684\u6570\u636e\u8bbf\u95ee\u6027\u80fd\u548c\u7528\u6237\u4f53\u9a8c\u3002\u63d2\u4ef6\u8bbe\u8ba1\u8003\u8651\u4e86\u8de8\u5e73\u53f0\u517c\u5bb9\u6027\u548c\u53ef\u6269\u5c55\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u548c\u6027\u80fd\u8981\u6c42\u3002</p>"},{"location":"app_car/ui_avatarx.html","title":"UI AvatarX \u865a\u62df\u5f62\u8c61UI\u7ec4\u4ef6","text":""},{"location":"app_car/ui_avatarx.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>ui_avatarx</code> \u662f OneApp \u8f66\u8054\u7f51\u751f\u6001\u4e2d\u7684\u865a\u62df\u5f62\u8c61UI\u7ec4\u4ef6\u5e93\uff0c\u8d1f\u8d23\u865a\u62df\u5f62\u8c61\u7684\u754c\u9762\u5c55\u793a\u3001\u4ea4\u4e92\u63a7\u5236\u3001\u52a8\u753b\u6548\u679c\u548c\u7528\u6237\u4f53\u9a8c\u4f18\u5316\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u865a\u62df\u52a9\u624b\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684UI\u7ec4\u4ef6\u548c\u4ea4\u4e92\u4f53\u9a8c\u3002</p>"},{"location":"app_car/ui_avatarx.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: ui_avatarx</li> <li>\u7248\u672c: 0.4.7+3</li> <li>\u63cf\u8ff0: \u865a\u62df\u5f62\u8c61UI\u7ec4\u4ef6\u5e93</li> <li>Flutter \u7248\u672c: &gt;=2.5.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"app_car/ui_avatarx.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"app_car/ui_avatarx.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u865a\u62df\u5f62\u8c61\u5c55\u793a    - 3D\u865a\u62df\u5f62\u8c61\u6e32\u67d3    - 2D\u5934\u50cf\u5c55\u793a    - \u8868\u60c5\u52a8\u753b\u64ad\u653e    - \u72b6\u6001\u6307\u793a\u5668</p> </li> <li> <p>\u4ea4\u4e92\u7ec4\u4ef6    - \u8bed\u97f3\u4ea4\u4e92\u754c\u9762    - \u624b\u52bf\u63a7\u5236\u7ec4\u4ef6    - \u89e6\u63a7\u53cd\u9988\u6548\u679c    - \u60c5\u7eea\u8868\u8fbe\u63a7\u4ef6</p> </li> <li> <p>\u52a8\u753b\u6548\u679c    - \u6d41\u7545\u7684\u8f6c\u573a\u52a8\u753b    - \u8868\u60c5\u5207\u6362\u52a8\u753b    - \u72b6\u6001\u53d8\u5316\u52a8\u753b    - \u81ea\u5b9a\u4e49\u52a8\u753b\u5e8f\u5217</p> </li> <li> <p>\u4e3b\u9898\u5b9a\u5236    - \u591a\u79cd\u5f62\u8c61\u4e3b\u9898    - \u53ef\u5b9a\u5236\u5916\u89c2    - \u54cd\u5e94\u5f0f\u5e03\u5c40    - \u6697\u9ed1\u6a21\u5f0f\u652f\u6301</p> </li> </ol>"},{"location":"app_car/ui_avatarx.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"app_car/ui_avatarx.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 ui_avatarx.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 widgets/                # UI\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 animations/             # \u52a8\u753b\u6548\u679c\n\u2502   \u251c\u2500\u2500 themes/                 # \u4e3b\u9898\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 controllers/            # \u63a7\u5236\u5668\n\u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 assets/                     # \u8d44\u6e90\u6587\u4ef6\n\u2514\u2500\u2500 examples/                   # \u793a\u4f8b\u4ee3\u7801\n</code></pre>"},{"location":"app_car/ui_avatarx.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"app_car/ui_avatarx.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_logger</code> - \u65e5\u5fd7\u7cfb\u7edf\uff08\u672c\u5730\u8def\u5f84\u4f9d\u8d56\uff09</li> </ul>"},{"location":"app_car/ui_avatarx.html#flutter","title":"Flutter\u6846\u67b6","text":"<ul> <li><code>flutter</code> - Flutter SDK</li> </ul>"},{"location":"app_car/ui_avatarx.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"app_car/ui_avatarx.html#1_ui_avatarxdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>ui_avatarx.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - UI\u7ec4\u4ef6\u5bf9\u5916\u63a5\u53e3\u5bfc\u51fa - \u4e3b\u9898\u914d\u7f6e\u521d\u59cb\u5316 - \u7ec4\u4ef6\u6ce8\u518c\u7ba1\u7406</p>"},{"location":"app_car/ui_avatarx.html#2_ui_srcwidgets","title":"2. UI\u7ec4\u4ef6 (<code>src/widgets/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u865a\u62df\u5f62\u8c61\u5c55\u793a\u7ec4\u4ef6 - \u4ea4\u4e92\u63a7\u5236\u7ec4\u4ef6 - \u72b6\u6001\u6307\u793a\u7ec4\u4ef6 - \u81ea\u5b9a\u4e49\u88c5\u9970\u7ec4\u4ef6</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>AvatarXWidget</code> - \u4e3b\u865a\u62df\u5f62\u8c61\u7ec4\u4ef6 - <code>AvatarXHead</code> - \u5934\u50cf\u7ec4\u4ef6 - <code>ExpressionPanel</code> - \u8868\u60c5\u63a7\u5236\u9762\u677f - <code>VoiceIndicator</code> - \u8bed\u97f3\u6307\u793a\u5668 - <code>EmotionSelector</code> - \u60c5\u7eea\u9009\u62e9\u5668 - <code>AvatarXContainer</code> - \u5f62\u8c61\u5bb9\u5668 - <code>InteractionOverlay</code> - \u4ea4\u4e92\u8986\u76d6\u5c42</p>"},{"location":"app_car/ui_avatarx.html#3_srcanimations","title":"3. \u52a8\u753b\u6548\u679c (<code>src/animations/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8868\u60c5\u52a8\u753b\u63a7\u5236 - \u8f6c\u573a\u52a8\u753b\u5b9e\u73b0 - \u81ea\u5b9a\u4e49\u52a8\u753b\u5e8f\u5217 - \u52a8\u753b\u72b6\u6001\u7ba1\u7406</p> <p>\u4e3b\u8981\u52a8\u753b: - <code>ExpressionAnimation</code> - \u8868\u60c5\u52a8\u753b - <code>TransitionAnimation</code> - \u8f6c\u573a\u52a8\u753b - <code>IdleAnimation</code> - \u5f85\u673a\u52a8\u753b - <code>InteractionAnimation</code> - \u4ea4\u4e92\u52a8\u753b - <code>EmotionAnimation</code> - \u60c5\u7eea\u52a8\u753b</p>"},{"location":"app_car/ui_avatarx.html#4_srcthemes","title":"4. \u4e3b\u9898\u914d\u7f6e (<code>src/themes/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4e3b\u9898\u6837\u5f0f\u5b9a\u4e49 - \u989c\u8272\u914d\u7f6e\u7ba1\u7406 - \u5c3a\u5bf8\u89c4\u8303\u8bbe\u7f6e - \u54cd\u5e94\u5f0f\u914d\u7f6e</p> <p>\u4e3b\u8981\u4e3b\u9898: - <code>DefaultAvatarTheme</code> - \u9ed8\u8ba4\u4e3b\u9898 - <code>DarkAvatarTheme</code> - \u6697\u9ed1\u4e3b\u9898 - <code>CustomAvatarTheme</code> - \u81ea\u5b9a\u4e49\u4e3b\u9898 - <code>ResponsiveTheme</code> - \u54cd\u5e94\u5f0f\u4e3b\u9898</p>"},{"location":"app_car/ui_avatarx.html#5_srccontrollers","title":"5. \u63a7\u5236\u5668 (<code>src/controllers/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u865a\u62df\u5f62\u8c61\u72b6\u6001\u63a7\u5236 - \u52a8\u753b\u64ad\u653e\u63a7\u5236 - \u4ea4\u4e92\u4e8b\u4ef6\u5904\u7406 - \u751f\u547d\u5468\u671f\u7ba1\u7406</p> <p>\u4e3b\u8981\u63a7\u5236\u5668: - <code>AvatarXController</code> - \u4e3b\u63a7\u5236\u5668 - <code>AnimationController</code> - \u52a8\u753b\u63a7\u5236\u5668 - <code>InteractionController</code> - \u4ea4\u4e92\u63a7\u5236\u5668 - <code>ThemeController</code> - \u4e3b\u9898\u63a7\u5236\u5668</p>"},{"location":"app_car/ui_avatarx.html#6_srcmodels","title":"6. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u865a\u62df\u5f62\u8c61\u6570\u636e\u6a21\u578b - \u52a8\u753b\u914d\u7f6e\u6a21\u578b - \u4e3b\u9898\u914d\u7f6e\u6a21\u578b - \u72b6\u6001\u4fe1\u606f\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>AvatarXModel</code> - \u865a\u62df\u5f62\u8c61\u6a21\u578b - <code>ExpressionModel</code> - \u8868\u60c5\u6a21\u578b - <code>AnimationConfig</code> - \u52a8\u753b\u914d\u7f6e\u6a21\u578b - <code>ThemeConfig</code> - \u4e3b\u9898\u914d\u7f6e\u6a21\u578b - <code>InteractionState</code> - \u4ea4\u4e92\u72b6\u6001\u6a21\u578b</p>"},{"location":"app_car/ui_avatarx.html#7_srcutils","title":"7. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u52a8\u753b\u5de5\u5177\u65b9\u6cd5 - \u4e3b\u9898\u5de5\u5177\u51fd\u6570 - \u5e03\u5c40\u8ba1\u7b97\u5de5\u5177 - \u6027\u80fd\u4f18\u5316\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>AnimationUtils</code> - \u52a8\u753b\u5de5\u5177 - <code>ThemeUtils</code> - \u4e3b\u9898\u5de5\u5177 - <code>LayoutUtils</code> - \u5e03\u5c40\u5de5\u5177 - <code>PerformanceUtils</code> - \u6027\u80fd\u5de5\u5177</p>"},{"location":"app_car/ui_avatarx.html#_10","title":"\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"app_car/ui_avatarx.html#_11","title":"\u6838\u5fc3\u7ec4\u4ef6\u8be6\u89e3","text":""},{"location":"app_car/ui_avatarx.html#avatarxwidget","title":"AvatarXWidget","text":"<pre><code>class AvatarXWidget extends StatefulWidget {\n  final AvatarXModel avatar;\n  final AvatarXController? controller;\n  final AvatarTheme? theme;\n  final double? width;\n  final double? height;\n  final bool enableInteraction;\n  final VoidCallback? onTap;\n  final Function(String)? onExpressionChanged;\n\n  const AvatarXWidget({\n    Key? key,\n    required this.avatar,\n    this.controller,\n    this.theme,\n    this.width,\n    this.height,\n    this.enableInteraction = true,\n    this.onTap,\n    this.onExpressionChanged,\n  }) : super(key: key);\n\n  @override\n  State&lt;AvatarXWidget&gt; createState() =&gt; _AvatarXWidgetState();\n}\n</code></pre> <p>\u4e3b\u8981\u529f\u80fd: - \u865a\u62df\u5f62\u8c61\u6e32\u67d3\u5c55\u793a - \u4ea4\u4e92\u4e8b\u4ef6\u5904\u7406 - \u52a8\u753b\u72b6\u6001\u7ba1\u7406 - \u4e3b\u9898\u6837\u5f0f\u5e94\u7528</p>"},{"location":"app_car/ui_avatarx.html#expressionpanel","title":"ExpressionPanel","text":"<pre><code>class ExpressionPanel extends StatelessWidget {\n  final List&lt;String&gt; expressions;\n  final String? currentExpression;\n  final Function(String) onExpressionSelected;\n  final bool showLabels;\n  final Axis direction;\n\n  const ExpressionPanel({\n    Key? key,\n    required this.expressions,\n    this.currentExpression,\n    required this.onExpressionSelected,\n    this.showLabels = true,\n    this.direction = Axis.horizontal,\n  }) : super(key: key);\n}\n</code></pre> <p>\u4e3b\u8981\u529f\u80fd: - \u8868\u60c5\u9009\u62e9\u754c\u9762 - \u8868\u60c5\u9884\u89c8\u529f\u80fd - \u9009\u62e9\u72b6\u6001\u6307\u793a - \u53ef\u5b9a\u5236\u5e03\u5c40\u65b9\u5411</p>"},{"location":"app_car/ui_avatarx.html#voiceindicator","title":"VoiceIndicator","text":"<pre><code>class VoiceIndicator extends StatefulWidget {\n  final bool isListening;\n  final bool isSpeaking;\n  final double amplitude;\n  final Color? color;\n  final double size;\n  final VoiceIndicatorStyle style;\n\n  const VoiceIndicator({\n    Key? key,\n    this.isListening = false,\n    this.isSpeaking = false,\n    this.amplitude = 0.0,\n    this.color,\n    this.size = 60.0,\n    this.style = VoiceIndicatorStyle.wave,\n  }) : super(key: key);\n}\n</code></pre> <p>\u4e3b\u8981\u529f\u80fd: - \u8bed\u97f3\u72b6\u6001\u53ef\u89c6\u5316 - \u97f3\u9891\u6ce2\u5f62\u663e\u793a - \u5b9e\u65f6\u632f\u5e45\u53cd\u6620 - \u591a\u79cd\u89c6\u89c9\u6837\u5f0f</p>"},{"location":"app_car/ui_avatarx.html#_12","title":"\u52a8\u753b\u7cfb\u7edf","text":""},{"location":"app_car/ui_avatarx.html#_13","title":"\u52a8\u753b\u7c7b\u578b","text":"<ol> <li> <p>\u8868\u60c5\u52a8\u753b    - \u9762\u90e8\u8868\u60c5\u5207\u6362    - \u773c\u90e8\u52a8\u4f5c    - \u5634\u90e8\u52a8\u4f5c    - \u7709\u6bdb\u8868\u60c5</p> </li> <li> <p>\u8eab\u4f53\u52a8\u753b    - \u5934\u90e8\u8f6c\u52a8    - \u80a9\u8180\u52a8\u4f5c    - \u624b\u52bf\u52a8\u4f5c    - \u59ff\u6001\u53d8\u5316</p> </li> <li> <p>\u4ea4\u4e92\u52a8\u753b    - \u70b9\u51fb\u53cd\u9988    - \u60ac\u505c\u6548\u679c    - \u62d6\u62fd\u54cd\u5e94    - \u72b6\u6001\u8f6c\u6362</p> </li> <li> <p>\u73af\u5883\u52a8\u753b    - \u80cc\u666f\u53d8\u5316    - \u5149\u7167\u6548\u679c    - \u7c92\u5b50\u6548\u679c    - \u6c1b\u56f4\u8425\u9020</p> </li> </ol>"},{"location":"app_car/ui_avatarx.html#_14","title":"\u52a8\u753b\u63a7\u5236","text":"<pre><code>class AnimationController {\n  Future&lt;void&gt; playExpression(String expression, {\n    Duration duration = const Duration(milliseconds: 500),\n    Curve curve = Curves.easeInOut,\n  });\n\n  Future&lt;void&gt; playSequence(List&lt;AnimationStep&gt; steps);\n\n  void pauseAnimation();\n  void resumeAnimation();\n  void stopAnimation();\n\n  Stream&lt;AnimationState&gt; get animationState;\n}\n</code></pre>"},{"location":"app_car/ui_avatarx.html#_15","title":"\u4e3b\u9898\u7cfb\u7edf","text":""},{"location":"app_car/ui_avatarx.html#_16","title":"\u4e3b\u9898\u914d\u7f6e","text":"<pre><code>class AvatarTheme {\n  final Color primaryColor;\n  final Color secondaryColor;\n  final Color backgroundColor;\n  final TextStyle labelStyle;\n  final EdgeInsets padding;\n  final BorderRadius borderRadius;\n  final BoxShadow? shadow;\n  final AvatarSize size;\n\n  const AvatarTheme({\n    required this.primaryColor,\n    required this.secondaryColor,\n    required this.backgroundColor,\n    required this.labelStyle,\n    this.padding = const EdgeInsets.all(8.0),\n    this.borderRadius = const BorderRadius.all(Radius.circular(8.0)),\n    this.shadow,\n    this.size = AvatarSize.medium,\n  });\n}\n</code></pre>"},{"location":"app_car/ui_avatarx.html#_17","title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1","text":"<ul> <li>\u5c4f\u5e55\u5c3a\u5bf8\u9002\u914d: \u81ea\u52a8\u8c03\u6574\u7ec4\u4ef6\u5927\u5c0f</li> <li>\u5bc6\u5ea6\u9002\u914d: \u652f\u6301\u4e0d\u540c\u50cf\u7d20\u5bc6\u5ea6</li> <li>\u65b9\u5411\u9002\u914d: \u6a2a\u7ad6\u5c4f\u81ea\u9002\u5e94</li> <li>\u5e73\u53f0\u9002\u914d: iOS/Android\u6837\u5f0f\u9002\u914d</li> </ul>"},{"location":"app_car/ui_avatarx.html#_18","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"app_car/ui_avatarx.html#_19","title":"\u6e32\u67d3\u4f18\u5316","text":"<ul> <li>\u7ec4\u4ef6\u7f13\u5b58: \u7f13\u5b58\u6e32\u67d3\u7ed3\u679c</li> <li>\u5dee\u5206\u66f4\u65b0: \u4ec5\u66f4\u65b0\u53d8\u5316\u90e8\u5206</li> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u8d44\u6e90</li> <li>\u9884\u52a0\u8f7d: \u9884\u6d4b\u6027\u8d44\u6e90\u52a0\u8f7d</li> </ul>"},{"location":"app_car/ui_avatarx.html#_20","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u8d44\u6e90\u91ca\u653e: \u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u8d44\u6e90</li> <li>\u5185\u5b58\u6c60: \u590d\u7528\u5bf9\u8c61\u51cf\u5c11GC</li> <li>\u5f31\u5f15\u7528: \u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> <li>\u76d1\u63a7\u544a\u8b66: \u5185\u5b58\u4f7f\u7528\u76d1\u63a7</li> </ul>"},{"location":"app_car/ui_avatarx.html#_21","title":"\u52a8\u753b\u4f18\u5316","text":"<ul> <li>\u786c\u4ef6\u52a0\u901f: \u5229\u7528GPU\u52a0\u901f</li> <li>\u5e27\u7387\u63a7\u5236: \u667a\u80fd\u5e27\u7387\u8c03\u8282</li> <li>\u63d2\u503c\u4f18\u5316: \u9ad8\u6548\u63d2\u503c\u7b97\u6cd5</li> <li>\u6279\u91cf\u66f4\u65b0: \u6279\u91cf\u5904\u7406\u52a8\u753b\u66f4\u65b0</li> </ul>"},{"location":"app_car/ui_avatarx.html#_22","title":"\u4ea4\u4e92\u8bbe\u8ba1","text":""},{"location":"app_car/ui_avatarx.html#_23","title":"\u624b\u52bf\u652f\u6301","text":"<ol> <li> <p>\u70b9\u51fb\u624b\u52bf    - \u5355\u51fb\u6fc0\u6d3b    - \u53cc\u51fb\u7279\u6b8a\u529f\u80fd    - \u957f\u6309\u83dc\u5355    - \u591a\u70b9\u89e6\u63a7</p> </li> <li> <p>\u6ed1\u52a8\u624b\u52bf    - \u6c34\u5e73\u6ed1\u52a8\u5207\u6362    - \u5782\u76f4\u6ed1\u52a8\u63a7\u5236    - \u65cb\u8f6c\u624b\u52bf    - \u7f29\u653e\u624b\u52bf</p> </li> <li> <p>\u81ea\u5b9a\u4e49\u624b\u52bf    - \u624b\u52bf\u8bc6\u522b\u5668    - \u624b\u52bf\u56de\u8c03    - \u624b\u52bf\u53cd\u9988    - \u624b\u52bf\u7ec4\u5408</p> </li> </ol>"},{"location":"app_car/ui_avatarx.html#_24","title":"\u53cd\u9988\u673a\u5236","text":"<ul> <li>\u89c6\u89c9\u53cd\u9988: \u52a8\u753b\u548c\u989c\u8272\u53d8\u5316</li> <li>\u89e6\u89c9\u53cd\u9988: \u9707\u52a8\u53cd\u9988</li> <li>\u542c\u89c9\u53cd\u9988: \u97f3\u6548\u63d0\u793a</li> <li>\u8bed\u97f3\u53cd\u9988: \u8bed\u97f3\u786e\u8ba4</li> </ul>"},{"location":"app_car/ui_avatarx.html#_25","title":"\u53ef\u8bbf\u95ee\u6027","text":""},{"location":"app_car/ui_avatarx.html#_26","title":"\u65e0\u969c\u788d\u652f\u6301","text":"<ul> <li>\u8bed\u4e49\u6807\u7b7e: \u4e3a\u5c4f\u5e55\u9605\u8bfb\u5668\u63d0\u4f9b\u6807\u7b7e</li> <li>\u7126\u70b9\u7ba1\u7406: \u952e\u76d8\u5bfc\u822a\u652f\u6301</li> <li>\u5bf9\u6bd4\u5ea6: \u9ad8\u5bf9\u6bd4\u5ea6\u6a21\u5f0f</li> <li>\u5b57\u4f53\u7f29\u653e: \u652f\u6301\u7cfb\u7edf\u5b57\u4f53\u7f29\u653e</li> </ul>"},{"location":"app_car/ui_avatarx.html#_27","title":"\u56fd\u9645\u5316\u652f\u6301","text":"<ul> <li>\u591a\u8bed\u8a00: \u652f\u6301\u591a\u8bed\u8a00\u754c\u9762</li> <li>RTL\u5e03\u5c40: \u4ece\u53f3\u5230\u5de6\u6587\u5b57\u652f\u6301</li> <li>\u6587\u5316\u9002\u914d: \u4e0d\u540c\u6587\u5316\u7684\u89c6\u89c9\u9002\u914d</li> <li>\u65f6\u533a\u5904\u7406: \u65f6\u95f4\u663e\u793a\u672c\u5730\u5316</li> </ul>"},{"location":"app_car/ui_avatarx.html#_28","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"app_car/ui_avatarx.html#_29","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u7ec4\u4ef6\u6e32\u67d3\u6d4b\u8bd5: Widget\u6e32\u67d3\u6b63\u786e\u6027</li> <li>\u52a8\u753b\u903b\u8f91\u6d4b\u8bd5: \u52a8\u753b\u72b6\u6001\u8f6c\u6362</li> <li>\u4e3b\u9898\u5e94\u7528\u6d4b\u8bd5: \u4e3b\u9898\u914d\u7f6e\u6b63\u786e\u6027</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u5de5\u5177\u65b9\u6cd5\u529f\u80fd</li> </ul>"},{"location":"app_car/ui_avatarx.html#widget","title":"Widget\u6d4b\u8bd5","text":"<ul> <li>\u4ea4\u4e92\u6d4b\u8bd5: \u7528\u6237\u4ea4\u4e92\u54cd\u5e94</li> <li>\u72b6\u6001\u6d4b\u8bd5: \u7ec4\u4ef6\u72b6\u6001\u53d8\u5316</li> <li>\u5e03\u5c40\u6d4b\u8bd5: \u54cd\u5e94\u5f0f\u5e03\u5c40</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u6e32\u67d3\u6027\u80fd</li> </ul>"},{"location":"app_car/ui_avatarx.html#_30","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u7aef\u5230\u7aef\u6d4b\u8bd5: \u5b8c\u6574\u7528\u6237\u6d41\u7a0b</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5: \u4e0d\u540c\u8bbe\u5907\u9002\u914d</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u771f\u5b9e\u8bbe\u5907\u6027\u80fd</li> <li>\u53ef\u8bbf\u95ee\u6027\u6d4b\u8bd5: \u65e0\u969c\u788d\u529f\u80fd</li> </ul>"},{"location":"app_car/ui_avatarx.html#_31","title":"\u90e8\u7f72\u548c\u7ef4\u62a4","text":""},{"location":"app_car/ui_avatarx.html#_32","title":"\u7248\u672c\u7ba1\u7406","text":"<ul> <li>API\u7a33\u5b9a\u6027: \u5411\u540e\u517c\u5bb9\u4fdd\u8bc1</li> <li>\u6e10\u8fdb\u5f0f\u5347\u7ea7: \u5e73\u6ed1\u7248\u672c\u5347\u7ea7</li> <li>\u529f\u80fd\u5f00\u5173: \u65b0\u529f\u80fd\u6e10\u8fdb\u53d1\u5e03</li> <li>\u56de\u6eda\u7b56\u7565: \u95ee\u9898\u7248\u672c\u5feb\u901f\u56de\u6eda</li> </ul>"},{"location":"app_car/ui_avatarx.html#_33","title":"\u76d1\u63a7\u6307\u6807","text":"<ul> <li>\u7ec4\u4ef6\u4f7f\u7528\u7387: \u5404\u7ec4\u4ef6\u4f7f\u7528\u9891\u7387</li> <li>\u6027\u80fd\u6307\u6807: \u6e32\u67d3\u6027\u80fd\u548c\u5185\u5b58\u4f7f\u7528</li> <li>\u7528\u6237\u4f53\u9a8c: \u4ea4\u4e92\u54cd\u5e94\u65f6\u95f4</li> <li>\u9519\u8bef\u7387: \u7ec4\u4ef6\u5f02\u5e38\u53d1\u751f\u7387</li> </ul>"},{"location":"app_car/ui_avatarx.html#_34","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"app_car/ui_avatarx.html#_35","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u7ec4\u4ef6\u590d\u7528: \u4f18\u5148\u4f7f\u7528\u73b0\u6709\u7ec4\u4ef6</li> <li>\u4e3b\u9898\u4e00\u81f4: \u9075\u5faa\u8bbe\u8ba1\u7cfb\u7edf</li> <li>\u6027\u80fd\u8003\u8651: \u907f\u514d\u8fc7\u5ea6\u6e32\u67d3</li> <li>\u53ef\u6d4b\u8bd5\u6027: \u7f16\u5199\u53ef\u6d4b\u8bd5\u4ee3\u7801</li> </ol>"},{"location":"app_car/ui_avatarx.html#_36","title":"\u4f7f\u7528\u6307\u5357","text":"<ol> <li>\u5408\u7406\u9009\u62e9: \u6839\u636e\u573a\u666f\u9009\u62e9\u5408\u9002\u7ec4\u4ef6</li> <li>\u914d\u7f6e\u4f18\u5316: \u5408\u7406\u914d\u7f6e\u7ec4\u4ef6\u53c2\u6570</li> <li>\u8d44\u6e90\u7ba1\u7406: \u6ce8\u610f\u8d44\u6e90\u751f\u547d\u5468\u671f</li> <li>\u7528\u6237\u4f53\u9a8c: \u5173\u6ce8\u7528\u6237\u4ea4\u4e92\u4f53\u9a8c</li> </ol>"},{"location":"app_car/ui_avatarx.html#_37","title":"\u603b\u7ed3","text":"<p><code>ui_avatarx</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u865a\u62df\u5f62\u8c61UI\u7ec4\u4ef6\u5e93\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u865a\u62df\u5f62\u8c61\u5c55\u793a\u548c\u4ea4\u4e92\u80fd\u529b\u3002\u901a\u8fc7\u6a21\u5757\u5316\u7684\u7ec4\u4ef6\u8bbe\u8ba1\u3001\u7075\u6d3b\u7684\u4e3b\u9898\u7cfb\u7edf\u548c\u6d41\u7545\u7684\u52a8\u753b\u6548\u679c\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4f18\u79c0\u7684\u865a\u62df\u52a9\u624b\u4ea4\u4e92\u4f53\u9a8c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u4f18\u5316\u548c\u53ef\u8bbf\u95ee\u6027\u652f\u6301\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u7684\u8bbe\u5907\u548c\u4f7f\u7528\u573a\u666f\u3002</p>"},{"location":"basic_uis/index.html","title":"Basic UIs \u57fa\u7840UI\u7ec4\u4ef6\u6a21\u5757\u7fa4","text":""},{"location":"basic_uis/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>Basic UIs \u6a21\u5757\u7fa4\u662f OneApp \u7684\u7528\u6237\u754c\u9762\u57fa\u7840\u8bbe\u65bd\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684UI\u7ec4\u4ef6\u751f\u6001\u7cfb\u7edf\u3002\u8be5\u6a21\u5757\u7fa4\u5305\u542b\u4e86\u57fa\u7840UI\u7ec4\u4ef6\u3001\u4e1a\u52a1UI\u7ec4\u4ef6\u548c\u901a\u7528UI\u7ec4\u4ef6\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u7edf\u4e00\u7684\u8bbe\u8ba1\u8bed\u8a00\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"basic_uis/index.html#_2","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"basic_uis/index.html#ui","title":"\u6838\u5fc3UI\u7ec4\u4ef6","text":"<ol> <li> <p>ui_basic - \u57fa\u7840UI\u7ec4\u4ef6\u5e93    - \u6309\u94ae\u3001\u8f93\u5165\u6846\u3001\u5361\u7247\u7b49\u57fa\u7840\u7ec4\u4ef6    - \u5e03\u5c40\u5bb9\u5668\u548c\u4ea4\u4e92\u7ec4\u4ef6    - \u4e3b\u9898\u7cfb\u7edf\u548c\u54cd\u5e94\u5f0f\u8bbe\u8ba1</p> </li> <li> <p>ui_business - \u4e1a\u52a1UI\u7ec4\u4ef6\u5e93    - \u8f66\u8f86\u72b6\u6001\u5c55\u793a\u7ec4\u4ef6    - \u6d88\u606f\u4e2d\u5fc3\u7ec4\u4ef6    - \u5730\u7406\u4f4d\u7f6e\u7ec4\u4ef6    - \u7528\u6237\u540c\u610f\u7ec4\u4ef6</p> </li> <li> <p>basic_uis - \u901a\u7528UI\u7ec4\u4ef6\u96c6\u5408    - \u7ec4\u4ef6\u5e93\u6574\u5408\u548c\u7edf\u4e00\u5bfc\u51fa    - \u8de8\u6a21\u5757UI\u7ec4\u4ef6\u7ba1\u7406    - \u5168\u5c40UI\u914d\u7f6e\u548c\u5de5\u5177</p> </li> <li> <p>general_ui_component - \u901a\u7528UI\u7ec4\u4ef6    - \u53ef\u590d\u7528\u7684\u901a\u7528\u7ec4\u4ef6    - \u8de8\u4e1a\u52a1\u573a\u666f\u7ec4\u4ef6    - \u7b2c\u4e09\u65b9\u7ec4\u4ef6\u5c01\u88c5</p> </li> </ol>"},{"location":"basic_uis/index.html#_3","title":"\u6a21\u5757\u67b6\u6784","text":""},{"location":"basic_uis/index.html#_4","title":"\u5206\u5c42\u8bbe\u8ba1","text":"<pre><code>\u5e94\u7528\u5c42 UI \u7ec4\u4ef6\n    \u2193\n\u4e1a\u52a1\u5c42 UI \u7ec4\u4ef6 (ui_business)\n    \u2193\n\u57fa\u7840\u5c42 UI \u7ec4\u4ef6 (ui_basic)\n    \u2193\nFlutter Framework\n</code></pre>"},{"location":"basic_uis/index.html#_5","title":"\u7ec4\u4ef6\u5206\u7c7b","text":""},{"location":"basic_uis/index.html#1_ui_basic","title":"1. \u57fa\u7840\u7ec4\u4ef6\u5c42 (ui_basic)","text":"<ul> <li>\u539f\u5b50\u7ec4\u4ef6: Button, TextField, Icon, Text</li> <li>\u5206\u5b50\u7ec4\u4ef6: Card, ListTile, AppBar, Dialog</li> <li>\u5e03\u5c40\u7ec4\u4ef6: Container, Row, Column, Stack</li> <li>\u4ea4\u4e92\u7ec4\u4ef6: GestureDetector, InkWell, RefreshIndicator</li> </ul>"},{"location":"basic_uis/index.html#2_ui_business","title":"2. \u4e1a\u52a1\u7ec4\u4ef6\u5c42 (ui_business)","text":"<ul> <li>\u8f66\u8f86\u7ec4\u4ef6: VehicleStatusCard, VehicleControlPanel</li> <li>\u6d88\u606f\u7ec4\u4ef6: MessageListView, MessageTile</li> <li>\u4f4d\u7f6e\u7ec4\u4ef6: LocationPicker, MapView</li> <li>\u8868\u5355\u7ec4\u4ef6: BusinessForm, ConsentDialog</li> </ul>"},{"location":"basic_uis/index.html#3_basic_uis_general_ui_component","title":"3. \u901a\u7528\u7ec4\u4ef6\u5c42 (basic_uis &amp; general_ui_component)","text":"<ul> <li>\u590d\u5408\u7ec4\u4ef6: SearchBar, NavigationDrawer</li> <li>\u7279\u6548\u7ec4\u4ef6: AnimatedWidget, TransitionWidget</li> <li>\u5de5\u5177\u7ec4\u4ef6: LoadingOverlay, ErrorBoundary</li> </ul>"},{"location":"basic_uis/index.html#_6","title":"\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"basic_uis/index.html#1","title":"1. \u4e00\u81f4\u6027\u539f\u5219","text":"<ul> <li>\u89c6\u89c9\u4e00\u81f4\u6027: \u7edf\u4e00\u7684\u989c\u8272\u3001\u5b57\u4f53\u3001\u95f4\u8ddd\u89c4\u8303</li> <li>\u4ea4\u4e92\u4e00\u81f4\u6027: \u7edf\u4e00\u7684\u4ea4\u4e92\u6a21\u5f0f\u548c\u53cd\u9988\u673a\u5236</li> <li>\u884c\u4e3a\u4e00\u81f4\u6027: \u76f8\u540c\u529f\u80fd\u7ec4\u4ef6\u7684\u884c\u4e3a\u4fdd\u6301\u4e00\u81f4</li> </ul>"},{"location":"basic_uis/index.html#2","title":"2. \u53ef\u8bbf\u95ee\u6027\u539f\u5219","text":"<ul> <li>\u8bed\u4e49\u6807\u7b7e: \u4e3a\u5c4f\u5e55\u9605\u8bfb\u5668\u63d0\u4f9b\u6e05\u6670\u7684\u8bed\u4e49</li> <li>\u952e\u76d8\u5bfc\u822a: \u652f\u6301\u952e\u76d8\u548c\u8f85\u52a9\u8bbe\u5907\u5bfc\u822a</li> <li>\u5bf9\u6bd4\u5ea6: \u6ee1\u8db3\u65e0\u969c\u788d\u5bf9\u6bd4\u5ea6\u8981\u6c42</li> <li>\u5b57\u4f53\u7f29\u653e: \u652f\u6301\u7cfb\u7edf\u5b57\u4f53\u7f29\u653e\u8bbe\u7f6e</li> </ul>"},{"location":"basic_uis/index.html#3","title":"3. \u54cd\u5e94\u5f0f\u539f\u5219","text":"<ul> <li>\u5c4f\u5e55\u9002\u914d: \u9002\u5e94\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8\u548c\u5bc6\u5ea6</li> <li>\u65b9\u5411\u9002\u914d: \u652f\u6301\u6a2a\u7ad6\u5c4f\u5207\u6362</li> <li>\u8bbe\u5907\u9002\u914d: \u9488\u5bf9\u624b\u673a\u3001\u5e73\u677f\u7684\u4f18\u5316</li> <li>\u6027\u80fd\u9002\u914d: \u6839\u636e\u8bbe\u5907\u6027\u80fd\u8c03\u6574\u6e32\u67d3\u7b56\u7565</li> </ul>"},{"location":"basic_uis/index.html#4","title":"4. \u53ef\u6269\u5c55\u6027\u539f\u5219","text":"<ul> <li>\u63d2\u4ef6\u5316: \u652f\u6301\u7ec4\u4ef6\u63d2\u4ef6\u5316\u6269\u5c55</li> <li>\u4e3b\u9898\u5316: \u652f\u6301\u591a\u4e3b\u9898\u548c\u81ea\u5b9a\u4e49\u4e3b\u9898</li> <li>\u56fd\u9645\u5316: \u652f\u6301\u591a\u8bed\u8a00\u548c\u672c\u5730\u5316</li> <li>\u914d\u7f6e\u5316: \u901a\u8fc7\u914d\u7f6e\u63a7\u5236\u7ec4\u4ef6\u884c\u4e3a</li> </ul>"},{"location":"basic_uis/index.html#_7","title":"\u4e3b\u9898\u7cfb\u7edf","text":""},{"location":"basic_uis/index.html#_8","title":"\u4e3b\u9898\u67b6\u6784","text":"<pre><code>class OneAppTheme {\n  // \u989c\u8272\u7cfb\u7edf\n  static ColorScheme get colorScheme =&gt; ColorScheme.fromSeed(\n    seedColor: const Color(0xFF1976D2),\n  );\n\n  // \u5b57\u4f53\u7cfb\u7edf\n  static TextTheme get textTheme =&gt; const TextTheme(\n    displayLarge: TextStyle(fontSize: 32, fontWeight: FontWeight.bold),\n    titleLarge: TextStyle(fontSize: 20, fontWeight: FontWeight.w600),\n    bodyLarge: TextStyle(fontSize: 16, fontWeight: FontWeight.normal),\n  );\n\n  // \u7ec4\u4ef6\u4e3b\u9898\n  static ThemeData get lightTheme =&gt; ThemeData(\n    useMaterial3: true,\n    colorScheme: colorScheme,\n    textTheme: textTheme,\n    appBarTheme: const AppBarTheme(/* ... */),\n    elevatedButtonTheme: ElevatedButtonThemeData(/* ... */),\n  );\n}\n</code></pre>"},{"location":"basic_uis/index.html#design_tokens","title":"\u8bbe\u8ba1\u4ee4\u724c (Design Tokens)","text":"<pre><code>class DesignTokens {\n  // \u95f4\u8ddd\u7cfb\u7edf\n  static const double spacingXs = 4.0;\n  static const double spacingSm = 8.0;\n  static const double spacingMd = 16.0;\n  static const double spacingLg = 24.0;\n  static const double spacingXl = 32.0;\n\n  // \u5706\u89d2\u7cfb\u7edf\n  static const double radiusXs = 4.0;\n  static const double radiusSm = 8.0;\n  static const double radiusMd = 12.0;\n  static const double radiusLg = 16.0;\n\n  // \u9634\u5f71\u7cfb\u7edf\n  static const List&lt;BoxShadow&gt; shadowSm = [\n    BoxShadow(\n      color: Color(0x0D000000),\n      blurRadius: 2,\n      offset: Offset(0, 1),\n    ),\n  ];\n}\n</code></pre>"},{"location":"basic_uis/index.html#_9","title":"\u7ec4\u4ef6\u5f00\u53d1\u89c4\u8303","text":""},{"location":"basic_uis/index.html#1_1","title":"1. \u7ec4\u4ef6\u7ed3\u6784","text":"<pre><code>class ExampleComponent extends StatelessWidget {\n  // 1. \u5fc5\u9700\u53c2\u6570\n  final String title;\n\n  // 2. \u53ef\u9009\u53c2\u6570\n  final String? subtitle;\n  final VoidCallback? onTap;\n\n  // 3. \u6837\u5f0f\u53c2\u6570\n  final TextStyle? titleStyle;\n  final EdgeInsets? padding;\n\n  // 4. \u6784\u9020\u51fd\u6570\n  const ExampleComponent({\n    Key? key,\n    required this.title,\n    this.subtitle,\n    this.onTap,\n    this.titleStyle,\n    this.padding,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(/* \u5b9e\u73b0 */);\n  }\n}\n</code></pre>"},{"location":"basic_uis/index.html#2_1","title":"2. \u547d\u540d\u89c4\u8303","text":"<ul> <li>\u7ec4\u4ef6\u540d\u79f0: \u4f7f\u7528PascalCase\uff0c\u5982 <code>VehicleStatusCard</code></li> <li>\u53c2\u6570\u540d\u79f0: \u4f7f\u7528camelCase\uff0c\u5982 <code>onPressed</code></li> <li>\u5e38\u91cf\u540d\u79f0: \u4f7f\u7528camelCase\uff0c\u5982 <code>defaultPadding</code></li> <li>\u679a\u4e3e\u540d\u79f0: \u4f7f\u7528PascalCase\uff0c\u5982 <code>ButtonType</code></li> </ul>"},{"location":"basic_uis/index.html#3_1","title":"3. \u6587\u6863\u89c4\u8303","text":"<pre><code>/// \u8f66\u8f86\u72b6\u6001\u5361\u7247\u7ec4\u4ef6\n/// \n/// \u7528\u4e8e\u5c55\u793a\u8f66\u8f86\u7684\u57fa\u672c\u72b6\u6001\u4fe1\u606f\uff0c\u5305\u62ec\u7535\u91cf\u3001\u91cc\u7a0b\u3001\u9501\u5b9a\u72b6\u6001\u7b49\u3002\n/// \u652f\u6301\u70b9\u51fb\u4ea4\u4e92\u548c\u81ea\u5b9a\u4e49\u6837\u5f0f\u3002\n/// \n/// \u793a\u4f8b\u7528\u6cd5\uff1a\n/// ```dart\n/// VehicleStatusCard(\n///   status: vehicleStatus,\n///   onTap: () =&gt; Navigator.push(...),\n/// )\n/// ```\nclass VehicleStatusCard extends StatelessWidget {\n  /// \u8f66\u8f86\u72b6\u6001\u6570\u636e\n  final VehicleStatus status;\n\n  /// \u70b9\u51fb\u56de\u8c03\u51fd\u6570\n  final VoidCallback? onTap;\n}\n</code></pre>"},{"location":"basic_uis/index.html#_10","title":"\u6027\u80fd\u4f18\u5316\u7b56\u7565","text":""},{"location":"basic_uis/index.html#1_2","title":"1. \u6e32\u67d3\u4f18\u5316","text":"<ul> <li>Widget\u7f13\u5b58: \u7f13\u5b58\u4e0d\u53d8\u7684Widget\u5b9e\u4f8b</li> <li>RepaintBoundary: \u9694\u79bb\u91cd\u7ed8\u533a\u57df</li> <li>Const\u6784\u9020: \u4f7f\u7528const\u6784\u9020\u51fd\u6570</li> <li>Build\u4f18\u5316: \u907f\u514d\u5728build\u65b9\u6cd5\u4e2d\u521b\u5efa\u5bf9\u8c61</li> </ul>"},{"location":"basic_uis/index.html#2_2","title":"2. \u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u8d44\u6e90\u91ca\u653e: \u53ca\u65f6\u91ca\u653eController\u548cStream</li> <li>\u56fe\u7247\u7f13\u5b58: \u5408\u7406\u4f7f\u7528\u56fe\u7247\u7f13\u5b58\u7b56\u7565</li> <li>\u5bf9\u8c61\u6c60: \u590d\u7528\u9891\u7e41\u521b\u5efa\u7684\u5bf9\u8c61</li> <li>\u5f31\u5f15\u7528: \u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> </ul>"},{"location":"basic_uis/index.html#3_2","title":"3. \u52a0\u8f7d\u4f18\u5316","text":"<ul> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u7ec4\u4ef6\u548c\u8d44\u6e90</li> <li>\u9884\u52a0\u8f7d: \u9884\u6d4b\u6027\u52a0\u8f7d\u5173\u952e\u8d44\u6e90</li> <li>\u5206\u5305\u52a0\u8f7d: \u5927\u578b\u7ec4\u4ef6\u5206\u5305\u5f02\u6b65\u52a0\u8f7d</li> <li>\u7f13\u5b58\u7b56\u7565: \u667a\u80fd\u7f13\u5b58\u673a\u5236</li> </ul>"},{"location":"basic_uis/index.html#_11","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_uis/index.html#1_3","title":"1. \u5355\u5143\u6d4b\u8bd5","text":"<pre><code>testWidgets('VehicleStatusCard displays correct information', (tester) async {\n  const status = VehicleStatus(\n    vehicleName: 'Test Vehicle',\n    batteryLevel: 80,\n    isLocked: true,\n  );\n\n  await tester.pumpWidget(\n    MaterialApp(\n      home: VehicleStatusCard(status: status),\n    ),\n  );\n\n  expect(find.text('Test Vehicle'), findsOneWidget);\n  expect(find.text('80%'), findsOneWidget);\n  expect(find.byIcon(Icons.lock), findsOneWidget);\n});\n</code></pre>"},{"location":"basic_uis/index.html#2_widget","title":"2. Widget\u6d4b\u8bd5","text":"<ul> <li>\u6e32\u67d3\u6d4b\u8bd5: \u9a8c\u8bc1\u7ec4\u4ef6\u6b63\u786e\u6e32\u67d3</li> <li>\u4ea4\u4e92\u6d4b\u8bd5: \u6d4b\u8bd5\u7528\u6237\u4ea4\u4e92\u54cd\u5e94</li> <li>\u72b6\u6001\u6d4b\u8bd5: \u6d4b\u8bd5\u72b6\u6001\u53d8\u5316</li> <li>\u6837\u5f0f\u6d4b\u8bd5: \u9a8c\u8bc1\u6837\u5f0f\u6b63\u786e\u5e94\u7528</li> </ul>"},{"location":"basic_uis/index.html#3_3","title":"3. \u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u9875\u9762\u6d41\u7a0b\u6d4b\u8bd5: \u6d4b\u8bd5\u5b8c\u6574\u7528\u6237\u6d41\u7a0b</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u6d4b\u8bd5\u7ec4\u4ef6\u6027\u80fd\u8868\u73b0</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5: \u6d4b\u8bd5\u4e0d\u540c\u8bbe\u5907\u517c\u5bb9\u6027</li> <li>\u53ef\u8bbf\u95ee\u6027\u6d4b\u8bd5: \u6d4b\u8bd5\u65e0\u969c\u788d\u529f\u80fd</li> </ul>"},{"location":"basic_uis/index.html#_12","title":"\u6784\u5efa\u548c\u53d1\u5e03","text":""},{"location":"basic_uis/index.html#1_4","title":"1. \u7248\u672c\u7ba1\u7406","text":"<ul> <li>\u8bed\u4e49\u5316\u7248\u672c: \u9075\u5faa semver \u89c4\u8303</li> <li>\u53d8\u66f4\u65e5\u5fd7: \u8be6\u7ec6\u7684\u53d8\u66f4\u8bb0\u5f55</li> <li>\u5411\u540e\u517c\u5bb9: \u4fdd\u8bc1API\u5411\u540e\u517c\u5bb9</li> <li>\u5e9f\u5f03\u901a\u77e5: \u63d0\u524d\u901a\u77e5API\u5e9f\u5f03</li> </ul>"},{"location":"basic_uis/index.html#2_3","title":"2. \u53d1\u5e03\u6d41\u7a0b","text":"<pre><code># 1. \u8fd0\u884c\u6d4b\u8bd5\nflutter test\n\n# 2. \u66f4\u65b0\u7248\u672c\u53f7\n# \u7f16\u8f91 pubspec.yaml\n\n# 3. \u66f4\u65b0\u53d8\u66f4\u65e5\u5fd7\n# \u7f16\u8f91 CHANGELOG.md\n\n# 4. \u53d1\u5e03\u5305\nflutter pub publish\n</code></pre>"},{"location":"basic_uis/index.html#_13","title":"\u4f7f\u7528\u6307\u5357","text":""},{"location":"basic_uis/index.html#1_5","title":"1. \u5feb\u901f\u5f00\u59cb","text":"<pre><code>import 'package:ui_basic/ui_basic.dart';\nimport 'package:ui_business/ui_business.dart';\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      theme: OneAppTheme.lightTheme,\n      home: MyHomePage(),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/index.html#2_4","title":"2. \u7ec4\u4ef6\u4f7f\u7528","text":"<pre><code>// \u57fa\u7840\u7ec4\u4ef6\u4f7f\u7528\nBasicButton(\n  text: '\u786e\u5b9a',\n  type: ButtonType.primary,\n  onPressed: () {},\n)\n\n// \u4e1a\u52a1\u7ec4\u4ef6\u4f7f\u7528\nVehicleStatusCard(\n  status: vehicleStatus,\n  onTap: () {},\n)\n</code></pre>"},{"location":"basic_uis/index.html#3_4","title":"3. \u4e3b\u9898\u5b9a\u5236","text":"<pre><code>MaterialApp(\n  theme: OneAppTheme.lightTheme.copyWith(\n    primarySwatch: Colors.green,\n    // \u5176\u4ed6\u81ea\u5b9a\u4e49\u914d\u7f6e\n  ),\n)\n</code></pre>"},{"location":"basic_uis/index.html#_14","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_uis/index.html#1_6","title":"1. \u7ec4\u4ef6\u8bbe\u8ba1","text":"<ul> <li>\u5355\u4e00\u804c\u8d23: \u6bcf\u4e2a\u7ec4\u4ef6\u529f\u80fd\u5355\u4e00\u660e\u786e</li> <li>\u53ef\u7ec4\u5408\u6027: \u652f\u6301\u7ec4\u4ef6\u7ec4\u5408\u4f7f\u7528</li> <li>\u53ef\u914d\u7f6e\u6027: \u63d0\u4f9b\u4e30\u5bcc\u7684\u914d\u7f6e\u9009\u9879</li> <li>\u53ef\u9884\u6d4b\u6027: \u76f8\u540c\u8f93\u5165\u4ea7\u751f\u76f8\u540c\u8f93\u51fa</li> </ul>"},{"location":"basic_uis/index.html#2_api","title":"2. API\u8bbe\u8ba1","text":"<ul> <li>\u76f4\u89c2\u6027: API\u547d\u540d\u76f4\u89c2\u6613\u7406\u89e3</li> <li>\u4e00\u81f4\u6027: \u76f8\u4f3c\u529f\u80fdAPI\u4fdd\u6301\u4e00\u81f4</li> <li>\u6269\u5c55\u6027: \u9884\u7559\u6269\u5c55\u7a7a\u95f4</li> <li>\u6587\u6863\u5316: \u63d0\u4f9b\u5b8c\u6574\u6587\u6863\u548c\u793a\u4f8b</li> </ul>"},{"location":"basic_uis/index.html#3_5","title":"3. \u6027\u80fd\u8003\u8651","text":"<ul> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u51cf\u5c11\u521d\u59cb\u5316\u5f00\u9500</li> <li>\u7f13\u5b58\u7b56\u7565: \u5408\u7406\u4f7f\u7528\u7f13\u5b58\u63d0\u5347\u6027\u80fd</li> <li>\u5f02\u6b65\u5904\u7406: \u907f\u514d\u963b\u585eUI\u7ebf\u7a0b</li> <li>\u8d44\u6e90\u7ba1\u7406: \u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u8d44\u6e90</li> </ul>"},{"location":"basic_uis/index.html#_15","title":"\u603b\u7ed3","text":"<p>Basic UIs \u6a21\u5757\u7fa4\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684UI\u57fa\u7840\u8bbe\u65bd\uff0c\u901a\u8fc7\u5206\u5c42\u8bbe\u8ba1\u3001\u7edf\u4e00\u89c4\u8303\u548c\u5b8c\u5584\u7684\u5de5\u5177\u94fe\uff0c\u5b9e\u73b0\u4e86\u9ad8\u6548\u7684UI\u5f00\u53d1\u548c\u4e00\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u3002\u6a21\u5757\u7fa4\u5177\u6709\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u652f\u6491\u5927\u578b\u5e94\u7528\u7684UI\u9700\u6c42\uff0c\u5e76\u4e3a\u672a\u6765\u7684\u529f\u80fd\u6269\u5c55\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002</p>"},{"location":"basic_uis/basic_uis.html","title":"Basic UIs \u901a\u7528UI\u7ec4\u4ef6\u96c6\u5408\u6a21\u5757","text":""},{"location":"basic_uis/basic_uis.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_uis</code> \u662f OneApp \u57fa\u7840UI\u6a21\u5757\u7fa4\u4e2d\u7684\u901a\u7528UI\u7ec4\u4ef6\u96c6\u5408\u6a21\u5757\uff0c\u8d1f\u8d23\u6574\u5408\u548c\u7edf\u4e00\u7ba1\u7406\u6240\u6709\u7684UI\u7ec4\u4ef6\u5e93\u3002\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u7ad9\u5f0f\u7684UI\u7ec4\u4ef6\u89e3\u51b3\u65b9\u6848\uff0c\u5305\u542b\u4e86\u52a8\u753b\u6548\u679c\u3001\u6743\u9650\u7ba1\u7406\u3001\u5206\u4eab\u529f\u80fd\u3001\u5730\u56fe\u96c6\u6210\u7b49\u4e30\u5bcc\u7684UI\u529f\u80fd\u7ec4\u4ef6\u3002</p>"},{"location":"basic_uis/basic_uis.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_uis</li> <li>\u7248\u672c: 0.0.7</li> <li>\u63cf\u8ff0: \u901a\u7528UI\u7ec4\u4ef6\u96c6\u5408\u5305</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"basic_uis/basic_uis.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_uis/basic_uis.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>UI\u7ec4\u4ef6\u6574\u5408    - \u7edf\u4e00\u7684UI\u7ec4\u4ef6\u5bfc\u51fa    - \u7ec4\u4ef6\u5e93\u7248\u672c\u7ba1\u7406    - \u8de8\u6a21\u5757\u7ec4\u4ef6\u534f\u8c03    - \u5168\u5c40UI\u914d\u7f6e\u7ba1\u7406</p> </li> <li> <p>\u9ad8\u7ea7UI\u7ec4\u4ef6    - \u4e0b\u62c9\u5237\u65b0\u7ec4\u4ef6\u96c6\u6210    - Lottie\u52a8\u753b\u652f\u6301    - WebView\u7ec4\u4ef6\u5c01\u88c5    - \u5730\u56fe\u89c6\u56fe\u96c6\u6210</p> </li> <li> <p>\u7528\u6237\u4ea4\u4e92\u7ec4\u4ef6    - \u6743\u9650\u7ba1\u7406UI\u7ec4\u4ef6    - \u5206\u4eab\u529f\u80fdUI\u96c6\u6210    - \u56fe\u7247\u4fdd\u5b58\u7ec4\u4ef6    - \u8bbe\u7f6e\u9875\u9762\u7ec4\u4ef6</p> </li> <li> <p>\u7cfb\u7edf\u96c6\u6210\u7ec4\u4ef6    - \u4f4d\u7f6e\u670d\u52a1UI    - \u5e94\u7528\u8bbe\u7f6e\u754c\u9762    - \u7528\u6237\u540c\u610f\u7ec4\u4ef6    - Toast\u6d88\u606f\u63d0\u793a</p> </li> </ol>"},{"location":"basic_uis/basic_uis.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_uis/basic_uis.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 basic_uis.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                       # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 components/            # \u901a\u7528\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 animations/            # \u52a8\u753b\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 permissions/           # \u6743\u9650\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 sharing/               # \u5206\u4eab\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 webview/               # WebView\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 location/              # \u4f4d\u7f6e\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 settings/              # \u8bbe\u7f6e\u7ec4\u4ef6\n\u2502   \u2514\u2500\u2500 utils/                 # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 widgets/                   # Widget\u5bfc\u51fa\n\u2514\u2500\u2500 themes/                    # \u4e3b\u9898\u914d\u7f6e\n</code></pre>"},{"location":"basic_uis/basic_uis.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_uis/basic_uis.html#ui","title":"UI\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>easy_refresh: ^3.0.5</code> - \u4e0b\u62c9\u5237\u65b0\u7ec4\u4ef6</li> <li><code>lottie: ^3.1.0</code> - Lottie\u52a8\u753b</li> <li><code>fluttertoast: ^8.2.2</code> - Toast\u63d0\u793a</li> <li><code>helpers: ^1.2.3+1</code> - \u8f85\u52a9\u5de5\u5177</li> </ul>"},{"location":"basic_uis/basic_uis.html#_8","title":"\u529f\u80fd\u7ec4\u4ef6\u4f9d\u8d56","text":"<ul> <li><code>basic_webview: ^0.2.4+4</code> - WebView\u7ec4\u4ef6</li> <li><code>permission_handler: ^10.4.5</code> - \u6743\u9650\u7ba1\u7406</li> <li><code>image_gallery_saver: any</code> - \u56fe\u7247\u4fdd\u5b58</li> <li><code>share_plus: 7.2.1</code> - \u5206\u4eab\u529f\u80fd</li> <li><code>flutter_inappwebview: ^6.0.0</code> - \u5e94\u7528\u5185WebView</li> </ul>"},{"location":"basic_uis/basic_uis.html#_9","title":"\u4e1a\u52a1\u7ec4\u4ef6\u4f9d\u8d56","text":"<ul> <li><code>app_consent: ^0.2.19</code> - \u7528\u6237\u540c\u610f\u7ec4\u4ef6</li> <li><code>ui_mapview: ^0.2.18</code> - \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6</li> <li><code>app_settings: ^4.3.1</code> - \u5e94\u7528\u8bbe\u7f6e</li> <li><code>location: ^6.0.1</code> - \u4f4d\u7f6e\u670d\u52a1</li> </ul>"},{"location":"basic_uis/basic_uis.html#_10","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_utils</code> - \u57fa\u7840\u5de5\u5177\uff08\u672c\u5730\u8def\u5f84\uff09</li> </ul>"},{"location":"basic_uis/basic_uis.html#_11","title":"\u6838\u5fc3\u7ec4\u4ef6\u5206\u6790","text":""},{"location":"basic_uis/basic_uis.html#1_basic_uisdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>basic_uis.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7edf\u4e00\u5bfc\u51fa\u6240\u6709UI\u7ec4\u4ef6 - \u521d\u59cb\u5316\u5168\u5c40UI\u914d\u7f6e - \u7ba1\u7406\u7ec4\u4ef6\u751f\u547d\u5468\u671f</p> <pre><code>library basic_uis;\n\n// \u57fa\u7840\u7ec4\u4ef6\u5bfc\u51fa\nexport 'src/components/enhanced_refresh_indicator.dart';\nexport 'src/components/lottie_animation_widget.dart';\nexport 'src/components/permission_request_dialog.dart';\nexport 'src/components/share_action_sheet.dart';\n\n// WebView\u7ec4\u4ef6\u5bfc\u51fa\nexport 'src/webview/enhanced_webview.dart';\nexport 'src/webview/webview_controller.dart';\n\n// \u4f4d\u7f6e\u7ec4\u4ef6\u5bfc\u51fa\nexport 'src/location/location_picker_widget.dart';\nexport 'src/location/map_integration_widget.dart';\n\n// \u8bbe\u7f6e\u7ec4\u4ef6\u5bfc\u51fa\nexport 'src/settings/app_settings_page.dart';\nexport 'src/settings/permission_settings_widget.dart';\n\n// \u5de5\u5177\u7c7b\u5bfc\u51fa\nexport 'src/utils/ui_helpers.dart';\nexport 'src/utils/toast_utils.dart';\n\nclass BasicUIs {\n  static bool _isInitialized = false;\n\n  /// \u521d\u59cb\u5316Basic UIs\u6a21\u5757\n  static Future&lt;void&gt; initialize() async {\n    if (_isInitialized) return;\n\n    // \u521d\u59cb\u5316Toast\u914d\u7f6e\n    await _initializeToast();\n\n    // \u521d\u59cb\u5316\u6743\u9650\u5904\u7406\u5668\n    await _initializePermissions();\n\n    // \u521d\u59cb\u5316\u5206\u4eab\u670d\u52a1\n    await _initializeShare();\n\n    // \u521d\u59cb\u5316WebView\u914d\u7f6e\n    await _initializeWebView();\n\n    _isInitialized = true;\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#2_srccomponentsenhanced_refresh_indicatordart","title":"2. \u589e\u5f3a\u4e0b\u62c9\u5237\u65b0\u7ec4\u4ef6 (<code>src/components/enhanced_refresh_indicator.dart</code>)","text":"<pre><code>class EnhancedRefreshIndicator extends StatefulWidget {\n  final Widget child;\n  final Future&lt;void&gt; Function() onRefresh;\n  final Future&lt;void&gt; Function()? onLoadMore;\n  final RefreshIndicatorConfig? config;\n  final bool enablePullUp;\n  final bool enablePullDown;\n\n  const EnhancedRefreshIndicator({\n    Key? key,\n    required this.child,\n    required this.onRefresh,\n    this.onLoadMore,\n    this.config,\n    this.enablePullUp = true,\n    this.enablePullDown = true,\n  }) : super(key: key);\n\n  @override\n  State&lt;EnhancedRefreshIndicator&gt; createState() =&gt; _EnhancedRefreshIndicatorState();\n}\n\nclass _EnhancedRefreshIndicatorState extends State&lt;EnhancedRefreshIndicator&gt; {\n  late EasyRefreshController _controller;\n\n  @override\n  Widget build(BuildContext context) {\n    return EasyRefresh(\n      controller: _controller,\n      onRefresh: widget.enablePullDown ? _onRefresh : null,\n      onLoad: widget.enablePullUp &amp;&amp; widget.onLoadMore != null ? _onLoad : null,\n      header: _buildRefreshHeader(),\n      footer: _buildLoadFooter(),\n      child: widget.child,\n    );\n  }\n\n  Widget _buildRefreshHeader() {\n    return ClassicHeader(\n      dragText: '\u4e0b\u62c9\u5237\u65b0',\n      armedText: '\u91ca\u653e\u5237\u65b0',\n      readyText: '\u6b63\u5728\u5237\u65b0...',\n      processingText: '\u6b63\u5728\u5237\u65b0...',\n      processedText: '\u5237\u65b0\u5b8c\u6210',\n      noMoreText: '\u6ca1\u6709\u66f4\u591a\u6570\u636e',\n      failedText: '\u5237\u65b0\u5931\u8d25',\n      messageText: '\u6700\u540e\u66f4\u65b0\u4e8e %T',\n    );\n  }\n\n  Widget _buildLoadFooter() {\n    return ClassicFooter(\n      dragText: '\u4e0a\u62c9\u52a0\u8f7d',\n      armedText: '\u91ca\u653e\u52a0\u8f7d',\n      readyText: '\u6b63\u5728\u52a0\u8f7d...',\n      processingText: '\u6b63\u5728\u52a0\u8f7d...',\n      processedText: '\u52a0\u8f7d\u5b8c\u6210',\n      noMoreText: '\u6ca1\u6709\u66f4\u591a\u6570\u636e',\n      failedText: '\u52a0\u8f7d\u5931\u8d25',\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#3_lottie_srcanimationslottie_animation_widgetdart","title":"3. Lottie\u52a8\u753b\u7ec4\u4ef6 (<code>src/animations/lottie_animation_widget.dart</code>)","text":"<pre><code>class LottieAnimationWidget extends StatefulWidget {\n  final String assetPath;\n  final double? width;\n  final double? height;\n  final bool repeat;\n  final bool autoPlay;\n  final AnimationController? controller;\n  final VoidCallback? onComplete;\n\n  const LottieAnimationWidget({\n    Key? key,\n    required this.assetPath,\n    this.width,\n    this.height,\n    this.repeat = true,\n    this.autoPlay = true,\n    this.controller,\n    this.onComplete,\n  }) : super(key: key);\n\n  @override\n  State&lt;LottieAnimationWidget&gt; createState() =&gt; _LottieAnimationWidgetState();\n}\n\nclass _LottieAnimationWidgetState extends State&lt;LottieAnimationWidget&gt; \n    with TickerProviderStateMixin {\n  late AnimationController _animationController;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _animationController = widget.controller ?? \n        AnimationController(vsync: this);\n\n    if (widget.autoPlay) {\n      _animationController.forward();\n    }\n\n    _animationController.addStatusListener((status) {\n      if (status == AnimationStatus.completed) {\n        widget.onComplete?.call();\n        if (widget.repeat) {\n          _animationController.repeat();\n        }\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Lottie.asset(\n      widget.assetPath,\n      width: widget.width,\n      height: widget.height,\n      controller: _animationController,\n      onLoaded: (composition) {\n        _animationController.duration = composition.duration;\n        if (widget.autoPlay) {\n          _animationController.forward();\n        }\n      },\n    );\n  }\n\n  @override\n  void dispose() {\n    if (widget.controller == null) {\n      _animationController.dispose();\n    }\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#4_srcpermissionspermission_request_dialogdart","title":"4. \u6743\u9650\u8bf7\u6c42\u5bf9\u8bdd\u6846 (<code>src/permissions/permission_request_dialog.dart</code>)","text":"<pre><code>class PermissionRequestDialog extends StatelessWidget {\n  final Permission permission;\n  final String title;\n  final String description;\n  final String? rationale;\n  final VoidCallback? onGranted;\n  final VoidCallback? onDenied;\n\n  const PermissionRequestDialog({\n    Key? key,\n    required this.permission,\n    required this.title,\n    required this.description,\n    this.rationale,\n    this.onGranted,\n    this.onDenied,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return AlertDialog(\n      title: Row(\n        children: [\n          Icon(_getPermissionIcon(), color: Theme.of(context).primaryColor),\n          const SizedBox(width: 12),\n          Expanded(child: Text(title)),\n        ],\n      ),\n      content: Column(\n        mainAxisSize: MainAxisSize.min,\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Text(description),\n          if (rationale != null) ...[\n            const SizedBox(height: 16),\n            Container(\n              padding: const EdgeInsets.all(12),\n              decoration: BoxDecoration(\n                color: Colors.blue.withOpacity(0.1),\n                borderRadius: BorderRadius.circular(8),\n              ),\n              child: Row(\n                children: [\n                  Icon(Icons.info_outline, \n                       color: Colors.blue, size: 20),\n                  const SizedBox(width: 8),\n                  Expanded(\n                    child: Text(\n                      rationale!,\n                      style: TextStyle(\n                        color: Colors.blue[700],\n                        fontSize: 14,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ],\n        ],\n      ),\n      actions: [\n        TextButton(\n          onPressed: () {\n            Navigator.of(context).pop();\n            onDenied?.call();\n          },\n          child: const Text('\u62d2\u7edd'),\n        ),\n        ElevatedButton(\n          onPressed: () async {\n            Navigator.of(context).pop();\n            final status = await permission.request();\n            if (status.isGranted) {\n              onGranted?.call();\n            } else {\n              onDenied?.call();\n              if (status.isPermanentlyDenied) {\n                _showSettingsDialog(context);\n              }\n            }\n          },\n          child: const Text('\u5141\u8bb8'),\n        ),\n      ],\n    );\n  }\n\n  IconData _getPermissionIcon() {\n    switch (permission) {\n      case Permission.camera:\n        return Icons.camera_alt;\n      case Permission.microphone:\n        return Icons.mic;\n      case Permission.location:\n        return Icons.location_on;\n      case Permission.storage:\n        return Icons.storage;\n      case Permission.photos:\n        return Icons.photo_library;\n      default:\n        return Icons.security;\n    }\n  }\n\n  void _showSettingsDialog(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (context) =&gt; AlertDialog(\n        title: const Text('\u6743\u9650\u8bbe\u7f6e'),\n        content: const Text('\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u624b\u52a8\u5f00\u542f\u6240\u9700\u6743\u9650'),\n        actions: [\n          TextButton(\n            onPressed: () =&gt; Navigator.of(context).pop(),\n            child: const Text('\u53d6\u6d88'),\n          ),\n          ElevatedButton(\n            onPressed: () {\n              Navigator.of(context).pop();\n              openAppSettings();\n            },\n            child: const Text('\u53bb\u8bbe\u7f6e'),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#5_srcsharingshare_action_sheetdart","title":"5. \u5206\u4eab\u64cd\u4f5c\u8868 (<code>src/sharing/share_action_sheet.dart</code>)","text":"<pre><code>class ShareActionSheet extends StatelessWidget {\n  final ShareContent content;\n  final List&lt;SharePlatform&gt; platforms;\n  final Function(SharePlatform)? onPlatformSelected;\n\n  const ShareActionSheet({\n    Key? key,\n    required this.content,\n    required this.platforms,\n    this.onPlatformSelected,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      padding: const EdgeInsets.all(20),\n      decoration: const BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.vertical(top: Radius.circular(20)),\n      ),\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          _buildHandle(),\n          const SizedBox(height: 20),\n          Text(\n            '\u5206\u4eab\u5230',\n            style: Theme.of(context).textTheme.titleMedium,\n          ),\n          const SizedBox(height: 20),\n          _buildPlatformGrid(context),\n          const SizedBox(height: 20),\n          _buildMoreActions(context),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildPlatformGrid(BuildContext context) {\n    return GridView.builder(\n      shrinkWrap: true,\n      physics: const NeverScrollableScrollPhysics(),\n      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: 4,\n        childAspectRatio: 1,\n        crossAxisSpacing: 20,\n        mainAxisSpacing: 20,\n      ),\n      itemCount: platforms.length,\n      itemBuilder: (context, index) {\n        final platform = platforms[index];\n        return _buildPlatformItem(context, platform);\n      },\n    );\n  }\n\n  Widget _buildPlatformItem(BuildContext context, SharePlatform platform) {\n    return GestureDetector(\n      onTap: () {\n        Navigator.of(context).pop();\n        onPlatformSelected?.call(platform);\n        _shareToplatform(platform);\n      },\n      child: Column(\n        children: [\n          Container(\n            width: 60,\n            height: 60,\n            decoration: BoxDecoration(\n              color: platform.color.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n            ),\n            child: Icon(\n              platform.icon,\n              color: platform.color,\n              size: 30,\n            ),\n          ),\n          const SizedBox(height: 8),\n          Text(\n            platform.name,\n            style: Theme.of(context).textTheme.bodySmall,\n            textAlign: TextAlign.center,\n          ),\n        ],\n      ),\n    );\n  }\n\n  Future&lt;void&gt; _shareToplatform(SharePlatform platform) async {\n    try {\n      switch (platform.type) {\n        case SharePlatformType.system:\n          await Share.share(content.text, subject: content.title);\n          break;\n        case SharePlatformType.wechat:\n          // \u5fae\u4fe1\u5206\u4eab\u903b\u8f91\n          break;\n        case SharePlatformType.weibo:\n          // \u5fae\u535a\u5206\u4eab\u903b\u8f91\n          break;\n        case SharePlatformType.qq:\n          // QQ\u5206\u4eab\u903b\u8f91\n          break;\n      }\n    } catch (e) {\n      ToastUtils.showError('\u5206\u4eab\u5931\u8d25: $e');\n    }\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#_12","title":"\u5de5\u5177\u7c7b","text":""},{"location":"basic_uis/basic_uis.html#toast_srcutilstoast_utilsdart","title":"Toast\u5de5\u5177\u7c7b (<code>src/utils/toast_utils.dart</code>)","text":"<pre><code>class ToastUtils {\n  static void showSuccess(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      toastLength: Toast.LENGTH_SHORT,\n      gravity: ToastGravity.CENTER,\n      backgroundColor: Colors.green,\n      textColor: Colors.white,\n      fontSize: 16.0,\n    );\n  }\n\n  static void showError(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      toastLength: Toast.LENGTH_SHORT,\n      gravity: ToastGravity.CENTER,\n      backgroundColor: Colors.red,\n      textColor: Colors.white,\n      fontSize: 16.0,\n    );\n  }\n\n  static void showInfo(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      toastLength: Toast.LENGTH_SHORT,\n      gravity: ToastGravity.CENTER,\n      backgroundColor: Colors.blue,\n      textColor: Colors.white,\n      fontSize: 16.0,\n    );\n  }\n\n  static void showWarning(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      toastLength: Toast.LENGTH_SHORT,\n      gravity: ToastGravity.CENTER,\n      backgroundColor: Colors.orange,\n      textColor: Colors.white,\n      fontSize: 16.0,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#_13","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_uis/basic_uis.html#_14","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>class BasicUIsExample extends StatefulWidget {\n  @override\n  _BasicUIsExampleState createState() =&gt; _BasicUIsExampleState();\n}\n\nclass _BasicUIsExampleState extends State&lt;BasicUIsExample&gt; {\n  @override\n  void initState() {\n    super.initState();\n    _initializeBasicUIs();\n  }\n\n  Future&lt;void&gt; _initializeBasicUIs() async {\n    await BasicUIs.initialize();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Basic UIs Example')),\n      body: EnhancedRefreshIndicator(\n        onRefresh: _handleRefresh,\n        onLoadMore: _handleLoadMore,\n        child: ListView(\n          children: [\n            // Lottie\u52a8\u753b\u793a\u4f8b\n            LottieAnimationWidget(\n              assetPath: 'assets/animations/loading.json',\n              width: 100,\n              height: 100,\n            ),\n\n            // \u6743\u9650\u8bf7\u6c42\u793a\u4f8b\n            ListTile(\n              title: Text('\u8bf7\u6c42\u76f8\u673a\u6743\u9650'),\n              onTap: () =&gt; _requestCameraPermission(),\n            ),\n\n            // \u5206\u4eab\u529f\u80fd\u793a\u4f8b\n            ListTile(\n              title: Text('\u5206\u4eab\u5185\u5bb9'),\n              onTap: () =&gt; _showShareSheet(),\n            ),\n\n            // Toast\u793a\u4f8b\n            ListTile(\n              title: Text('\u663e\u793aToast'),\n              onTap: () =&gt; ToastUtils.showSuccess('\u64cd\u4f5c\u6210\u529f'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future&lt;void&gt; _handleRefresh() async {\n    await Future.delayed(Duration(seconds: 2));\n    ToastUtils.showSuccess('\u5237\u65b0\u5b8c\u6210');\n  }\n\n  Future&lt;void&gt; _handleLoadMore() async {\n    await Future.delayed(Duration(seconds: 1));\n  }\n\n  void _requestCameraPermission() {\n    showDialog(\n      context: context,\n      builder: (context) =&gt; PermissionRequestDialog(\n        permission: Permission.camera,\n        title: '\u76f8\u673a\u6743\u9650',\n        description: '\u9700\u8981\u76f8\u673a\u6743\u9650\u6765\u62cd\u7167\u548c\u5f55\u5236\u89c6\u9891',\n        rationale: '\u6b64\u6743\u9650\u7528\u4e8e\u626b\u63cf\u4e8c\u7ef4\u7801\u548c\u62cd\u7167\u529f\u80fd',\n        onGranted: () =&gt; ToastUtils.showSuccess('\u6743\u9650\u5df2\u6388\u4e88'),\n        onDenied: () =&gt; ToastUtils.showError('\u6743\u9650\u88ab\u62d2\u7edd'),\n      ),\n    );\n  }\n\n  void _showShareSheet() {\n    showModalBottomSheet(\n      context: context,\n      builder: (context) =&gt; ShareActionSheet(\n        content: ShareContent(\n          title: 'OneApp',\n          text: '\u5feb\u6765\u4f53\u9a8cOneApp\u7684\u5f3a\u5927\u529f\u80fd\uff01',\n          url: 'https://oneapp.com',\n        ),\n        platforms: [\n          SharePlatform.system(),\n          SharePlatform.wechat(),\n          SharePlatform.weibo(),\n          SharePlatform.qq(),\n        ],\n        onPlatformSelected: (platform) {\n          ToastUtils.showInfo('\u5206\u4eab\u5230${platform.name}');\n        },\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/basic_uis.html#_15","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_uis/basic_uis.html#_16","title":"\u7ec4\u4ef6\u4f18\u5316","text":"<ul> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u91cd\u578b\u7ec4\u4ef6</li> <li>Widget\u7f13\u5b58: \u7f13\u5b58\u4e0d\u53d8\u7684Widget\u5b9e\u4f8b</li> <li>\u52a8\u753b\u4f18\u5316: \u5408\u7406\u4f7f\u7528\u52a8\u753b\u907f\u514d\u8fc7\u5ea6\u6e32\u67d3</li> <li>\u5185\u5b58\u7ba1\u7406: \u53ca\u65f6\u91ca\u653e\u8d44\u6e90\u548c\u63a7\u5236\u5668</li> </ul>"},{"location":"basic_uis/basic_uis.html#_17","title":"\u96c6\u6210\u4f18\u5316","text":"<ul> <li>\u4f9d\u8d56\u7ba1\u7406: \u907f\u514d\u91cd\u590d\u4f9d\u8d56\u548c\u7248\u672c\u51b2\u7a81</li> <li>\u5305\u5927\u5c0f: \u4f18\u5316\u8d44\u6e90\u6587\u4ef6\u51cf\u5c11\u5305\u5927\u5c0f</li> <li>\u521d\u59cb\u5316: \u5f02\u6b65\u521d\u59cb\u5316\u907f\u514d\u963b\u585e\u542f\u52a8</li> <li>\u7f13\u5b58\u7b56\u7565: \u5408\u7406\u4f7f\u7528\u7f13\u5b58\u63d0\u5347\u6027\u80fd</li> </ul>"},{"location":"basic_uis/basic_uis.html#_18","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_uis/basic_uis.html#widget","title":"Widget\u6d4b\u8bd5","text":"<ul> <li>\u7ec4\u4ef6\u6e32\u67d3\u6d4b\u8bd5: \u9a8c\u8bc1\u7ec4\u4ef6\u6b63\u786e\u6e32\u67d3</li> <li>\u4ea4\u4e92\u6d4b\u8bd5: \u6d4b\u8bd5\u7528\u6237\u4ea4\u4e92\u54cd\u5e94</li> <li>\u52a8\u753b\u6d4b\u8bd5: \u6d4b\u8bd5\u52a8\u753b\u6548\u679c</li> <li>\u6743\u9650\u6d4b\u8bd5: \u6d4b\u8bd5\u6743\u9650\u8bf7\u6c42\u6d41\u7a0b</li> </ul>"},{"location":"basic_uis/basic_uis.html#_19","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u6a21\u5757\u96c6\u6210\u6d4b\u8bd5: \u6d4b\u8bd5\u6a21\u5757\u95f4\u534f\u4f5c</li> <li>\u7b2c\u4e09\u65b9\u670d\u52a1\u6d4b\u8bd5: \u6d4b\u8bd5\u5916\u90e8\u670d\u52a1\u96c6\u6210</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u6d4b\u8bd5\u7ec4\u4ef6\u6027\u80fd\u8868\u73b0</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5: \u6d4b\u8bd5\u5e73\u53f0\u517c\u5bb9\u6027</li> </ul>"},{"location":"basic_uis/basic_uis.html#_20","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_uis/basic_uis.html#_21","title":"\u7ec4\u4ef6\u4f7f\u7528","text":"<ol> <li>\u7edf\u4e00\u5165\u53e3: \u901a\u8fc7BasicUIs\u7edf\u4e00\u521d\u59cb\u5316</li> <li>\u914d\u7f6e\u7ba1\u7406: \u96c6\u4e2d\u7ba1\u7406\u7ec4\u4ef6\u914d\u7f6e</li> <li>\u9519\u8bef\u5904\u7406: \u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u673a\u5236</li> <li>\u7528\u6237\u4f53\u9a8c: \u6ce8\u91cd\u7528\u6237\u4ea4\u4e92\u4f53\u9a8c</li> </ol>"},{"location":"basic_uis/basic_uis.html#_22","title":"\u5f00\u53d1\u89c4\u8303","text":"<ol> <li>\u4ee3\u7801\u89c4\u8303: \u9075\u5faa\u7edf\u4e00\u7684\u4ee3\u7801\u89c4\u8303</li> <li>\u6587\u6863\u5b8c\u5584: \u63d0\u4f9b\u8be6\u7ec6\u7684\u4f7f\u7528\u6587\u6863</li> <li>\u7248\u672c\u7ba1\u7406: \u5408\u7406\u7684\u7248\u672c\u53d1\u5e03\u7b56\u7565</li> <li>\u6d4b\u8bd5\u8986\u76d6: \u4fdd\u8bc1\u5145\u5206\u7684\u6d4b\u8bd5\u8986\u76d6</li> </ol>"},{"location":"basic_uis/basic_uis.html#_23","title":"\u603b\u7ed3","text":"<p><code>basic_uis</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u901a\u7528UI\u7ec4\u4ef6\u96c6\u5408\uff0c\u6574\u5408\u4e86\u4e30\u5bcc\u7684UI\u529f\u80fd\u7ec4\u4ef6\u548c\u7b2c\u4e09\u65b9\u670d\u52a1\uff0c\u4e3a\u5e94\u7528\u5f00\u53d1\u63d0\u4f9b\u4e86\u4e00\u7ad9\u5f0f\u7684UI\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u6807\u51c6\u5316\u7684\u63a5\u53e3\uff0c\u5927\u5927\u63d0\u5347\u4e86\u5f00\u53d1\u6548\u7387\u548c\u7528\u6237\u4f53\u9a8c\u7684\u4e00\u81f4\u6027\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684UI\u9700\u6c42\u3002</p>"},{"location":"basic_uis/general_ui_component.html","title":"General UI Component \u901a\u7528UI\u7ec4\u4ef6\u6a21\u5757","text":""},{"location":"basic_uis/general_ui_component.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>general_ui_component</code> \u662f OneApp \u57fa\u7840UI\u6a21\u5757\u7fa4\u4e2d\u7684\u901a\u7528UI\u7ec4\u4ef6\u6a21\u5757\uff0c\u4e13\u95e8\u63d0\u4f9b\u53ef\u590d\u7528\u7684\u901a\u7528\u754c\u9762\u7ec4\u4ef6\u3002\u8be5\u6a21\u5757\u5173\u6ce8\u4e8e\u521b\u5efa\u9ad8\u5ea6\u53ef\u590d\u7528\u3001\u8de8\u4e1a\u52a1\u573a\u666f\u7684UI\u7ec4\u4ef6\uff0c\u4e3a\u4e0d\u540c\u6a21\u5757\u63d0\u4f9b\u7edf\u4e00\u7684\u754c\u9762\u5143\u7d20\u548c\u4ea4\u4e92\u6a21\u5f0f\u3002</p>"},{"location":"basic_uis/general_ui_component.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: general_ui_component</li> <li>\u7248\u672c: 0.0.1</li> <li>\u63cf\u8ff0: \u901a\u7528UI\u7ec4\u4ef6\u5e93</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"basic_uis/general_ui_component.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_uis/general_ui_component.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u901a\u7528\u754c\u9762\u7ec4\u4ef6    - \u53ef\u590d\u7528\u7684\u57fa\u7840UI\u5143\u7d20    - \u8de8\u5e73\u53f0\u4e00\u81f4\u6027\u4fdd\u8bc1    - \u6807\u51c6\u5316\u4ea4\u4e92\u6a21\u5f0f    - \u4e3b\u9898\u9002\u914d\u652f\u6301</p> </li> <li> <p>\u7ec4\u4ef6\u7ec4\u5408\u80fd\u529b    - \u7ec4\u4ef6\u5d4c\u5957\u548c\u7ec4\u5408    - \u7075\u6d3b\u7684\u5e03\u5c40\u7cfb\u7edf    - \u54cd\u5e94\u5f0f\u8bbe\u8ba1\u652f\u6301    - \u81ea\u9002\u5e94\u754c\u9762\u5143\u7d20</p> </li> <li> <p>\u6269\u5c55\u6027\u8bbe\u8ba1    - \u63d2\u4ef6\u5316\u7ec4\u4ef6\u67b6\u6784    - \u53ef\u5b9a\u5236\u7684\u6837\u5f0f\u7cfb\u7edf    - \u4e8b\u4ef6\u9a71\u52a8\u7684\u4ea4\u4e92    - \u914d\u7f6e\u5316\u884c\u4e3a\u63a7\u5236</p> </li> <li> <p>\u6027\u80fd\u4f18\u5316    - \u8f7b\u91cf\u7ea7\u7ec4\u4ef6\u8bbe\u8ba1    - \u61d2\u52a0\u8f7d\u673a\u5236    - \u5185\u5b58\u4f7f\u7528\u4f18\u5316    - \u6e32\u67d3\u6027\u80fd\u63d0\u5347</p> </li> </ol>"},{"location":"basic_uis/general_ui_component.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_uis/general_ui_component.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 general_ui_component.dart   # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 atoms/                  # \u539f\u5b50\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 molecules/              # \u5206\u5b50\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 organisms/              # \u6709\u673a\u4f53\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 templates/              # \u6a21\u677f\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 themes/                 # \u4e3b\u9898\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 mixins/                 # \u6df7\u5165\u7ec4\u4ef6\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 widgets/                    # Widget\u5bfc\u51fa\n\u2514\u2500\u2500 examples/                   # \u793a\u4f8b\u4ee3\u7801\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_uis/general_ui_component.html#_8","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li><code>build_runner: any</code> - \u4ee3\u7801\u751f\u6210\u5f15\u64ce</li> <li><code>freezed: ^2.3.5</code> - \u6570\u636e\u7c7b\u751f\u6210</li> <li><code>flutter_lints: ^5.0.0</code> - \u4ee3\u7801\u89c4\u8303\u68c0\u67e5</li> </ul>"},{"location":"basic_uis/general_ui_component.html#dependency_overrides","title":"\u5185\u90e8\u4f9d\u8d56 (dependency_overrides)","text":"<ul> <li><code>ui_business</code> - \u4e1a\u52a1UI\u7ec4\u4ef6\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_utils</code> - \u57fa\u7840\u5de5\u5177\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_uis</code> - \u57fa\u7840UI\u96c6\u5408\uff08\u672c\u5730\u8def\u5f84\uff09</li> </ul>"},{"location":"basic_uis/general_ui_component.html#_9","title":"\u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"basic_uis/general_ui_component.html#_10","title":"\u539f\u5b50\u8bbe\u8ba1\u65b9\u6cd5\u8bba","text":""},{"location":"basic_uis/general_ui_component.html#1_atoms","title":"1. \u539f\u5b50\u7ec4\u4ef6 (Atoms)","text":"<p>\u6700\u57fa\u7840\u7684UI\u5143\u7d20\uff0c\u4e0d\u53ef\u518d\u5206\u89e3\u7684\u7ec4\u4ef6\uff1a</p> <pre><code>// \u57fa\u7840\u6309\u94ae\u539f\u5b50\u7ec4\u4ef6\nclass AtomButton extends StatelessWidget {\n  final String text;\n  final VoidCallback? onPressed;\n  final ButtonStyle? style;\n  final ButtonSize size;\n  final ButtonVariant variant;\n\n  const AtomButton({\n    Key? key,\n    required this.text,\n    this.onPressed,\n    this.style,\n    this.size = ButtonSize.medium,\n    this.variant = ButtonVariant.primary,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return ElevatedButton(\n      onPressed: onPressed,\n      style: _buildButtonStyle(context),\n      child: Text(text),\n    );\n  }\n\n  ButtonStyle _buildButtonStyle(BuildContext context) {\n    final theme = Theme.of(context);\n\n    return ElevatedButton.styleFrom(\n      backgroundColor: _getBackgroundColor(theme),\n      foregroundColor: _getForegroundColor(theme),\n      padding: _getPadding(),\n      shape: RoundedRectangleBorder(\n        borderRadius: BorderRadius.circular(8),\n      ),\n    );\n  }\n}\n\n// \u57fa\u7840\u8f93\u5165\u6846\u539f\u5b50\u7ec4\u4ef6\nclass AtomTextField extends StatelessWidget {\n  final String? labelText;\n  final String? hintText;\n  final TextEditingController? controller;\n  final ValueChanged&lt;String&gt;? onChanged;\n  final String? Function(String?)? validator;\n  final TextInputType keyboardType;\n  final bool obscureText;\n\n  const AtomTextField({\n    Key? key,\n    this.labelText,\n    this.hintText,\n    this.controller,\n    this.onChanged,\n    this.validator,\n    this.keyboardType = TextInputType.text,\n    this.obscureText = false,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return TextFormField(\n      controller: controller,\n      onChanged: onChanged,\n      validator: validator,\n      keyboardType: keyboardType,\n      obscureText: obscureText,\n      decoration: InputDecoration(\n        labelText: labelText,\n        hintText: hintText,\n        border: const OutlineInputBorder(),\n        contentPadding: const EdgeInsets.symmetric(\n          horizontal: 16,\n          vertical: 12,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#2_molecules","title":"2. \u5206\u5b50\u7ec4\u4ef6 (Molecules)","text":"<p>\u7531\u591a\u4e2a\u539f\u5b50\u7ec4\u4ef6\u7ec4\u5408\u800c\u6210\uff1a</p> <pre><code>// \u641c\u7d22\u680f\u5206\u5b50\u7ec4\u4ef6\nclass MoleculeSearchBar extends StatefulWidget {\n  final String? hintText;\n  final ValueChanged&lt;String&gt;? onSearchChanged;\n  final VoidCallback? onSearchPressed;\n  final TextEditingController? controller;\n\n  const MoleculeSearchBar({\n    Key? key,\n    this.hintText,\n    this.onSearchChanged,\n    this.onSearchPressed,\n    this.controller,\n  }) : super(key: key);\n\n  @override\n  State&lt;MoleculeSearchBar&gt; createState() =&gt; _MoleculeSearchBarState();\n}\n\nclass _MoleculeSearchBarState extends State&lt;MoleculeSearchBar&gt; {\n  late TextEditingController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = widget.controller ?? TextEditingController();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      padding: const EdgeInsets.symmetric(horizontal: 16),\n      decoration: BoxDecoration(\n        color: Colors.grey[100],\n        borderRadius: BorderRadius.circular(25),\n      ),\n      child: Row(\n        children: [\n          Icon(Icons.search, color: Colors.grey[600]),\n          const SizedBox(width: 12),\n          Expanded(\n            child: AtomTextField(\n              controller: _controller,\n              hintText: widget.hintText ?? '\u641c\u7d22...',\n              onChanged: widget.onSearchChanged,\n            ),\n          ),\n          if (_controller.text.isNotEmpty)\n            GestureDetector(\n              onTap: () {\n                _controller.clear();\n                widget.onSearchChanged?.call('');\n              },\n              child: Icon(Icons.clear, color: Colors.grey[600]),\n            ),\n        ],\n      ),\n    );\n  }\n}\n\n// \u6807\u7b7e\u9009\u62e9\u5668\u5206\u5b50\u7ec4\u4ef6\nclass MoleculeTagSelector extends StatelessWidget {\n  final List&lt;String&gt; tags;\n  final List&lt;String&gt; selectedTags;\n  final ValueChanged&lt;List&lt;String&gt;&gt;? onSelectionChanged;\n  final TagSelectorStyle style;\n\n  const MoleculeTagSelector({\n    Key? key,\n    required this.tags,\n    required this.selectedTags,\n    this.onSelectionChanged,\n    this.style = const TagSelectorStyle(),\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Wrap(\n      spacing: 8,\n      runSpacing: 8,\n      children: tags.map((tag) {\n        final isSelected = selectedTags.contains(tag);\n        return GestureDetector(\n          onTap: () =&gt; _toggleTag(tag),\n          child: Container(\n            padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n            decoration: BoxDecoration(\n              color: isSelected ? style.selectedColor : style.unselectedColor,\n              borderRadius: BorderRadius.circular(20),\n              border: Border.all(\n                color: isSelected ? style.selectedBorderColor : style.unselectedBorderColor,\n              ),\n            ),\n            child: Text(\n              tag,\n              style: TextStyle(\n                color: isSelected ? style.selectedTextColor : style.unselectedTextColor,\n                fontWeight: isSelected ? FontWeight.w600 : FontWeight.normal,\n              ),\n            ),\n          ),\n        );\n      }).toList(),\n    );\n  }\n\n  void _toggleTag(String tag) {\n    final newSelection = List&lt;String&gt;.from(selectedTags);\n    if (newSelection.contains(tag)) {\n      newSelection.remove(tag);\n    } else {\n      newSelection.add(tag);\n    }\n    onSelectionChanged?.call(newSelection);\n  }\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#3_organisms","title":"3. \u6709\u673a\u4f53\u7ec4\u4ef6 (Organisms)","text":"<p>\u7531\u591a\u4e2a\u5206\u5b50\u548c\u539f\u5b50\u7ec4\u4ef6\u7ec4\u5408\u7684\u590d\u6742\u7ec4\u4ef6\uff1a</p> <pre><code>// \u5217\u8868\u9879\u6709\u673a\u4f53\u7ec4\u4ef6\nclass OrganismListItem extends StatelessWidget {\n  final String title;\n  final String? subtitle;\n  final Widget? leading;\n  final Widget? trailing;\n  final VoidCallback? onTap;\n  final List&lt;Widget&gt;? actions;\n  final bool showDivider;\n\n  const OrganismListItem({\n    Key? key,\n    required this.title,\n    this.subtitle,\n    this.leading,\n    this.trailing,\n    this.onTap,\n    this.actions,\n    this.showDivider = true,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        ListTile(\n          leading: leading,\n          title: Text(title),\n          subtitle: subtitle != null ? Text(subtitle!) : null,\n          trailing: trailing,\n          onTap: onTap,\n        ),\n        if (actions != null &amp;&amp; actions!.isNotEmpty) ...[\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 16),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.end,\n              children: actions!,\n            ),\n          ),\n          const SizedBox(height: 8),\n        ],\n        if (showDivider) const Divider(height: 1),\n      ],\n    );\n  }\n}\n\n// \u5361\u7247\u5bb9\u5668\u6709\u673a\u4f53\u7ec4\u4ef6\nclass OrganismCard extends StatelessWidget {\n  final Widget child;\n  final String? title;\n  final List&lt;Widget&gt;? actions;\n  final EdgeInsets? padding;\n  final double? elevation;\n  final Color? backgroundColor;\n\n  const OrganismCard({\n    Key? key,\n    required this.child,\n    this.title,\n    this.actions,\n    this.padding,\n    this.elevation,\n    this.backgroundColor,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      elevation: elevation ?? 2,\n      color: backgroundColor,\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          if (title != null || (actions != null &amp;&amp; actions!.isNotEmpty))\n            Padding(\n              padding: const EdgeInsets.all(16),\n              child: Row(\n                children: [\n                  if (title != null)\n                    Expanded(\n                      child: Text(\n                        title!,\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                    ),\n                  if (actions != null) ...actions!,\n                ],\n              ),\n            ),\n          Padding(\n            padding: padding ?? const EdgeInsets.all(16),\n            child: child,\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#4_templates","title":"4. \u6a21\u677f\u7ec4\u4ef6 (Templates)","text":"<p>\u9875\u9762\u7ea7\u522b\u7684\u5e03\u5c40\u6a21\u677f\uff1a</p> <pre><code>// \u6807\u51c6\u9875\u9762\u6a21\u677f\nclass TemplateStandardPage extends StatelessWidget {\n  final String title;\n  final Widget body;\n  final List&lt;Widget&gt;? actions;\n  final Widget? floatingActionButton;\n  final Widget? drawer;\n  final Widget? bottomNavigationBar;\n  final bool showBackButton;\n\n  const TemplateStandardPage({\n    Key? key,\n    required this.title,\n    required this.body,\n    this.actions,\n    this.floatingActionButton,\n    this.drawer,\n    this.bottomNavigationBar,\n    this.showBackButton = true,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(title),\n        automaticallyImplyLeading: showBackButton,\n        actions: actions,\n      ),\n      body: body,\n      floatingActionButton: floatingActionButton,\n      drawer: drawer,\n      bottomNavigationBar: bottomNavigationBar,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#_11","title":"\u4e3b\u9898\u7cfb\u7edf","text":""},{"location":"basic_uis/general_ui_component.html#_12","title":"\u4e3b\u9898\u914d\u7f6e","text":"<pre><code>class GeneralUITheme {\n  static ThemeData lightTheme = ThemeData(\n    useMaterial3: true,\n    colorScheme: ColorScheme.fromSeed(\n      seedColor: const Color(0xFF1976D2),\n      brightness: Brightness.light,\n    ),\n    // \u7ec4\u4ef6\u4e3b\u9898\u914d\u7f6e\n    elevatedButtonTheme: ElevatedButtonThemeData(\n      style: ElevatedButton.styleFrom(\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(8),\n        ),\n      ),\n    ),\n    inputDecorationTheme: InputDecorationTheme(\n      border: OutlineInputBorder(\n        borderRadius: BorderRadius.circular(8),\n      ),\n    ),\n  );\n\n  static ThemeData darkTheme = ThemeData(\n    useMaterial3: true,\n    colorScheme: ColorScheme.fromSeed(\n      seedColor: const Color(0xFF1976D2),\n      brightness: Brightness.dark,\n    ),\n    // \u6697\u8272\u4e3b\u9898\u914d\u7f6e\n  );\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#_13","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_uis/general_ui_component.html#_14","title":"\u57fa\u7840\u7ec4\u4ef6\u4f7f\u7528","text":"<pre><code>class GeneralUIExample extends StatefulWidget {\n  @override\n  _GeneralUIExampleState createState() =&gt; _GeneralUIExampleState();\n}\n\nclass _GeneralUIExampleState extends State&lt;GeneralUIExample&gt; {\n  final TextEditingController _searchController = TextEditingController();\n  List&lt;String&gt; _selectedTags = [];\n\n  @override\n  Widget build(BuildContext context) {\n    return TemplateStandardPage(\n      title: 'General UI Components',\n      body: Padding(\n        padding: const EdgeInsets.all(16),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            // \u641c\u7d22\u680f\u793a\u4f8b\n            MoleculeSearchBar(\n              controller: _searchController,\n              hintText: '\u641c\u7d22\u5185\u5bb9...',\n              onSearchChanged: (query) {\n                print('\u641c\u7d22: $query');\n              },\n            ),\n\n            const SizedBox(height: 20),\n\n            // \u6807\u7b7e\u9009\u62e9\u5668\u793a\u4f8b\n            Text(\n              '\u9009\u62e9\u6807\u7b7e',\n              style: Theme.of(context).textTheme.titleMedium,\n            ),\n            const SizedBox(height: 12),\n            MoleculeTagSelector(\n              tags: ['\u6280\u672f', '\u8bbe\u8ba1', '\u4ea7\u54c1', '\u8fd0\u8425', '\u5e02\u573a'],\n              selectedTags: _selectedTags,\n              onSelectionChanged: (tags) {\n                setState(() {\n                  _selectedTags = tags;\n                });\n              },\n            ),\n\n            const SizedBox(height: 20),\n\n            // \u5361\u7247\u793a\u4f8b\n            OrganismCard(\n              title: '\u793a\u4f8b\u5361\u7247',\n              actions: [\n                IconButton(\n                  icon: const Icon(Icons.more_vert),\n                  onPressed: () {},\n                ),\n              ],\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Text('\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528\u901a\u7528UI\u7ec4\u4ef6\u6784\u5efa\u7684\u5361\u7247\u793a\u4f8b'),\n                  const SizedBox(height: 12),\n                  AtomButton(\n                    text: '\u64cd\u4f5c\u6309\u94ae',\n                    onPressed: () {\n                      print('\u6309\u94ae\u88ab\u70b9\u51fb');\n                    },\n                  ),\n                ],\n              ),\n            ),\n\n            const SizedBox(height: 20),\n\n            // \u5217\u8868\u9879\u793a\u4f8b\n            OrganismListItem(\n              title: '\u5217\u8868\u9879\u6807\u9898',\n              subtitle: '\u5217\u8868\u9879\u526f\u6807\u9898',\n              leading: const CircleAvatar(child: Text('A')),\n              trailing: const Icon(Icons.arrow_forward_ios),\n              onTap: () {\n                print('\u5217\u8868\u9879\u88ab\u70b9\u51fb');\n              },\n              actions: [\n                AtomButton(\n                  text: '\u7f16\u8f91',\n                  size: ButtonSize.small,\n                  variant: ButtonVariant.secondary,\n                  onPressed: () {},\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#_15","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_uis/general_ui_component.html#_16","title":"\u7ec4\u4ef6\u4f18\u5316\u7b56\u7565","text":"<ol> <li>Widget\u7f13\u5b58: \u7f13\u5b58\u4e0d\u53d8\u7684Widget\u5b9e\u4f8b</li> <li>const\u6784\u9020\u51fd\u6570: \u5c3d\u53ef\u80fd\u4f7f\u7528const\u6784\u9020\u51fd\u6570</li> <li>RepaintBoundary: \u9694\u79bb\u91cd\u7ed8\u533a\u57df</li> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u7ec4\u4ef6</li> </ol>"},{"location":"basic_uis/general_ui_component.html#_17","title":"\u5185\u5b58\u7ba1\u7406","text":"<ol> <li>\u63a7\u5236\u5668\u7ba1\u7406: \u53ca\u65f6\u91ca\u653eTextEditingController\u7b49</li> <li>\u76d1\u542c\u5668\u6e05\u7406: \u6e05\u7406\u4e8b\u4ef6\u76d1\u542c\u5668</li> <li>\u56fe\u7247\u7f13\u5b58: \u5408\u7406\u4f7f\u7528\u56fe\u7247\u7f13\u5b58</li> <li>\u5185\u5b58\u76d1\u63a7: \u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> </ol>"},{"location":"basic_uis/general_ui_component.html#_18","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_uis/general_ui_component.html#widget","title":"Widget\u6d4b\u8bd5","text":"<pre><code>void main() {\n  group('AtomButton', () {\n    testWidgets('should display text correctly', (tester) async {\n      await tester.pumpWidget(\n        MaterialApp(\n          home: AtomButton(\n            text: 'Test Button',\n            onPressed: () {},\n          ),\n        ),\n      );\n\n      expect(find.text('Test Button'), findsOneWidget);\n      expect(find.byType(ElevatedButton), findsOneWidget);\n    });\n\n    testWidgets('should call onPressed when tapped', (tester) async {\n      bool wasPressed = false;\n\n      await tester.pumpWidget(\n        MaterialApp(\n          home: AtomButton(\n            text: 'Test Button',\n            onPressed: () =&gt; wasPressed = true,\n          ),\n        ),\n      );\n\n      await tester.tap(find.byType(ElevatedButton));\n\n      expect(wasPressed, true);\n    });\n  });\n}\n</code></pre>"},{"location":"basic_uis/general_ui_component.html#_19","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_uis/general_ui_component.html#_20","title":"\u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u5355\u4e00\u804c\u8d23: \u6bcf\u4e2a\u7ec4\u4ef6\u529f\u80fd\u5355\u4e00\u660e\u786e</li> <li>\u53ef\u7ec4\u5408\u6027: \u7ec4\u4ef6\u4e4b\u95f4\u53ef\u4ee5\u7075\u6d3b\u7ec4\u5408</li> <li>\u53ef\u914d\u7f6e\u6027: \u63d0\u4f9b\u4e30\u5bcc\u7684\u914d\u7f6e\u9009\u9879</li> <li>\u4e00\u81f4\u6027: \u4fdd\u6301\u8bbe\u8ba1\u98ce\u683c\u4e00\u81f4</li> </ol>"},{"location":"basic_uis/general_ui_component.html#_21","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u9075\u5faa\u539f\u5b50\u8bbe\u8ba1: \u6309\u7167\u539f\u5b50\u8bbe\u8ba1\u65b9\u6cd5\u8bba\u7ec4\u7ec7\u7ec4\u4ef6</li> <li>\u4e3b\u9898\u4e00\u81f4: \u4f7f\u7528\u7edf\u4e00\u7684\u4e3b\u9898\u7cfb\u7edf</li> <li>\u6587\u6863\u5b8c\u5584: \u63d0\u4f9b\u8be6\u7ec6\u7684\u7ec4\u4ef6\u6587\u6863</li> <li>\u6d4b\u8bd5\u8986\u76d6: \u4fdd\u8bc1\u5145\u5206\u7684\u6d4b\u8bd5\u8986\u76d6</li> </ol>"},{"location":"basic_uis/general_ui_component.html#_22","title":"\u603b\u7ed3","text":"<p><code>general_ui_component</code> \u6a21\u5757\u4f5c\u4e3a\u901a\u7528UI\u7ec4\u4ef6\u5e93\uff0c\u91c7\u7528\u539f\u5b50\u8bbe\u8ba1\u65b9\u6cd5\u8bba\u6784\u5efa\u4e86\u5b8c\u6574\u7684\u7ec4\u4ef6\u4f53\u7cfb\u3002\u901a\u8fc7\u5206\u5c42\u8bbe\u8ba1\u548c\u6a21\u5757\u5316\u67b6\u6784\uff0c\u63d0\u4f9b\u4e86\u9ad8\u5ea6\u53ef\u590d\u7528\u3001\u4e00\u81f4\u6027\u5f3a\u7684UI\u7ec4\u4ef6\uff0c\u4e3a OneApp \u7684\u754c\u9762\u5f00\u53d1\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u652f\u6491\u590d\u6742\u7684\u754c\u9762\u9700\u6c42\u3002</p>"},{"location":"basic_uis/ui_basic.html","title":"UI Basic \u57fa\u7840UI\u7ec4\u4ef6\u6a21\u5757","text":""},{"location":"basic_uis/ui_basic.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>ui_basic</code> \u662f OneApp \u57fa\u7840UI\u6a21\u5757\u7fa4\u4e2d\u7684\u6838\u5fc3\u7ec4\u4ef6\u5e93\uff0c\u63d0\u4f9b\u4e86\u5e94\u7528\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u57fa\u7840UI\u7ec4\u4ef6\u548c\u4ea4\u4e92\u5143\u7d20\u3002\u8be5\u6a21\u5757\u5c01\u88c5\u4e86\u901a\u7528\u7684\u754c\u9762\u7ec4\u4ef6\u3001\u5e03\u5c40\u5bb9\u5668\u3001\u8868\u5355\u5143\u7d20\u7b49\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u7edf\u4e00\u7684\u8bbe\u8ba1\u8bed\u8a00\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"basic_uis/ui_basic.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: ui_basic</li> <li>\u7248\u672c: 0.2.45</li> <li>\u63cf\u8ff0: \u57fa\u7840UI\u7ec4\u4ef6\u5e93</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=2.17.0 &lt;4.0.0</li> </ul>"},{"location":"basic_uis/ui_basic.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_uis/ui_basic.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u57fa\u7840\u7ec4\u4ef6\u5e93    - \u6309\u94ae\u7ec4\u4ef6\uff08Button\u3001IconButton\u3001FloatingActionButton\uff09    - \u8f93\u5165\u7ec4\u4ef6\uff08TextField\u3001TextFormField\u3001Checkbox\u3001Radio\uff09    - \u5c55\u793a\u7ec4\u4ef6\uff08Card\u3001ListTile\u3001Chip\u3001Badge\uff09    - \u5bfc\u822a\u7ec4\u4ef6\uff08AppBar\u3001TabBar\u3001BottomNavigationBar\uff09</p> </li> <li> <p>\u5e03\u5c40\u5bb9\u5668    - \u54cd\u5e94\u5f0f\u5e03\u5c40\u5bb9\u5668    - \u7f51\u683c\u5e03\u5c40\u7ec4\u4ef6    - \u5f39\u6027\u5e03\u5c40\u7ec4\u4ef6    - \u81ea\u5b9a\u4e49\u5e03\u5c40\u5bb9\u5668</p> </li> <li> <p>\u4ea4\u4e92\u7ec4\u4ef6    - \u4e0a\u62c9\u4e0b\u62c9\u5237\u65b0    - \u8f6e\u64ad\u56fe\u7ec4\u4ef6    - \u5bf9\u8bdd\u6846\u548c\u5f39\u7a97    - \u52a0\u8f7d\u6307\u793a\u5668</p> </li> <li> <p>\u5bcc\u6587\u672c\u652f\u6301    - HTML\u5bcc\u6587\u672c\u6e32\u67d3    - \u6587\u672c\u6837\u5f0f\u5b9a\u5236    - \u94fe\u63a5\u548c\u56fe\u7247\u652f\u6301    - \u81ea\u5b9a\u4e49\u6807\u7b7e\u89e3\u6790</p> </li> </ol>"},{"location":"basic_uis/ui_basic.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_uis/ui_basic.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 ui_basic.dart               # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 components/             # \u57fa\u7840\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 containers/             # \u5e03\u5c40\u5bb9\u5668\n\u2502   \u251c\u2500\u2500 interactions/           # \u4ea4\u4e92\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 themes/                 # \u4e3b\u9898\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 constants/              # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 widgets/                    # \u7ec4\u4ef6\u5bfc\u51fa\n\u2514\u2500\u2500 themes/                     # \u4e3b\u9898\u6587\u4ef6\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_uis/ui_basic.html#_8","title":"\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_network: ^0.2.3+4</code> - \u7f51\u7edc\u901a\u4fe1\u57fa\u7840</li> <li><code>provider: ^6.0.5</code> - \u72b6\u6001\u7ba1\u7406</li> <li><code>rxdart: ^0.27.7</code> - \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> </ul>"},{"location":"basic_uis/ui_basic.html#ui","title":"UI\u76f8\u5173\u4f9d\u8d56","text":"<ul> <li><code>flutter_html: ^3.0.0-beta.2</code> - HTML\u5bcc\u6587\u672c\u6e32\u67d3</li> <li><code>badges: ^3.1.1</code> - \u89d2\u6807\u7ec4\u4ef6</li> <li><code>pull_to_refresh: ^2.0.0</code> - \u4e0a\u62c9\u4e0b\u62c9\u5237\u65b0</li> <li><code>fluttertoast: ^8.2.5</code> - \u63d0\u793a\u7ec4\u4ef6</li> </ul>"},{"location":"basic_uis/ui_basic.html#_9","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>kt_dart: ^1.1.0</code> - Kotlin\u98ce\u683c\u6269\u5c55</li> <li><code>collection: ^1.16.0</code> - \u96c6\u5408\u5de5\u5177</li> </ul>"},{"location":"basic_uis/ui_basic.html#_10","title":"\u6838\u5fc3\u7ec4\u4ef6\u5206\u6790","text":""},{"location":"basic_uis/ui_basic.html#1_ui_basicdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>ui_basic.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7edf\u4e00\u5bfc\u51fa\u6240\u6709UI\u7ec4\u4ef6 - \u7ec4\u4ef6\u4e3b\u9898\u914d\u7f6e - \u5168\u5c40\u6837\u5f0f\u8bbe\u7f6e</p>"},{"location":"basic_uis/ui_basic.html#2_srccomponents","title":"2. \u57fa\u7840\u7ec4\u4ef6 (<code>src/components/</code>)","text":""},{"location":"basic_uis/ui_basic.html#_11","title":"\u6309\u94ae\u7ec4\u4ef6","text":"<pre><code>class BasicButton extends StatelessWidget {\n  final String text;\n  final VoidCallback? onPressed;\n  final ButtonType type;\n  final ButtonSize size;\n  final bool isLoading;\n  final Widget? icon;\n\n  const BasicButton({\n    Key? key,\n    required this.text,\n    this.onPressed,\n    this.type = ButtonType.primary,\n    this.size = ButtonSize.medium,\n    this.isLoading = false,\n    this.icon,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return ElevatedButton(\n      onPressed: isLoading ? null : onPressed,\n      style: _getButtonStyle(context),\n      child: isLoading \n          ? _buildLoadingIndicator()\n          : _buildButtonContent(),\n    );\n  }\n\n  ButtonStyle _getButtonStyle(BuildContext context) {\n    switch (type) {\n      case ButtonType.primary:\n        return ElevatedButton.styleFrom(\n          backgroundColor: Theme.of(context).primaryColor,\n          foregroundColor: Colors.white,\n        );\n      case ButtonType.secondary:\n        return ElevatedButton.styleFrom(\n          backgroundColor: Colors.grey[200],\n          foregroundColor: Colors.black87,\n        );\n      case ButtonType.outline:\n        return OutlinedButton.styleFrom(\n          side: BorderSide(color: Theme.of(context).primaryColor),\n        );\n    }\n  }\n}\n\nenum ButtonType { primary, secondary, outline }\nenum ButtonSize { small, medium, large }\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_12","title":"\u8f93\u5165\u7ec4\u4ef6","text":"<pre><code>class BasicTextField extends StatelessWidget {\n  final String? labelText;\n  final String? hintText;\n  final String? helperText;\n  final String? errorText;\n  final TextEditingController? controller;\n  final ValueChanged&lt;String&gt;? onChanged;\n  final FormFieldValidator&lt;String&gt;? validator;\n  final TextInputType keyboardType;\n  final bool obscureText;\n  final Widget? prefixIcon;\n  final Widget? suffixIcon;\n\n  const BasicTextField({\n    Key? key,\n    this.labelText,\n    this.hintText,\n    this.helperText,\n    this.errorText,\n    this.controller,\n    this.onChanged,\n    this.validator,\n    this.keyboardType = TextInputType.text,\n    this.obscureText = false,\n    this.prefixIcon,\n    this.suffixIcon,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return TextFormField(\n      controller: controller,\n      onChanged: onChanged,\n      validator: validator,\n      keyboardType: keyboardType,\n      obscureText: obscureText,\n      decoration: InputDecoration(\n        labelText: labelText,\n        hintText: hintText,\n        helperText: helperText,\n        errorText: errorText,\n        prefixIcon: prefixIcon,\n        suffixIcon: suffixIcon,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n        ),\n        contentPadding: const EdgeInsets.symmetric(\n          horizontal: 16,\n          vertical: 12,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#3_srccontainers","title":"3. \u5e03\u5c40\u5bb9\u5668 (<code>src/containers/</code>)","text":""},{"location":"basic_uis/ui_basic.html#_13","title":"\u54cd\u5e94\u5f0f\u5bb9\u5668","text":"<pre><code>class ResponsiveContainer extends StatelessWidget {\n  final Widget child;\n  final EdgeInsets? padding;\n  final EdgeInsets? margin;\n  final double? maxWidth;\n  final BoxDecoration? decoration;\n\n  const ResponsiveContainer({\n    Key? key,\n    required this.child,\n    this.padding,\n    this.margin,\n    this.maxWidth,\n    this.decoration,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    final screenWidth = MediaQuery.of(context).size.width;\n    final effectiveMaxWidth = maxWidth ?? _getMaxWidth(screenWidth);\n\n    return Container(\n      width: double.infinity,\n      margin: margin,\n      decoration: decoration,\n      child: Center(\n        child: ConstrainedBox(\n          constraints: BoxConstraints(maxWidth: effectiveMaxWidth),\n          child: Padding(\n            padding: padding ?? _getDefaultPadding(screenWidth),\n            child: child,\n          ),\n        ),\n      ),\n    );\n  }\n\n  double _getMaxWidth(double screenWidth) {\n    if (screenWidth &gt; 1200) return 1200;\n    if (screenWidth &gt; 768) return screenWidth * 0.9;\n    return double.infinity;\n  }\n\n  EdgeInsets _getDefaultPadding(double screenWidth) {\n    if (screenWidth &gt; 768) return const EdgeInsets.all(24);\n    return const EdgeInsets.all(16);\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#4_srcinteractions","title":"4. \u4ea4\u4e92\u7ec4\u4ef6 (<code>src/interactions/</code>)","text":""},{"location":"basic_uis/ui_basic.html#_14","title":"\u4e0a\u62c9\u4e0b\u62c9\u5237\u65b0\u7ec4\u4ef6","text":"<pre><code>class BasicRefreshView extends StatefulWidget {\n  final Future&lt;void&gt; Function() onRefresh;\n  final Future&lt;void&gt; Function()? onLoading;\n  final Widget child;\n  final bool enablePullUp;\n  final bool enablePullDown;\n\n  const BasicRefreshView({\n    Key? key,\n    required this.onRefresh,\n    this.onLoading,\n    required this.child,\n    this.enablePullUp = true,\n    this.enablePullDown = true,\n  }) : super(key: key);\n\n  @override\n  State&lt;BasicRefreshView&gt; createState() =&gt; _BasicRefreshViewState();\n}\n\nclass _BasicRefreshViewState extends State&lt;BasicRefreshView&gt; {\n  final RefreshController _refreshController = RefreshController();\n\n  @override\n  Widget build(BuildContext context) {\n    return SmartRefresher(\n      controller: _refreshController,\n      enablePullDown: widget.enablePullDown,\n      enablePullUp: widget.enablePullUp,\n      onRefresh: _onRefresh,\n      onLoading: _onLoading,\n      header: const WaterDropMaterialHeader(),\n      footer: const ClassicFooter(),\n      child: widget.child,\n    );\n  }\n\n  void _onRefresh() async {\n    try {\n      await widget.onRefresh();\n      _refreshController.refreshCompleted();\n    } catch (e) {\n      _refreshController.refreshFailed();\n    }\n  }\n\n  void _onLoading() async {\n    if (widget.onLoading == null) {\n      _refreshController.loadNoData();\n      return;\n    }\n\n    try {\n      await widget.onLoading!();\n      _refreshController.loadComplete();\n    } catch (e) {\n      _refreshController.loadFailed();\n    }\n  }\n\n  @override\n  void dispose() {\n    _refreshController.dispose();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_15","title":"\u52a0\u8f7d\u6307\u793a\u5668\u7ec4\u4ef6","text":"<pre><code>class BasicLoadingIndicator extends StatelessWidget {\n  final String? message;\n  final LoadingType type;\n  final Color? color;\n  final double size;\n\n  const BasicLoadingIndicator({\n    Key? key,\n    this.message,\n    this.type = LoadingType.circular,\n    this.color,\n    this.size = 40.0,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      mainAxisSize: MainAxisSize.min,\n      children: [\n        _buildIndicator(context),\n        if (message != null) ...[\n          const SizedBox(height: 16),\n          Text(\n            message!,\n            style: Theme.of(context).textTheme.bodyMedium,\n            textAlign: TextAlign.center,\n          ),\n        ],\n      ],\n    );\n  }\n\n  Widget _buildIndicator(BuildContext context) {\n    final effectiveColor = color ?? Theme.of(context).primaryColor;\n\n    switch (type) {\n      case LoadingType.circular:\n        return SizedBox(\n          width: size,\n          height: size,\n          child: CircularProgressIndicator(color: effectiveColor),\n        );\n      case LoadingType.linear:\n        return SizedBox(\n          width: size * 2,\n          child: LinearProgressIndicator(color: effectiveColor),\n        );\n      case LoadingType.dots:\n        return _buildDotsIndicator(effectiveColor);\n    }\n  }\n\n  Widget _buildDotsIndicator(Color color) {\n    return Row(\n      mainAxisSize: MainAxisSize.min,\n      children: List.generate(3, (index) {\n        return Container(\n          margin: const EdgeInsets.symmetric(horizontal: 2),\n          width: 8,\n          height: 8,\n          decoration: BoxDecoration(\n            color: color,\n            shape: BoxShape.circle,\n          ),\n        );\n      }),\n    );\n  }\n}\n\nenum LoadingType { circular, linear, dots }\n</code></pre>"},{"location":"basic_uis/ui_basic.html#5_srcthemes","title":"5. \u4e3b\u9898\u914d\u7f6e (<code>src/themes/</code>)","text":""},{"location":"basic_uis/ui_basic.html#_16","title":"\u57fa\u7840\u4e3b\u9898\u914d\u7f6e","text":"<pre><code>class BasicTheme {\n  static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: const Color(0xFF1976D2),\n        brightness: Brightness.light,\n      ),\n      appBarTheme: const AppBarTheme(\n        centerTitle: true,\n        elevation: 0,\n        scrolledUnderElevation: 1,\n      ),\n      cardTheme: CardTheme(\n        elevation: 2,\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(12),\n        ),\n      ),\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(8),\n          ),\n          padding: const EdgeInsets.symmetric(\n            horizontal: 24,\n            vertical: 12,\n          ),\n        ),\n      ),\n      inputDecorationTheme: InputDecorationTheme(\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n        ),\n        contentPadding: const EdgeInsets.symmetric(\n          horizontal: 16,\n          vertical: 12,\n        ),\n      ),\n    );\n  }\n\n  static ThemeData get darkTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: const Color(0xFF1976D2),\n        brightness: Brightness.dark,\n      ),\n      // ... \u6697\u8272\u4e3b\u9898\u914d\u7f6e\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_17","title":"\u7ec4\u4ef6\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_uis/ui_basic.html#_18","title":"\u57fa\u7840\u4f7f\u7528\u793a\u4f8b","text":"<pre><code>class BasicComponentsExample extends StatefulWidget {\n  @override\n  _BasicComponentsExampleState createState() =&gt; _BasicComponentsExampleState();\n}\n\nclass _BasicComponentsExampleState extends State&lt;BasicComponentsExample&gt; {\n  final TextEditingController _textController = TextEditingController();\n  bool _isLoading = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Basic Components')),\n      body: ResponsiveContainer(\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            // \u8f93\u5165\u6846\u793a\u4f8b\n            BasicTextField(\n              labelText: '\u7528\u6237\u540d',\n              hintText: '\u8bf7\u8f93\u5165\u7528\u6237\u540d',\n              controller: _textController,\n              prefixIcon: Icon(Icons.person),\n              validator: (value) {\n                if (value == null || value.isEmpty) {\n                  return '\u8bf7\u8f93\u5165\u7528\u6237\u540d';\n                }\n                return null;\n              },\n            ),\n\n            const SizedBox(height: 16),\n\n            // \u6309\u94ae\u793a\u4f8b\n            BasicButton(\n              text: '\u767b\u5f55',\n              type: ButtonType.primary,\n              isLoading: _isLoading,\n              onPressed: () =&gt; _handleLogin(),\n            ),\n\n            const SizedBox(height: 16),\n\n            // \u5361\u7247\u793a\u4f8b\n            Card(\n              child: Padding(\n                padding: const EdgeInsets.all(16),\n                child: Column(\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      '\u901a\u77e5',\n                      style: Theme.of(context).textTheme.titleMedium,\n                    ),\n                    const SizedBox(height: 8),\n                    Text('\u8fd9\u662f\u4e00\u6761\u91cd\u8981\u901a\u77e5\u5185\u5bb9'),\n                  ],\n                ),\n              ),\n            ),\n\n            const SizedBox(height: 16),\n\n            // \u52a0\u8f7d\u6307\u793a\u5668\u793a\u4f8b\n            if (_isLoading)\n              const BasicLoadingIndicator(\n                message: '\u6b63\u5728\u767b\u5f55...',\n                type: LoadingType.circular,\n              ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  void _handleLogin() async {\n    setState(() {\n      _isLoading = true;\n    });\n\n    // \u6a21\u62df\u767b\u5f55\u8bf7\u6c42\n    await Future.delayed(const Duration(seconds: 2));\n\n    setState(() {\n      _isLoading = false;\n    });\n\n    // \u663e\u793a\u7ed3\u679c\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(content: Text('\u767b\u5f55\u6210\u529f')),\n    );\n  }\n\n  @override\n  void dispose() {\n    _textController.dispose();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_19","title":"\u9ad8\u7ea7\u7ec4\u4ef6\u793a\u4f8b","text":"<pre><code>class AdvancedComponentsExample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Advanced Components')),\n      body: BasicRefreshView(\n        onRefresh: () async {\n          // \u5237\u65b0\u6570\u636e\n          await Future.delayed(const Duration(seconds: 1));\n        },\n        onLoading: () async {\n          // \u52a0\u8f7d\u66f4\u591a\u6570\u636e\n          await Future.delayed(const Duration(seconds: 1));\n        },\n        child: ListView.builder(\n          itemCount: 20,\n          itemBuilder: (context, index) {\n            return ListTile(\n              leading: CircleAvatar(\n                child: Text('${index + 1}'),\n              ),\n              title: Text('\u9879\u76ee ${index + 1}'),\n              subtitle: Text('\u8fd9\u662f\u9879\u76ee ${index + 1} \u7684\u63cf\u8ff0'),\n              trailing: Badge(\n                label: Text('${index % 5 + 1}'),\n                child: const Icon(Icons.notifications),\n              ),\n              onTap: () {\n                // \u5904\u7406\u70b9\u51fb\u4e8b\u4ef6\n              },\n            );\n          },\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_20","title":"\u81ea\u5b9a\u4e49\u4e3b\u9898","text":""},{"location":"basic_uis/ui_basic.html#_21","title":"\u4e3b\u9898\u5b9a\u5236\u793a\u4f8b","text":"<pre><code>class CustomThemeExample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Custom Theme Example',\n      theme: _buildCustomTheme(),\n      home: MyHomePage(),\n    );\n  }\n\n  ThemeData _buildCustomTheme() {\n    const primaryColor = Color(0xFF6C5CE7);\n    const secondaryColor = Color(0xFFA29BFE);\n\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primaryColor,\n        secondary: secondaryColor,\n      ),\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primaryColor,\n        foregroundColor: Colors.white,\n        elevation: 0,\n      ),\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: primaryColor,\n          foregroundColor: Colors.white,\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(20),\n          ),\n        ),\n      ),\n      cardTheme: CardTheme(\n        elevation: 4,\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(16),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_basic.html#_22","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_uis/ui_basic.html#_23","title":"\u7ec4\u4ef6\u4f18\u5316\u7b56\u7565","text":"<ul> <li>Widget\u7f13\u5b58: \u7f13\u5b58\u4e0d\u53d8\u7684Widget\u5b9e\u4f8b</li> <li>\u5c40\u90e8\u66f4\u65b0: \u4f7f\u7528Consumer\u7cbe\u786e\u63a7\u5236\u66f4\u65b0\u8303\u56f4</li> <li>\u5ef6\u8fdf\u6784\u5efa: \u4f7f\u7528Builder\u5ef6\u8fdf\u6784\u5efa\u590d\u6742\u7ec4\u4ef6</li> <li>\u5185\u5b58\u7ba1\u7406: \u53ca\u65f6\u91ca\u653e\u8d44\u6e90\u548c\u63a7\u5236\u5668</li> </ul>"},{"location":"basic_uis/ui_basic.html#_24","title":"\u6e32\u67d3\u4f18\u5316","text":"<ul> <li>RepaintBoundary: \u9694\u79bb\u91cd\u7ed8\u533a\u57df</li> <li>ListView.builder: \u4f7f\u7528\u61d2\u52a0\u8f7d\u5217\u8868</li> <li>Image\u4f18\u5316: \u5408\u7406\u4f7f\u7528\u7f13\u5b58\u548c\u538b\u7f29</li> <li>\u52a8\u753b\u4f18\u5316: \u4f7f\u7528\u786c\u4ef6\u52a0\u901f\u52a8\u753b</li> </ul>"},{"location":"basic_uis/ui_basic.html#_25","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_uis/ui_basic.html#widget","title":"Widget\u6d4b\u8bd5","text":"<ul> <li>\u7ec4\u4ef6\u6e32\u67d3\u6d4b\u8bd5: \u9a8c\u8bc1\u7ec4\u4ef6\u6b63\u786e\u6e32\u67d3</li> <li>\u4ea4\u4e92\u6d4b\u8bd5: \u6d4b\u8bd5\u7528\u6237\u4ea4\u4e92\u54cd\u5e94</li> <li>\u4e3b\u9898\u6d4b\u8bd5: \u9a8c\u8bc1\u4e3b\u9898\u6b63\u786e\u5e94\u7528</li> <li>\u54cd\u5e94\u5f0f\u6d4b\u8bd5: \u6d4b\u8bd5\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8\u9002\u914d</li> </ul>"},{"location":"basic_uis/ui_basic.html#_26","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u6d4b\u8bd5\u5de5\u5177\u65b9\u6cd5\u529f\u80fd</li> <li>\u72b6\u6001\u7ba1\u7406\u6d4b\u8bd5: \u6d4b\u8bd5\u72b6\u6001\u53d8\u5316\u903b\u8f91</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5: \u6d4b\u8bd5\u6570\u636e\u5e8f\u5217\u5316</li> </ul>"},{"location":"basic_uis/ui_basic.html#_27","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_uis/ui_basic.html#_28","title":"\u7ec4\u4ef6\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u5355\u4e00\u804c\u8d23: \u6bcf\u4e2a\u7ec4\u4ef6\u529f\u80fd\u5355\u4e00\u660e\u786e</li> <li>\u53ef\u590d\u7528\u6027: \u8bbe\u8ba1\u901a\u7528\u7684\u53ef\u590d\u7528\u7ec4\u4ef6</li> <li>\u53ef\u914d\u7f6e\u6027: \u63d0\u4f9b\u4e30\u5bcc\u7684\u914d\u7f6e\u9009\u9879</li> <li>\u4e00\u81f4\u6027: \u4fdd\u6301\u8bbe\u8ba1\u98ce\u683c\u4e00\u81f4</li> </ol>"},{"location":"basic_uis/ui_basic.html#_29","title":"\u4f7f\u7528\u5efa\u8bae","text":"<ol> <li>\u4e3b\u9898\u4f7f\u7528: \u4f18\u5148\u4f7f\u7528\u4e3b\u9898\u989c\u8272\u548c\u6837\u5f0f</li> <li>\u54cd\u5e94\u5f0f\u8bbe\u8ba1: \u8003\u8651\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8\u9002\u914d</li> <li>\u65e0\u969c\u788d\u8bbf\u95ee: \u6dfb\u52a0\u8bed\u4e49\u6807\u7b7e\u548c\u8f85\u52a9\u529f\u80fd</li> <li>\u6027\u80fd\u8003\u8651: \u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u5efa\u548c\u91cd\u7ed8</li> </ol>"},{"location":"basic_uis/ui_basic.html#_30","title":"\u603b\u7ed3","text":"<p><code>ui_basic</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u57fa\u7840UI\u7ec4\u4ef6\u5e93\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u754c\u9762\u7ec4\u4ef6\u548c\u4ea4\u4e92\u5143\u7d20\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u8bbe\u8ba1\u8bed\u8a00\u3001\u7075\u6d3b\u7684\u4e3b\u9898\u7cfb\u7edf\u548c\u5b8c\u5584\u7684\u7ec4\u4ef6\u751f\u6001\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u4e86\u4e00\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u6ee1\u8db3\u5404\u79cd\u754c\u9762\u5f00\u53d1\u9700\u6c42\u3002</p>"},{"location":"basic_uis/ui_business.html","title":"UI Business \u4e1a\u52a1UI\u7ec4\u4ef6\u6a21\u5757","text":""},{"location":"basic_uis/ui_business.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>ui_business</code> \u662f OneApp \u57fa\u7840UI\u6a21\u5757\u7fa4\u4e2d\u7684\u4e1a\u52a1\u7ec4\u4ef6\u5e93\uff0c\u4e13\u95e8\u63d0\u4f9b\u4e0e\u4e1a\u52a1\u903b\u8f91\u76f8\u5173\u7684UI\u7ec4\u4ef6\u548c\u4ea4\u4e92\u5143\u7d20\u3002\u8be5\u6a21\u5757\u57fa\u4e8e\u57fa\u7840UI\u7ec4\u4ef6\u8fdb\u884c\u5c01\u88c5\uff0c\u63d0\u4f9b\u4e86\u8f66\u8054\u7f51\u3001\u6d88\u606f\u4e2d\u5fc3\u3001\u5730\u7406\u4f4d\u7f6e\u7b49\u4e1a\u52a1\u573a\u666f\u7684\u4e13\u7528\u7ec4\u4ef6\u3002</p>"},{"location":"basic_uis/ui_business.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: ui_business</li> <li>\u7248\u672c: 0.2.28+3</li> <li>\u63cf\u8ff0: \u4e1a\u52a1UI\u7ec4\u4ef6\u5e93</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"basic_uis/ui_business.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_uis/ui_business.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u4e1a\u52a1\u7ec4\u4ef6\u5e93    - \u8f66\u8f86\u72b6\u6001\u5c55\u793a\u7ec4\u4ef6    - \u6d88\u606f\u4e2d\u5fc3\u7ec4\u4ef6    - \u5730\u7406\u4f4d\u7f6e\u7ec4\u4ef6    - \u7528\u6237\u540c\u610f\u7ec4\u4ef6</p> </li> <li> <p>\u4e1a\u52a1\u4ea4\u4e92\u7ec4\u4ef6    - \u4e1a\u52a1\u8868\u5355\u7ec4\u4ef6    - \u6570\u636e\u5c55\u793a\u7ec4\u4ef6    - \u72b6\u6001\u6307\u793a\u7ec4\u4ef6    - \u64cd\u4f5c\u53cd\u9988\u7ec4\u4ef6</p> </li> <li> <p>\u4e13\u4e1a\u754c\u9762\u5143\u7d20    - \u8f66\u8f86\u63a7\u5236\u9762\u677f    - \u5730\u56fe\u76f8\u5173\u7ec4\u4ef6    - \u6d88\u606f\u5217\u8868\u7ec4\u4ef6    - \u6743\u9650\u7533\u8bf7\u7ec4\u4ef6</p> </li> <li> <p>\u4e1a\u52a1\u6d41\u7a0b\u7ec4\u4ef6    - \u5f15\u5bfc\u6d41\u7a0b\u7ec4\u4ef6    - \u6b65\u9aa4\u6307\u793a\u5668    - \u8fdb\u5ea6\u5c55\u793a\u7ec4\u4ef6    - \u7ed3\u679c\u9875\u9762\u7ec4\u4ef6</p> </li> </ol>"},{"location":"basic_uis/ui_business.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_uis/ui_business.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 ui_business.dart            # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 vehicle/                # \u8f66\u8f86\u76f8\u5173\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 message/                # \u6d88\u606f\u4e2d\u5fc3\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 location/               # \u5730\u7406\u4f4d\u7f6e\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 consent/                # \u7528\u6237\u540c\u610f\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 forms/                  # \u4e1a\u52a1\u8868\u5355\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 displays/               # \u6570\u636e\u5c55\u793a\u7ec4\u4ef6\n\u2502   \u2514\u2500\u2500 workflows/              # \u4e1a\u52a1\u6d41\u7a0b\u7ec4\u4ef6\n\u251c\u2500\u2500 widgets/                    # \u7ec4\u4ef6\u5bfc\u51fa\n\u2514\u2500\u2500 themes/                     # \u4e1a\u52a1\u4e3b\u9898\n</code></pre>"},{"location":"basic_uis/ui_business.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_uis/ui_business.html#_8","title":"\u57fa\u7840\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_modular_route: ^0.2.1</code> - \u8def\u7531\u7ba1\u7406</li> <li><code>basic_intl: ^0.2.0</code> - \u56fd\u9645\u5316\u57fa\u7840</li> <li><code>basic_intl_flutter: ^0.2.2+1</code> - \u56fd\u9645\u5316Flutter\u652f\u6301</li> </ul>"},{"location":"basic_uis/ui_business.html#_9","title":"\u4e1a\u52a1\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li><code>clr_message: ^0.2.5+3</code> - \u6d88\u606f\u4e2d\u5fc3\u670d\u52a1</li> <li><code>clr_geo: ^0.2.16+1</code> - \u5730\u7406\u4f4d\u7f6e\u670d\u52a1</li> <li><code>basic_consent: ^0.2.17</code> - \u7528\u6237\u540c\u610f\u6846\u67b6</li> <li><code>basic_error: ^0.2.3+1</code> - \u9519\u8bef\u5904\u7406\u6846\u67b6</li> <li><code>basic_track: ^0.1.3</code> - \u6570\u636e\u57cb\u70b9</li> </ul>"},{"location":"basic_uis/ui_business.html#_10","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>freezed_annotation: ^2.0.3</code> - \u6570\u636e\u7c7b\u6ce8\u89e3</li> <li><code>url_launcher: ^6.1.11</code> - URL\u542f\u52a8</li> </ul>"},{"location":"basic_uis/ui_business.html#_11","title":"\u6838\u5fc3\u7ec4\u4ef6\u5206\u6790","text":""},{"location":"basic_uis/ui_business.html#1_srcvehicle","title":"1. \u8f66\u8f86\u76f8\u5173\u7ec4\u4ef6 (<code>src/vehicle/</code>)","text":""},{"location":"basic_uis/ui_business.html#_12","title":"\u8f66\u8f86\u72b6\u6001\u5361\u7247","text":"<pre><code>class VehicleStatusCard extends StatelessWidget {\n  final VehicleStatus status;\n  final VoidCallback? onTap;\n  final bool showDetails;\n\n  const VehicleStatusCard({\n    Key? key,\n    required this.status,\n    this.onTap,\n    this.showDetails = true,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      margin: const EdgeInsets.all(16),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.all(20),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              _buildHeader(context),\n              const SizedBox(height: 16),\n              _buildStatusIndicators(context),\n              if (showDetails) ...[\n                const SizedBox(height: 16),\n                _buildDetailInfo(context),\n              ],\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildHeader(BuildContext context) {\n    return Row(\n      children: [\n        CircleAvatar(\n          backgroundColor: _getStatusColor().withOpacity(0.1),\n          child: Icon(\n            _getStatusIcon(),\n            color: _getStatusColor(),\n          ),\n        ),\n        const SizedBox(width: 12),\n        Expanded(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text(\n                status.vehicleName,\n                style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                  fontWeight: FontWeight.bold,\n                ),\n              ),\n              Text(\n                _getStatusText(),\n                style: Theme.of(context).textTheme.bodyMedium?.copyWith(\n                  color: _getStatusColor(),\n                ),\n              ),\n            ],\n          ),\n        ),\n        Icon(\n          Icons.arrow_forward_ios,\n          size: 16,\n          color: Colors.grey[400],\n        ),\n      ],\n    );\n  }\n\n  Widget _buildStatusIndicators(BuildContext context) {\n    return Row(\n      children: [\n        _buildIndicator(\n          context,\n          Icons.battery_charging_full,\n          '${status.batteryLevel}%',\n          status.batteryLevel &gt; 20 ? Colors.green : Colors.orange,\n        ),\n        const SizedBox(width: 24),\n        _buildIndicator(\n          context,\n          Icons.speed,\n          '${status.mileage} km',\n          Colors.blue,\n        ),\n        const SizedBox(width: 24),\n        _buildIndicator(\n          context,\n          Icons.lock,\n          status.isLocked ? '\u5df2\u9501\u5b9a' : '\u672a\u9501\u5b9a',\n          status.isLocked ? Colors.red : Colors.green,\n        ),\n      ],\n    );\n  }\n\n  Widget _buildIndicator(\n    BuildContext context,\n    IconData icon,\n    String value,\n    Color color,\n  ) {\n    return Row(\n      children: [\n        Icon(icon, size: 16, color: color),\n        const SizedBox(width: 4),\n        Text(\n          value,\n          style: Theme.of(context).textTheme.bodySmall?.copyWith(\n            color: color,\n            fontWeight: FontWeight.w500,\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#_13","title":"\u8f66\u8f86\u63a7\u5236\u9762\u677f","text":"<pre><code>class VehicleControlPanel extends StatelessWidget {\n  final VehicleStatus status;\n  final Function(VehicleAction) onAction;\n\n  const VehicleControlPanel({\n    Key? key,\n    required this.status,\n    required this.onAction,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      padding: const EdgeInsets.all(20),\n      decoration: BoxDecoration(\n        color: Theme.of(context).cardColor,\n        borderRadius: const BorderRadius.vertical(\n          top: Radius.circular(20),\n        ),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.1),\n            blurRadius: 10,\n            offset: const Offset(0, -2),\n          ),\n        ],\n      ),\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          _buildHandle(),\n          const SizedBox(height: 20),\n          _buildQuickActions(context),\n          const SizedBox(height: 16),\n          _buildDetailActions(context),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildQuickActions(BuildContext context) {\n    return Row(\n      mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n      children: [\n        _buildActionButton(\n          context,\n          icon: status.isLocked ? Icons.lock_open : Icons.lock,\n          label: status.isLocked ? '\u89e3\u9501' : '\u9501\u5b9a',\n          color: status.isLocked ? Colors.green : Colors.red,\n          onTap: () =&gt; onAction(\n            status.isLocked ? VehicleAction.unlock : VehicleAction.lock,\n          ),\n        ),\n        _buildActionButton(\n          context,\n          icon: Icons.ac_unit,\n          label: '\u7a7a\u8c03',\n          color: Colors.blue,\n          onTap: () =&gt; onAction(VehicleAction.airConditioner),\n        ),\n        _buildActionButton(\n          context,\n          icon: Icons.electric_bolt,\n          label: '\u5145\u7535',\n          color: Colors.orange,\n          onTap: () =&gt; onAction(VehicleAction.charge),\n        ),\n        _buildActionButton(\n          context,\n          icon: Icons.location_on,\n          label: '\u5b9a\u4f4d',\n          color: Colors.purple,\n          onTap: () =&gt; onAction(VehicleAction.locate),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#2_srcmessage","title":"2. \u6d88\u606f\u4e2d\u5fc3\u7ec4\u4ef6 (<code>src/message/</code>)","text":""},{"location":"basic_uis/ui_business.html#_14","title":"\u6d88\u606f\u5217\u8868\u7ec4\u4ef6","text":"<pre><code>class MessageListView extends StatefulWidget {\n  final Future&lt;List&lt;Message&gt;&gt; Function() onRefresh;\n  final Future&lt;List&lt;Message&gt;&gt; Function()? onLoadMore;\n  final Function(Message)? onMessageTap;\n  final Function(Message)? onMessageDelete;\n\n  const MessageListView({\n    Key? key,\n    required this.onRefresh,\n    this.onLoadMore,\n    this.onMessageTap,\n    this.onMessageDelete,\n  }) : super(key: key);\n\n  @override\n  State&lt;MessageListView&gt; createState() =&gt; _MessageListViewState();\n}\n\nclass _MessageListViewState extends State&lt;MessageListView&gt; {\n  List&lt;Message&gt; _messages = [];\n  bool _isLoading = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return RefreshIndicator(\n      onRefresh: _handleRefresh,\n      child: ListView.separated(\n        itemCount: _messages.length,\n        separatorBuilder: (context, index) =&gt; const Divider(height: 1),\n        itemBuilder: (context, index) {\n          final message = _messages[index];\n          return MessageTile(\n            message: message,\n            onTap: () =&gt; widget.onMessageTap?.call(message),\n            onDelete: () =&gt; widget.onMessageDelete?.call(message),\n          );\n        },\n      ),\n    );\n  }\n}\n\nclass MessageTile extends StatelessWidget {\n  final Message message;\n  final VoidCallback? onTap;\n  final VoidCallback? onDelete;\n\n  const MessageTile({\n    Key? key,\n    required this.message,\n    this.onTap,\n    this.onDelete,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Dismissible(\n      key: Key(message.id),\n      direction: DismissDirection.endToStart,\n      background: Container(\n        alignment: Alignment.centerRight,\n        padding: const EdgeInsets.only(right: 20),\n        color: Colors.red,\n        child: const Icon(Icons.delete, color: Colors.white),\n      ),\n      onDismissed: (_) =&gt; onDelete?.call(),\n      child: ListTile(\n        leading: _buildMessageIcon(),\n        title: Text(\n          message.title,\n          style: TextStyle(\n            fontWeight: message.isRead ? FontWeight.normal : FontWeight.bold,\n          ),\n        ),\n        subtitle: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              message.content,\n              maxLines: 2,\n              overflow: TextOverflow.ellipsis,\n            ),\n            const SizedBox(height: 4),\n            Text(\n              _formatTime(message.timestamp),\n              style: Theme.of(context).textTheme.bodySmall,\n            ),\n          ],\n        ),\n        trailing: !message.isRead\n            ? Container(\n                width: 8,\n                height: 8,\n                decoration: const BoxDecoration(\n                  color: Colors.red,\n                  shape: BoxShape.circle,\n                ),\n              )\n            : null,\n        onTap: onTap,\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#3_srclocation","title":"3. \u5730\u7406\u4f4d\u7f6e\u7ec4\u4ef6 (<code>src/location/</code>)","text":""},{"location":"basic_uis/ui_business.html#_15","title":"\u4f4d\u7f6e\u9009\u62e9\u5668","text":"<pre><code>class LocationPicker extends StatefulWidget {\n  final LatLng? initialLocation;\n  final Function(LocationResult) onLocationSelected;\n  final String? title;\n\n  const LocationPicker({\n    Key? key,\n    this.initialLocation,\n    required this.onLocationSelected,\n    this.title,\n  }) : super(key: key);\n\n  @override\n  State&lt;LocationPicker&gt; createState() =&gt; _LocationPickerState();\n}\n\nclass _LocationPickerState extends State&lt;LocationPicker&gt; {\n  late TextEditingController _searchController;\n  List&lt;POI&gt; _searchResults = [];\n  bool _isSearching = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title ?? '\u9009\u62e9\u4f4d\u7f6e'),\n        bottom: PreferredSize(\n          preferredSize: const Size.fromHeight(60),\n          child: _buildSearchBar(),\n        ),\n      ),\n      body: Column(\n        children: [\n          if (_isSearching) _buildSearchResults(),\n          Expanded(child: _buildMap()),\n        ],\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: _getCurrentLocation,\n        child: const Icon(Icons.my_location),\n      ),\n    );\n  }\n\n  Widget _buildSearchBar() {\n    return Container(\n      padding: const EdgeInsets.all(16),\n      child: TextField(\n        controller: _searchController,\n        decoration: InputDecoration(\n          hintText: '\u641c\u7d22\u5730\u70b9',\n          prefixIcon: const Icon(Icons.search),\n          suffixIcon: _searchController.text.isNotEmpty\n              ? IconButton(\n                  icon: const Icon(Icons.clear),\n                  onPressed: () {\n                    _searchController.clear();\n                    _clearSearch();\n                  },\n                )\n              : null,\n          border: OutlineInputBorder(\n            borderRadius: BorderRadius.circular(25),\n          ),\n          contentPadding: const EdgeInsets.symmetric(horizontal: 20),\n        ),\n        onChanged: _onSearchChanged,\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#4_srcconsent","title":"4. \u7528\u6237\u540c\u610f\u7ec4\u4ef6 (<code>src/consent/</code>)","text":""},{"location":"basic_uis/ui_business.html#_16","title":"\u540c\u610f\u786e\u8ba4\u5bf9\u8bdd\u6846","text":"<pre><code>class ConsentDialog extends StatefulWidget {\n  final ConsentConfig config;\n  final Function(bool) onResult;\n\n  const ConsentDialog({\n    Key? key,\n    required this.config,\n    required this.onResult,\n  }) : super(key: key);\n\n  @override\n  State&lt;ConsentDialog&gt; createState() =&gt; _ConsentDialogState();\n}\n\nclass _ConsentDialogState extends State&lt;ConsentDialog&gt; {\n  bool _hasReadTerms = false;\n  bool _acceptedTerms = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return AlertDialog(\n      title: Text(widget.config.title),\n      content: Column(\n        mainAxisSize: MainAxisSize.min,\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          Text(widget.config.description),\n          const SizedBox(height: 16),\n          _buildTermsSection(),\n          const SizedBox(height: 16),\n          _buildConsentCheckbox(),\n        ],\n      ),\n      actions: [\n        TextButton(\n          onPressed: () =&gt; widget.onResult(false),\n          child: const Text('\u62d2\u7edd'),\n        ),\n        ElevatedButton(\n          onPressed: _acceptedTerms ? () =&gt; widget.onResult(true) : null,\n          child: const Text('\u540c\u610f'),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildTermsSection() {\n    return Container(\n      height: 120,\n      padding: const EdgeInsets.all(12),\n      decoration: BoxDecoration(\n        border: Border.all(color: Colors.grey[300]!),\n        borderRadius: BorderRadius.circular(8),\n      ),\n      child: SingleChildScrollView(\n        child: Text(\n          widget.config.termsContent,\n          style: Theme.of(context).textTheme.bodySmall,\n        ),\n      ),\n    );\n  }\n\n  Widget _buildConsentCheckbox() {\n    return CheckboxListTile(\n      value: _acceptedTerms,\n      onChanged: _hasReadTerms ? (value) {\n        setState(() {\n          _acceptedTerms = value ?? false;\n        });\n      } : null,\n      title: Text(\n        '\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u4e0a\u8ff0\u6761\u6b3e',\n        style: Theme.of(context).textTheme.bodyMedium,\n      ),\n      controlAffinity: ListTileControlAffinity.leading,\n      contentPadding: EdgeInsets.zero,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#_17","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_uis/ui_business.html#_18","title":"\u8f66\u8f86\u72b6\u6001\u5c55\u793a","text":"<pre><code>class VehicleStatusExample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final vehicleStatus = VehicleStatus(\n      vehicleName: 'ID.4 CROZZ',\n      batteryLevel: 85,\n      mileage: 15234,\n      isLocked: true,\n      location: '\u5317\u4eac\u5e02\u671d\u9633\u533a',\n    );\n\n    return Scaffold(\n      appBar: AppBar(title: Text('\u6211\u7684\u8f66\u8f86')),\n      body: Column(\n        children: [\n          VehicleStatusCard(\n            status: vehicleStatus,\n            onTap: () {\n              // \u8df3\u8f6c\u5230\u8f66\u8f86\u8be6\u60c5\u9875\n            },\n          ),\n          Expanded(\n            child: VehicleControlPanel(\n              status: vehicleStatus,\n              onAction: (action) {\n                // \u5904\u7406\u8f66\u8f86\u64cd\u4f5c\n                _handleVehicleAction(action);\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _handleVehicleAction(VehicleAction action) {\n    switch (action) {\n      case VehicleAction.lock:\n        // \u9501\u8f66\u64cd\u4f5c\n        break;\n      case VehicleAction.unlock:\n        // \u89e3\u9501\u64cd\u4f5c\n        break;\n      case VehicleAction.airConditioner:\n        // \u7a7a\u8c03\u64cd\u4f5c\n        break;\n      case VehicleAction.charge:\n        // \u5145\u7535\u64cd\u4f5c\n        break;\n    }\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#_19","title":"\u6d88\u606f\u4e2d\u5fc3\u5c55\u793a","text":"<pre><code>class MessageCenterExample extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u6d88\u606f\u4e2d\u5fc3')),\n      body: MessageListView(\n        onRefresh: () async {\n          // \u5237\u65b0\u6d88\u606f\u5217\u8868\n          return await MessageService.getMessages();\n        },\n        onLoadMore: () async {\n          // \u52a0\u8f7d\u66f4\u591a\u6d88\u606f\n          return await MessageService.getMoreMessages();\n        },\n        onMessageTap: (message) {\n          // \u5904\u7406\u6d88\u606f\u70b9\u51fb\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; MessageDetailPage(message: message),\n            ),\n          );\n        },\n        onMessageDelete: (message) {\n          // \u5220\u9664\u6d88\u606f\n          MessageService.deleteMessage(message.id);\n        },\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#_20","title":"\u4e3b\u9898\u5b9a\u5236","text":""},{"location":"basic_uis/ui_business.html#_21","title":"\u4e1a\u52a1\u4e3b\u9898\u914d\u7f6e","text":"<pre><code>class BusinessTheme {\n  static ThemeData get vehicleTheme {\n    return ThemeData(\n      primarySwatch: Colors.blue,\n      cardTheme: CardTheme(\n        elevation: 4,\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(16),\n        ),\n      ),\n      // \u8f66\u8f86\u76f8\u5173\u4e3b\u9898\u914d\u7f6e\n    );\n  }\n\n  static ThemeData get messageTheme {\n    return ThemeData(\n      primarySwatch: Colors.green,\n      // \u6d88\u606f\u4e2d\u5fc3\u4e3b\u9898\u914d\u7f6e\n    );\n  }\n}\n</code></pre>"},{"location":"basic_uis/ui_business.html#_22","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_uis/ui_business.html#_23","title":"\u4e1a\u52a1\u7ec4\u4ef6\u4f18\u5316","text":"<ul> <li>\u6570\u636e\u7f13\u5b58: \u7f13\u5b58\u4e1a\u52a1\u6570\u636e\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42</li> <li>\u56fe\u7247\u4f18\u5316: \u4f7f\u7528\u7f13\u5b58\u548c\u538b\u7f29\u4f18\u5316\u56fe\u7247\u52a0\u8f7d</li> <li>\u5217\u8868\u4f18\u5316: \u4f7f\u7528\u61d2\u52a0\u8f7d\u548c\u865a\u62df\u6eda\u52a8</li> <li>\u72b6\u6001\u7ba1\u7406: \u5408\u7406\u4f7f\u7528\u72b6\u6001\u7ba1\u7406\u51cf\u5c11\u91cd\u5efa</li> </ul>"},{"location":"basic_uis/ui_business.html#_24","title":"\u7528\u6237\u4f53\u9a8c\u4f18\u5316","text":"<ul> <li>\u52a0\u8f7d\u72b6\u6001: \u63d0\u4f9b\u53cb\u597d\u7684\u52a0\u8f7d\u63d0\u793a</li> <li>\u9519\u8bef\u5904\u7406: \u4f18\u96c5\u7684\u9519\u8bef\u9875\u9762\u548c\u91cd\u8bd5\u673a\u5236</li> <li>\u79bb\u7ebf\u652f\u6301: \u57fa\u672c\u7684\u79bb\u7ebf\u529f\u80fd\u652f\u6301</li> <li>\u54cd\u5e94\u5f0f\u8bbe\u8ba1: \u9002\u914d\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8</li> </ul>"},{"location":"basic_uis/ui_business.html#_25","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_uis/ui_business.html#_26","title":"\u4e1a\u52a1\u7ec4\u4ef6\u6d4b\u8bd5","text":"<ul> <li>\u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5: \u6d4b\u8bd5\u4e1a\u52a1\u76f8\u5173\u903b\u8f91</li> <li>UI\u7ec4\u4ef6\u6d4b\u8bd5: \u6d4b\u8bd5\u7ec4\u4ef6\u6e32\u67d3\u548c\u4ea4\u4e92</li> <li>\u96c6\u6210\u6d4b\u8bd5: \u6d4b\u8bd5\u4e0e\u670d\u52a1\u7684\u96c6\u6210</li> <li>\u7528\u6237\u4f53\u9a8c\u6d4b\u8bd5: \u6d4b\u8bd5\u7528\u6237\u64cd\u4f5c\u6d41\u7a0b</li> </ul>"},{"location":"basic_uis/ui_business.html#_27","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_uis/ui_business.html#_28","title":"\u7ec4\u4ef6\u4f7f\u7528\u5efa\u8bae","text":"<ol> <li>\u4e1a\u52a1\u5c01\u88c5: \u5c06\u4e1a\u52a1\u903b\u8f91\u5c01\u88c5\u5728\u7ec4\u4ef6\u5185\u90e8</li> <li>\u6570\u636e\u9a71\u52a8: \u4f7f\u7528\u6570\u636e\u6a21\u578b\u9a71\u52a8UI\u66f4\u65b0</li> <li>\u9519\u8bef\u8fb9\u754c: \u6dfb\u52a0\u9002\u5f53\u7684\u9519\u8bef\u5904\u7406\u8fb9\u754c</li> <li>\u65e0\u969c\u788d\u8bbf\u95ee: \u8003\u8651\u65e0\u969c\u788d\u529f\u80fd\u652f\u6301</li> </ol>"},{"location":"basic_uis/ui_business.html#_29","title":"\u5f00\u53d1\u89c4\u8303","text":"<ol> <li>\u547d\u540d\u89c4\u8303: \u4f7f\u7528\u6e05\u6670\u7684\u4e1a\u52a1\u76f8\u5173\u547d\u540d</li> <li>\u6587\u6863\u5b8c\u5584: \u63d0\u4f9b\u8be6\u7ec6\u7684\u7ec4\u4ef6\u4f7f\u7528\u6587\u6863</li> <li>\u7248\u672c\u517c\u5bb9: \u4fdd\u6301\u5411\u540e\u517c\u5bb9\u6027</li> <li>\u4ee3\u7801\u590d\u7528: \u63d0\u53d6\u901a\u7528\u7684\u4e1a\u52a1\u903b\u8f91</li> </ol>"},{"location":"basic_uis/ui_business.html#_30","title":"\u603b\u7ed3","text":"<p><code>ui_business</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u4e1a\u52a1UI\u7ec4\u4ef6\u5e93\uff0c\u4e13\u95e8\u9488\u5bf9\u8f66\u8054\u7f51\u3001\u6d88\u606f\u4e2d\u5fc3\u3001\u5730\u7406\u4f4d\u7f6e\u7b49\u4e1a\u52a1\u573a\u666f\u63d0\u4f9b\u4e86\u4e13\u4e1a\u7684UI\u7ec4\u4ef6\u3002\u901a\u8fc7\u4e1a\u52a1\u903b\u8f91\u7684\u5c01\u88c5\u548c\u6807\u51c6\u5316\u7684\u4ea4\u4e92\u6a21\u5f0f\uff0c\u5927\u5927\u63d0\u5347\u4e86\u4e1a\u52a1\u529f\u80fd\u7684\u5f00\u53d1\u6548\u7387\u548c\u7528\u6237\u4f53\u9a8c\u4e00\u81f4\u6027\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u5feb\u901f\u9002\u5e94\u4e1a\u52a1\u9700\u6c42\u7684\u53d8\u5316\u3002</p>"},{"location":"basic_utils/index.html","title":"Basic Utils \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4","text":""},{"location":"basic_utils/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>Basic Utils \u6a21\u5757\u7fa4\u662f OneApp \u7684\u57fa\u7840\u5de5\u5177\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u5e94\u7528\u5f00\u53d1\u4e2d\u5fc5\u9700\u7684\u5e95\u5c42\u5de5\u5177\u548c\u901a\u7528\u7ec4\u4ef6\u3002\u8be5\u6a21\u5757\u7fa4\u5305\u542b\u4e86\u7f51\u7edc\u901a\u4fe1\u3001\u65e5\u5fd7\u7cfb\u7edf\u3001\u914d\u7f6e\u7ba1\u7406\u3001\u5e73\u53f0\u9002\u914d\u3001\u63a8\u9001\u670d\u52a1\u7b49\u6838\u5fc3\u57fa\u7840\u8bbe\u65bd\u3002</p>"},{"location":"basic_utils/index.html#_2","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"basic_utils/index.html#_3","title":"\u6838\u5fc3\u57fa\u7840\u6a21\u5757","text":"<ol> <li>basic_network - \u7f51\u7edc\u901a\u4fe1\u6a21\u5757</li> <li>basic_logger - \u65e5\u5fd7\u7cfb\u7edf\u6a21\u5757</li> <li>basic_config - \u914d\u7f6e\u7ba1\u7406\u6a21\u5757</li> <li>basic_platform - \u5e73\u53f0\u9002\u914d\u6a21\u5757</li> <li>basic_push - \u63a8\u9001\u670d\u52a1\u6a21\u5757</li> <li>basic_utils - \u57fa\u7840\u5de5\u5177\u6a21\u5757</li> </ol>"},{"location":"basic_utils/index.html#_4","title":"\u67b6\u6784\u6846\u67b6\u6a21\u5757","text":"<ol> <li>base_mvvm - MVVM\u67b6\u6784\u6a21\u5757</li> </ol>"},{"location":"basic_utils/index.html#_5","title":"\u4e0b\u8f7d\u548c\u76d1\u63a7\u6a21\u5757","text":"<ol> <li>flutter_downloader - \u6587\u4ef6\u4e0b\u8f7d\u5668\u6a21\u5757</li> <li>kit_app_monitor - \u5e94\u7528\u76d1\u63a7\u5de5\u5177\u5305</li> </ol>"},{"location":"basic_utils/index.html#_6","title":"\u7b2c\u4e09\u65b9\u96c6\u6210\u6a21\u5757","text":"<ol> <li>flutter_plugin_mtpush_private - \u7f8e\u56e2\u4e91\u63a8\u9001\u63d2\u4ef6</li> </ol>"},{"location":"basic_utils/index.html#_7","title":"\u4f7f\u7528\u6307\u5357","text":""},{"location":"basic_utils/index.html#_8","title":"\u57fa\u7840\u4f9d\u8d56\u914d\u7f6e","text":"<pre><code>dependencies:\n  basic_utils:\n    path: ../oneapp_basic_utils/basic_utils\n  basic_config:\n    path: ../oneapp_basic_utils/basic_config\n  basic_logger:\n    path: ../oneapp_basic_utils/basic_logger\n  basic_network:\n    path: ../oneapp_basic_utils/basic_network\n  basic_platform:\n    path: ../oneapp_basic_utils/basic_platform\n</code></pre>"},{"location":"basic_utils/index.html#_9","title":"\u521d\u59cb\u5316\u914d\u7f6e","text":"<pre><code>// \u5e94\u7528\u521d\u59cb\u5316\u65f6\u914d\u7f6e\u57fa\u7840\u6a21\u5757\nawait BasicUtils.initialize();\nawait BasicConfig.initialize();\nawait BasicLogger.initialize();\nawait BasicNetwork.initialize();\nawait BasicPlatform.initialize();\n</code></pre>"},{"location":"basic_utils/index.html#_10","title":"\u5f00\u53d1\u89c4\u8303","text":""},{"location":"basic_utils/index.html#_11","title":"\u6a21\u5757\u8bbe\u8ba1\u539f\u5219","text":"<ol> <li>\u5355\u4e00\u804c\u8d23: \u6bcf\u4e2a\u6a21\u5757\u53ea\u8d1f\u8d23\u7279\u5b9a\u7684\u529f\u80fd\u9886\u57df</li> <li>\u63a5\u53e3\u62bd\u8c61: \u63d0\u4f9b\u6e05\u6670\u7684\u63a5\u53e3\u5b9a\u4e49\uff0c\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282</li> <li>\u914d\u7f6e\u9a71\u52a8: \u901a\u8fc7\u914d\u7f6e\u63a7\u5236\u6a21\u5757\u884c\u4e3a\uff0c\u63d0\u9ad8\u7075\u6d3b\u6027</li> <li>\u9519\u8bef\u5904\u7406: \u7edf\u4e00\u7684\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55\u673a\u5236</li> </ol>"},{"location":"basic_utils/index.html#_12","title":"\u4ee3\u7801\u89c4\u8303","text":"<ul> <li>\u9075\u5faa Dart \u5b98\u65b9\u7f16\u7801\u89c4\u8303</li> <li>\u4f7f\u7528\u9759\u6001\u5206\u6790\u5de5\u5177\u68c0\u67e5\u4ee3\u7801\u8d28\u91cf</li> <li>\u7f16\u5199\u5b8c\u6574\u7684\u5355\u5143\u6d4b\u8bd5\u548c\u6587\u6863</li> <li>\u7248\u672c\u5316\u7ba1\u7406\u548c\u53d8\u66f4\u65e5\u5fd7</li> </ul>"},{"location":"basic_utils/index.html#_13","title":"\u603b\u7ed3","text":"<p><code>oneapp_basic_utils</code> \u6a21\u5757\u7fa4\u4e3a OneApp \u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u6280\u672f\u57fa\u7840\uff0c\u901a\u8fc7\u6a21\u5757\u5316\u8bbe\u8ba1\u548c\u7edf\u4e00\u62bd\u8c61\uff0c\u5b9e\u73b0\u4e86\u57fa\u7840\u529f\u80fd\u7684\u590d\u7528\u548c\u6807\u51c6\u5316\u3002\u8fd9\u4e9b\u6a21\u5757\u4e0d\u4ec5\u652f\u6491\u4e86\u5f53\u524d\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u4e5f\u4e3a\u672a\u6765\u7684\u529f\u80fd\u6269\u5c55\u63d0\u4f9b\u4e86\u826f\u597d\u7684\u57fa\u7840\u67b6\u6784\u3002</p>"},{"location":"basic_utils/base_mvvm.html","title":"Base MVVM MVVM\u67b6\u6784\u6a21\u5757","text":""},{"location":"basic_utils/base_mvvm.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>base_mvvm</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684 MVVM\uff08Model-View-ViewModel\uff09\u67b6\u6784\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684MVVM\u67b6\u6784\u5b9e\u73b0\u548c\u76f8\u5173\u57fa\u7840\u7ec4\u4ef6\u3002\u8be5\u6a21\u5757\u4e3aFlutter\u5e94\u7528\u5f00\u53d1\u63d0\u4f9b\u4e86\u89c4\u8303\u5316\u7684\u67b6\u6784\u6a21\u5f0f\uff0c\u5305\u542b\u4e86\u72b6\u6001\u7ba1\u7406\u3001\u6570\u636e\u7ed1\u5b9a\u3001\u89c6\u56fe\u62bd\u8c61\u7b49\u6838\u5fc3\u529f\u80fd\u3002</p>"},{"location":"basic_utils/base_mvvm.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: base_mvvm</li> <li>\u7248\u672c: 0.0.1</li> <li>\u63cf\u8ff0: MVVM\u67b6\u6784\u57fa\u7840\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/base_mvvm.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>MVVM\u67b6\u6784\u5b9e\u73b0    - Model-View-ViewModel\u5206\u79bb    - \u6570\u636e\u53cc\u5411\u7ed1\u5b9a    - \u89c6\u56fe\u72b6\u6001\u7ba1\u7406    - \u547d\u4ee4\u6a21\u5f0f\u652f\u6301</p> </li> <li> <p>\u72b6\u6001\u7ba1\u7406\u7cfb\u7edf    - \u54cd\u5e94\u5f0f\u72b6\u6001\u7ba1\u7406    - \u5f02\u6b65\u72b6\u6001\u5904\u7406    - \u72b6\u6001\u53d8\u5316\u901a\u77e5    - \u72b6\u6001\u6301\u4e45\u5316</p> </li> <li> <p>\u57fa\u7840\u7ec4\u4ef6\u5e93    - \u53ef\u5237\u65b0\u5217\u8868\u7ec4\u4ef6    - \u7f51\u7edc\u56fe\u7247\u7f13\u5b58    - \u52a0\u8f7d\u72b6\u6001\u7ec4\u4ef6    - \u9519\u8bef\u5904\u7406\u7ec4\u4ef6</p> </li> <li> <p>\u6570\u636e\u6d41\u7ba1\u7406    - \u5355\u5411\u6570\u636e\u6d41    - \u4e8b\u4ef6\u9a71\u52a8\u66f4\u65b0    - \u6570\u636e\u6d41\u76d1\u542c    - \u526f\u4f5c\u7528\u5904\u7406</p> </li> </ol>"},{"location":"basic_utils/base_mvvm.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/base_mvvm.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 base_mvvm.dart              # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 mvvm/                   # MVVM\u6838\u5fc3\n\u2502   \u251c\u2500\u2500 base_components/        # \u57fa\u7840\u7ec4\u4ef6\n\u2502   \u251c\u2500\u2500 state_management/       # \u72b6\u6001\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 data_binding/           # \u6570\u636e\u7ed1\u5b9a\n\u2502   \u251c\u2500\u2500 commands/               # \u547d\u4ee4\u6a21\u5f0f\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 widgets/                    # \u901a\u7528Widget\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/base_mvvm.html#_8","title":"\u72b6\u6001\u7ba1\u7406\u4f9d\u8d56","text":"<ul> <li><code>provider: ^6.0.5</code> - \u72b6\u6001\u7ba1\u7406\u6846\u67b6</li> <li><code>rxdart: ^0.27.7</code> - \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> </ul>"},{"location":"basic_utils/base_mvvm.html#ui","title":"UI\u7ec4\u4ef6\u4f9d\u8d56","text":"<ul> <li><code>easy_refresh: ^3.3.2+1</code> - \u4e0b\u62c9\u5237\u65b0\u7ec4\u4ef6</li> <li><code>cached_network_image: ^3.3.0</code> - \u7f51\u7edc\u56fe\u7247\u7f13\u5b58</li> <li><code>flutter_cache_manager: ^3.3.1</code> - \u7f13\u5b58\u7ba1\u7406</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_9","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>path_provider: ^2.1.3</code> - \u6587\u4ef6\u8def\u5f84</li> <li><code>logger: 1.4.0</code> - \u65e5\u5fd7\u6846\u67b6</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_10","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_utils</code> - \u57fa\u7840\u5de5\u5177\uff08\u672c\u5730\u8def\u5f84\uff09</li> <li><code>basic_uis</code> - \u57fa\u7840UI\u7ec4\u4ef6\uff08\u672c\u5730\u8def\u5f84\uff09</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/base_mvvm.html#1_base_mvvmdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>base_mvvm.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - MVVM\u67b6\u6784\u7ec4\u4ef6\u7edf\u4e00\u5bfc\u51fa - \u67b6\u6784\u914d\u7f6e\u521d\u59cb\u5316 - \u4f9d\u8d56\u6ce8\u5165\u8bbe\u7f6e</p>"},{"location":"basic_utils/base_mvvm.html#2_mvvm_srcmvvm","title":"2. MVVM\u6838\u5fc3 (<code>src/mvvm/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - MVVM\u67b6\u6784\u6a21\u5f0f\u5b9e\u73b0 - \u57fa\u7840\u7c7b\u5b9a\u4e49 - \u751f\u547d\u5468\u671f\u7ba1\u7406 - \u6570\u636e\u6d41\u63a7\u5236</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>BaseModel</code> - \u6570\u636e\u6a21\u578b\u57fa\u7c7b - <code>BaseView</code> - \u89c6\u56fe\u57fa\u7c7b - <code>BaseViewModel</code> - \u89c6\u56fe\u6a21\u578b\u57fa\u7c7b - <code>MVVMController</code> - MVVM\u63a7\u5236\u5668</p>"},{"location":"basic_utils/base_mvvm.html#baseviewmodel","title":"BaseViewModel \u5b9e\u73b0","text":"<pre><code>abstract class BaseViewModel extends ChangeNotifier {\n  bool _isLoading = false;\n  String? _errorMessage;\n  bool _isDisposed = false;\n\n  bool get isLoading =&gt; _isLoading;\n  String? get errorMessage =&gt; _errorMessage;\n  bool get hasError =&gt; _errorMessage != null;\n\n  void setLoading(bool loading) {\n    if (_isDisposed) return;\n    _isLoading = loading;\n    notifyListeners();\n  }\n\n  void setError(String? error) {\n    if (_isDisposed) return;\n    _errorMessage = error;\n    notifyListeners();\n  }\n\n  void clearError() {\n    setError(null);\n  }\n\n  Future&lt;T?&gt; executeAsync&lt;T&gt;(Future&lt;T&gt; Function() action) async {\n    try {\n      setLoading(true);\n      clearError();\n      final result = await action();\n      return result;\n    } catch (e) {\n      setError(e.toString());\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  @override\n  void dispose() {\n    _isDisposed = true;\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#baseview","title":"BaseView \u5b9e\u73b0","text":"<pre><code>abstract class BaseView&lt;T extends BaseViewModel&gt; extends StatefulWidget {\n  const BaseView({Key? key}) : super(key: key);\n\n  T createViewModel();\n\n  Widget buildView(BuildContext context, T viewModel);\n\n  @override\n  State&lt;BaseView&lt;T&gt;&gt; createState() =&gt; _BaseViewState&lt;T&gt;();\n}\n\nclass _BaseViewState&lt;T extends BaseViewModel&gt; extends State&lt;BaseView&lt;T&gt;&gt; {\n  late T _viewModel;\n\n  @override\n  void initState() {\n    super.initState();\n    _viewModel = widget.createViewModel();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return ChangeNotifierProvider&lt;T&gt;(\n      create: (_) =&gt; _viewModel,\n      child: Consumer&lt;T&gt;(\n        builder: (context, viewModel, child) {\n          return Scaffold(\n            body: Stack(\n              children: [\n                widget.buildView(context, viewModel),\n                if (viewModel.isLoading)\n                  const Center(\n                    child: CircularProgressIndicator(),\n                  ),\n                if (viewModel.hasError)\n                  _buildErrorWidget(viewModel.errorMessage!),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n\n  Widget _buildErrorWidget(String error) {\n    return Container(\n      color: Colors.black54,\n      child: Center(\n        child: Card(\n          margin: const EdgeInsets.all(16),\n          child: Padding(\n            padding: const EdgeInsets.all(16),\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: [\n                const Icon(Icons.error, color: Colors.red, size: 48),\n                const SizedBox(height: 16),\n                Text(error, textAlign: TextAlign.center),\n                const SizedBox(height: 16),\n                ElevatedButton(\n                  onPressed: () =&gt; _viewModel.clearError(),\n                  child: const Text('\u786e\u5b9a'),\n                ),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  @override\n  void dispose() {\n    _viewModel.dispose();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#3_srcstate_management","title":"3. \u72b6\u6001\u7ba1\u7406 (<code>src/state_management/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5e94\u7528\u72b6\u6001\u7edf\u4e00\u7ba1\u7406 - \u72b6\u6001\u53d8\u5316\u76d1\u542c - \u72b6\u6001\u6301\u4e45\u5316 - \u72b6\u6001\u6062\u590d\u673a\u5236</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>StateManager</code> - \u72b6\u6001\u7ba1\u7406\u5668 - <code>StateObserver</code> - \u72b6\u6001\u89c2\u5bdf\u8005 - <code>StatePersistence</code> - \u72b6\u6001\u6301\u4e45\u5316 - <code>StateRestore</code> - \u72b6\u6001\u6062\u590d</p>"},{"location":"basic_utils/base_mvvm.html#4_srcdata_binding","title":"4. \u6570\u636e\u7ed1\u5b9a (<code>src/data_binding/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u89c6\u56fe\u4e0e\u6570\u636e\u53cc\u5411\u7ed1\u5b9a - \u5c5e\u6027\u53d8\u5316\u76d1\u542c - \u6570\u636e\u9a8c\u8bc1\u673a\u5236 - \u7ed1\u5b9a\u8868\u8fbe\u5f0f\u89e3\u6790</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>DataBinder</code> - \u6570\u636e\u7ed1\u5b9a\u5668 - <code>PropertyObserver</code> - \u5c5e\u6027\u89c2\u5bdf\u8005 - <code>ValidationRule</code> - \u9a8c\u8bc1\u89c4\u5219 - <code>BindingExpression</code> - \u7ed1\u5b9a\u8868\u8fbe\u5f0f</p>"},{"location":"basic_utils/base_mvvm.html#5_srccommands","title":"5. \u547d\u4ee4\u6a21\u5f0f (<code>src/commands/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7528\u6237\u64cd\u4f5c\u547d\u4ee4\u5c01\u88c5 - \u547d\u4ee4\u6267\u884c\u7ba1\u7406 - \u64a4\u9500\u91cd\u505a\u652f\u6301 - \u547d\u4ee4\u961f\u5217\u5904\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>Command</code> - \u547d\u4ee4\u57fa\u7c7b - <code>AsyncCommand</code> - \u5f02\u6b65\u547d\u4ee4 - <code>CommandManager</code> - \u547d\u4ee4\u7ba1\u7406\u5668 - <code>UndoRedoStack</code> - \u64a4\u9500\u91cd\u505a\u6808</p>"},{"location":"basic_utils/base_mvvm.html#command","title":"Command \u5b9e\u73b0","text":"<pre><code>abstract class Command {\n  bool get canExecute;\n  Future&lt;void&gt; execute();\n\n  final StreamController&lt;bool&gt; _canExecuteController = \n      StreamController&lt;bool&gt;.broadcast();\n\n  Stream&lt;bool&gt; get canExecuteChanged =&gt; _canExecuteController.stream;\n\n  void notifyCanExecuteChanged() {\n    _canExecuteController.add(canExecute);\n  }\n\n  void dispose() {\n    _canExecuteController.close();\n  }\n}\n\nclass AsyncCommand extends Command {\n  final Future&lt;void&gt; Function() _action;\n  final bool Function()? _canExecuteFunc;\n  bool _isExecuting = false;\n\n  AsyncCommand(this._action, [this._canExecuteFunc]);\n\n  @override\n  bool get canExecute =&gt; !_isExecuting &amp;&amp; (_canExecuteFunc?.call() ?? true);\n\n  @override\n  Future&lt;void&gt; execute() async {\n    if (!canExecute) return;\n\n    _isExecuting = true;\n    notifyCanExecuteChanged();\n\n    try {\n      await _action();\n    } finally {\n      _isExecuting = false;\n      notifyCanExecuteChanged();\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#6_srcbase_components","title":"6. \u57fa\u7840\u7ec4\u4ef6 (<code>src/base_components/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u901a\u7528UI\u7ec4\u4ef6\u5c01\u88c5 - \u4e1a\u52a1\u65e0\u5173\u7ec4\u4ef6 - \u53ef\u590d\u7528\u7ec4\u4ef6\u5e93 - \u7ec4\u4ef6\u6837\u5f0f\u7edf\u4e00</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>RefreshableListView</code> - \u53ef\u5237\u65b0\u5217\u8868 - <code>NetworkImageWidget</code> - \u7f51\u7edc\u56fe\u7247\u7ec4\u4ef6 - <code>LoadingWidget</code> - \u52a0\u8f7d\u7ec4\u4ef6 - <code>ErrorWidget</code> - \u9519\u8bef\u7ec4\u4ef6</p>"},{"location":"basic_utils/base_mvvm.html#refreshablelistview","title":"RefreshableListView \u5b9e\u73b0","text":"<pre><code>class RefreshableListView&lt;T&gt; extends StatefulWidget {\n  final Future&lt;List&lt;T&gt;&gt; Function() onRefresh;\n  final Future&lt;List&lt;T&gt;&gt; Function()? onLoadMore;\n  final Widget Function(BuildContext, T, int) itemBuilder;\n  final Widget? emptyWidget;\n  final Widget? errorWidget;\n\n  const RefreshableListView({\n    Key? key,\n    required this.onRefresh,\n    this.onLoadMore,\n    required this.itemBuilder,\n    this.emptyWidget,\n    this.errorWidget,\n  }) : super(key: key);\n\n  @override\n  State&lt;RefreshableListView&lt;T&gt;&gt; createState() =&gt; _RefreshableListViewState&lt;T&gt;();\n}\n\nclass _RefreshableListViewState&lt;T&gt; extends State&lt;RefreshableListView&lt;T&gt;&gt; {\n  final List&lt;T&gt; _items = [];\n  bool _isLoading = false;\n  bool _hasError = false;\n  String? _errorMessage;\n\n  @override\n  void initState() {\n    super.initState();\n    _refresh();\n  }\n\n  Future&lt;void&gt; _refresh() async {\n    setState(() {\n      _isLoading = true;\n      _hasError = false;\n    });\n\n    try {\n      final items = await widget.onRefresh();\n      setState(() {\n        _items.clear();\n        _items.addAll(items);\n        _isLoading = false;\n      });\n    } catch (e) {\n      setState(() {\n        _isLoading = false;\n        _hasError = true;\n        _errorMessage = e.toString();\n      });\n    }\n  }\n\n  Future&lt;void&gt; _loadMore() async {\n    if (widget.onLoadMore == null || _isLoading) return;\n\n    try {\n      final items = await widget.onLoadMore!();\n      setState(() {\n        _items.addAll(items);\n      });\n    } catch (e) {\n      // Handle load more error\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (_isLoading &amp;&amp; _items.isEmpty) {\n      return const Center(child: CircularProgressIndicator());\n    }\n\n    if (_hasError &amp;&amp; _items.isEmpty) {\n      return widget.errorWidget ?? \n          Center(child: Text('Error: $_errorMessage'));\n    }\n\n    if (_items.isEmpty) {\n      return widget.emptyWidget ?? \n          const Center(child: Text('No data'));\n    }\n\n    return EasyRefresh(\n      onRefresh: _refresh,\n      onLoad: widget.onLoadMore != null ? _loadMore : null,\n      child: ListView.builder(\n        itemCount: _items.length,\n        itemBuilder: (context, index) {\n          return widget.itemBuilder(context, _items[index], index);\n        },\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#mvvm","title":"MVVM\u67b6\u6784\u6a21\u5f0f","text":""},{"location":"basic_utils/base_mvvm.html#_12","title":"\u67b6\u6784\u5c42\u6b21","text":"<pre><code>View Layer (\u89c6\u56fe\u5c42)\n    \u2193 (\u7528\u6237\u4ea4\u4e92)\nViewModel Layer (\u89c6\u56fe\u6a21\u578b\u5c42)\n    \u2193 (\u4e1a\u52a1\u903b\u8f91)\nModel Layer (\u6a21\u578b\u5c42)\n    \u2193 (\u6570\u636e\u64cd\u4f5c)\nData Layer (\u6570\u636e\u5c42)\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#_13","title":"\u6570\u636e\u6d41\u5411","text":"<pre><code>graph TD\n    A[View \u89c6\u56fe] --&gt; B[ViewModel \u89c6\u56fe\u6a21\u578b]\n    B --&gt; C[Model \u6a21\u578b]\n    C --&gt; D[Data Source \u6570\u636e\u6e90]\n\n    D --&gt; C\n    C --&gt; B\n    B --&gt; A\n\n    E[User Input \u7528\u6237\u8f93\u5165] --&gt; A\n    F[Data Binding \u6570\u636e\u7ed1\u5b9a] --&gt; A</code></pre>"},{"location":"basic_utils/base_mvvm.html#_14","title":"\u804c\u8d23\u5206\u79bb","text":"<ol> <li> <p>View\uff08\u89c6\u56fe\uff09    - \u8d1f\u8d23UI\u5c55\u793a    - \u5904\u7406\u7528\u6237\u4ea4\u4e92    - \u7ed1\u5b9aViewModel\u6570\u636e    - \u4e0d\u5305\u542b\u4e1a\u52a1\u903b\u8f91</p> </li> <li> <p>ViewModel\uff08\u89c6\u56fe\u6a21\u578b\uff09    - \u5904\u7406\u4e1a\u52a1\u903b\u8f91    - \u7ba1\u7406\u89c6\u56fe\u72b6\u6001    - \u8c03\u7528Model\u65b9\u6cd5    - \u63d0\u4f9b\u6570\u636e\u7ed1\u5b9a</p> </li> <li> <p>Model\uff08\u6a21\u578b\uff09    - \u5b9a\u4e49\u6570\u636e\u7ed3\u6784    - \u5c01\u88c5\u4e1a\u52a1\u89c4\u5219    - \u63d0\u4f9b\u6570\u636e\u64cd\u4f5c\u63a5\u53e3    - \u72ec\u7acb\u4e8e\u89c6\u56fe\u5c42</p> </li> </ol>"},{"location":"basic_utils/base_mvvm.html#_15","title":"\u72b6\u6001\u7ba1\u7406\u7b56\u7565","text":""},{"location":"basic_utils/base_mvvm.html#_16","title":"\u54cd\u5e94\u5f0f\u72b6\u6001","text":"<pre><code>class ResponsiveState&lt;T&gt; {\n  final BehaviorSubject&lt;T&gt; _subject;\n\n  ResponsiveState(T initialValue) : _subject = BehaviorSubject&lt;T&gt;.seeded(initialValue);\n\n  T get value =&gt; _subject.value;\n  Stream&lt;T&gt; get stream =&gt; _subject.stream;\n\n  void update(T newValue) {\n    _subject.add(newValue);\n  }\n\n  void dispose() {\n    _subject.close();\n  }\n}\n\nclass StateViewModel extends BaseViewModel {\n  final ResponsiveState&lt;String&gt; _title = ResponsiveState&lt;String&gt;('');\n  final ResponsiveState&lt;List&lt;String&gt;&gt; _items = ResponsiveState&lt;List&lt;String&gt;&gt;([]);\n\n  Stream&lt;String&gt; get titleStream =&gt; _title.stream;\n  Stream&lt;List&lt;String&gt;&gt; get itemsStream =&gt; _items.stream;\n\n  void updateTitle(String title) {\n    _title.update(title);\n  }\n\n  void updateItems(List&lt;String&gt; items) {\n    _items.update(items);\n  }\n\n  @override\n  void dispose() {\n    _title.dispose();\n    _items.dispose();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#_17","title":"\u72b6\u6001\u6301\u4e45\u5316","text":"<pre><code>class StatePersistence {\n  static const String _keyPrefix = 'mvvm_state_';\n\n  static Future&lt;void&gt; saveState&lt;T&gt;(String key, T state) async {\n    final prefs = await SharedPreferences.getInstance();\n    final json = jsonEncode(state);\n    await prefs.setString('$_keyPrefix$key', json);\n  }\n\n  static Future&lt;T?&gt; loadState&lt;T&gt;(String key, T Function(Map&lt;String, dynamic&gt;) fromJson) async {\n    final prefs = await SharedPreferences.getInstance();\n    final json = prefs.getString('$_keyPrefix$key');\n    if (json != null) {\n      final map = jsonDecode(json) as Map&lt;String, dynamic&gt;;\n      return fromJson(map);\n    }\n    return null;\n  }\n\n  static Future&lt;void&gt; clearState(String key) async {\n    final prefs = await SharedPreferences.getInstance();\n    await prefs.remove('$_keyPrefix$key');\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#_18","title":"\u6570\u636e\u7ed1\u5b9a\u673a\u5236","text":""},{"location":"basic_utils/base_mvvm.html#_19","title":"\u53cc\u5411\u6570\u636e\u7ed1\u5b9a","text":"<pre><code>class TwoWayBinding&lt;T&gt; {\n  final ValueNotifier&lt;T&gt; _notifier;\n  final void Function(T)? _onChanged;\n\n  TwoWayBinding(T initialValue, [this._onChanged]) \n      : _notifier = ValueNotifier&lt;T&gt;(initialValue);\n\n  T get value =&gt; _notifier.value;\n  set value(T newValue) {\n    _notifier.value = newValue;\n    _onChanged?.call(newValue);\n  }\n\n  ValueListenable&lt;T&gt; get listenable =&gt; _notifier;\n\n  void dispose() {\n    _notifier.dispose();\n  }\n}\n\nclass BindableTextField extends StatefulWidget {\n  final TwoWayBinding&lt;String&gt; binding;\n  final String? hintText;\n  final TextInputType? keyboardType;\n\n  const BindableTextField({\n    Key? key,\n    required this.binding,\n    this.hintText,\n    this.keyboardType,\n  }) : super(key: key);\n\n  @override\n  State&lt;BindableTextField&gt; createState() =&gt; _BindableTextFieldState();\n}\n\nclass _BindableTextFieldState extends State&lt;BindableTextField&gt; {\n  late TextEditingController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n    _controller = TextEditingController(text: widget.binding.value);\n    _controller.addListener(_onTextChanged);\n    widget.binding.listenable.addListener(_onBindingChanged);\n  }\n\n  void _onTextChanged() {\n    widget.binding.value = _controller.text;\n  }\n\n  void _onBindingChanged() {\n    if (_controller.text != widget.binding.value) {\n      _controller.text = widget.binding.value;\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return TextField(\n      controller: _controller,\n      decoration: InputDecoration(\n        hintText: widget.hintText,\n      ),\n      keyboardType: widget.keyboardType,\n    );\n  }\n\n  @override\n  void dispose() {\n    _controller.dispose();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_utils/base_mvvm.html#_20","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/base_mvvm.html#_21","title":"\u89c6\u56fe\u66f4\u65b0\u4f18\u5316","text":"<ul> <li>\u5c40\u90e8\u66f4\u65b0: \u4f7f\u7528Consumer\u7cbe\u786e\u63a7\u5236\u66f4\u65b0\u8303\u56f4</li> <li>\u72b6\u6001\u5206\u79bb: \u5206\u79bb\u4e0d\u540c\u7c7b\u578b\u7684\u72b6\u6001\u907f\u514d\u4e0d\u5fc5\u8981\u66f4\u65b0</li> <li>\u5ef6\u8fdf\u8ba1\u7b97: \u4f7f\u7528\u8ba1\u7b97\u5c5e\u6027\u5ef6\u8fdf\u590d\u6742\u8ba1\u7b97</li> <li>\u7f13\u5b58\u673a\u5236: \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\u907f\u514d\u91cd\u590d\u8ba1\u7b97</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_22","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u751f\u547d\u5468\u671f\u7ba1\u7406: \u6b63\u786e\u7ba1\u7406ViewModel\u751f\u547d\u5468\u671f</li> <li>\u8d44\u6e90\u91ca\u653e: \u53ca\u65f6\u91ca\u653eStream\u548c\u8ba2\u9605</li> <li>\u5f31\u5f15\u7528: \u4f7f\u7528\u5f31\u5f15\u7528\u907f\u514d\u5faa\u73af\u5f15\u7528</li> <li>\u5185\u5b58\u76d1\u63a7: \u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_23","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/base_mvvm.html#_24","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>ViewModel\u6d4b\u8bd5: \u4e1a\u52a1\u903b\u8f91\u5355\u5143\u6d4b\u8bd5</li> <li>Model\u6d4b\u8bd5: \u6570\u636e\u6a21\u578b\u6d4b\u8bd5</li> <li>Command\u6d4b\u8bd5: \u547d\u4ee4\u6267\u884c\u6d4b\u8bd5</li> <li>\u72b6\u6001\u7ba1\u7406\u6d4b\u8bd5: \u72b6\u6001\u53d8\u5316\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/base_mvvm.html#widget","title":"Widget\u6d4b\u8bd5","text":"<ul> <li>View\u6d4b\u8bd5: UI\u7ec4\u4ef6\u6e32\u67d3\u6d4b\u8bd5</li> <li>\u4ea4\u4e92\u6d4b\u8bd5: \u7528\u6237\u4ea4\u4e92\u54cd\u5e94\u6d4b\u8bd5</li> <li>\u6570\u636e\u7ed1\u5b9a\u6d4b\u8bd5: \u6570\u636e\u7ed1\u5b9a\u6b63\u786e\u6027\u6d4b\u8bd5</li> <li>\u72b6\u6001\u66f4\u65b0\u6d4b\u8bd5: \u72b6\u6001\u66f4\u65b0\u540eUI\u53d8\u5316\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_25","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u7aef\u5230\u7aef\u6d4b\u8bd5: \u5b8c\u6574\u7528\u6237\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u67b6\u6784\u6d4b\u8bd5: MVVM\u67b6\u6784\u6b63\u786e\u6027\u6d4b\u8bd5</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u67b6\u6784\u6027\u80fd\u8868\u73b0\u6d4b\u8bd5</li> <li>\u517c\u5bb9\u6027\u6d4b\u8bd5: \u4e0d\u540c\u573a\u666f\u517c\u5bb9\u6027\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/base_mvvm.html#_26","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_utils/base_mvvm.html#_27","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<ol> <li>\u5355\u4e00\u804c\u8d23: \u6bcf\u4e2a\u5c42\u6b21\u804c\u8d23\u5355\u4e00\u660e\u786e</li> <li>\u4f9d\u8d56\u5012\u7f6e: \u4f9d\u8d56\u62bd\u8c61\u800c\u975e\u5177\u4f53\u5b9e\u73b0</li> <li>\u5f00\u95ed\u539f\u5219: \u5bf9\u6269\u5c55\u5f00\u653e\u5bf9\u4fee\u6539\u5173\u95ed</li> <li>\u63a5\u53e3\u9694\u79bb: \u4f7f\u7528\u5c0f\u800c\u4e13\u7684\u63a5\u53e3</li> </ol>"},{"location":"basic_utils/base_mvvm.html#_28","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u72b6\u6001\u7ba1\u7406: \u5408\u7406\u5212\u5206\u72b6\u6001\u7c92\u5ea6</li> <li>\u6570\u636e\u7ed1\u5b9a: \u907f\u514d\u590d\u6742\u7684\u7ed1\u5b9a\u8868\u8fbe\u5f0f</li> <li>\u5f02\u6b65\u5904\u7406: \u6b63\u786e\u5904\u7406\u5f02\u6b65\u64cd\u4f5c</li> <li>\u9519\u8bef\u5904\u7406: \u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u673a\u5236</li> </ol>"},{"location":"basic_utils/base_mvvm.html#_29","title":"\u4ee3\u7801\u7ec4\u7ec7","text":"<ol> <li>\u6587\u4ef6\u7ed3\u6784: \u6309\u529f\u80fd\u548c\u5c42\u6b21\u7ec4\u7ec7\u6587\u4ef6</li> <li>\u547d\u540d\u89c4\u8303: \u7edf\u4e00\u7684\u547d\u540d\u7ea6\u5b9a</li> <li>\u6ce8\u91ca\u6587\u6863: \u6e05\u6670\u7684\u4ee3\u7801\u6ce8\u91ca</li> <li>\u4ee3\u7801\u590d\u7528: \u63d0\u53d6\u516c\u5171\u7ec4\u4ef6\u548c\u903b\u8f91</li> </ol>"},{"location":"basic_utils/base_mvvm.html#_30","title":"\u603b\u7ed3","text":"<p><code>base_mvvm</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684MVVM\u67b6\u6784\u57fa\u7840\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u67b6\u6784\u6a21\u5f0f\u5b9e\u73b0\u548c\u914d\u5957\u5de5\u5177\u3002\u901a\u8fc7\u6e05\u6670\u7684\u5c42\u6b21\u5206\u79bb\u3001\u54cd\u5e94\u5f0f\u72b6\u6001\u7ba1\u7406\u548c\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\uff0c\u4e3aFlutter\u5e94\u7528\u5f00\u53d1\u63d0\u4f9b\u4e86\u89c4\u8303\u5316\u7684\u67b6\u6784\u6307\u5bfc\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u53ef\u6d4b\u8bd5\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u80fd\u591f\u652f\u6491\u5927\u578b\u5e94\u7528\u7684\u5f00\u53d1\u9700\u6c42\u3002</p>"},{"location":"basic_utils/basic_config.html","title":"Basic Config - \u914d\u7f6e\u7ba1\u7406\u6a21\u5757\u6587\u6863","text":""},{"location":"basic_utils/basic_config.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_config</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u914d\u7f6e\u7ba1\u7406\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u3001\u73af\u5883\u5207\u6362\u3001\u8fdc\u7a0b\u914d\u7f6e\u4e0b\u53d1\u3001\u914d\u7f6e\u7f13\u5b58\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u652f\u6301\u591a\u73af\u5883\u914d\u7f6e\u3001\u52a8\u6001\u914d\u7f6e\u66f4\u65b0\u3001\u914d\u7f6e\u7248\u672c\u7ba1\u7406\u7b49\u7279\u6027\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u7075\u6d3b\u7684\u914d\u7f6e\u7ba1\u7406\u80fd\u529b\u3002</p>"},{"location":"basic_utils/basic_config.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_config</li> <li>\u7248\u672c: 0.2.2</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-basic-config</li> <li>Flutter \u7248\u672c: &gt;=2.5.0</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/basic_config.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>basic_config/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 basic_config.dart         # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 config/               # \u914d\u7f6e\u6838\u5fc3\u5b9e\u73b0\n\u2502       \u251c\u2500\u2500 providers/            # \u914d\u7f6e\u63d0\u4f9b\u8005\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 storage/              # \u914d\u7f6e\u5b58\u50a8\n\u2502       \u251c\u2500\u2500 parsers/              # \u914d\u7f6e\u89e3\u6790\u5668\n\u2502       \u2514\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"basic_utils/basic_config.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"basic_utils/basic_config.html#1","title":"1. \u914d\u7f6e\u7ba1\u7406\u5668\u6838\u5fc3","text":""},{"location":"basic_utils/basic_config.html#_5","title":"\u914d\u7f6e\u7ba1\u7406\u5668\u5b9e\u73b0","text":"<pre><code>// \u914d\u7f6e\u7ba1\u7406\u5668\u6838\u5fc3\u7c7b\nclass BasicConfigManager {\n  static BasicConfigManager? _instance;\n  static BasicConfigManager get instance =&gt; _instance ??= BasicConfigManager._internal();\n\n  BasicConfigManager._internal();\n\n  final Map&lt;String, ConfigProvider&gt; _providers = {};\n  final ConfigStorage _storage = ConfigStorage();\n  final ConfigCache _cache = ConfigCache();\n  Environment _currentEnvironment = Environment.production;\n\n  // \u521d\u59cb\u5316\u914d\u7f6e\u7ba1\u7406\u5668\n  Future&lt;void&gt; initialize({\n    required Environment environment,\n    List&lt;ConfigProvider&gt;? providers,\n    Map&lt;String, dynamic&gt;? defaultConfigs,\n  }) async {\n    _currentEnvironment = environment;\n\n    // \u521d\u59cb\u5316\u5b58\u50a8\n    await _storage.initialize();\n\n    // \u6ce8\u518c\u9ed8\u8ba4\u914d\u7f6e\u63d0\u4f9b\u8005\n    _providers['local'] = LocalConfigProvider();\n    _providers['remote'] = RemoteConfigProvider();\n    _providers['asset'] = AssetConfigProvider();\n\n    // \u6ce8\u518c\u81ea\u5b9a\u4e49\u914d\u7f6e\u63d0\u4f9b\u8005\n    if (providers != null) {\n      for (final provider in providers) {\n        _providers[provider.name] = provider;\n        await provider.initialize();\n      }\n    }\n\n    // \u52a0\u8f7d\u9ed8\u8ba4\u914d\u7f6e\n    if (defaultConfigs != null) {\n      await _loadDefaultConfigs(defaultConfigs);\n    }\n\n    // \u4ece\u5b58\u50a8\u4e2d\u52a0\u8f7d\u914d\u7f6e\n    await _loadConfigsFromStorage();\n\n    // \u4ece\u8fdc\u7a0b\u52a0\u8f7d\u914d\u7f6e\n    await _loadRemoteConfigs();\n  }\n\n  // \u83b7\u53d6\u914d\u7f6e\u503c\n  T? get&lt;T&gt;(String key, {T? defaultValue}) {\n    // \u9996\u5148\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\n    final cachedValue = _cache.get&lt;T&gt;(key);\n    if (cachedValue != null) {\n      return cachedValue;\n    }\n\n    // \u6309\u4f18\u5148\u7ea7\u4ece\u914d\u7f6e\u63d0\u4f9b\u8005\u83b7\u53d6\n    final providers = _getProvidersInPriority();\n    for (final provider in providers) {\n      final value = provider.get&lt;T&gt;(key);\n      if (value != null) {\n        _cache.set(key, value);\n        return value;\n      }\n    }\n\n    return defaultValue;\n  }\n\n  // \u8bbe\u7f6e\u914d\u7f6e\u503c\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value, {bool persistent = true}) async {\n    // \u66f4\u65b0\u7f13\u5b58\n    _cache.set(key, value);\n\n    // \u6301\u4e45\u5316\u5b58\u50a8\n    if (persistent) {\n      await _storage.set(key, value);\n    }\n\n    // \u901a\u77e5\u914d\u7f6e\u53d8\u66f4\n    _notifyConfigChanged(key, value);\n  }\n\n  // \u6279\u91cf\u66f4\u65b0\u914d\u7f6e\n  Future&lt;void&gt; updateConfigs(Map&lt;String, dynamic&gt; configs, {bool persistent = true}) async {\n    for (final entry in configs.entries) {\n      await set(entry.key, entry.value, persistent: persistent);\n    }\n  }\n\n  // \u5237\u65b0\u8fdc\u7a0b\u914d\u7f6e\n  Future&lt;void&gt; refreshRemoteConfigs() async {\n    final remoteProvider = _providers['remote'] as RemoteConfigProvider?;\n    if (remoteProvider != null) {\n      await remoteProvider.refresh();\n      _cache.clear(); // \u6e05\u9664\u7f13\u5b58\u4ee5\u4f7f\u7528\u65b0\u914d\u7f6e\n    }\n  }\n\n  // \u83b7\u53d6\u73af\u5883\u7279\u5b9a\u7684\u914d\u7f6e\n  T? getEnvironmentConfig&lt;T&gt;(String key, {T? defaultValue}) {\n    final envKey = '${_currentEnvironment.name}.$key';\n    return get&lt;T&gt;(envKey, defaultValue: get&lt;T&gt;(key, defaultValue: defaultValue));\n  }\n\n  // \u76d1\u542c\u914d\u7f6e\u53d8\u66f4\n  Stream&lt;ConfigChangeEvent&gt; get configChanges =&gt; _configChangesController.stream;\n  final StreamController&lt;ConfigChangeEvent&gt; _configChangesController = \n      StreamController.broadcast();\n\n  void _notifyConfigChanged(String key, dynamic value) {\n    _configChangesController.add(ConfigChangeEvent(key, value));\n  }\n\n  List&lt;ConfigProvider&gt; _getProvidersInPriority() {\n    return [\n      _providers['remote']!,\n      _providers['local']!,\n      _providers['asset']!,\n    ];\n  }\n}\n\n// \u73af\u5883\u679a\u4e3e\nenum Environment {\n  development,\n  testing,\n  staging,\n  production;\n\n  String get name {\n    switch (this) {\n      case Environment.development:\n        return 'dev';\n      case Environment.testing:\n        return 'test';\n      case Environment.staging:\n        return 'staging';\n      case Environment.production:\n        return 'prod';\n    }\n  }\n}\n\n// \u914d\u7f6e\u53d8\u66f4\u4e8b\u4ef6\nclass ConfigChangeEvent {\n  final String key;\n  final dynamic value;\n  final DateTime timestamp;\n\n  ConfigChangeEvent(this.key, this.value) : timestamp = DateTime.now();\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#2","title":"2. \u914d\u7f6e\u63d0\u4f9b\u8005","text":""},{"location":"basic_utils/basic_config.html#_6","title":"\u8fdc\u7a0b\u914d\u7f6e\u63d0\u4f9b\u8005","text":"<pre><code>// \u8fdc\u7a0b\u914d\u7f6e\u63d0\u4f9b\u8005\nclass RemoteConfigProvider implements ConfigProvider {\n  final NetworkService _networkService;\n  final ConfigStorage _storage;\n  final Duration _refreshInterval;\n  Timer? _refreshTimer;\n  Map&lt;String, dynamic&gt; _configs = {};\n\n  RemoteConfigProvider({\n    required NetworkService networkService,\n    required ConfigStorage storage,\n    Duration refreshInterval = const Duration(hours: 1),\n  }) : _networkService = networkService,\n       _storage = storage,\n       _refreshInterval = refreshInterval;\n\n  @override\n  String get name =&gt; 'remote';\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    // \u4ece\u672c\u5730\u5b58\u50a8\u52a0\u8f7d\u7f13\u5b58\u7684\u8fdc\u7a0b\u914d\u7f6e\n    _configs = await _storage.getAll('remote_config') ?? {};\n\n    // \u542f\u52a8\u5b9a\u65f6\u5237\u65b0\n    _startPeriodicRefresh();\n\n    // \u7acb\u5373\u6267\u884c\u4e00\u6b21\u5237\u65b0\n    await refresh();\n  }\n\n  @override\n  T? get&lt;T&gt;(String key) {\n    final value = _configs[key];\n    if (value == null) return null;\n\n    try {\n      return value as T;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  @override\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value) async {\n    _configs[key] = value;\n    await _storage.set('remote_config.$key', value);\n  }\n\n  // \u5237\u65b0\u8fdc\u7a0b\u914d\u7f6e\n  Future&lt;void&gt; refresh() async {\n    try {\n      final response = await _networkService.get(\n        path: '/api/v1/configs',\n        queryParameters: {\n          'app_version': await _getAppVersion(),\n          'platform': Platform.isAndroid ? 'android' : 'ios',\n          'environment': BasicConfigManager.instance._currentEnvironment.name,\n        },\n      );\n\n      response.fold(\n        (failure) {\n          BasicLogger.instance.warning('Failed to fetch remote configs: ${failure.message}');\n        },\n        (data) async {\n          final remoteConfigs = data['configs'] as Map&lt;String, dynamic&gt;? ?? {};\n\n          // \u68c0\u67e5\u914d\u7f6e\u7248\u672c\n          final remoteVersion = data['version'] as String?;\n          final localVersion = await _storage.get('remote_config_version');\n\n          if (remoteVersion != null &amp;&amp; remoteVersion != localVersion) {\n            // \u66f4\u65b0\u914d\u7f6e\n            _configs = remoteConfigs;\n            await _storage.setAll('remote_config', _configs);\n            await _storage.set('remote_config_version', remoteVersion);\n\n            BasicLogger.instance.info('Remote configs updated to version: $remoteVersion');\n          }\n        },\n      );\n    } catch (e) {\n      BasicLogger.instance.error('Error refreshing remote configs', error: e);\n    }\n  }\n\n  void _startPeriodicRefresh() {\n    _refreshTimer = Timer.periodic(_refreshInterval, (_) =&gt; refresh());\n  }\n\n  @override\n  Future&lt;void&gt; dispose() async {\n    _refreshTimer?.cancel();\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#_7","title":"\u672c\u5730\u914d\u7f6e\u63d0\u4f9b\u8005","text":"<pre><code>// \u672c\u5730\u914d\u7f6e\u63d0\u4f9b\u8005\nclass LocalConfigProvider implements ConfigProvider {\n  final ConfigStorage _storage;\n  Map&lt;String, dynamic&gt; _configs = {};\n\n  LocalConfigProvider({required ConfigStorage storage}) : _storage = storage;\n\n  @override\n  String get name =&gt; 'local';\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    _configs = await _storage.getAll('local_config') ?? {};\n  }\n\n  @override\n  T? get&lt;T&gt;(String key) {\n    final value = _configs[key];\n    if (value == null) return null;\n\n    try {\n      return value as T;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  @override\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value) async {\n    _configs[key] = value;\n    await _storage.set('local_config.$key', value);\n  }\n\n  @override\n  Future&lt;void&gt; dispose() async {\n    // \u672c\u5730\u914d\u7f6e\u65e0\u9700\u6e05\u7406\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#_8","title":"\u8d44\u4ea7\u914d\u7f6e\u63d0\u4f9b\u8005","text":"<pre><code>// \u8d44\u4ea7\u914d\u7f6e\u63d0\u4f9b\u8005\nclass AssetConfigProvider implements ConfigProvider {\n  Map&lt;String, dynamic&gt; _configs = {};\n\n  @override\n  String get name =&gt; 'asset';\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    await _loadAssetConfigs();\n  }\n\n  Future&lt;void&gt; _loadAssetConfigs() async {\n    try {\n      // \u52a0\u8f7d\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\n      final defaultConfigJson = await rootBundle.loadString('assets/config/default.json');\n      final defaultConfig = jsonDecode(defaultConfigJson) as Map&lt;String, dynamic&gt;;\n\n      // \u52a0\u8f7d\u73af\u5883\u7279\u5b9a\u914d\u7f6e\n      final environment = BasicConfigManager.instance._currentEnvironment.name;\n      try {\n        final envConfigJson = await rootBundle.loadString('assets/config/$environment.json');\n        final envConfig = jsonDecode(envConfigJson) as Map&lt;String, dynamic&gt;;\n\n        // \u5408\u5e76\u914d\u7f6e\n        _configs = {...defaultConfig, ...envConfig};\n      } catch (e) {\n        // \u73af\u5883\u7279\u5b9a\u914d\u7f6e\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n        _configs = defaultConfig;\n      }\n    } catch (e) {\n      BasicLogger.instance.error('Failed to load asset configs', error: e);\n      _configs = {};\n    }\n  }\n\n  @override\n  T? get&lt;T&gt;(String key) {\n    return _getNestedValue&lt;T&gt;(_configs, key);\n  }\n\n  @override\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value) async {\n    // \u8d44\u4ea7\u914d\u7f6e\u662f\u53ea\u8bfb\u7684\n    throw UnsupportedError('Asset configs are read-only');\n  }\n\n  // \u83b7\u53d6\u5d4c\u5957\u914d\u7f6e\u503c\n  T? _getNestedValue&lt;T&gt;(Map&lt;String, dynamic&gt; map, String key) {\n    final keys = key.split('.');\n    dynamic current = map;\n\n    for (final k in keys) {\n      if (current is Map&lt;String, dynamic&gt; &amp;&amp; current.containsKey(k)) {\n        current = current[k];\n      } else {\n        return null;\n      }\n    }\n\n    try {\n      return current as T;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  @override\n  Future&lt;void&gt; dispose() async {\n    // \u8d44\u4ea7\u914d\u7f6e\u65e0\u9700\u6e05\u7406\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#3","title":"3. \u914d\u7f6e\u5b58\u50a8","text":""},{"location":"basic_utils/basic_config.html#_9","title":"\u914d\u7f6e\u5b58\u50a8\u5b9e\u73b0","text":"<pre><code>// \u914d\u7f6e\u5b58\u50a8\u5b9e\u73b0\nclass ConfigStorage {\n  final BasicStorage _storage = BasicStorage.instance;\n  static const String _configPrefix = 'config_';\n\n  Future&lt;void&gt; initialize() async {\n    await _storage.initialize();\n  }\n\n  // \u8bbe\u7f6e\u914d\u7f6e\u503c\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value) async {\n    final storageKey = '$_configPrefix$key';\n\n    if (value is String) {\n      await _storage.setString(storageKey, value);\n    } else if (value is int) {\n      await _storage.setInt(storageKey, value);\n    } else if (value is double) {\n      await _storage.setDouble(storageKey, value);\n    } else if (value is bool) {\n      await _storage.setBool(storageKey, value);\n    } else {\n      // \u590d\u6742\u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a JSON\n      final jsonValue = jsonEncode(value);\n      await _storage.setString(storageKey, jsonValue);\n    }\n  }\n\n  // \u83b7\u53d6\u914d\u7f6e\u503c\n  Future&lt;T?&gt; get&lt;T&gt;(String key) async {\n    final storageKey = '$_configPrefix$key';\n\n    if (T == String) {\n      return await _storage.getString(storageKey) as T?;\n    } else if (T == int) {\n      return await _storage.getInt(storageKey) as T?;\n    } else if (T == double) {\n      return await _storage.getDouble(storageKey) as T?;\n    } else if (T == bool) {\n      return await _storage.getBool(storageKey) as T?;\n    } else {\n      // \u590d\u6742\u5bf9\u8c61\u4ece JSON \u53cd\u5e8f\u5217\u5316\n      final jsonValue = await _storage.getString(storageKey);\n      if (jsonValue != null) {\n        try {\n          return jsonDecode(jsonValue) as T;\n        } catch (e) {\n          return null;\n        }\n      }\n      return null;\n    }\n  }\n\n  // \u6279\u91cf\u8bbe\u7f6e\u914d\u7f6e\n  Future&lt;void&gt; setAll(String namespace, Map&lt;String, dynamic&gt; configs) async {\n    for (final entry in configs.entries) {\n      await set('$namespace.${entry.key}', entry.value);\n    }\n  }\n\n  // \u6279\u91cf\u83b7\u53d6\u914d\u7f6e\n  Future&lt;Map&lt;String, dynamic&gt;?&gt; getAll(String namespace) async {\n    final configs = &lt;String, dynamic&gt;{};\n    final keys = await _storage.getKeys();\n    final namespacePrefix = '$_configPrefix$namespace.';\n\n    for (final key in keys) {\n      if (key.startsWith(namespacePrefix)) {\n        final configKey = key.substring(namespacePrefix.length);\n        final value = await _storage.getString(key);\n        if (value != null) {\n          try {\n            configs[configKey] = jsonDecode(value);\n          } catch (e) {\n            configs[configKey] = value;\n          }\n        }\n      }\n    }\n\n    return configs.isNotEmpty ? configs : null;\n  }\n\n  // \u5220\u9664\u914d\u7f6e\n  Future&lt;void&gt; remove(String key) async {\n    final storageKey = '$_configPrefix$key';\n    await _storage.remove(storageKey);\n  }\n\n  // \u6e05\u9664\u6240\u6709\u914d\u7f6e\n  Future&lt;void&gt; clear() async {\n    final keys = await _storage.getKeys();\n    for (final key in keys) {\n      if (key.startsWith(_configPrefix)) {\n        await _storage.remove(key);\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#4","title":"4. \u914d\u7f6e\u7f13\u5b58","text":""},{"location":"basic_utils/basic_config.html#_10","title":"\u5185\u5b58\u7f13\u5b58\u5b9e\u73b0","text":"<pre><code>// \u914d\u7f6e\u7f13\u5b58\u5b9e\u73b0\nclass ConfigCache {\n  final Map&lt;String, CacheItem&gt; _cache = {};\n  final Duration _defaultTtl;\n  Timer? _cleanupTimer;\n\n  ConfigCache({\n    Duration defaultTtl = const Duration(minutes: 30),\n  }) : _defaultTtl = defaultTtl {\n    _startCleanupTimer();\n  }\n\n  // \u8bbe\u7f6e\u7f13\u5b58\n  void set&lt;T&gt;(String key, T value, {Duration? ttl}) {\n    final expiry = DateTime.now().add(ttl ?? _defaultTtl);\n    _cache[key] = CacheItem(value, expiry);\n  }\n\n  // \u83b7\u53d6\u7f13\u5b58\n  T? get&lt;T&gt;(String key) {\n    final item = _cache[key];\n    if (item == null) return null;\n\n    if (item.isExpired) {\n      _cache.remove(key);\n      return null;\n    }\n\n    try {\n      return item.value as T;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  // \u6e05\u9664\u7f13\u5b58\n  void clear() {\n    _cache.clear();\n  }\n\n  // \u6e05\u9664\u8fc7\u671f\u7f13\u5b58\n  void clearExpired() {\n    final now = DateTime.now();\n    _cache.removeWhere((key, item) =&gt; item.expiry.isBefore(now));\n  }\n\n  void _startCleanupTimer() {\n    _cleanupTimer = Timer.periodic(Duration(minutes: 5), (_) {\n      clearExpired();\n    });\n  }\n\n  void dispose() {\n    _cleanupTimer?.cancel();\n    _cache.clear();\n  }\n}\n\n// \u7f13\u5b58\u9879\nclass CacheItem {\n  final dynamic value;\n  final DateTime expiry;\n\n  CacheItem(this.value, this.expiry);\n\n  bool get isExpired =&gt; DateTime.now().isAfter(expiry);\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#5","title":"5. \u914d\u7f6e\u6a21\u578b","text":""},{"location":"basic_utils/basic_config.html#_11","title":"\u914d\u7f6e\u63a5\u53e3\u548c\u6a21\u578b","text":"<pre><code>// \u914d\u7f6e\u63d0\u4f9b\u8005\u63a5\u53e3\nabstract class ConfigProvider {\n  String get name;\n\n  Future&lt;void&gt; initialize();\n  T? get&lt;T&gt;(String key);\n  Future&lt;void&gt; set&lt;T&gt;(String key, T value);\n  Future&lt;void&gt; dispose();\n}\n\n// \u5e94\u7528\u914d\u7f6e\u6a21\u578b\nclass AppConfig {\n  final String apiBaseUrl;\n  final String environment;\n  final bool debugMode;\n  final int requestTimeout;\n  final int maxRetries;\n  final Map&lt;String, dynamic&gt; features;\n  final ThemeConfig theme;\n  final SecurityConfig security;\n\n  const AppConfig({\n    required this.apiBaseUrl,\n    required this.environment,\n    required this.debugMode,\n    required this.requestTimeout,\n    required this.maxRetries,\n    required this.features,\n    required this.theme,\n    required this.security,\n  });\n\n  factory AppConfig.fromJson(Map&lt;String, dynamic&gt; json) {\n    return AppConfig(\n      apiBaseUrl: json['api_base_url'] ?? '',\n      environment: json['environment'] ?? 'production',\n      debugMode: json['debug_mode'] ?? false,\n      requestTimeout: json['request_timeout'] ?? 30000,\n      maxRetries: json['max_retries'] ?? 3,\n      features: json['features'] ?? {},\n      theme: ThemeConfig.fromJson(json['theme'] ?? {}),\n      security: SecurityConfig.fromJson(json['security'] ?? {}),\n    );\n  }\n}\n\n// \u4e3b\u9898\u914d\u7f6e\u6a21\u578b\nclass ThemeConfig {\n  final String primaryColor;\n  final String accentColor;\n  final String fontFamily;\n  final double fontSize;\n  final bool darkMode;\n\n  const ThemeConfig({\n    required this.primaryColor,\n    required this.accentColor,\n    required this.fontFamily,\n    required this.fontSize,\n    required this.darkMode,\n  });\n\n  factory ThemeConfig.fromJson(Map&lt;String, dynamic&gt; json) {\n    return ThemeConfig(\n      primaryColor: json['primary_color'] ?? '#007AFF',\n      accentColor: json['accent_color'] ?? '#FF3B30',\n      fontFamily: json['font_family'] ?? 'system',\n      fontSize: (json['font_size'] ?? 16.0).toDouble(),\n      darkMode: json['dark_mode'] ?? false,\n    );\n  }\n}\n\n// \u5b89\u5168\u914d\u7f6e\u6a21\u578b\nclass SecurityConfig {\n  final bool enableEncryption;\n  final bool enableCertificatePinning;\n  final List&lt;String&gt; trustedCertificates;\n  final int sessionTimeout;\n  final bool enableBiometric;\n\n  const SecurityConfig({\n    required this.enableEncryption,\n    required this.enableCertificatePinning,\n    required this.trustedCertificates,\n    required this.sessionTimeout,\n    required this.enableBiometric,\n  });\n\n  factory SecurityConfig.fromJson(Map&lt;String, dynamic&gt; json) {\n    return SecurityConfig(\n      enableEncryption: json['enable_encryption'] ?? true,\n      enableCertificatePinning: json['enable_certificate_pinning'] ?? false,\n      trustedCertificates: List&lt;String&gt;.from(json['trusted_certificates'] ?? []),\n      sessionTimeout: json['session_timeout'] ?? 1800,\n      enableBiometric: json['enable_biometric'] ?? false,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#_12","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/basic_config.html#_13","title":"\u57fa\u672c\u914d\u7f6e\u7ba1\u7406","text":"<pre><code>// \u521d\u59cb\u5316\u914d\u7f6e\u7ba1\u7406\u5668\nawait BasicConfigManager.instance.initialize(\n  environment: Environment.production,\n  defaultConfigs: {\n    'api_base_url': 'https://api.oneapp.com',\n    'debug_mode': false,\n    'request_timeout': 30000,\n  },\n);\n\n// \u83b7\u53d6\u914d\u7f6e\u503c\nfinal apiUrl = BasicConfigManager.instance.get&lt;String&gt;('api_base_url');\nfinal debugMode = BasicConfigManager.instance.get&lt;bool&gt;('debug_mode', defaultValue: false);\nfinal timeout = BasicConfigManager.instance.get&lt;int&gt;('request_timeout', defaultValue: 30000);\n\n// \u8bbe\u7f6e\u914d\u7f6e\u503c\nawait BasicConfigManager.instance.set('user_preference', 'dark_mode');\n\n// \u83b7\u53d6\u73af\u5883\u7279\u5b9a\u914d\u7f6e\nfinal devApiUrl = BasicConfigManager.instance.getEnvironmentConfig&lt;String&gt;('api_base_url');\n\n// \u76d1\u542c\u914d\u7f6e\u53d8\u66f4\nBasicConfigManager.instance.configChanges.listen((event) {\n  print('Config changed: ${event.key} = ${event.value}');\n});\n</code></pre>"},{"location":"basic_utils/basic_config.html#_14","title":"\ufffd\ufffd\ufffd\u7ea7\u914d\u7f6e\u4f7f\u7528","text":"<pre><code>// \u52a0\u8f7d\u5e94\u7528\u914d\u7f6e\nclass AppConfigService {\n  static AppConfig? _appConfig;\n\n  static Future&lt;void&gt; initialize() async {\n    final configJson = BasicConfigManager.instance.get&lt;Map&lt;String, dynamic&gt;&gt;('app_config');\n    if (configJson != null) {\n      _appConfig = AppConfig.fromJson(configJson);\n    }\n  }\n\n  static AppConfig get config =&gt; _appConfig ?? _getDefaultConfig();\n\n  static AppConfig _getDefaultConfig() {\n    return AppConfig(\n      apiBaseUrl: 'https://api.oneapp.com',\n      environment: 'production',\n      debugMode: false,\n      requestTimeout: 30000,\n      maxRetries: 3,\n      features: {},\n      theme: ThemeConfig.fromJson({}),\n      security: SecurityConfig.fromJson({}),\n    );\n  }\n}\n\n// \u7279\u6027\u5f00\u5173\u7ba1\u7406\nclass FeatureToggle {\n  static bool isEnabled(String feature) {\n    final features = BasicConfigManager.instance.get&lt;Map&lt;String, dynamic&gt;&gt;('features') ?? {};\n    return features[feature] == true;\n  }\n\n  static Future&lt;void&gt; enableFeature(String feature) async {\n    final features = BasicConfigManager.instance.get&lt;Map&lt;String, dynamic&gt;&gt;('features') ?? {};\n    features[feature] = true;\n    await BasicConfigManager.instance.set('features', features);\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#_15","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"basic_utils/basic_config.html#_16","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>flutter: Flutter SDK</li> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_network: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li>basic_storage: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> </ul>"},{"location":"basic_utils/basic_config.html#_17","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li>json_annotation: JSON \u5e8f\u5217\u5316\u6ce8\u89e3</li> <li>dartz: \u51fd\u6570\u5f0f\u7f16\u7a0b\u652f\u6301</li> <li>path_provider: \u6587\u4ef6\u8def\u5f84\u7ba1\u7406</li> </ul>"},{"location":"basic_utils/basic_config.html#_18","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li>flutter_test: \u6d4b\u8bd5\u6846\u67b6</li> </ul>"},{"location":"basic_utils/basic_config.html#_19","title":"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784","text":""},{"location":"basic_utils/basic_config.html#assetsconfigdefaultjson","title":"\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6 (assets/config/default.json)","text":"<pre><code>{\n  \"api_base_url\": \"https://api.oneapp.com\",\n  \"request_timeout\": 30000,\n  \"max_retries\": 3,\n  \"debug_mode\": false,\n  \"features\": {\n    \"dark_mode\": true,\n    \"biometric_auth\": false,\n    \"offline_mode\": true\n  },\n  \"theme\": {\n    \"primary_color\": \"#007AFF\",\n    \"accent_color\": \"#FF3B30\",\n    \"font_family\": \"system\",\n    \"font_size\": 16.0\n  },\n  \"security\": {\n    \"enable_encryption\": true,\n    \"session_timeout\": 1800,\n    \"enable_biometric\": false\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#assetsconfigdevjson","title":"\u5f00\u53d1\u73af\u5883\u914d\u7f6e (assets/config/dev.json)","text":"<pre><code>{\n  \"api_base_url\": \"https://dev-api.oneapp.com\",\n  \"debug_mode\": true,\n  \"features\": {\n    \"debug_tools\": true,\n    \"mock_data\": true\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_config.html#_20","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/basic_config.html#_21","title":"\u914d\u7f6e\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u5185\u5b58\u7f13\u5b58\u5e38\u7528\u914d\u7f6e</li> <li>\u8bbe\u7f6e\u5408\u7406\u7684 TTL</li> <li>\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u7f13\u5b58</li> </ul>"},{"location":"basic_utils/basic_config.html#_22","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u6279\u91cf\u83b7\u53d6\u8fdc\u7a0b\u914d\u7f6e</li> <li>\u589e\u91cf\u66f4\u65b0\u914d\u7f6e</li> <li>\u914d\u7f6e\u7248\u672c\u7ba1\u7406</li> </ul>"},{"location":"basic_utils/basic_config.html#_23","title":"\u5b58\u50a8\u4f18\u5316","text":"<ul> <li>\u538b\u7f29\u5927\u578b\u914d\u7f6e\u6570\u636e</li> <li>\u5f02\u6b65\u8bfb\u5199\u64cd\u4f5c</li> <li>\u5206\u7c7b\u5b58\u50a8\u914d\u7f6e</li> </ul>"},{"location":"basic_utils/basic_config.html#_24","title":"\u603b\u7ed3","text":"<p><code>basic_config</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5f3a\u5927\u800c\u7075\u6d3b\u7684\u914d\u7f6e\u7ba1\u7406\u80fd\u529b\uff0c\u652f\u6301\u591a\u73af\u5883\u914d\u7f6e\u3001\u8fdc\u7a0b\u914d\u7f6e\u4e0b\u53d1\u3001\u914d\u7f6e\u7f13\u5b58\u7b49\u7279\u6027\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u914d\u7f6e\u7ba1\u7406\u63a5\u53e3\uff0c\u7b80\u5316\u4e86\u5e94\u7528\u914d\u7f6e\u7684\u4f7f\u7528\u548c\u7ef4\u62a4\uff0c\u63d0\u9ad8\u4e86\u5f00\u53d1\u6548\u7387\u548c\u8fd0\u7ef4\u7075\u6d3b\u6027\u3002</p>"},{"location":"basic_utils/basic_logger.html","title":"Basic Logger - \u65e5\u5fd7\u7cfb\u7edf\u6a21\u5757\u6587\u6863","text":""},{"location":"basic_utils/basic_logger.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_logger</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u65e5\u5fd7\u7cfb\u7edf\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u65e5\u5fd7\u8bb0\u5f55\u3001\u7ba1\u7406\u548c\u5206\u6790\u529f\u80fd\u3002\u8be5\u6a21\u5757\u652f\u6301\u591a\u7ea7\u522b\u65e5\u5fd7\u3001\u6587\u4ef6\u5b58\u50a8\u3001\u7f51\u7edc\u4e0a\u4f20\u3001\u5d29\u6e83\u65e5\u5fd7\u6536\u96c6\u7b49\u529f\u80fd\uff0c\u5e76\u63d0\u4f9b\u4e86 Android \u548c iOS \u7684\u539f\u751f\u65e5\u5fd7\u76d1\u63a7\u80fd\u529b\u3002</p>"},{"location":"basic_utils/basic_logger.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_logger</li> <li>\u7248\u672c: 0.2.5</li> <li>\u7c7b\u578b: Flutter Plugin</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/basic_logger.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>basic_logger/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 basic_logger.dart         # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 logger/               # \u65e5\u5fd7\u6838\u5fc3\u5b9e\u73b0\n\u2502       \u251c\u2500\u2500 appenders/            # \u65e5\u5fd7\u8f93\u51fa\u5668\n\u2502       \u251c\u2500\u2500 formatters/           # \u65e5\u5fd7\u683c\u5f0f\u5316\u5668\n\u2502       \u251c\u2500\u2500 filters/              # \u65e5\u5fd7\u8fc7\u6ee4\u5668\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u2514\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 android/                      # Android \u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 src/main/\n\u2502   \u2502   \u251c\u2500\u2500 kotlin/               # Kotlin \u6e90\u7801\n\u2502   \u2502   \u2514\u2500\u2500 java/                 # Java \u6e90\u7801 (\u9057\u7559)\n\u2502   \u2514\u2500\u2500 build.gradle             # Android \u6784\u5efa\u914d\u7f6e\n\u251c\u2500\u2500 ios/                          # iOS \u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 Classes/                  # Objective-C/Swift \u6e90\u7801\n\u2502   \u2514\u2500\u2500 basic_logger.podspec     # CocoaPods \u914d\u7f6e\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"basic_utils/basic_logger.html#1","title":"1. \u65e5\u5fd7\u8bb0\u5f55\u5668\u6838\u5fc3","text":""},{"location":"basic_utils/basic_logger.html#_5","title":"\u65e5\u5fd7\u8bb0\u5f55\u5668\u5b9e\u73b0","text":"<pre><code>// \u65e5\u5fd7\u8bb0\u5f55\u5668\u6838\u5fc3\u7c7b\nclass BasicLogger {\n  static BasicLogger? _instance;\n  static BasicLogger get instance =&gt; _instance ??= BasicLogger._internal();\n\n  BasicLogger._internal();\n\n  final List&lt;LogAppender&gt; _appenders = [];\n  final List&lt;LogFilter&gt; _filters = [];\n  LogLevel _minimumLevel = LogLevel.info;\n  LogFormatter _formatter = DefaultLogFormatter();\n\n  // \u521d\u59cb\u5316\u65e5\u5fd7\u7cfb\u7edf\n  Future&lt;void&gt; initialize({\n    LogLevel minimumLevel = LogLevel.info,\n    List&lt;LogAppender&gt;? appenders,\n    List&lt;LogFilter&gt;? filters,\n    LogFormatter? formatter,\n  }) async {\n    _minimumLevel = minimumLevel;\n\n    if (appenders != null) {\n      _appenders.clear();\n      _appenders.addAll(appenders);\n    } else {\n      // \u9ed8\u8ba4\u6dfb\u52a0\u63a7\u5236\u53f0\u548c\u6587\u4ef6\u8f93\u51fa\u5668\n      _appenders.addAll([\n        ConsoleAppender(),\n        FileAppender(),\n      ]);\n    }\n\n    if (filters != null) {\n      _filters.clear();\n      _filters.addAll(filters);\n    }\n\n    if (formatter != null) {\n      _formatter = formatter;\n    }\n\n    // \u521d\u59cb\u5316\u5404\u4e2a\u8f93\u51fa\u5668\n    for (final appender in _appenders) {\n      await appender.initialize();\n    }\n  }\n\n  // \u8bb0\u5f55\u65e5\u5fd7\n  void log(\n    LogLevel level,\n    String message, {\n    String? tag,\n    Object? error,\n    StackTrace? stackTrace,\n    Map&lt;String, dynamic&gt;? context,\n  }) {\n    if (level.index &lt; _minimumLevel.index) {\n      return;\n    }\n\n    final logEntry = LogEntry(\n      level: level,\n      message: message,\n      tag: tag ?? 'BasicLogger',\n      error: error,\n      stackTrace: stackTrace,\n      context: context,\n      timestamp: DateTime.now(),\n      thread: _getCurrentThread(),\n    );\n\n    // \u5e94\u7528\u8fc7\u6ee4\u5668\n    bool shouldLog = true;\n    for (final filter in _filters) {\n      if (!filter.shouldLog(logEntry)) {\n        shouldLog = false;\n        break;\n      }\n    }\n\n    if (shouldLog) {\n      final formattedLog = _formatter.format(logEntry);\n\n      // \u53d1\u9001\u5230\u6240\u6709\u8f93\u51fa\u5668\n      for (final appender in _appenders) {\n        appender.append(formattedLog, logEntry);\n      }\n    }\n  }\n\n  // \u4fbf\u6377\u65b9\u6cd5\n  void debug(String message, {String? tag, Map&lt;String, dynamic&gt;? context}) {\n    log(LogLevel.debug, message, tag: tag, context: context);\n  }\n\n  void info(String message, {String? tag, Map&lt;String, dynamic&gt;? context}) {\n    log(LogLevel.info, message, tag: tag, context: context);\n  }\n\n  void warning(String message, {String? tag, Object? error, Map&lt;String, dynamic&gt;? context}) {\n    log(LogLevel.warning, message, tag: tag, error: error, context: context);\n  }\n\n  void error(String message, {String? tag, Object? error, StackTrace? stackTrace, Map&lt;String, dynamic&gt;? context}) {\n    log(LogLevel.error, message, tag: tag, error: error, stackTrace: stackTrace, context: context);\n  }\n\n  void fatal(String message, {String? tag, Object? error, StackTrace? stackTrace, Map&lt;String, dynamic&gt;? context}) {\n    log(LogLevel.fatal, message, tag: tag, error: error, stackTrace: stackTrace, context: context);\n  }\n\n  String _getCurrentThread() {\n    // \u83b7\u53d6\u5f53\u524d\u7ebf\u7a0b\u4fe1\u606f\n    return 'main'; // \u7b80\u5316\u5b9e\u73b0\n  }\n}\n\n// \u65e5\u5fd7\u7ea7\u522b\u679a\u4e3e\nenum LogLevel {\n  debug,\n  info,\n  warning,\n  error,\n  fatal;\n\n  String get name {\n    switch (this) {\n      case LogLevel.debug:\n        return 'DEBUG';\n      case LogLevel.info:\n        return 'INFO';\n      case LogLevel.warning:\n        return 'WARN';\n      case LogLevel.error:\n        return 'ERROR';\n      case LogLevel.fatal:\n        return 'FATAL';\n    }\n  }\n\n  Color get color {\n    switch (this) {\n      case LogLevel.debug:\n        return Colors.grey;\n      case LogLevel.info:\n        return Colors.blue;\n      case LogLevel.warning:\n        return Colors.orange;\n      case LogLevel.error:\n        return Colors.red;\n      case LogLevel.fatal:\n        return Colors.purple;\n    }\n  }\n}\n\n// \u65e5\u5fd7\u6761\u76ee\u6a21\u578b\nclass LogEntry {\n  final LogLevel level;\n  final String message;\n  final String tag;\n  final Object? error;\n  final StackTrace? stackTrace;\n  final Map&lt;String, dynamic&gt;? context;\n  final DateTime timestamp;\n  final String thread;\n\n  const LogEntry({\n    required this.level,\n    required this.message,\n    required this.tag,\n    this.error,\n    this.stackTrace,\n    this.context,\n    required this.timestamp,\n    required this.thread,\n  });\n\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      'level': level.name,\n      'message': message,\n      'tag': tag,\n      'error': error?.toString(),\n      'stackTrace': stackTrace?.toString(),\n      'context': context,\n      'timestamp': timestamp.toIso8601String(),\n      'thread': thread,\n    };\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#2_appenders","title":"2. \u65e5\u5fd7\u8f93\u51fa\u5668 (Appenders)","text":""},{"location":"basic_utils/basic_logger.html#_6","title":"\u63a7\u5236\u53f0\u8f93\u51fa\u5668","text":"<pre><code>// \u63a7\u5236\u53f0\u65e5\u5fd7\u8f93\u51fa\u5668\nclass ConsoleAppender implements LogAppender {\n  bool _enableColors = true;\n\n  ConsoleAppender({bool enableColors = true}) : _enableColors = enableColors;\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    // \u63a7\u5236\u53f0\u8f93\u51fa\u5668\u65e0\u9700\u521d\u59cb\u5316\n  }\n\n  @override\n  void append(String formattedLog, LogEntry entry) {\n    if (kDebugMode) {\n      if (_enableColors) {\n        _printWithColor(formattedLog, entry.level);\n      } else {\n        print(formattedLog);\n      }\n    }\n  }\n\n  void _printWithColor(String message, LogLevel level) {\n    // ANSI \u989c\u8272\u4ee3\u7801\n    const String reset = '\\x1B[0m';\n    String colorCode;\n\n    switch (level) {\n      case LogLevel.debug:\n        colorCode = '\\x1B[37m'; // \u767d\u8272\n        break;\n      case LogLevel.info:\n        colorCode = '\\x1B[36m'; // \u9752\u8272\n        break;\n      case LogLevel.warning:\n        colorCode = '\\x1B[33m'; // \u9ec4\u8272\n        break;\n      case LogLevel.error:\n        colorCode = '\\x1B[31m'; // \u7ea2\u8272\n        break;\n      case LogLevel.fatal:\n        colorCode = '\\x1B[35m'; // \u7d2b\u8272\n        break;\n    }\n\n    print('$colorCode$message$reset');\n  }\n\n  @override\n  Future&lt;void&gt; close() async {\n    // \u63a7\u5236\u53f0\u8f93\u51fa\u5668\u65e0\u9700\u5173\u95ed\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_7","title":"\u6587\u4ef6\u8f93\u51fa\u5668","text":"<pre><code>// \u6587\u4ef6\u65e5\u5fd7\u8f93\u51fa\u5668\nclass FileAppender implements LogAppender {\n  late File _logFile;\n  late RandomAccessFile _fileHandle;\n  final int _maxFileSize;\n  final int _maxBackupFiles;\n  final Duration _flushInterval;\n  Timer? _flushTimer;\n  final List&lt;String&gt; _buffer = [];\n  final int _bufferSize;\n\n  FileAppender({\n    int maxFileSize = 10 * 1024 * 1024, // 10MB\n    int maxBackupFiles = 5,\n    Duration flushInterval = const Duration(seconds: 5),\n    int bufferSize = 100,\n  }) : _maxFileSize = maxFileSize,\n       _maxBackupFiles = maxBackupFiles,\n       _flushInterval = flushInterval,\n       _bufferSize = bufferSize;\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    final directory = await getApplicationDocumentsDirectory();\n    final logDir = Directory('${directory.path}/logs');\n\n    if (!await logDir.exists()) {\n      await logDir.create(recursive: true);\n    }\n\n    _logFile = File('${logDir.path}/app.log');\n    _fileHandle = await _logFile.open(mode: FileMode.append);\n\n    // \u542f\u52a8\u5b9a\u65f6\u5237\u65b0\n    _flushTimer = Timer.periodic(_flushInterval, (_) =&gt; _flush());\n  }\n\n  @override\n  void append(String formattedLog, LogEntry entry) {\n    _buffer.add(formattedLog);\n\n    // \u7f13\u51b2\u533a\u6ee1\u65f6\u7acb\u5373\u5237\u65b0\n    if (_buffer.length &gt;= _bufferSize) {\n      _flush();\n    }\n  }\n\n  Future&lt;void&gt; _flush() async {\n    if (_buffer.isEmpty) return;\n\n    try {\n      final content = _buffer.join('\\n') + '\\n';\n      await _fileHandle.writeString(content);\n      await _fileHandle.flush();\n      _buffer.clear();\n\n      // \u68c0\u67e5\u6587\u4ef6\u5927\u5c0f\uff0c\u5fc5\u8981\u65f6\u8fdb\u884c\u8f6e\u8f6c\n      await _checkFileRotation();\n    } catch (e) {\n      print('Failed to flush log buffer: $e');\n    }\n  }\n\n  Future&lt;void&gt; _checkFileRotation() async {\n    final fileSize = await _logFile.length();\n    if (fileSize &gt; _maxFileSize) {\n      await _rotateLogFiles();\n    }\n  }\n\n  Future&lt;void&gt; _rotateLogFiles() async {\n    await _fileHandle.close();\n\n    // \u8f6e\u8f6c\u5907\u4efd\u6587\u4ef6\n    for (int i = _maxBackupFiles - 1; i &gt;= 1; i--) {\n      final oldFile = File('${_logFile.path}.$i');\n      final newFile = File('${_logFile.path}.${i + 1}');\n\n      if (await oldFile.exists()) {\n        if (i == _maxBackupFiles - 1) {\n          await oldFile.delete();\n        } else {\n          await oldFile.rename(newFile.path);\n        }\n      }\n    }\n\n    // \u5c06\u5f53\u524d\u65e5\u5fd7\u6587\u4ef6\u91cd\u547d\u540d\u4e3a .1\n    await _logFile.rename('${_logFile.path}.1');\n\n    // \u521b\u5efa\u65b0\u7684\u65e5\u5fd7\u6587\u4ef6\n    _logFile = File(_logFile.path.replaceAll('.1', ''));\n    _fileHandle = await _logFile.open(mode: FileMode.write);\n  }\n\n  @override\n  Future&lt;void&gt; close() async {\n    _flushTimer?.cancel();\n    await _flush();\n    await _fileHandle.close();\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_8","title":"\u7f51\u7edc\u8f93\u51fa\u5668","text":"<pre><code>// \u7f51\u7edc\u65e5\u5fd7\u8f93\u51fa\u5668\nclass NetworkAppender implements LogAppender {\n  final String _endpoint;\n  final Map&lt;String, String&gt; _headers;\n  final Duration _batchInterval;\n  final int _batchSize;\n  final List&lt;LogEntry&gt; _batch = [];\n  Timer? _batchTimer;\n  final Dio _dio;\n\n  NetworkAppender({\n    required String endpoint,\n    Map&lt;String, String&gt;? headers,\n    Duration batchInterval = const Duration(seconds: 30),\n    int batchSize = 50,\n  }) : _endpoint = endpoint,\n       _headers = headers ?? {},\n       _batchInterval = batchInterval,\n       _batchSize = batchSize,\n       _dio = Dio();\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    _batchTimer = Timer.periodic(_batchInterval, (_) =&gt; _sendBatch());\n  }\n\n  @override\n  void append(String formattedLog, LogEntry entry) {\n    _batch.add(entry);\n\n    if (_batch.length &gt;= _batchSize) {\n      _sendBatch();\n    }\n  }\n\n  Future&lt;void&gt; _sendBatch() async {\n    if (_batch.isEmpty) return;\n\n    final batch = List&lt;LogEntry&gt;.from(_batch);\n    _batch.clear();\n\n    try {\n      final payload = {\n        'logs': batch.map((entry) =&gt; entry.toJson()).toList(),\n        'device_info': await _getDeviceInfo(),\n        'app_info': await _getAppInfo(),\n        'timestamp': DateTime.now().toIso8601String(),\n      };\n\n      await _dio.post(\n        _endpoint,\n        data: payload,\n        options: Options(headers: _headers),\n      );\n    } catch (e) {\n      print('Failed to send log batch: $e');\n      // \u53ef\u4ee5\u8003\u8651\u5c06\u5931\u8d25\u7684\u65e5\u5fd7\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u7a0d\u540e\u91cd\u8bd5\n    }\n  }\n\n  Future&lt;Map&lt;String, dynamic&gt;&gt; _getDeviceInfo() async {\n    // \u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\n    return {\n      'platform': Platform.isAndroid ? 'android' : 'ios',\n      'version': Platform.operatingSystemVersion,\n      // \u66f4\u591a\u8bbe\u5907\u4fe1\u606f...\n    };\n  }\n\n  Future&lt;Map&lt;String, dynamic&gt;&gt; _getAppInfo() async {\n    final packageInfo = await PackageInfo.fromPlatform();\n    return {\n      'app_name': packageInfo.appName,\n      'package_name': packageInfo.packageName,\n      'version': packageInfo.version,\n      'build_number': packageInfo.buildNumber,\n    };\n  }\n\n  @override\n  Future&lt;void&gt; close() async {\n    _batchTimer?.cancel();\n    await _sendBatch();\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#3","title":"3. \u65e5\u5fd7\u683c\u5f0f\u5316\u5668","text":""},{"location":"basic_utils/basic_logger.html#_9","title":"\u9ed8\u8ba4\u683c\u5f0f\u5316\u5668","text":"<pre><code>// \u65e5\u5fd7\u683c\u5f0f\u5316\u5668\u63a5\u53e3\nabstract class LogFormatter {\n  String format(LogEntry entry);\n}\n\n// \u9ed8\u8ba4\u65e5\u5fd7\u683c\u5f0f\u5316\u5668\nclass DefaultLogFormatter implements LogFormatter {\n  final String _pattern;\n  final DateFormat _dateFormat;\n\n  DefaultLogFormatter({\n    String pattern = '{timestamp} [{level}] {tag}: {message}',\n  }) : _pattern = pattern,\n       _dateFormat = DateFormat('yyyy-MM-dd HH:mm:ss.SSS');\n\n  @override\n  String format(LogEntry entry) {\n    String result = _pattern;\n\n    result = result.replaceAll('{timestamp}', _dateFormat.format(entry.timestamp));\n    result = result.replaceAll('{level}', entry.level.name);\n    result = result.replaceAll('{tag}', entry.tag);\n    result = result.replaceAll('{message}', entry.message);\n    result = result.replaceAll('{thread}', entry.thread);\n\n    // \u6dfb\u52a0\u9519\u8bef\u4fe1\u606f\n    if (entry.error != null) {\n      result += '\\nError: ${entry.error}';\n    }\n\n    // \u6dfb\u52a0\u5806\u6808\u8ddf\u8e2a\n    if (entry.stackTrace != null) {\n      result += '\\nStackTrace:\\n${entry.stackTrace}';\n    }\n\n    // \u6dfb\u52a0\u4e0a\u4e0b\u6587\u4fe1\u606f\n    if (entry.context != null &amp;&amp; entry.context!.isNotEmpty) {\n      result += '\\nContext: ${jsonEncode(entry.context)}';\n    }\n\n    return result;\n  }\n}\n\n// JSON \u683c\u5f0f\u5316\u5668\nclass JsonLogFormatter implements LogFormatter {\n  final bool _prettyPrint;\n\n  JsonLogFormatter({bool prettyPrint = false}) : _prettyPrint = prettyPrint;\n\n  @override\n  String format(LogEntry entry) {\n    final json = entry.toJson();\n\n    if (_prettyPrint) {\n      const encoder = JsonEncoder.withIndent('  ');\n      return encoder.convert(json);\n    } else {\n      return jsonEncode(json);\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#4","title":"4. \u5d29\u6e83\u65e5\u5fd7\u5904\u7406","text":""},{"location":"basic_utils/basic_logger.html#_10","title":"\u5d29\u6e83\u65e5\u5fd7\u6536\u96c6\u5668","text":"<pre><code>// \u5d29\u6e83\u65e5\u5fd7\u6536\u96c6\u5668\nclass CrashLogCollector {\n  static CrashLogCollector? _instance;\n  static CrashLogCollector get instance =&gt; _instance ??= CrashLogCollector._internal();\n\n  CrashLogCollector._internal();\n\n  late BasicLogger _logger;\n  bool _isInitialized = false;\n\n  Future&lt;void&gt; initialize(BasicLogger logger) async {\n    if (_isInitialized) return;\n\n    _logger = logger;\n\n    // \u6355\u83b7 Flutter \u6846\u67b6\u9519\u8bef\n    FlutterError.onError = (FlutterErrorDetails details) {\n      _logFlutterError(details);\n    };\n\n    // \u6355\u83b7\u5176\u4ed6\u672a\u5904\u7406\u7684\u5f02\u5e38\n    PlatformDispatcher.instance.onError = (error, stack) {\n      _logUnhandledException(error, stack);\n      return true;\n    };\n\n    // \u6355\u83b7 Zone \u9519\u8bef\n    runZonedGuarded(() {\n      // \u5e94\u7528\u4ee3\u7801\u5728\u8fd9\u91cc\u8fd0\u884c\n    }, (error, stack) {\n      _logZoneError(error, stack);\n    });\n\n    _isInitialized = true;\n  }\n\n  void _logFlutterError(FlutterErrorDetails details) {\n    _logger.fatal(\n      'Flutter Error: ${details.summary}',\n      tag: 'CrashLogger',\n      error: details.exception,\n      stackTrace: details.stack,\n      context: {\n        'library': details.library,\n        'context': details.context?.toString(),\n        'information_collector': details.informationCollector?.toString(),\n      },\n    );\n  }\n\n  void _logUnhandledException(Object error, StackTrace stack) {\n    _logger.fatal(\n      'Unhandled Exception: $error',\n      tag: 'CrashLogger',\n      error: error,\n      stackTrace: stack,\n    );\n  }\n\n  void _logZoneError(Object error, StackTrace stack) {\n    _logger.fatal(\n      'Zone Error: $error',\n      tag: 'CrashLogger',\n      error: error,\n      stackTrace: stack,\n    );\n  }\n\n  // \u624b\u52a8\u8bb0\u5f55\u5d29\u6e83\n  void logCrash({\n    required String message,\n    Object? error,\n    StackTrace? stackTrace,\n    Map&lt;String, dynamic&gt;? context,\n  }) {\n    _logger.fatal(\n      message,\n      tag: 'ManualCrash',\n      error: error,\n      stackTrace: stackTrace,\n      context: context,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#android","title":"Android \u539f\u751f\u5b9e\u73b0","text":""},{"location":"basic_utils/basic_logger.html#android_1","title":"Android \u65e5\u5fd7\u76d1\u63a7","text":"<pre><code>// Android \ufffd\ufffd\ufffd\u5fd7\u76d1\u63a7\u63d2\u4ef6\nclass LogcatMonitorPlugin : FlutterPlugin, MethodCallHandler {\n    private lateinit var channel: MethodChannel\n    private var logcatMonitor: LogcatMonitor? = null\n\n    override fun onAttachedToEngine(binding: FlutterPlugin.FlutterPluginBinding) {\n        channel = MethodChannel(binding.binaryMessenger, \"basic_logger\")\n        channel.setMethodCallHandler(this)\n    }\n\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\n        when (call.method) {\n            \"startLogcatMonitor\" -&gt; {\n                startLogcatMonitor(result)\n            }\n            \"stopLogcatMonitor\" -&gt; {\n                stopLogcatMonitor(result)\n            }\n            \"getNativeLogs\" -&gt; {\n                getNativeLogs(result)\n            }\n            else -&gt; {\n                result.notImplemented()\n            }\n        }\n    }\n\n    private fun startLogcatMonitor(result: MethodChannel.Result) {\n        try {\n            logcatMonitor = LogcatMonitor { logEntry -&gt;\n                // \u5c06\u539f\u751f\u65e5\u5fd7\u4f20\u9012\u5230 Flutter\n                channel.invokeMethod(\"onNativeLog\", logEntry.toMap())\n            }\n            logcatMonitor?.start()\n            result.success(true)\n        } catch (e: Exception) {\n            result.error(\"MONITOR_ERROR\", \"Failed to start logcat monitor\", e.message)\n        }\n    }\n\n    private fun stopLogcatMonitor(result: MethodChannel.Result) {\n        logcatMonitor?.stop()\n        logcatMonitor = null\n        result.success(true)\n    }\n\n    private fun getNativeLogs(result: MethodChannel.Result) {\n        try {\n            val logs = logcatMonitor?.getRecentLogs() ?: emptyList()\n            result.success(logs.map { it.toMap() })\n        } catch (e: Exception) {\n            result.error(\"LOG_ERROR\", \"Failed to get native logs\", e.message)\n        }\n    }\n}\n\n// Logcat \u76d1\u63a7\u5668\nclass LogcatMonitor(private val onLogEntry: (LogEntry) -&gt; Unit) {\n    private var process: Process? = null\n    private var isRunning = false\n    private val logBuffer = mutableListOf&lt;LogEntry&gt;()\n\n    fun start() {\n        if (isRunning) return\n\n        isRunning = true\n        thread {\n            try {\n                process = Runtime.getRuntime().exec(\"logcat -v time\")\n                val reader = BufferedReader(InputStreamReader(process!!.inputStream))\n\n                reader.useLines { lines -&gt;\n                    lines.forEach { line -&gt;\n                        if (isRunning) {\n                            parseLogLine(line)?.let { logEntry -&gt;\n                                logBuffer.add(logEntry)\n                                onLogEntry(logEntry)\n\n                                // \u4fdd\u6301\u7f13\u51b2\u533a\u5927\u5c0f\n                                if (logBuffer.size &gt; 1000) {\n                                    logBuffer.removeAt(0)\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (e: Exception) {\n                Log.e(\"LogcatMonitor\", \"Error reading logcat\", e)\n            }\n        }\n    }\n\n    fun stop() {\n        isRunning = false\n        process?.destroy()\n        process = null\n    }\n\n    fun getRecentLogs(): List&lt;LogEntry&gt; {\n        return logBuffer.toList()\n    }\n\n    private fun parseLogLine(line: String): LogEntry? {\n        // \u89e3\u6790 logcat \u8f93\u51fa\u683c\u5f0f\n        // \u793a\u4f8b: \"01-01 12:00:00.000 D/Tag(12345): Message\"\n        val pattern = Regex(\"\"\"(\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3})\\s+([VDIWEF])/([^(]+)\\((\\d+)\\):\\s+(.*)\"\"\")\n        val match = pattern.find(line) ?: return null\n\n        val (timestamp, level, tag, pid, message) = match.destructured\n\n        return LogEntry(\n            timestamp = timestamp,\n            level = level,\n            tag = tag,\n            pid = pid.toInt(),\n            message = message\n        )\n    }\n}\n</code></pre>"},{"location":"basic_utils/basic_logger.html#ios","title":"iOS \u539f\u751f\u5b9e\u73b0","text":""},{"location":"basic_utils/basic_logger.html#ios_1","title":"iOS \u65e5\u5fd7\u76d1\u63a7","text":"<pre><code>// iOS \u65e5\u5fd7\u76d1\u63a7\u63d2\u4ef6\n@implementation KitLoggerIosPlugin\n\n+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar {\n    FlutterMethodChannel* channel = [FlutterMethodChannel\n        methodChannelWithName:@\"basic_logger\"\n        binaryMessenger:[registrar messenger]];\n\n    KitLoggerIosPlugin* instance = [[KitLoggerIosPlugin alloc] init];\n    instance.channel = channel;\n    [registrar addMethodCallDelegate:instance channel:channel];\n}\n\n- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {\n    if ([@\"startSystemLogMonitor\" isEqualToString:call.method]) {\n        [self startSystemLogMonitor:result];\n    } else if ([@\"stopSystemLogMonitor\" isEqualToString:call.method]) {\n        [self stopSystemLogMonitor:result];\n    } else if ([@\"getSystemLogs\" isEqualToString:call.method]) {\n        [self getSystemLogs:result];\n    } else {\n        result(FlutterMethodNotImplemented);\n    }\n}\n\n- (void)startSystemLogMonitor:(FlutterResult)result {\n    // iOS \u7cfb\u7edf\u65e5\u5fd7\u76d1\u63a7\u5b9e\u73b0\n    self.logStore = [[OSLogStore alloc] initWithScope:OSLogStoreCurrentProcessIdentifier\n                                                error:nil];\n\n    if (self.logStore) {\n        [self startLogMonitoring];\n        result(@YES);\n    } else {\n        result([FlutterError errorWithCode:@\"MONITOR_ERROR\"\n                                   message:@\"Failed to initialize log store\"\n                                   details:nil]);\n    }\n}\n\n- (void)startLogMonitoring {\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"subsystem == %@\", \n                                  [[NSBundle mainBundle] bundleIdentifier]];\n\n        OSLogEnumerator *enumerator = [self.logStore entriesEnumeratorWithOptions:0\n                                                                        position:nil\n                                                                       predicate:predicate\n                                                                           error:nil];\n\n        for (OSLogEntryLog *entry in enumerator) {\n            NSDictionary *logData = @{\n                @\"timestamp\": @([entry.date timeIntervalSince1970]),\n                @\"level\": [self logLevelString:entry.level],\n                @\"category\": entry.category,\n                @\"message\": entry.composedMessage\n            };\n\n            dispatch_async(dispatch_get_main_queue(), ^{\n                [self.channel invokeMethod:@\"onSystemLog\" arguments:logData];\n            });\n        }\n    });\n}\n\n@end\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_11","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/basic_logger.html#_12","title":"\u57fa\u672c\u4f7f\u7528","text":"<pre><code>// \u521d\u59cb\u5316\u65e5\u5fd7\u7cfb\u7edf\nawait BasicLogger.instance.initialize(\n  minimumLevel: LogLevel.debug,\n  appenders: [\n    ConsoleAppender(enableColors: true),\n    FileAppender(\n      maxFileSize: 5 * 1024 * 1024, // 5MB\n      maxBackupFiles: 3,\n    ),\n    NetworkAppender(\n      endpoint: 'https://api.example.com/logs',\n      headers: {'Authorization': 'Bearer token'},\n    ),\n  ],\n  formatter: DefaultLogFormatter(\n    pattern: '{timestamp} [{level}] {tag}: {message}',\n  ),\n);\n\n// \u521d\u59cb\u5316\u5d29\u6e83\u65e5\u5fd7\u6536\u96c6\nawait CrashLogCollector.instance.initialize(BasicLogger.instance);\n\n// \u8bb0\u5f55\u4e0d\u540c\u7ea7\u522b\u7684\u65e5\u5fd7\nBasicLogger.instance.debug('Debug message');\nBasicLogger.instance.info('Info message', context: {'user_id': '123'});\nBasicLogger.instance.warning('Warning message');\nBasicLogger.instance.error('Error occurred', error: exception);\nBasicLogger.instance.fatal('Fatal error', error: exception, stackTrace: stackTrace);\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_13","title":"\u9ad8\u7ea7\u914d\u7f6e","text":"<pre><code>// \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\nclass TagFilter implements LogFilter {\n  final Set&lt;String&gt; _allowedTags;\n\n  TagFilter(this._allowedTags);\n\n  @override\n  bool shouldLog(LogEntry entry) {\n    return _allowedTags.contains(entry.tag);\n  }\n}\n\n// \u4f7f\u7528\u81ea\u5b9a\u4e49\u914d\u7f6e\nawait BasicLogger.instance.initialize(\n  minimumLevel: LogLevel.info,\n  appenders: [\n    ConsoleAppender(),\n    FileAppender(),\n    NetworkAppender(\n      endpoint: 'https://log-server.com/api/logs',\n      batchSize: 20,\n      batchInterval: Duration(seconds: 10),\n    ),\n  ],\n  filters: [\n    TagFilter({'NetworkService', 'UserAction', 'CrashLogger'}),\n  ],\n  formatter: JsonLogFormatter(prettyPrint: false),\n);\n</code></pre>"},{"location":"basic_utils/basic_logger.html#_14","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"basic_utils/basic_logger.html#_15","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>flutter: Flutter SDK</li> <li>archive: \u538b\u7f29\u529f\u80fd\u652f\u6301</li> </ul>"},{"location":"basic_utils/basic_logger.html#_16","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li>flutter_test: \u6d4b\u8bd5\u6846\u67b6</li> <li>flutter_lints: \u4ee3\u7801\u68c0\u67e5</li> <li>mockito: Mock \u6d4b\u8bd5</li> <li>build_runner: \u4ee3\u7801\u751f\u6210</li> </ul>"},{"location":"basic_utils/basic_logger.html#_17","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/basic_logger.html#_18","title":"\u65e5\u5fd7\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u5f02\u6b65\u65e5\u5fd7\u5199\u5165</li> <li>\u6279\u91cf\u7f51\u7edc\u4e0a\u4f20</li> <li>\u5185\u5b58\u7f13\u51b2\u533a\u7ba1\u7406</li> <li>\u65e5\u5fd7\u6587\u4ef6\u8f6e\u8f6c</li> </ul>"},{"location":"basic_utils/basic_logger.html#_19","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u9650\u5236\u5185\u5b58\u7f13\u51b2\u533a\u5927\u5c0f</li> <li>\u53ca\u65f6\u91ca\u653e\u4e0d\u7528\u7684\u65e5\u5fd7\u6570\u636e</li> <li>\u538b\u7f29\u5386\u53f2\u65e5\u5fd7\u6587\u4ef6</li> </ul>"},{"location":"basic_utils/basic_logger.html#_20","title":"\u603b\u7ed3","text":"<p><code>basic_logger</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5f3a\u5927\u800c\u7075\u6d3b\u7684\u65e5\u5fd7\u7cfb\u7edf\uff0c\u652f\u6301\u591a\u79cd\u8f93\u51fa\u65b9\u5f0f\u3001\u683c\u5f0f\u5316\u9009\u9879\u548c\u8fc7\u6ee4\u673a\u5236\u3002\u901a\u8fc7\u539f\u751f\u5e73\u53f0\u96c6\u6210\uff0c\u80fd\u591f\u6536\u96c6\u7cfb\u7edf\u7ea7\u65e5\u5fd7\u4fe1\u606f\uff0c\u4e3a\u5e94\u7528\u8c03\u8bd5\u3001\u6027\u80fd\u76d1\u63a7\u548c\u95ee\u9898\u8bca\u65ad\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"basic_utils/basic_network.html","title":"Basic Network - \u7f51\u7edc\u901a\u4fe1\u6a21\u5757\u6587\u6863","text":""},{"location":"basic_utils/basic_network.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_network</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u7f51\u7edc\u901a\u4fe1\u6838\u5fc3\u6a21\u5757\uff0c\u57fa\u4e8e Dio \u6846\u67b6\u5c01\u88c5\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684 HTTP \u8bf7\u6c42\u63a5\u53e3\u3001\u62e6\u622a\u5668\u673a\u5236\u3001\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e3a\u6574\u4e2a\u5e94\u7528\u63d0\u4f9b\u6807\u51c6\u5316\u7684\u7f51\u7edc\u901a\u4fe1\u80fd\u529b\u3002</p>"},{"location":"basic_utils/basic_network.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_network</li> <li>\u7248\u672c: 0.2.3+4</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/eziahz/oneapp/ezia-oneapp-basic-network</li> <li>Dart \u7248\u672c: &gt;=2.17.0 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/basic_network.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>basic_network/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 basic_network.dart    # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 common_dos.dart       # \u901a\u7528\u6570\u636e\u5bf9\u8c61\n\u2502   \u251c\u2500\u2500 common_dtos.dart      # \u901a\u7528\u6570\u636e\u4f20\u8f93\u5bf9\u8c61\n\u2502   \u2514\u2500\u2500 src/                  # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 client/           # HTTP \u5ba2\u6237\u7aef\u5b9e\u73b0\n\u2502       \u251c\u2500\u2500 interceptors/     # \u8bf7\u6c42\u62e6\u622a\u5668\n\u2502       \u251c\u2500\u2500 models/           # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 exceptions/       # \u5f02\u5e38\u5b9a\u4e49\n\u2502       \u2514\u2500\u2500 utils/            # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 pubspec.yaml              # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                 # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"basic_utils/basic_network.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"basic_utils/basic_network.html#1_http","title":"1. HTTP \u5ba2\u6237\u7aef\u5c01\u88c5","text":""},{"location":"basic_utils/basic_network.html#dio","title":"Dio \u5ba2\u6237\u7aef\u914d\u7f6e","text":"<pre><code>// \u7f51\u7edc\u5ba2\u6237\u7aef\u914d\u7f6e\nclass NetworkClient {\n  late Dio _dio;\n\n  NetworkClient({\n    String? baseUrl,\n    Duration? connectTimeout,\n    Duration? receiveTimeout,\n    Duration? sendTimeout,\n  }) {\n    _dio = Dio(BaseOptions(\n      baseUrl: baseUrl ?? '',\n      connectTimeout: connectTimeout ?? Duration(seconds: 30),\n      receiveTimeout: receiveTimeout ?? Duration(seconds: 30),\n      sendTimeout: sendTimeout ?? Duration(seconds: 30),\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n        'Accept': 'application/json',\n      },\n    ));\n\n    _setupInterceptors();\n  }\n\n  void _setupInterceptors() {\n    // \u8bf7\u6c42/\u54cd\u5e94\u62e6\u622a\u5668\n    _dio.interceptors.add(RequestInterceptor());\n    _dio.interceptors.add(ResponseInterceptor());\n\n    // \u9519\u8bef\u5904\u7406\u62e6\u622a\u5668\n    _dio.interceptors.add(ErrorInterceptor());\n\n    // \u65e5\u5fd7\u62e6\u622a\u5668\uff08\u4ec5\u8c03\u8bd5\u6a21\u5f0f\uff09\n    if (kDebugMode) {\n      _dio.interceptors.add(PrettyDioLogger(\n        requestHeader: true,\n        requestBody: true,\n        responseBody: true,\n        responseHeader: false,\n        error: true,\n        compact: true,\n      ));\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#_5","title":"\u7edf\u4e00\u8bf7\u6c42\u63a5\u53e3","text":"<pre><code>// \u7edf\u4e00\u7684 HTTP \u8bf7\u6c42\u63a5\u53e3\nabstract class INetworkService {\n  Future&lt;Result&lt;T&gt;&gt; get&lt;T&gt;({\n    required String path,\n    Map&lt;String, dynamic&gt;? queryParameters,\n    Options? options,\n    CancelToken? cancelToken,\n    T Function(dynamic)? fromJson,\n  });\n\n  Future&lt;Result&lt;T&gt;&gt; post&lt;T&gt;({\n    required String path,\n    dynamic data,\n    Map&lt;String, dynamic&gt;? queryParameters,\n    Options? options,\n    CancelToken? cancelToken,\n    T Function(dynamic)? fromJson,\n  });\n\n  Future&lt;Result&lt;T&gt;&gt; put&lt;T&gt;({\n    required String path,\n    dynamic data,\n    Map&lt;String, dynamic&gt;? queryParameters,\n    Options? options,\n    CancelToken? cancelToken,\n    T Function(dynamic)? fromJson,\n  });\n\n  Future&lt;Result&lt;T&gt;&gt; delete&lt;T&gt;({\n    required String path,\n    dynamic data,\n    Map&lt;String, dynamic&gt;? queryParameters,\n    Options? options,\n    CancelToken? cancelToken,\n    T Function(dynamic)? fromJson,\n  });\n}\n\n// \u7f51\u7edc\u670d\u52a1\u5b9e\u73b0\nclass NetworkService implements INetworkService {\n  final NetworkClient _client;\n\n  NetworkService(this._client);\n\n  @override\n  Future&lt;Result&lt;T&gt;&gt; get&lt;T&gt;({\n    required String path,\n    Map&lt;String, dynamic&gt;? queryParameters,\n    Options? options,\n    CancelToken? cancelToken,\n    T Function(dynamic)? fromJson,\n  }) async {\n    try {\n      final response = await _client._dio.get(\n        path,\n        queryParameters: queryParameters,\n        options: options,\n        cancelToken: cancelToken,\n      );\n\n      return _handleResponse&lt;T&gt;(response, fromJson);\n    } catch (e) {\n      return Left(_handleError(e));\n    }\n  }\n\n  Result&lt;T&gt; _handleResponse&lt;T&gt;(\n    Response response,\n    T Function(dynamic)? fromJson,\n  ) {\n    if (response.statusCode! &gt;= 200 &amp;&amp; response.statusCode! &lt; 300) {\n      if (fromJson != null) {\n        try {\n          final data = fromJson(response.data);\n          return Right(data);\n        } catch (e) {\n          return Left(NetworkFailure.parseError(e.toString()));\n        }\n      } else {\n        return Right(response.data as T);\n      }\n    } else {\n      return Left(NetworkFailure.httpError(\n        response.statusCode!,\n        response.statusMessage ?? '',\n      ));\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#2","title":"2. \u8bf7\u6c42\u62e6\u622a\u5668\u7cfb\u7edf","text":""},{"location":"basic_utils/basic_network.html#_6","title":"\u8bf7\u6c42\u62e6\u622a\u5668","text":"<pre><code>// \u8bf7\u6c42\u62e6\u622a\u5668\nclass RequestInterceptor extends Interceptor {\n  @override\n  void onRequest(RequestOptions options, RequestInterceptorHandler handler) {\n    // \u6dfb\u52a0\u516c\u5171\u8bf7\u6c42\u5934\n    _addCommonHeaders(options);\n\n    // \u6dfb\u52a0\u8ba4\u8bc1\u4fe1\u606f\n    _addAuthenticationHeaders(options);\n\n    // \u6dfb\u52a0\u8bbe\u5907\u4fe1\u606f\n    _addDeviceInfo(options);\n\n    // \u8bf7\u6c42\u7b7e\u540d\n    _signRequest(options);\n\n    super.onRequest(options, handler);\n  }\n\n  void _addCommonHeaders(RequestOptions options) {\n    options.headers.addAll({\n      'User-Agent': _getUserAgent(),\n      'Accept-Language': _getAcceptLanguage(),\n      'X-Request-ID': _generateRequestId(),\n      'X-Timestamp': DateTime.now().millisecondsSinceEpoch.toString(),\n    });\n  }\n\n  void _addAuthenticationHeaders(RequestOptions options) {\n    final token = AuthManager.instance.accessToken;\n    if (token != null) {\n      options.headers['Authorization'] = 'Bearer $token';\n    }\n  }\n\n  void _addDeviceInfo(RequestOptions options) {\n    options.headers.addAll({\n      'X-Device-ID': DeviceInfo.instance.deviceId,\n      'X-App-Version': AppInfo.instance.version,\n      'X-Platform': Platform.isAndroid ? 'android' : 'ios',\n    });\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#_7","title":"\u54cd\u5e94\u62e6\u622a\u5668","text":"<pre><code>// \u54cd\u5e94\u62e6\u622a\u5668\nclass ResponseInterceptor extends Interceptor {\n  @override\n  void onResponse(Response response, ResponseInterceptorHandler handler) {\n    // \u7edf\u4e00\u54cd\u5e94\u683c\u5f0f\u5904\u7406\n    _processCommonResponse(response);\n\n    // \u66f4\u65b0\u8ba4\u8bc1\u72b6\u6001\n    _updateAuthenticationStatus(response);\n\n    // \u7f13\u5b58\u54cd\u5e94\u6570\u636e\n    _cacheResponseIfNeeded(response);\n\n    super.onResponse(response, handler);\n  }\n\n  void _processCommonResponse(Response response) {\n    if (response.data is Map&lt;String, dynamic&gt;) {\n      final data = response.data as Map&lt;String, dynamic&gt;;\n\n      // \u68c0\u67e5\u4e1a\u52a1\u72b6\u6001\u7801\n      final code = data['code'] as int?;\n      final message = data['message'] as String?;\n\n      if (code != null &amp;&amp; code != 0) {\n        throw BusinessException(code, message ?? '\u4e1a\u52a1\u5904\u7406\u5931\u8d25');\n      }\n\n      // \u63d0\u53d6\u5b9e\u9645\u6570\u636e\n      if (data.containsKey('data')) {\n        response.data = data['data'];\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#_8","title":"\u9519\u8bef\u62e6\u622a\u5668","text":"<pre><code>// \u9519\u8bef\u62e6\u622a\u5668\nclass ErrorInterceptor extends Interceptor {\n  @override\n  void onError(DioException err, ErrorInterceptorHandler handler) {\n    // \u7f51\u7edc\u9519\u8bef\u5904\u7406\n    if (_isNetworkError(err)) {\n      _handleNetworkError(err);\n    }\n\n    // \u8ba4\u8bc1\u9519\u8bef\u5904\u7406\n    if (_isAuthenticationError(err)) {\n      _handleAuthenticationError(err);\n    }\n\n    // \u670d\u52a1\u5668\u9519\u8bef\u5904\u7406\n    if (_isServerError(err)) {\n      _handleServerError(err);\n    }\n\n    // \u8bf7\u6c42\u91cd\u8bd5\u673a\u5236\n    if (_shouldRetry(err)) {\n      _retryRequest(err, handler);\n      return;\n    }\n\n    super.onError(err, handler);\n  }\n\n  bool _shouldRetry(DioException err) {\n    // \u7f51\u7edc\u8d85\u65f6\u91cd\u8bd5\n    if (err.type == DioExceptionType.connectionTimeout ||\n        err.type == DioExceptionType.receiveTimeout) {\n      return _getRetryCount(err) &lt; 3;\n    }\n\n    // 5xx \u670d\u52a1\u5668\u9519\u8bef\u91cd\u8bd5\n    if (err.response?.statusCode != null &amp;&amp;\n        err.response!.statusCode! &gt;= 500) {\n      return _getRetryCount(err) &lt; 2;\n    }\n\n    return false;\n  }\n\n  Future&lt;void&gt; _retryRequest(\n    DioException err,\n    ErrorInterceptorHandler handler,\n  ) async {\n    final retryCount = _getRetryCount(err) + 1;\n    final delay = Duration(seconds: retryCount * 2);\n\n    await Future.delayed(delay);\n\n    try {\n      final options = err.requestOptions;\n      options.extra['retry_count'] = retryCount;\n\n      final response = await Dio().request(\n        options.path,\n        data: options.data,\n        queryParameters: options.queryParameters,\n        options: Options(\n          method: options.method,\n          headers: options.headers,\n          extra: options.extra,\n        ),\n      );\n\n      handler.resolve(response);\n    } catch (e) {\n      handler.next(err);\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#3_dtos","title":"3. \u6570\u636e\u4f20\u8f93\u5bf9\u8c61 (DTOs)","text":""},{"location":"basic_utils/basic_network.html#_9","title":"\u901a\u7528\u54cd\u5e94\u6a21\u578b","text":"<pre><code>// \u901a\u7528 API \u54cd\u5e94\u6a21\u578b\n@freezed\nclass ApiResponse&lt;T&gt; with _$ApiResponse&lt;T&gt; {\n  const factory ApiResponse({\n    required int code,\n    required String message,\n    T? data,\n    @JsonKey(name: 'request_id') String? requestId,\n    @JsonKey(name: 'timestamp') int? timestamp,\n  }) = _ApiResponse&lt;T&gt;;\n\n  factory ApiResponse.fromJson(\n    Map&lt;String, dynamic&gt; json,\n    T Function(Object?) fromJsonT,\n  ) =&gt; _$ApiResponseFromJson(json, fromJsonT);\n}\n\n// \u5206\u9875\u54cd\u5e94\u6a21\u578b\n@freezed\nclass PagedResponse&lt;T&gt; with _$PagedResponse&lt;T&gt; {\n  const factory PagedResponse({\n    required List&lt;T&gt; items,\n    required int total,\n    required int page,\n    required int pageSize,\n    @JsonKey(name: 'has_more') required bool hasMore,\n  }) = _PagedResponse&lt;T&gt;;\n\n  factory PagedResponse.fromJson(\n    Map&lt;String, dynamic&gt; json,\n    T Function(Object?) fromJsonT,\n  ) =&gt; _$PagedResponseFromJson(json, fromJsonT);\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#_10","title":"\u8bf7\u6c42\u53c2\u6570\u6a21\u578b","text":"<pre><code>// \u5206\u9875\u8bf7\u6c42\u53c2\u6570\n@freezed\nclass PageRequest with _$PageRequest {\n  const factory PageRequest({\n    @Default(1) int page,\n    @Default(20) int pageSize,\n    String? sortBy,\n    @Default('desc') String sortOrder,\n  }) = _PageRequest;\n\n  factory PageRequest.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$PageRequestFromJson(json);\n}\n\n// \u641c\u7d22\u8bf7\u6c42\u53c2\u6570\n@freezed\nclass SearchRequest with _$SearchRequest {\n  const factory SearchRequest({\n    required String keyword,\n    List&lt;String&gt;? filters,\n    @Default(1) int page,\n    @Default(20) int pageSize,\n  }) = _SearchRequest;\n\n  factory SearchRequest.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$SearchRequestFromJson(json);\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#4","title":"4. \u9519\u8bef\u5904\u7406\u7cfb\u7edf","text":""},{"location":"basic_utils/basic_network.html#_11","title":"\u7f51\u7edc\u5f02\u5e38\u5b9a\u4e49","text":"<pre><code>// \u7f51\u7edc\u5f02\u5e38\u57fa\u7c7b\n@freezed\nclass NetworkFailure with _$NetworkFailure {\n  const factory NetworkFailure.connectionError(String message) = ConnectionError;\n  const factory NetworkFailure.timeoutError(String message) = TimeoutError;\n  const factory NetworkFailure.httpError(int statusCode, String message) = HttpError;\n  const factory NetworkFailure.parseError(String message) = ParseError;\n  const factory NetworkFailure.businessError(int code, String message) = BusinessError;\n  const factory NetworkFailure.unknownError(String message) = UnknownError;\n}\n\n// \u4e1a\u52a1\u5f02\u5e38\nclass BusinessException implements Exception {\n  final int code;\n  final String message;\n  final dynamic data;\n\n  const BusinessException(this.code, this.message, [this.data]);\n\n  @override\n  String toString() =&gt; 'BusinessException($code, $message)';\n}\n\n// \u7f51\u7edc\u5f02\u5e38\u5904\u7406\u5668\nclass NetworkErrorHandler {\n  static NetworkFailure handleError(dynamic error) {\n    if (error is DioException) {\n      return _handleDioError(error);\n    } else if (error is BusinessException) {\n      return NetworkFailure.businessError(error.code, error.message);\n    } else if (error is FormatException) {\n      return NetworkFailure.parseError('\u6570\u636e\u89e3\u6790\u5931\u8d25: ${error.message}');\n    } else {\n      return NetworkFailure.unknownError(error.toString());\n    }\n  }\n\n  static NetworkFailure _handleDioError(DioException error) {\n    switch (error.type) {\n      case DioExceptionType.connectionTimeout:\n      case DioExceptionType.sendTimeout:\n      case DioExceptionType.receiveTimeout:\n        return NetworkFailure.timeoutError('\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5');\n\n      case DioExceptionType.connectionError:\n        return NetworkFailure.connectionError('\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e');\n\n      case DioExceptionType.badResponse:\n        final statusCode = error.response?.statusCode ?? 0;\n        final message = _getHttpErrorMessage(statusCode);\n        return NetworkFailure.httpError(statusCode, message);\n\n      case DioExceptionType.cancel:\n        return NetworkFailure.unknownError('\u8bf7\u6c42\u5df2\u53d6\u6d88');\n\n      default:\n        return NetworkFailure.unknownError('\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25: ${error.message}');\n    }\n  }\n\n  static String _getHttpErrorMessage(int statusCode) {\n    switch (statusCode) {\n      case 400:\n        return '\u8bf7\u6c42\u53c2\u6570\u9519\u8bef';\n      case 401:\n        return '\u672a\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55';\n      case 403:\n        return '\u7981\u6b62\u8bbf\u95ee';\n      case 404:\n        return '\u8bf7\u6c42\u7684\u8d44\u6e90\u4e0d\u5b58\u5728';\n      case 500:\n        return '\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef';\n      case 502:\n        return '\u7f51\u5173\u9519\u8bef';\n      case 503:\n        return '\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528';\n      default:\n        return 'HTTP\u9519\u8bef: $statusCode';\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#5","title":"5. \u7f13\u5b58\u673a\u5236","text":""},{"location":"basic_utils/basic_network.html#_12","title":"\u8bf7\u6c42\u7f13\u5b58\u7ba1\u7406","text":"<pre><code>// \u7f51\u7edc\u7f13\u5b58\u7ba1\u7406\u5668\nclass NetworkCacheManager {\n  static final Map&lt;String, CacheItem&gt; _cache = {};\n  static const Duration defaultCacheDuration = Duration(minutes: 5);\n\n  // \u8bbe\u7f6e\u7f13\u5b58\n  static void setCache(\n    String key,\n    dynamic data, {\n    Duration? duration,\n  }) {\n    _cache[key] = CacheItem(\n      data: data,\n      timestamp: DateTime.now(),\n      duration: duration ?? defaultCacheDuration,\n    );\n  }\n\n  // \u83b7\u53d6\u7f13\u5b58\n  static T? getCache&lt;T&gt;(String key) {\n    final item = _cache[key];\n    if (item == null) return null;\n\n    if (item.isExpired) {\n      _cache.remove(key);\n      return null;\n    }\n\n    return item.data as T?;\n  }\n\n  // \u6e05\u9664\u7f13\u5b58\n  static void clearCache([String? key]) {\n    if (key != null) {\n      _cache.remove(key);\n    } else {\n      _cache.clear();\n    }\n  }\n\n  // \u751f\u6210\u7f13\u5b58\u952e\n  static String generateCacheKey(\n    String path,\n    Map&lt;String, dynamic&gt;? queryParameters,\n  ) {\n    final uri = Uri(path: path, queryParameters: queryParameters);\n    return uri.toString();\n  }\n}\n\n// \u7f13\u5b58\u9879\nclass CacheItem {\n  final dynamic data;\n  final DateTime timestamp;\n  final Duration duration;\n\n  CacheItem({\n    required this.data,\n    required this.timestamp,\n    required this.duration,\n  });\n\n  bool get isExpired =&gt; DateTime.now().difference(timestamp) &gt; duration;\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#6","title":"6. \u8bf7\u6c42\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"basic_utils/basic_network.html#_13","title":"\u73af\u5883\u914d\u7f6e","text":"<pre><code>// \u7f51\u7edc\u73af\u5883\u914d\u7f6e\nenum NetworkEnvironment {\n  development,\n  testing,\n  staging,\n  production,\n}\n\nclass NetworkConfig {\n  final String baseUrl;\n  final Duration connectTimeout;\n  final Duration receiveTimeout;\n  final Duration sendTimeout;\n  final bool enableLogging;\n  final bool enableCache;\n  final int maxRetries;\n\n  const NetworkConfig({\n    required this.baseUrl,\n    this.connectTimeout = const Duration(seconds: 30),\n    this.receiveTimeout = const Duration(seconds: 30),\n    this.sendTimeout = const Duration(seconds: 30),\n    this.enableLogging = false,\n    this.enableCache = true,\n    this.maxRetries = 3,\n  });\n\n  // \u5f00\u53d1\u73af\u5883\u914d\u7f6e\n  static const NetworkConfig development = NetworkConfig(\n    baseUrl: 'https://dev-api.oneapp.com',\n    enableLogging: true,\n    enableCache: false,\n  );\n\n  // \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e\n  static const NetworkConfig testing = NetworkConfig(\n    baseUrl: 'https://test-api.oneapp.com',\n    enableLogging: true,\n  );\n\n  // \u751f\u4ea7\u73af\u5883\u914d\u7f6e\n  static const NetworkConfig production = NetworkConfig(\n    baseUrl: 'https://api.oneapp.com',\n    enableLogging: false,\n  );\n\n  static NetworkConfig forEnvironment(NetworkEnvironment env) {\n    switch (env) {\n      case NetworkEnvironment.development:\n        return development;\n      case NetworkEnvironment.testing:\n        return testing;\n      case NetworkEnvironment.staging:\n        return testing; // \u4f7f\u7528\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e\n      case NetworkEnvironment.production:\n        return production;\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_network.html#_14","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/basic_network.html#_15","title":"\u57fa\u672c\u7528\u6cd5","text":"<pre><code>// \u521d\u59cb\u5316\u7f51\u7edc\u670d\u52a1\nfinal config = NetworkConfig.forEnvironment(NetworkEnvironment.production);\nfinal client = NetworkClient(\n  baseUrl: config.baseUrl,\n  connectTimeout: config.connectTimeout,\n  receiveTimeout: config.receiveTimeout,\n);\nfinal networkService = NetworkService(client);\n\n// GET \u8bf7\u6c42\nfinal result = await networkService.get&lt;List&lt;User&gt;&gt;(\n  path: '/users',\n  queryParameters: {'page': 1, 'limit': 20},\n  fromJson: (data) =&gt; (data as List)\n      .map((item) =&gt; User.fromJson(item))\n      .toList(),\n);\n\nresult.fold(\n  (failure) =&gt; print('\u8bf7\u6c42\u5931\u8d25: ${failure.toString()}'),\n  (users) =&gt; print('\u83b7\u53d6\u5230 ${users.length} \u4e2a\u7528\u6237'),\n);\n\n// POST \u8bf7\u6c42\nfinal createResult = await networkService.post&lt;User&gt;(\n  path: '/users',\n  data: {\n    'name': 'John Doe',\n    'email': 'john@example.com',\n  },\n  fromJson: (data) =&gt; User.fromJson(data),\n);\n</code></pre>"},{"location":"basic_utils/basic_network.html#_16","title":"\u9ad8\u7ea7\u7528\u6cd5","text":"<pre><code>// \u5e26\u7f13\u5b58\u7684\u8bf7\u6c42\nfinal cachedResult = await networkService.getWithCache&lt;List&lt;Article&gt;&gt;(\n  path: '/articles',\n  cacheKey: 'articles_list',\n  cacheDuration: Duration(minutes: 10),\n  fromJson: (data) =&gt; (data as List)\n      .map((item) =&gt; Article.fromJson(item))\n      .toList(),\n);\n\n// \u6587\u4ef6\u4e0a\u4f20\nfinal uploadResult = await networkService.upload&lt;UploadResponse&gt;(\n  path: '/upload',\n  file: File('path/to/file.jpg'),\n  fileName: 'avatar.jpg',\n  fromJson: (data) =&gt; UploadResponse.fromJson(data),\n);\n\n// \u6279\u91cf\u8bf7\u6c42\nfinal batchResults = await Future.wait([\n  networkService.get&lt;UserProfile&gt;(path: '/profile'),\n  networkService.get&lt;List&lt;Notification&gt;&gt;(path: '/notifications'),\n  networkService.get&lt;AppConfig&gt;(path: '/config'),\n]);\n</code></pre>"},{"location":"basic_utils/basic_network.html#_17","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"basic_utils/basic_network.html#_18","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>dio: HTTP \u5ba2\u6237\u7aef\u5e93</li> <li>http_parser: HTTP \u89e3\u6790\u5de5\u5177</li> <li>pretty_dio_logger: \u7f8e\u5316\u7684\u8bf7\u6c42\u65e5\u5fd7</li> </ul>"},{"location":"basic_utils/basic_network.html#_19","title":"\u4ee3\u7801\u751f\u6210\u4f9d\u8d56","text":"<ul> <li>freezed: \u4e0d\u53ef\u53d8\u7c7b\u751f\u6210</li> <li>json_annotation: JSON \u5e8f\u5217\u5316\u6ce8\u89e3</li> <li>json_serializable: JSON \u5e8f\u5217\u5316\u751f\u6210\u5668</li> </ul>"},{"location":"basic_utils/basic_network.html#_20","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li>build_runner: \u4ee3\u7801\u751f\u6210\u5f15\u64ce</li> <li>test: \u5355\u5143\u6d4b\u8bd5\u6846\u67b6</li> <li>coverage: \u6d4b\u8bd5\u8986\u76d6\u7387\u5de5\u5177</li> </ul>"},{"location":"basic_utils/basic_network.html#_21","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/basic_network.html#_22","title":"\u7f51\u7edc\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u8fde\u63a5\u6c60\u590d\u7528</li> <li>HTTP/2 \u652f\u6301</li> <li>\u8bf7\u6c42\u5408\u5e76\u548c\u6279\u5904\u7406</li> <li>\u667a\u80fd\u91cd\u8bd5\u673a\u5236</li> </ul>"},{"location":"basic_utils/basic_network.html#_23","title":"\u7f13\u5b58\u4f18\u5316","text":"<ul> <li>\u591a\u7ea7\u7f13\u5b58\u7b56\u7565</li> <li>\u7f13\u5b58\u8fc7\u671f\u7ba1\u7406</li> <li>\u6761\u4ef6\u8bf7\u6c42\u652f\u6301</li> <li>\u79bb\u7ebf\u7f13\u5b58\u673a\u5236</li> </ul>"},{"location":"basic_utils/basic_network.html#_24","title":"\u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u6d41\u5f0f\u6570\u636e\u5904\u7406</li> <li>\u5927\u6587\u4ef6\u5206\u5757\u4f20\u8f93</li> <li>\u53ca\u65f6\u91ca\u653e\u54cd\u5e94\u6570\u636e</li> <li>\u5185\u5b58\u6cc4\u6f0f\u68c0\u6d4b</li> </ul>"},{"location":"basic_utils/basic_network.html#_25","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/basic_network.html#_26","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u7f51\u7edc\u670d\u52a1\u63a5\u53e3\u6d4b\u8bd5</li> <li>\u62e6\u622a\u5668\u529f\u80fd\u6d4b\u8bd5</li> <li>\u9519\u8bef\u5904\u7406\u6d4b\u8bd5</li> <li>\u7f13\u5b58\u673a\u5236\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/basic_network.html#_27","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u7aef\u5230\u7aef\u8bf7\u6c42\u6d4b\u8bd5</li> <li>\u7f51\u7edc\u73af\u5883\u5207\u6362\u6d4b\u8bd5</li> <li>\u9519\u8bef\u6062\u590d\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/basic_network.html#mock","title":"Mock \u6d4b\u8bd5","text":"<ul> <li>\u7f51\u7edc\u8bf7\u6c42 Mock</li> <li>\u9519\u8bef\u573a\u666f\u6a21\u62df</li> <li>\u6027\u80fd\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/basic_network.html#_28","title":"\u603b\u7ed3","text":"<p><code>basic_network</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5f3a\u5927\u800c\u7075\u6d3b\u7684\u7f51\u7edc\u901a\u4fe1\u80fd\u529b\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u63a5\u53e3\u62bd\u8c61\u3001\u5b8c\u5584\u7684\u9519\u8bef\u5904\u7406\u3001\u667a\u80fd\u7684\u7f13\u5b58\u673a\u5236\u548c\u4e30\u5bcc\u7684\u62e6\u622a\u5668\u529f\u80fd\uff0c\u5927\u5927\u7b80\u5316\u4e86\u7f51\u7edc\u8bf7\u6c42\u7684\u5f00\u53d1\u5de5\u4f5c\uff0c\u63d0\u9ad8\u4e86\u5e94\u7528\u7684\u7a33\u5b9a\u6027\u548c\u7528\u6237\u4f53\u9a8c\u3002\u6a21\u5757\u7684\u8bbe\u8ba1\u5145\u5206\u8003\u8651\u4e86\u53ef\u6269\u5c55\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u4e3a\u5927\u578b\u5e94\u7528\u7684\u7f51\u7edc\u901a\u4fe1\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u57fa\u7840\u3002</p>"},{"location":"basic_utils/basic_platform.html","title":"Basic Platform \u5e73\u53f0\u9002\u914d\u6a21\u5757","text":""},{"location":"basic_utils/basic_platform.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_platform</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u5e73\u53f0\u9002\u914d\u6a21\u5757\uff0c\u8d1f\u8d23\u7edf\u4e00\u5904\u7406 Android \u548c iOS \u5e73\u53f0\u7684\u5dee\u5f02\u6027\uff0c\u63d0\u4f9b\u8de8\u5e73\u53f0\u7684\u7edf\u4e00\u63a5\u53e3\u3002\u8be5\u6a21\u5757\u5c01\u88c5\u4e86\u8bbe\u5907\u4fe1\u606f\u83b7\u53d6\u3001\u6743\u9650\u7ba1\u7406\u3001\u5e73\u53f0\u7279\u6027\u68c0\u6d4b\u7b49\u529f\u80fd\u3002</p>"},{"location":"basic_utils/basic_platform.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_platform</li> <li>\u7248\u672c: 0.2.14+1</li> <li>\u63cf\u8ff0: \u8de8\u5e73\u53f0\u9002\u914d\u57fa\u7840\u6a21\u5757</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/basic_platform.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/basic_platform.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u5e73\u53f0\u4fe1\u606f\u68c0\u6d4b    - \u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u548c\u7248\u672c    - \u8bbe\u5907\u578b\u53f7\u548c\u786c\u4ef6\u4fe1\u606f    - \u5e94\u7528\u7248\u672c\u548c\u6784\u5efa\u4fe1\u606f    - \u7f51\u7edc\u73af\u5883\u68c0\u6d4b</p> </li> <li> <p>\u6743\u9650\u7ba1\u7406\u7edf\u4e00    - \u8de8\u5e73\u53f0\u6743\u9650\u7533\u8bf7    - \u6743\u9650\u72b6\u6001\u68c0\u67e5    - \u6743\u9650\u7ed3\u679c\u5904\u7406    - \u6743\u9650\u8bbe\u7f6e\u5f15\u5bfc</p> </li> <li> <p>\u8bbe\u5907\u7279\u6027\u9002\u914d    - \u5c4f\u5e55\u65b9\u5411\u63a7\u5236    - \u8bbe\u5907\u5524\u9192\u7ba1\u7406    - \u5e73\u53f0\u7279\u5b9a\u529f\u80fd\u68c0\u6d4b    - \u786c\u4ef6\u80fd\u529b\u67e5\u8be2</p> </li> <li> <p>\u5b58\u50a8\u8def\u5f84\u7ba1\u7406    - \u5e94\u7528\u76ee\u5f55\u83b7\u53d6    - \u7f13\u5b58\u76ee\u5f55\u7ba1\u7406    - \u5916\u90e8\u5b58\u50a8\u8bbf\u95ee    - \u4e34\u65f6\u6587\u4ef6\u5904\u7406</p> </li> </ol>"},{"location":"basic_utils/basic_platform.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/basic_platform.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 basic_platform.dart         # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 platform_info/          # \u5e73\u53f0\u4fe1\u606f\n\u2502   \u251c\u2500\u2500 permissions/             # \u6743\u9650\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 device/                  # \u8bbe\u5907\u529f\u80fd\n\u2502   \u251c\u2500\u2500 storage/                 # \u5b58\u50a8\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 models/                  # \u6570\u636e\u6a21\u578b\n\u2502   \u2514\u2500\u2500 utils/                   # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 android/                     # Android\u7279\u5b9a\u4ee3\u7801\n\u251c\u2500\u2500 ios/                         # iOS\u7279\u5b9a\u4ee3\u7801\n\u2514\u2500\u2500 test/                        # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/basic_platform.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>basic_storage: ^0.2.2</code> - \u57fa\u7840\u5b58\u50a8\u6846\u67b6</li> <li><code>permission_handler: ^10.4.5</code> - \u6743\u9650\u5904\u7406\u63d2\u4ef6</li> <li><code>native_device_orientation: ^1.2.1</code> - \u8bbe\u5907\u65b9\u5411\u63a7\u5236</li> </ul>"},{"location":"basic_utils/basic_platform.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/basic_platform.html#1_basic_platformdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>basic_platform.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5e73\u53f0\u9002\u914d\u670d\u52a1\u7edf\u4e00\u5bfc\u51fa - \u521d\u59cb\u5316\u914d\u7f6e\u7ba1\u7406 - \u5355\u4f8b\u6a21\u5f0f\u5b9e\u73b0</p>"},{"location":"basic_utils/basic_platform.html#2_srcplatform_info","title":"2. \u5e73\u53f0\u4fe1\u606f (<code>src/platform_info/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u83b7\u53d6 - \u8bbe\u5907\u786c\u4ef6\u4fe1\u606f\u67e5\u8be2 - \u5e94\u7528\u7a0b\u5e8f\u4fe1\u606f\u83b7\u53d6 - \u73af\u5883\u914d\u7f6e\u68c0\u6d4b</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>PlatformInfo</code> - \u5e73\u53f0\u4fe1\u606f\u7ba1\u7406\u5668 - <code>DeviceInfo</code> - \u8bbe\u5907\u4fe1\u606f\u83b7\u53d6\u5668 - <code>AppInfo</code> - \u5e94\u7528\u4fe1\u606f\u7ba1\u7406\u5668 - <code>SystemInfo</code> - \u7cfb\u7edf\u4fe1\u606f\u6536\u96c6\u5668</p>"},{"location":"basic_utils/basic_platform.html#3_srcpermissions","title":"3. \u6743\u9650\u7ba1\u7406 (<code>src/permissions/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7edf\u4e00\u6743\u9650\u7533\u8bf7\u63a5\u53e3 - \u6743\u9650\u72b6\u6001\u67e5\u8be2 - \u6743\u9650\u7ed3\u679c\u56de\u8c03\u5904\u7406 - \u6743\u9650\u8bbe\u7f6e\u9875\u9762\u8df3\u8f6c</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>PermissionManager</code> - \u6743\u9650\u7ba1\u7406\u5668 - <code>PermissionChecker</code> - \u6743\u9650\u68c0\u67e5\u5668 - <code>PermissionRequestor</code> - \u6743\u9650\u7533\u8bf7\u5668 - <code>PermissionGuide</code> - \u6743\u9650\u5f15\u5bfc\u5668</p>"},{"location":"basic_utils/basic_platform.html#4_srcdevice","title":"4. \u8bbe\u5907\u529f\u80fd (<code>src/device/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u8bbe\u5907\u65b9\u5411\u63a7\u5236 - \u5c4f\u5e55\u4eae\u5ea6\u7ba1\u7406 - \u9707\u52a8\u53cd\u9988\u63a7\u5236 - \u8bbe\u5907\u5524\u9192\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>OrientationController</code> - \u65b9\u5411\u63a7\u5236\u5668 - <code>BrightnessController</code> - \u4eae\u5ea6\u63a7\u5236\u5668 - <code>HapticController</code> - \u9707\u52a8\u63a7\u5236\u5668 - <code>WakeController</code> - \u5524\u9192\u63a7\u5236\u5668</p>"},{"location":"basic_utils/basic_platform.html#5_srcstorage","title":"5. \u5b58\u50a8\u7ba1\u7406 (<code>src/storage/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5e94\u7528\u76ee\u5f55\u8def\u5f84\u83b7\u53d6 - \u5916\u90e8\u5b58\u50a8\u8bbf\u95ee - \u4e34\u65f6\u6587\u4ef6\u7ba1\u7406 - \u7f13\u5b58\u76ee\u5f55\u5904\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>StorageManager</code> - \u5b58\u50a8\u7ba1\u7406\u5668 - <code>PathProvider</code> - \u8def\u5f84\u63d0\u4f9b\u5668 - <code>DirectoryManager</code> - \u76ee\u5f55\u7ba1\u7406\u5668 - <code>TempFileManager</code> - \u4e34\u65f6\u6587\u4ef6\u7ba1\u7406\u5668</p>"},{"location":"basic_utils/basic_platform.html#6_srcmodels","title":"6. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5e73\u53f0\u4fe1\u606f\u6570\u636e\u6a21\u578b - \u6743\u9650\u72b6\u6001\u6a21\u578b - \u8bbe\u5907\u7279\u6027\u6a21\u578b - \u914d\u7f6e\u53c2\u6570\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>PlatformData</code> - \u5e73\u53f0\u6570\u636e\u6a21\u578b - <code>PermissionStatus</code> - \u6743\u9650\u72b6\u6001\u6a21\u578b - <code>DeviceCapability</code> - \u8bbe\u5907\u80fd\u529b\u6a21\u578b - <code>PlatformConfig</code> - \u5e73\u53f0\u914d\u7f6e\u6a21\u578b</p>"},{"location":"basic_utils/basic_platform.html#7_srcutils","title":"7. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5e73\u53f0\u5224\u65ad\u5de5\u5177 - \u7248\u672c\u6bd4\u8f83\u5de5\u5177 - \u8def\u5f84\u5904\u7406\u5de5\u5177 - \u5f02\u5e38\u5904\u7406\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>PlatformUtils</code> - \u5e73\u53f0\u5de5\u5177\u7c7b - <code>VersionUtils</code> - \u7248\u672c\u5de5\u5177\u7c7b - <code>PathUtils</code> - \u8def\u5f84\u5de5\u5177\u7c7b - <code>ExceptionUtils</code> - \u5f02\u5e38\u5de5\u5177\u7c7b</p>"},{"location":"basic_utils/basic_platform.html#_10","title":"\u5e73\u53f0\u9002\u914d\u5b9e\u73b0","text":""},{"location":"basic_utils/basic_platform.html#android","title":"Android \u5e73\u53f0\u9002\u914d","text":""},{"location":"basic_utils/basic_platform.html#_11","title":"\u6743\u9650\u5904\u7406","text":"<pre><code>class AndroidPermissionHandler {\n  static Future&lt;bool&gt; requestPermission(Permission permission) async {\n    final status = await permission.request();\n\n    switch (status) {\n      case PermissionStatus.granted:\n        return true;\n      case PermissionStatus.denied:\n        return false;\n      case PermissionStatus.permanentlyDenied:\n        await openAppSettings();\n        return false;\n      default:\n        return false;\n    }\n  }\n\n  static Future&lt;Map&lt;Permission, PermissionStatus&gt;&gt; requestMultiple(\n    List&lt;Permission&gt; permissions,\n  ) async {\n    return await permissions.request();\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_12","title":"\u8bbe\u5907\u4fe1\u606f\u83b7\u53d6","text":"<pre><code>class AndroidDeviceInfo {\n  static Future&lt;AndroidDeviceData&gt; getDeviceInfo() async {\n    final deviceInfo = DeviceInfoPlugin();\n    final androidInfo = await deviceInfo.androidInfo;\n\n    return AndroidDeviceData(\n      manufacturer: androidInfo.manufacturer,\n      model: androidInfo.model,\n      version: androidInfo.version.release,\n      sdkInt: androidInfo.version.sdkInt,\n      brand: androidInfo.brand,\n      product: androidInfo.product,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#ios","title":"iOS \u5e73\u53f0\u9002\u914d","text":""},{"location":"basic_utils/basic_platform.html#_13","title":"\u6743\u9650\u5904\u7406","text":"<pre><code>class IOSPermissionHandler {\n  static Future&lt;bool&gt; requestPermission(Permission permission) async {\n    final status = await permission.request();\n\n    if (status == PermissionStatus.denied || \n        status == PermissionStatus.permanentlyDenied) {\n      return await _showPermissionDialog(permission);\n    }\n\n    return status == PermissionStatus.granted;\n  }\n\n  static Future&lt;bool&gt; _showPermissionDialog(Permission permission) async {\n    // \u663e\u793a\u6743\u9650\u8bf4\u660e\u5bf9\u8bdd\u6846\n    // \u5f15\u5bfc\u7528\u6237\u5230\u8bbe\u7f6e\u9875\u9762\n    return false;\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_14","title":"\u8bbe\u5907\u4fe1\u606f\u83b7\u53d6","text":"<pre><code>class IOSDeviceInfo {\n  static Future&lt;IOSDeviceData&gt; getDeviceInfo() async {\n    final deviceInfo = DeviceInfoPlugin();\n    final iosInfo = await deviceInfo.iosInfo;\n\n    return IOSDeviceData(\n      name: iosInfo.name,\n      model: iosInfo.model,\n      systemName: iosInfo.systemName,\n      systemVersion: iosInfo.systemVersion,\n      identifierForVendor: iosInfo.identifierForVendor,\n      isPhysicalDevice: iosInfo.isPhysicalDevice,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_15","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"basic_utils/basic_platform.html#_16","title":"\u6743\u9650\u7533\u8bf7\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u5e94\u7528\u8bf7\u6c42\u6743\u9650] --&gt; B[\u68c0\u67e5\u6743\u9650\u72b6\u6001]\n    B --&gt; C{\u6743\u9650\u662f\u5426\u5df2\u6388\u4e88}\n    C --&gt;|\u662f| D[\u76f4\u63a5\u4f7f\u7528\u529f\u80fd]\n    C --&gt;|\u5426| E[\u663e\u793a\u6743\u9650\u8bf4\u660e]\n    E --&gt; F[\u8bf7\u6c42\u7cfb\u7edf\u6743\u9650]\n    F --&gt; G{\u7528\u6237\u662f\u5426\u540c\u610f}\n    G --&gt;|\u662f| H[\u6743\u9650\u6388\u4e88\u6210\u529f]\n    G --&gt;|\u5426| I{\u662f\u5426\u6c38\u4e45\u62d2\u7edd}\n    I --&gt;|\u662f| J[\u5f15\u5bfc\u7528\u6237\u5230\u8bbe\u7f6e]\n    I --&gt;|\u5426| K[\u8bb0\u5f55\u62d2\u7edd\u72b6\u6001]\n    H --&gt; D\n    J --&gt; L[\u7528\u6237\u624b\u52a8\u8bbe\u7f6e]\n    K --&gt; M[\u529f\u80fd\u964d\u7ea7\u5904\u7406]\n    L --&gt; N[\u91cd\u65b0\u68c0\u67e5\u6743\u9650]\n    N --&gt; C</code></pre>"},{"location":"basic_utils/basic_platform.html#_17","title":"\u5e73\u53f0\u521d\u59cb\u5316\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u5e94\u7528\u542f\u52a8] --&gt; B[\u521d\u59cb\u5316\u5e73\u53f0\u6a21\u5757]\n    B --&gt; C[\u68c0\u6d4b\u5e73\u53f0\u7c7b\u578b]\n    C --&gt; D[\u52a0\u8f7d\u5e73\u53f0\u914d\u7f6e]\n    D --&gt; E[\u521d\u59cb\u5316\u5e73\u53f0\u670d\u52a1]\n    E --&gt; F[\u6ce8\u518c\u6743\u9650\u76d1\u542c\u5668]\n    F --&gt; G[\u8bbe\u7f6e\u9ed8\u8ba4\u914d\u7f6e]\n    G --&gt; H[\u5e73\u53f0\u521d\u59cb\u5316\u5b8c\u6210]\n    H --&gt; I[\u901a\u77e5\u4e0a\u5c42\u5e94\u7528]</code></pre>"},{"location":"basic_utils/basic_platform.html#_18","title":"\u6743\u9650\u7ba1\u7406\u7cfb\u7edf","text":""},{"location":"basic_utils/basic_platform.html#_19","title":"\u652f\u6301\u7684\u6743\u9650\u7c7b\u578b","text":"<ol> <li> <p>\u57fa\u7840\u6743\u9650    - \u7f51\u7edc\u8bbf\u95ee\u6743\u9650    - \u5b58\u50a8\u8bfb\u5199\u6743\u9650    - \u8bbe\u5907\u4fe1\u606f\u8bbf\u95ee    - \u5e94\u7528\u5b89\u88c5\u6743\u9650</p> </li> <li> <p>\u9690\u79c1\u6743\u9650    - \u4f4d\u7f6e\u4fe1\u606f\u6743\u9650    - \u76f8\u673a\u8bbf\u95ee\u6743\u9650    - \u9ea6\u514b\u98ce\u6743\u9650    - \u901a\u8baf\u5f55\u6743\u9650</p> </li> <li> <p>\u7cfb\u7edf\u6743\u9650    - \u7535\u8bdd\u72b6\u6001\u6743\u9650    - \u77ed\u4fe1\u53d1\u9001\u6743\u9650    - \u7cfb\u7edf\u8bbe\u7f6e\u4fee\u6539    - \u8bbe\u5907\u7ba1\u7406\u6743\u9650</p> </li> </ol>"},{"location":"basic_utils/basic_platform.html#_20","title":"\u6743\u9650\u7ba1\u7406\u7b56\u7565","text":"<ul> <li>\u6700\u5c0f\u6743\u9650\u539f\u5219: \u4ec5\u7533\u8bf7\u5fc5\u8981\u6743\u9650</li> <li>\u5ef6\u8fdf\u7533\u8bf7: \u5728\u9700\u8981\u65f6\u624d\u7533\u8bf7\u6743\u9650</li> <li>\u7528\u6237\u53cb\u597d: \u63d0\u4f9b\u6e05\u6670\u7684\u6743\u9650\u8bf4\u660e</li> <li>\u4f18\u96c5\u964d\u7ea7: \u6743\u9650\u62d2\u7edd\u65f6\u7684\u66ff\u4ee3\u65b9\u6848</li> </ul>"},{"location":"basic_utils/basic_platform.html#_21","title":"\u8bbe\u5907\u9002\u914d\u7b56\u7565","text":""},{"location":"basic_utils/basic_platform.html#_22","title":"\u5c4f\u5e55\u9002\u914d","text":"<pre><code>class ScreenAdapter {\n  static double getScaleFactor() {\n    final window = WidgetsBinding.instance.window;\n    return window.devicePixelRatio;\n  }\n\n  static Size getScreenSize() {\n    final window = WidgetsBinding.instance.window;\n    return window.physicalSize / window.devicePixelRatio;\n  }\n\n  static bool isTablet() {\n    final size = getScreenSize();\n    final diagonal = sqrt(pow(size.width, 2) + pow(size.height, 2));\n    return diagonal &gt; 1100; // 7 inch threshold\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_23","title":"\u6027\u80fd\u4f18\u5316","text":"<pre><code>class PerformanceOptimizer {\n  static bool isLowEndDevice() {\n    if (Platform.isAndroid) {\n      return _checkAndroidPerformance();\n    } else if (Platform.isIOS) {\n      return _checkIOSPerformance();\n    }\n    return false;\n  }\n\n  static bool _checkAndroidPerformance() {\n    // \u57fa\u4e8e Android \u8bbe\u5907\u6027\u80fd\u6307\u6807\u5224\u65ad\n    // RAM\u3001CPU\u3001GPU \u7b49\u53c2\u6570\n    return false;\n  }\n\n  static bool _checkIOSPerformance() {\n    // \u57fa\u4e8e iOS \u8bbe\u5907\u578b\u53f7\u5224\u65ad\n    // \u8bbe\u5907\u4ee3\u6570\u3001\u5904\u7406\u5668\u7c7b\u578b\u7b49\n    return false;\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_24","title":"\u5b58\u50a8\u8def\u5f84\u7ba1\u7406","text":""},{"location":"basic_utils/basic_platform.html#_25","title":"\u8def\u5f84\u7c7b\u578b","text":"<ol> <li> <p>\u5e94\u7528\u76ee\u5f55    - \u5e94\u7528\u79c1\u6709\u76ee\u5f55    - \u6587\u6863\u76ee\u5f55    - \u5e93\u76ee\u5f55    - \u652f\u6301\u6587\u4ef6\u76ee\u5f55</p> </li> <li> <p>\u7f13\u5b58\u76ee\u5f55    - \u4e34\u65f6\u7f13\u5b58    - \u56fe\u7247\u7f13\u5b58    - \u6570\u636e\u7f13\u5b58    - \u7f51\u7edc\u7f13\u5b58</p> </li> <li> <p>\u5916\u90e8\u5b58\u50a8    - \u516c\u5171\u6587\u6863\u76ee\u5f55    - \u4e0b\u8f7d\u76ee\u5f55    - \u56fe\u7247\u76ee\u5f55    - \u5a92\u4f53\u76ee\u5f55</p> </li> </ol>"},{"location":"basic_utils/basic_platform.html#_26","title":"\u8def\u5f84\u83b7\u53d6\u63a5\u53e3","text":"<pre><code>class PlatformPaths {\n  static Future&lt;String&gt; getApplicationDocumentsDirectory() async {\n    final directory = await getApplicationDocumentsDirectory();\n    return directory.path;\n  }\n\n  static Future&lt;String&gt; getTemporaryDirectory() async {\n    final directory = await getTemporaryDirectory();\n    return directory.path;\n  }\n\n  static Future&lt;String?&gt; getExternalStorageDirectory() async {\n    if (Platform.isAndroid) {\n      final directory = await getExternalStorageDirectory();\n      return directory?.path;\n    }\n    return null;\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_27","title":"\u5f02\u5e38\u5904\u7406\u673a\u5236","text":""},{"location":"basic_utils/basic_platform.html#_28","title":"\u5f02\u5e38\u7c7b\u578b","text":"<ol> <li> <p>\u6743\u9650\u5f02\u5e38    - \u6743\u9650\u62d2\u7edd\u5f02\u5e38    - \u6743\u9650\u914d\u7f6e\u9519\u8bef    - \u7cfb\u7edf\u6743\u9650\u9650\u5236</p> </li> <li> <p>\u5e73\u53f0\u5f02\u5e38    - \u4e0d\u652f\u6301\u7684\u5e73\u53f0\u529f\u80fd    - API\u7248\u672c\u4e0d\u517c\u5bb9    - \u786c\u4ef6\u529f\u80fd\u7f3a\u5931</p> </li> <li> <p>\u7cfb\u7edf\u5f02\u5e38    - \u6587\u4ef6\u7cfb\u7edf\u9519\u8bef    - \u7f51\u7edc\u8fde\u63a5\u5f02\u5e38    - \u5185\u5b58\u4e0d\u8db3\u5f02\u5e38</p> </li> </ol>"},{"location":"basic_utils/basic_platform.html#_29","title":"\u5f02\u5e38\u5904\u7406\u7b56\u7565","text":"<ul> <li>\u5f02\u5e38\u6355\u83b7: \u5168\u9762\u7684\u5f02\u5e38\u6355\u83b7\u673a\u5236</li> <li>\u9519\u8bef\u6062\u590d: \u81ea\u52a8\u9519\u8bef\u6062\u590d\u7b56\u7565</li> <li>\u7528\u6237\u63d0\u793a: \u53cb\u597d\u7684\u9519\u8bef\u63d0\u793a\u4fe1\u606f</li> <li>\u65e5\u5fd7\u8bb0\u5f55: \u8be6\u7ec6\u7684\u9519\u8bef\u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"basic_utils/basic_platform.html#_30","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/basic_platform.html#_31","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u5e73\u53f0\u68c0\u6d4b\u6d4b\u8bd5: \u5e73\u53f0\u7c7b\u578b\u8bc6\u522b</li> <li>\u6743\u9650\u7ba1\u7406\u6d4b\u8bd5: \u6743\u9650\u7533\u8bf7\u548c\u72b6\u6001</li> <li>\u8def\u5f84\u83b7\u53d6\u6d4b\u8bd5: \u5404\u79cd\u8def\u5f84\u83b7\u53d6</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u5de5\u5177\u65b9\u6cd5\u529f\u80fd</li> </ul>"},{"location":"basic_utils/basic_platform.html#_32","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u8de8\u5e73\u53f0\u517c\u5bb9\u6d4b\u8bd5: \u4e0d\u540c\u5e73\u53f0\u529f\u80fd</li> <li>\u6743\u9650\u6d41\u7a0b\u6d4b\u8bd5: \u5b8c\u6574\u6743\u9650\u6d41\u7a0b</li> <li>\u8bbe\u5907\u9002\u914d\u6d4b\u8bd5: \u4e0d\u540c\u8bbe\u5907\u9002\u914d</li> <li>\u6027\u80fd\u6d4b\u8bd5: \u6a21\u5757\u6027\u80fd\u8868\u73b0</li> </ul>"},{"location":"basic_utils/basic_platform.html#_33","title":"\u517c\u5bb9\u6027\u6d4b\u8bd5","text":"<ul> <li>\u7cfb\u7edf\u7248\u672c\u517c\u5bb9: \u4e0d\u540c\u7cfb\u7edf\u7248\u672c</li> <li>\u8bbe\u5907\u578b\u53f7\u517c\u5bb9: \u4e0d\u540c\u8bbe\u5907\u578b\u53f7</li> <li>\u6743\u9650\u7b56\u7565\u517c\u5bb9: \u4e0d\u540c\u6743\u9650\u7b56\u7565</li> <li>API\u517c\u5bb9\u6027: \u4e0d\u540cAPI\u7248\u672c</li> </ul>"},{"location":"basic_utils/basic_platform.html#_34","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"basic_utils/basic_platform.html#_35","title":"\u5e73\u53f0\u914d\u7f6e","text":"<pre><code>class PlatformConfig {\n  static const Map&lt;String, dynamic&gt; androidConfig = {\n    'minSdkVersion': 21,\n    'targetSdkVersion': 33,\n    'requiredPermissions': [\n      'android.permission.INTERNET',\n      'android.permission.ACCESS_NETWORK_STATE',\n    ],\n  };\n\n  static const Map&lt;String, dynamic&gt; iosConfig = {\n    'minIOSVersion': '11.0',\n    'requiredCapabilities': [\n      'arm64',\n    ],\n    'privacyDescriptions': {\n      'NSLocationWhenInUseUsageDescription': 'App needs location access',\n      'NSCameraUsageDescription': 'App needs camera access',\n    },\n  };\n}\n</code></pre>"},{"location":"basic_utils/basic_platform.html#_36","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_utils/basic_platform.html#_37","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u7edf\u4e00\u63a5\u53e3: \u4f7f\u7528\u7edf\u4e00\u7684\u5e73\u53f0\u63a5\u53e3</li> <li>\u5f02\u6b65\u5904\u7406: \u8017\u65f6\u64cd\u4f5c\u5f02\u6b65\u6267\u884c</li> <li>\u5f02\u5e38\u5904\u7406: \u5b8c\u5584\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236</li> <li>\u6027\u80fd\u8003\u8651: \u907f\u514d\u9891\u7e41\u7684\u5e73\u53f0\u8c03\u7528</li> </ol>"},{"location":"basic_utils/basic_platform.html#_38","title":"\u4f7f\u7528\u6307\u5357","text":"<ol> <li>\u6743\u9650\u7533\u8bf7: \u5728\u5408\u9002\u7684\u65f6\u673a\u7533\u8bf7\u6743\u9650</li> <li>\u5e73\u53f0\u68c0\u6d4b: \u6839\u636e\u5e73\u53f0\u63d0\u4f9b\u4e0d\u540c\u529f\u80fd</li> <li>\u8def\u5f84\u4f7f\u7528: \u6b63\u786e\u4f7f\u7528\u5404\u79cd\u5b58\u50a8\u8def\u5f84</li> <li>\u9519\u8bef\u5904\u7406: \u59a5\u5584\u5904\u7406\u5e73\u53f0\u76f8\u5173\u9519\u8bef</li> </ol>"},{"location":"basic_utils/basic_platform.html#_39","title":"\u603b\u7ed3","text":"<p><code>basic_platform</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u5e73\u53f0\u9002\u914d\u57fa\u7840\u6a21\u5757\uff0c\u4e3a\u5e94\u7528\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u8de8\u5e73\u53f0\u63a5\u53e3\u548c\u80fd\u529b\u3002\u901a\u8fc7\u5c01\u88c5\u5e73\u53f0\u5dee\u5f02\u6027\u3001\u7edf\u4e00\u6743\u9650\u7ba1\u7406\u548c\u5b8c\u5584\u7684\u5f02\u5e38\u5904\u7406\uff0c\u663e\u8457\u7b80\u5316\u4e86\u8de8\u5e73\u53f0\u5f00\u53d1\u7684\u590d\u6742\u6027\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u517c\u5bb9\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u5e73\u53f0\u73af\u5883\u548c\u9700\u6c42\u3002</p>"},{"location":"basic_utils/basic_push.html","title":"Basic Push \u63a8\u9001\u670d\u52a1\u6a21\u5757","text":""},{"location":"basic_utils/basic_push.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_push</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u63a8\u9001\u670d\u52a1\u6a21\u5757\uff0c\u8d1f\u8d23\u7edf\u4e00\u7ba1\u7406\u5e94\u7528\u7684\u6d88\u606f\u63a8\u9001\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u591a\u79cd\u63a8\u9001\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u63a8\u9001\u63a5\u53e3\u548c\u6d88\u606f\u5904\u7406\u80fd\u529b\uff0c\u652f\u6301\u672c\u5730\u901a\u77e5\u3001\u8fdc\u7a0b\u63a8\u9001\u3001\u5b9a\u65f6\u63a8\u9001\u7b49\u529f\u80fd\u3002</p>"},{"location":"basic_utils/basic_push.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_push</li> <li>\u7248\u672c: 0.2.5+8</li> <li>\u63cf\u8ff0: \u79fb\u52a8\u5e94\u7528\u63a8\u9001\u670d\u52a1\u6846\u67b6</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> <li>Dart \u7248\u672c: &gt;=2.17.0 &lt;4.0.0</li> </ul>"},{"location":"basic_utils/basic_push.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/basic_push.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u591a\u6e20\u9053\u63a8\u9001\u652f\u6301    - \u7f8e\u56e2\u4e91\u63a8\u9001\u96c6\u6210    - FCM (Firebase Cloud Messaging)    - APNs (Apple Push Notification)    - \u534e\u4e3a\u63a8\u9001\u670d\u52a1</p> </li> <li> <p>\u6d88\u606f\u7c7b\u578b\u7ba1\u7406    - \u6587\u672c\u6d88\u606f\u63a8\u9001    - \u5bcc\u5a92\u4f53\u6d88\u606f    - \u81ea\u5b9a\u4e49\u6570\u636e\u63a8\u9001    - \u9759\u9ed8\u63a8\u9001</p> </li> <li> <p>\u63a8\u9001\u7b56\u7565\u63a7\u5236    - \u5b9a\u65f6\u63a8\u9001    - \u5730\u7406\u4f4d\u7f6e\u63a8\u9001    - \u7528\u6237\u5206\u7ec4\u63a8\u9001    - A/B\u6d4b\u8bd5\u63a8\u9001</p> </li> <li> <p>\u672c\u5730\u901a\u77e5\u7cfb\u7edf    - \u5373\u65f6\u672c\u5730\u901a\u77e5    - \u5b9a\u65f6\u672c\u5730\u901a\u77e5    - \u91cd\u590d\u901a\u77e5\u8bbe\u7f6e    - \u901a\u77e5\u5206\u7c7b\u7ba1\u7406</p> </li> </ol>"},{"location":"basic_utils/basic_push.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/basic_push.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 basic_push.dart             # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 push_manager/           # \u63a8\u9001\u7ba1\u7406\u5668\n\u2502   \u251c\u2500\u2500 providers/              # \u63a8\u9001\u670d\u52a1\u63d0\u4f9b\u5546\n\u2502   \u251c\u2500\u2500 notifications/          # \u901a\u77e5\u7ba1\u7406\n\u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u251c\u2500\u2500 handlers/               # \u6d88\u606f\u5904\u7406\u5668\n\u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 android/                    # Android\u7279\u5b9a\u5b9e\u73b0\n\u251c\u2500\u2500 ios/                        # iOS\u7279\u5b9a\u5b9e\u73b0\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/basic_push.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/basic_push.html#_8","title":"\u57fa\u7840\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_network: ^0.2.1</code> - \u7f51\u7edc\u901a\u4fe1\u6846\u67b6</li> <li><code>basic_logger: ^0.2.0</code> - \u65e5\u5fd7\u7cfb\u7edf</li> <li><code>basic_storage: ^0.2.0</code> - \u672c\u5730\u5b58\u50a8</li> <li><code>basic_modular: ^0.2.0</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_platform: ^0.2.2</code> - \u5e73\u53f0\u9002\u914d</li> </ul>"},{"location":"basic_utils/basic_push.html#_9","title":"\u63a8\u9001\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li><code>flutter_plugin_mtpush_private</code> - \u7f8e\u56e2\u4e91\u63a8\u9001\u63d2\u4ef6\uff08\u672c\u5730\u4f9d\u8d56\uff09</li> </ul>"},{"location":"basic_utils/basic_push.html#_10","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>rxdart: ^0.27.7</code> - \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li><code>dartx: ^1.1.0</code> - Dart\u6269\u5c55</li> <li><code>kt_dart: ^1.1.0</code> - Kotlin\u98ce\u683c\u6269\u5c55</li> <li><code>freezed_annotation: ^2.2.0</code> - \u6570\u636e\u7c7b\u6ce8\u89e3</li> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> </ul>"},{"location":"basic_utils/basic_push.html#_11","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/basic_push.html#1_basic_pushdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>basic_push.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u63a8\u9001\u670d\u52a1\u7edf\u4e00\u521d\u59cb\u5316 - \u5bf9\u5916\u63a5\u53e3\u5bfc\u51fa - \u670d\u52a1\u751f\u547d\u5468\u671f\u7ba1\u7406</p>"},{"location":"basic_utils/basic_push.html#2_srcpush_manager","title":"2. \u63a8\u9001\u7ba1\u7406\u5668 (<code>src/push_manager/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u63a8\u9001\u670d\u52a1\u7edf\u4e00\u7ba1\u7406 - \u591a\u6e20\u9053\u63a8\u9001\u534f\u8c03 - \u6d88\u606f\u8def\u7531\u5206\u53d1 - \u63a8\u9001\u72b6\u6001\u76d1\u63a7</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>PushManager</code> - \u63a8\u9001\u7ba1\u7406\u5668\u4e3b\u7c7b - <code>ChannelManager</code> - \u63a8\u9001\u6e20\u9053\u7ba1\u7406 - <code>MessageRouter</code> - \u6d88\u606f\u8def\u7531\u5668 - <code>StatusMonitor</code> - \u72b6\u6001\u76d1\u63a7\u5668</p>"},{"location":"basic_utils/basic_push.html#3_srcproviders","title":"3. \u63a8\u9001\u670d\u52a1\u63d0\u4f9b\u5546 (<code>src/providers/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u4e0d\u540c\u63a8\u9001\u670d\u52a1\u7684\u5177\u4f53\u5b9e\u73b0 - \u63a8\u9001\u6e20\u9053\u9002\u914d - \u670d\u52a1\u914d\u7f6e\u7ba1\u7406 - \u9519\u8bef\u5904\u7406\u548c\u91cd\u8bd5</p> <p>\u4e3b\u8981\u63d0\u4f9b\u5546: - <code>MTPushProvider</code> - \u7f8e\u56e2\u4e91\u63a8\u9001\u670d\u52a1 - <code>FCMProvider</code> - Firebase\u4e91\u6d88\u606f\u670d\u52a1 - <code>APNsProvider</code> - Apple\u63a8\u9001\u901a\u77e5\u670d\u52a1 - <code>HuaweiPushProvider</code> - \u534e\u4e3a\u63a8\u9001\u670d\u52a1</p>"},{"location":"basic_utils/basic_push.html#4_srcnotifications","title":"4. \u901a\u77e5\u7ba1\u7406 (<code>src/notifications/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u672c\u5730\u901a\u77e5\u521b\u5efa\u548c\u7ba1\u7406 - \u901a\u77e5\u6837\u5f0f\u5b9a\u5236 - \u901a\u77e5\u884c\u4e3a\u5904\u7406 - \u901a\u77e5\u6743\u9650\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>LocalNotificationManager</code> - \u672c\u5730\u901a\u77e5\u7ba1\u7406\u5668 - <code>NotificationBuilder</code> - \u901a\u77e5\u6784\u5efa\u5668 - <code>NotificationScheduler</code> - \u901a\u77e5\u8c03\u5ea6\u5668 - <code>NotificationPermissionHandler</code> - \u6743\u9650\u5904\u7406\u5668</p>"},{"location":"basic_utils/basic_push.html#5_srcmodels","title":"5. \u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u63a8\u9001\u6d88\u606f\u6570\u636e\u6a21\u578b - \u901a\u77e5\u914d\u7f6e\u6a21\u578b - \u63a8\u9001\u7edf\u8ba1\u6a21\u578b - \u9519\u8bef\u4fe1\u606f\u6a21\u578b</p> <p>\u4e3b\u8981\u6a21\u578b: - <code>PushMessage</code> - \u63a8\u9001\u6d88\u606f\u6a21\u578b - <code>NotificationConfig</code> - \u901a\u77e5\u914d\u7f6e\u6a21\u578b - <code>PushStats</code> - \u63a8\u9001\u7edf\u8ba1\u6a21\u578b - <code>PushError</code> - \u63a8\u9001\u9519\u8bef\u6a21\u578b</p>"},{"location":"basic_utils/basic_push.html#6_srchandlers","title":"6. \u6d88\u606f\u5904\u7406\u5668 (<code>src/handlers/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u6d88\u606f\u63a5\u6536\u5904\u7406 - \u6d88\u606f\u70b9\u51fb\u54cd\u5e94 - \u81ea\u5b9a\u4e49\u52a8\u4f5c\u5904\u7406 - \u6d88\u606f\u751f\u547d\u5468\u671f\u7ba1\u7406</p> <p>\u4e3b\u8981\u5904\u7406\u5668: - <code>MessageReceiveHandler</code> - \u6d88\u606f\u63a5\u6536\u5904\u7406\u5668 - <code>MessageClickHandler</code> - \u6d88\u606f\u70b9\u51fb\u5904\u7406\u5668 - <code>CustomActionHandler</code> - \u81ea\u5b9a\u4e49\u52a8\u4f5c\u5904\u7406\u5668 - <code>LifecycleHandler</code> - \u751f\u547d\u5468\u671f\u5904\u7406\u5668</p>"},{"location":"basic_utils/basic_push.html#7_srcutils","title":"7. \u5de5\u5177\u7c7b (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u63a8\u9001\u5de5\u5177\u65b9\u6cd5 - \u6d88\u606f\u683c\u5f0f\u5316\u5de5\u5177 - \u65f6\u95f4\u5904\u7406\u5de5\u5177 - \u52a0\u5bc6\u89e3\u5bc6\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>PushUtils</code> - \u63a8\u9001\u5de5\u5177\u7c7b - <code>MessageFormatter</code> - \u6d88\u606f\u683c\u5f0f\u5316\u5668 - <code>TimeUtils</code> - \u65f6\u95f4\u5de5\u5177\u7c7b - <code>CryptoUtils</code> - \u52a0\u5bc6\u5de5\u5177\u7c7b</p>"},{"location":"basic_utils/basic_push.html#_12","title":"\u63a8\u9001\u670d\u52a1\u67b6\u6784","text":""},{"location":"basic_utils/basic_push.html#_13","title":"\u63a8\u9001\u6d41\u7a0b\u8bbe\u8ba1","text":"<pre><code>graph TD\n    A[\u5e94\u7528\u670d\u52a1\u5668] --&gt; B[\u63a8\u9001\u670d\u52a1\u5546]\n    B --&gt; C[\u8bbe\u5907\u63a8\u9001\u670d\u52a1]\n    C --&gt; D[OneApp\u63a8\u9001\u6a21\u5757]\n    D --&gt; E[\u6d88\u606f\u5904\u7406\u5668]\n    E --&gt; F[\u4e1a\u52a1\u6a21\u5757]\n\n    G[\u672c\u5730\u63a8\u9001] --&gt; D\n    H[\u5b9a\u65f6\u63a8\u9001] --&gt; D\n\n    D --&gt; I[\u901a\u77e5\u5c55\u793a]\n    D --&gt; J[\u6570\u636e\u5904\u7406]\n    D --&gt; K[\u7edf\u8ba1\u4e0a\u62a5]</code></pre>"},{"location":"basic_utils/basic_push.html#_14","title":"\u591a\u6e20\u9053\u63a8\u9001\u7b56\u7565","text":"<pre><code>class PushChannelStrategy {\n  static Future&lt;void&gt; sendMessage(PushMessage message) async {\n    if (Platform.isAndroid) {\n      // Android\u4f18\u5148\u4f7f\u7528\u5382\u5546\u63a8\u9001\n      if (await _isHuaweiDevice()) {\n        await HuaweiPushProvider.send(message);\n      } else if (await _isXiaomiDevice()) {\n        await MiPushProvider.send(message);\n      } else {\n        // fallback to FCM or \u7f8e\u56e2\u4e91\u63a8\u9001\n        await _sendWithFallback(message);\n      }\n    } else if (Platform.isIOS) {\n      // iOS\u4f7f\u7528APNs\n      await APNsProvider.send(message);\n    }\n  }\n\n  static Future&lt;void&gt; _sendWithFallback(PushMessage message) async {\n    try {\n      await FCMProvider.send(message);\n    } catch (e) {\n      await MTPushProvider.send(message);\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_15","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"basic_utils/basic_push.html#_16","title":"\u63a8\u9001\u521d\u59cb\u5316\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u5e94\u7528\u542f\u52a8] --&gt; B[\u521d\u59cb\u5316\u63a8\u9001\u6a21\u5757]\n    B --&gt; C[\u68c0\u67e5\u63a8\u9001\u6743\u9650]\n    C --&gt; D{\u6743\u9650\u662f\u5426\u5df2\u6388\u4e88}\n    D --&gt;|\u5426| E[\u8bf7\u6c42\u63a8\u9001\u6743\u9650]\n    D --&gt;|\u662f| F[\u6ce8\u518c\u63a8\u9001\u670d\u52a1]\n    E --&gt; G{\u7528\u6237\u662f\u5426\u540c\u610f}\n    G --&gt;|\u662f| F\n    G --&gt;|\u5426| H[\u8bb0\u5f55\u6743\u9650\u62d2\u7edd]\n    F --&gt; I[\u83b7\u53d6\u8bbe\u5907Token]\n    I --&gt; J[\u4e0a\u62a5Token\u5230\u670d\u52a1\u5668]\n    J --&gt; K[\u8bbe\u7f6e\u6d88\u606f\u76d1\u542c\u5668]\n    K --&gt; L[\u63a8\u9001\u670d\u52a1\u5c31\u7eea]\n    H --&gt; M[\u529f\u80fd\u964d\u7ea7\u5904\u7406]</code></pre>"},{"location":"basic_utils/basic_push.html#_17","title":"\u6d88\u606f\u5904\u7406\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u63a5\u6536\u63a8\u9001\u6d88\u606f] --&gt; B[\u89e3\u6790\u6d88\u606f\u5185\u5bb9]\n    B --&gt; C[\u9a8c\u8bc1\u6d88\u606f\u6709\u6548\u6027]\n    C --&gt; D{\u6d88\u606f\u662f\u5426\u6709\u6548}\n    D --&gt;|\u5426| E[\u4e22\u5f03\u6d88\u606f]\n    D --&gt;|\u662f| F[\u5224\u65ad\u5e94\u7528\u72b6\u6001]\n    F --&gt; G{\u5e94\u7528\u662f\u5426\u5728\u524d\u53f0}\n    G --&gt;|\u662f| H[\u76f4\u63a5\u5904\u7406\u6d88\u606f]\n    G --&gt;|\u5426| I[\u663e\u793a\u7cfb\u7edf\u901a\u77e5]\n    H --&gt; J[\u89e6\u53d1\u4e1a\u52a1\u903b\u8f91]\n    I --&gt; K[\u7528\u6237\u70b9\u51fb\u901a\u77e5]\n    K --&gt; L[\u542f\u52a8\u5e94\u7528]\n    L --&gt; J\n    J --&gt; M[\u8bb0\u5f55\u63a8\u9001\u7edf\u8ba1]\n    E --&gt; N[\u8bb0\u5f55\u9519\u8bef\u65e5\u5fd7]</code></pre>"},{"location":"basic_utils/basic_push.html#_18","title":"\u63a8\u9001\u6d88\u606f\u6a21\u578b","text":""},{"location":"basic_utils/basic_push.html#_19","title":"\u6d88\u606f\u7ed3\u6784\u5b9a\u4e49","text":"<pre><code>@freezed\nclass PushMessage with _$PushMessage {\n  const factory PushMessage({\n    required String messageId,\n    required String title,\n    required String body,\n    String? imageUrl,\n    Map&lt;String, dynamic&gt;? customData,\n    @Default(MessageType.notification) MessageType type,\n    @Default(MessagePriority.normal) MessagePriority priority,\n    DateTime? scheduleTime,\n    @Default([]) List&lt;String&gt; tags,\n    PushChannel? channel,\n  }) = _PushMessage;\n\n  factory PushMessage.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$PushMessageFromJson(json);\n}\n\nenum MessageType {\n  notification,  // \u901a\u77e5\u6d88\u606f\n  data,         // \u6570\u636e\u6d88\u606f\n  silent,       // \u9759\u9ed8\u6d88\u606f\n}\n\nenum MessagePriority {\n  low,\n  normal,\n  high,\n  urgent,\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_20","title":"\u901a\u77e5\u914d\u7f6e\u6a21\u578b","text":"<pre><code>@freezed\nclass NotificationConfig with _$NotificationConfig {\n  const factory NotificationConfig({\n    required String channelId,\n    required String channelName,\n    String? channelDescription,\n    @Default(NotificationImportance.normal) NotificationImportance importance,\n    @Default(true) bool enableSound,\n    @Default(true) bool enableVibration,\n    @Default(true) bool enableLights,\n    String? soundPath,\n    Color? lightColor,\n    List&lt;int&gt;? vibrationPattern,\n  }) = _NotificationConfig;\n\n  factory NotificationConfig.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$NotificationConfigFromJson(json);\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_21","title":"\u63a8\u9001\u670d\u52a1\u63d0\u4f9b\u5546\u5b9e\u73b0","text":""},{"location":"basic_utils/basic_push.html#_22","title":"\u7f8e\u56e2\u4e91\u63a8\u9001\u96c6\u6210","text":"<pre><code>class MTPushProvider extends PushProvider {\n  @override\n  Future&lt;void&gt; initialize() async {\n    await MTFlutterPush.initialize(\n      appKey: _appKey,\n      appSecret: _appSecret,\n    );\n\n    // \u8bbe\u7f6e\u6d88\u606f\u76d1\u542c\u5668\n    MTFlutterPush.addReceiveNotificationListener(_onReceiveNotification);\n    MTFlutterPush.addReceiveMessageListener(_onReceiveMessage);\n  }\n\n  @override\n  Future&lt;String?&gt; getDeviceToken() async {\n    return await MTFlutterPush.getRegistrationId();\n  }\n\n  @override\n  Future&lt;void&gt; sendMessage(PushMessage message) async {\n    final notification = MTNotification(\n      title: message.title,\n      content: message.body,\n      extras: message.customData,\n    );\n\n    await MTFlutterPush.sendLocalNotification(notification);\n  }\n\n  void _onReceiveNotification(Map&lt;String, dynamic&gt; notification) {\n    final message = PushMessage.fromJson(notification);\n    messageController.add(message);\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#fcm","title":"FCM\u96c6\u6210","text":"<pre><code>class FCMProvider extends PushProvider {\n  late FirebaseMessaging _messaging;\n\n  @override\n  Future&lt;void&gt; initialize() async {\n    _messaging = FirebaseMessaging.instance;\n\n    // \u8bf7\u6c42\u6743\u9650\n    await _messaging.requestPermission();\n\n    // \u8bbe\u7f6e\u6d88\u606f\u76d1\u542c\u5668\n    FirebaseMessaging.onMessage.listen(_onForegroundMessage);\n    FirebaseMessaging.onBackgroundMessage(_onBackgroundMessage);\n    FirebaseMessaging.onMessageOpenedApp.listen(_onMessageOpenedApp);\n  }\n\n  @override\n  Future&lt;String?&gt; getDeviceToken() async {\n    return await _messaging.getToken();\n  }\n\n  void _onForegroundMessage(RemoteMessage message) {\n    final pushMessage = _convertMessage(message);\n    messageController.add(pushMessage);\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_23","title":"\u672c\u5730\u901a\u77e5\u7cfb\u7edf","text":""},{"location":"basic_utils/basic_push.html#_24","title":"\u672c\u5730\u901a\u77e5\u7ba1\u7406\u5668","text":"<pre><code>class LocalNotificationManager {\n  static const String _channelId = 'oneapp_notifications';\n  static const String _channelName = 'OneApp Notifications';\n\n  late FlutterLocalNotificationsPlugin _plugin;\n\n  Future&lt;void&gt; initialize() async {\n    _plugin = FlutterLocalNotificationsPlugin();\n\n    const androidSettings = AndroidInitializationSettings('@mipmap/ic_launcher');\n    const iosSettings = DarwinInitializationSettings();\n\n    const initSettings = InitializationSettings(\n      android: androidSettings,\n      iOS: iosSettings,\n    );\n\n    await _plugin.initialize(\n      initSettings,\n      onDidReceiveNotificationResponse: _onNotificationTapped,\n    );\n\n    await _createNotificationChannel();\n  }\n\n  Future&lt;void&gt; showNotification(LocalNotification notification) async {\n    final androidDetails = AndroidNotificationDetails(\n      _channelId,\n      _channelName,\n      channelDescription: 'OneApp local notifications',\n      importance: Importance.max,\n      priority: Priority.high,\n    );\n\n    const iosDetails = DarwinNotificationDetails();\n\n    const details = NotificationDetails(\n      android: androidDetails,\n      iOS: iosDetails,\n    );\n\n    await _plugin.show(\n      notification.id,\n      notification.title,\n      notification.body,\n      details,\n      payload: notification.payload,\n    );\n  }\n\n  Future&lt;void&gt; scheduleNotification(ScheduledNotification notification) async {\n    await _plugin.zonedSchedule(\n      notification.id,\n      notification.title,\n      notification.body,\n      notification.scheduledDate,\n      const NotificationDetails(\n        android: AndroidNotificationDetails(\n          _channelId,\n          _channelName,\n        ),\n      ),\n      androidAllowWhileIdle: true,\n      uiLocalNotificationDateInterpretation: \n          UILocalNotificationDateInterpretation.absoluteTime,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_25","title":"\u63a8\u9001\u7edf\u8ba1\u548c\u5206\u6790","text":""},{"location":"basic_utils/basic_push.html#_26","title":"\u7edf\u8ba1\u6570\u636e\u6536\u96c6","text":"<pre><code>class PushAnalytics {\n  static Future&lt;void&gt; trackMessageReceived(PushMessage message) async {\n    final event = PushEvent(\n      type: PushEventType.received,\n      messageId: message.messageId,\n      timestamp: DateTime.now(),\n      platform: Platform.operatingSystem,\n    );\n\n    await _uploadEvent(event);\n  }\n\n  static Future&lt;void&gt; trackMessageClicked(PushMessage message) async {\n    final event = PushEvent(\n      type: PushEventType.clicked,\n      messageId: message.messageId,\n      timestamp: DateTime.now(),\n      platform: Platform.operatingSystem,\n    );\n\n    await _uploadEvent(event);\n  }\n\n  static Future&lt;PushStats&gt; getStats() async {\n    return await _fetchStatsFromServer();\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_27","title":"\u5b89\u5168\u548c\u9690\u79c1","text":""},{"location":"basic_utils/basic_push.html#_28","title":"\u6570\u636e\u4fdd\u62a4","text":"<ul> <li>\u6d88\u606f\u52a0\u5bc6: \u654f\u611f\u63a8\u9001\u5185\u5bb9\u52a0\u5bc6\u4f20\u8f93</li> <li>Token\u5b89\u5168: \u8bbe\u5907Token\u5b89\u5168\u5b58\u50a8\u548c\u4f20\u8f93</li> <li>\u6743\u9650\u63a7\u5236: \u4e25\u683c\u7684\u63a8\u9001\u6743\u9650\u7ba1\u7406</li> <li>\u6570\u636e\u8131\u654f: \u7edf\u8ba1\u6570\u636e\u8131\u654f\u5904\u7406</li> </ul>"},{"location":"basic_utils/basic_push.html#_29","title":"\u9690\u79c1\u5408\u89c4","text":"<ul> <li>\u7528\u6237\u540c\u610f: \u660e\u786e\u7684\u63a8\u9001\u6743\u9650\u7533\u8bf7</li> <li>\u6570\u636e\u6700\u5c0f\u5316: \u4ec5\u6536\u96c6\u5fc5\u8981\u7684\u63a8\u9001\u6570\u636e</li> <li>\u900f\u660e\u5ea6: \u6e05\u6670\u7684\u9690\u79c1\u653f\u7b56\u8bf4\u660e</li> <li>\u7528\u6237\u63a7\u5236: \u7528\u6237\u53ef\u63a7\u5236\u63a8\u9001\u8bbe\u7f6e</li> </ul>"},{"location":"basic_utils/basic_push.html#_30","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/basic_push.html#_31","title":"\u63a8\u9001\u6027\u80fd","text":"<ul> <li>\u6279\u91cf\u5904\u7406: \u6279\u91cf\u5904\u7406\u63a8\u9001\u6d88\u606f</li> <li>\u7f13\u5b58\u673a\u5236: \u63a8\u9001Token\u548c\u914d\u7f6e\u7f13\u5b58</li> <li>\u91cd\u8bd5\u7b56\u7565: \u667a\u80fd\u91cd\u8bd5\u5931\u8d25\u7684\u63a8\u9001</li> <li>\u8d1f\u8f7d\u5747\u8861: \u63a8\u9001\u670d\u52a1\u8d1f\u8f7d\u5747\u8861</li> </ul>"},{"location":"basic_utils/basic_push.html#_32","title":"\u8d44\u6e90\u7ba1\u7406","text":"<ul> <li>\u5185\u5b58\u4f18\u5316: \u53ca\u65f6\u91ca\u653e\u63a8\u9001\u76f8\u5173\u8d44\u6e90</li> <li>\u7535\u6c60\u4f18\u5316: \u51cf\u5c11\u540e\u53f0\u63a8\u9001\u670d\u52a1\u8017\u7535</li> <li>\u7f51\u7edc\u4f18\u5316: \u4f18\u5316\u63a8\u9001\u7f51\u7edc\u8bf7\u6c42</li> <li>\u5b58\u50a8\u4f18\u5316: \u5408\u7406\u7ba1\u7406\u63a8\u9001\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"basic_utils/basic_push.html#_33","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/basic_push.html#_34","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u63a8\u9001\u7ba1\u7406\u5668\u6d4b\u8bd5: \u6838\u5fc3\u63a8\u9001\u903b\u8f91</li> <li>\u6d88\u606f\u5904\u7406\u6d4b\u8bd5: \u6d88\u606f\u89e3\u6790\u548c\u5904\u7406</li> <li>\u672c\u5730\u901a\u77e5\u6d4b\u8bd5: \u672c\u5730\u901a\u77e5\u529f\u80fd</li> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u63a8\u9001\u5de5\u5177\u65b9\u6cd5</li> </ul>"},{"location":"basic_utils/basic_push.html#_35","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u63a8\u9001\u670d\u52a1\u96c6\u6210: \u5404\u63a8\u9001\u670d\u52a1\u96c6\u6210</li> <li>\u5e73\u53f0\u517c\u5bb9\u6027: \u4e0d\u540c\u5e73\u53f0\u63a8\u9001\u529f\u80fd</li> <li>\u6743\u9650\u6d41\u7a0b\u6d4b\u8bd5: \u63a8\u9001\u6743\u9650\u7533\u8bf7\u6d41\u7a0b</li> <li>\u6d88\u606f\u7aef\u5230\u7aef\u6d4b\u8bd5: \u5b8c\u6574\u63a8\u9001\u6d41\u7a0b</li> </ul>"},{"location":"basic_utils/basic_push.html#_36","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u5927\u91cf\u6d88\u606f\u5904\u7406: \u9ad8\u9891\u63a8\u9001\u6d88\u606f\u5904\u7406</li> <li>\u5185\u5b58\u6cc4\u6f0f\u6d4b\u8bd5: \u957f\u65f6\u95f4\u8fd0\u884c\u5185\u5b58\u68c0\u6d4b</li> <li>\u7535\u6c60\u6d88\u8017\u6d4b\u8bd5: \u63a8\u9001\u670d\u52a1\u7535\u6c60\u5f71\u54cd</li> <li>\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5: \u63a8\u9001\u7f51\u7edc\u6027\u80fd</li> </ul>"},{"location":"basic_utils/basic_push.html#_37","title":"\u914d\u7f6e\u548c\u90e8\u7f72","text":""},{"location":"basic_utils/basic_push.html#_38","title":"\u63a8\u9001\u914d\u7f6e","text":"<pre><code>class PushConfig {\n  static const Map&lt;String, dynamic&gt; mtpushConfig = {\n    'appKey': 'your_mtpush_app_key',\n    'appSecret': 'your_mtpush_app_secret',\n    'channel': 'default',\n  };\n\n  static const Map&lt;String, dynamic&gt; fcmConfig = {\n    'senderId': 'your_fcm_sender_id',\n    'projectId': 'your_firebase_project_id',\n  };\n}\n</code></pre>"},{"location":"basic_utils/basic_push.html#_39","title":"\u73af\u5883\u7ba1\u7406","text":"<ul> <li>\u5f00\u53d1\u73af\u5883: \u4f7f\u7528\u6d4b\u8bd5\u63a8\u9001\u670d\u52a1</li> <li>\u6d4b\u8bd5\u73af\u5883: \u6a21\u62df\u751f\u4ea7\u63a8\u9001\u573a\u666f</li> <li>\u751f\u4ea7\u73af\u5883: \u6b63\u5f0f\u63a8\u9001\u670d\u52a1\u914d\u7f6e</li> <li>\u7070\u5ea6\u53d1\u5e03: \u9010\u6b65\u63a8\u9001\u65b0\u529f\u80fd</li> </ul>"},{"location":"basic_utils/basic_push.html#_40","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_utils/basic_push.html#_41","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u5408\u7406\u9891\u7387: \u63a7\u5236\u63a8\u9001\u6d88\u606f\u9891\u7387</li> <li>\u5185\u5bb9\u4f18\u5316: \u63a8\u9001\u5185\u5bb9\u7b80\u6d01\u660e\u4e86</li> <li>\u65f6\u673a\u9009\u62e9: \u9009\u62e9\u5408\u9002\u7684\u63a8\u9001\u65f6\u673a</li> <li>\u4e2a\u6027\u5316: \u57fa\u4e8e\u7528\u6237\u884c\u4e3a\u4e2a\u6027\u5316\u63a8\u9001</li> </ol>"},{"location":"basic_utils/basic_push.html#_42","title":"\u7528\u6237\u4f53\u9a8c","text":"<ol> <li>\u6743\u9650\u5f15\u5bfc: \u53cb\u597d\u7684\u6743\u9650\u7533\u8bf7\u5f15\u5bfc</li> <li>\u8bbe\u7f6e\u900f\u660e: \u6e05\u6670\u7684\u63a8\u9001\u8bbe\u7f6e\u9009\u9879</li> <li>\u5185\u5bb9\u76f8\u5173: \u63a8\u9001\u5185\u5bb9\u4e0e\u7528\u6237\u76f8\u5173</li> <li>\u53cd\u9988\u673a\u5236: \u63d0\u4f9b\u63a8\u9001\u53cd\u9988\u6e20\u9053</li> </ol>"},{"location":"basic_utils/basic_push.html#_43","title":"\u603b\u7ed3","text":"<p><code>basic_push</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u63a8\u9001\u670d\u52a1\u57fa\u7840\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8de8\u5e73\u53f0\u63a8\u9001\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u591a\u6e20\u9053\u63a8\u9001\u652f\u6301\u3001\u7edf\u4e00\u7684\u6d88\u606f\u5904\u7406\u548c\u5b8c\u5584\u7684\u672c\u5730\u901a\u77e5\u7cfb\u7edf\uff0c\u4e3a\u5e94\u7528\u63d0\u4f9b\u4e86\u53ef\u9760\u7684\u6d88\u606f\u63a8\u9001\u80fd\u529b\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6269\u5c55\u6027\u548c\u517c\u5bb9\u6027\uff0c\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u7684\u63a8\u9001\u573a\u666f\u548c\u4e1a\u52a1\u9700\u6c42\u3002</p>"},{"location":"basic_utils/basic_utils.html","title":"Basic Utils \u57fa\u7840\u5de5\u5177\u6a21\u5757","text":""},{"location":"basic_utils/basic_utils.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>basic_utils</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u6838\u5fc3\u5de5\u5177\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u5e94\u7528\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u57fa\u7840\u5de5\u5177\u7c7b\u3001\u8f85\u52a9\u65b9\u6cd5\u548c\u901a\u7528\u7ec4\u4ef6\u3002\u8be5\u6a21\u5757\u5305\u542b\u4e86\u4e8b\u4ef6\u603b\u7ebf\u3001\u56fe\u7247\u5904\u7406\u3001\u5206\u4eab\u529f\u80fd\u3001\u52a0\u5bc6\u89e3\u5bc6\u3001\u6587\u4ef6\u4e0a\u4f20\u7b49\u4e30\u5bcc\u7684\u5de5\u5177\u529f\u80fd\u3002</p>"},{"location":"basic_utils/basic_utils.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: basic_utils</li> <li>\u7248\u672c: 0.0.3</li> <li>\u63cf\u8ff0: \u57fa\u7840\u5de5\u5177\u5305</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.08</li> </ul>"},{"location":"basic_utils/basic_utils.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/basic_utils.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u4e8b\u4ef6\u603b\u7ebf\u7cfb\u7edf    - \u5168\u5c40\u4e8b\u4ef6\u53d1\u5e03\u8ba2\u9605    - \u7c7b\u578b\u5b89\u5168\u7684\u4e8b\u4ef6\u4f20\u9012    - \u4e8b\u4ef6\u751f\u547d\u5468\u671f\u7ba1\u7406    - \u5f02\u6b65\u4e8b\u4ef6\u5904\u7406</p> </li> <li> <p>\u56fe\u7247\u5904\u7406\u5de5\u5177    - \u56fe\u7247\u9009\u62e9\u548c\u62cd\u7167    - \u56fe\u7247\u538b\u7f29\u548c\u683c\u5f0f\u8f6c\u6362    - \u56fe\u7247\u88c1\u526a\u548c\u7f16\u8f91    - \u56fe\u7247\u7f13\u5b58\u7ba1\u7406</p> </li> <li> <p>\u5206\u4eab\u529f\u80fd\u96c6\u6210    - \u793e\u4ea4\u5e73\u53f0\u5206\u4eab    - \u6587\u4ef6\u5206\u4eab    - \u94fe\u63a5\u5206\u4eab    - \u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9</p> </li> <li> <p>\u52a0\u5bc6\u89e3\u5bc6\u670d\u52a1    - \u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5    - \u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5    - \u54c8\u5e0c\u7b97\u6cd5    - \u6570\u5b57\u7b7e\u540d</p> </li> <li> <p>\u4e91\u5b58\u50a8\u670d\u52a1    - \u817e\u8baf\u4e91COS\u96c6\u6210    - \u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d    - \u65ad\u70b9\u7eed\u4f20    - \u5b58\u50a8\u7ba1\u7406</p> </li> </ol>"},{"location":"basic_utils/basic_utils.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/basic_utils.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>lib/\n\u251c\u2500\u2500 basic_utils.dart            # \u6a21\u5757\u5165\u53e3\u6587\u4ef6\n\u251c\u2500\u2500 src/                        # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 event_bus/              # \u4e8b\u4ef6\u603b\u7ebf\n\u2502   \u251c\u2500\u2500 image/                  # \u56fe\u7247\u5904\u7406\n\u2502   \u251c\u2500\u2500 share/                  # \u5206\u4eab\u529f\u80fd\n\u2502   \u251c\u2500\u2500 crypto/                 # \u52a0\u5bc6\u89e3\u5bc6\n\u2502   \u251c\u2500\u2500 storage/                # \u4e91\u5b58\u50a8\n\u2502   \u251c\u2500\u2500 network/                # \u7f51\u7edc\u5de5\u5177\n\u2502   \u251c\u2500\u2500 utils/                  # \u901a\u7528\u5de5\u5177\n\u2502   \u2514\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u251c\u2500\u2500 widgets/                    # \u901a\u7528\u7ec4\u4ef6\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/basic_utils.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/basic_utils.html#_8","title":"\u6838\u5fc3\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li><code>basic_modular: ^0.2.3</code> - \u6a21\u5757\u5316\u6846\u67b6</li> <li><code>basic_storage: 0.2.2</code> - \u57fa\u7840\u5b58\u50a8</li> <li><code>basic_webview: ^0.2.4</code> - WebView\u7ec4\u4ef6</li> </ul>"},{"location":"basic_utils/basic_utils.html#_9","title":"\u5de5\u5177\u4f9d\u8d56","text":"<ul> <li><code>event_bus: ^2.0.0</code> - \u4e8b\u4ef6\u603b\u7ebf</li> <li><code>shared_preferences: ^2.0.17</code> - \u672c\u5730\u5b58\u50a8</li> <li><code>http: ^1.0.0</code> - HTTP\u5ba2\u6237\u7aef</li> <li><code>dartz: ^0.10.1</code> - \u51fd\u6570\u5f0f\u7f16\u7a0b</li> </ul>"},{"location":"basic_utils/basic_utils.html#_10","title":"\u529f\u80fd\u4f9d\u8d56","text":"<ul> <li><code>image_picker: ^1.1.2</code> - \u56fe\u7247\u9009\u62e9</li> <li><code>flutter_image_compress: 2.1.0</code> - \u56fe\u7247\u538b\u7f29</li> <li><code>share_plus: 7.2.1</code> - \u5206\u4eab\u529f\u80fd</li> <li><code>fluwx: ^4.2.5</code> - \u5fae\u4fe1SDK</li> <li><code>weibo_kit: ^4.0.0</code> - \u5fae\u535aSDK</li> </ul>"},{"location":"basic_utils/basic_utils.html#_11","title":"\u5b89\u5168\u4f9d\u8d56","text":"<ul> <li><code>crypto: any</code> - \u52a0\u5bc6\u7b97\u6cd5</li> <li><code>encrypt: any</code> - \u52a0\u5bc6\u5de5\u5177</li> <li><code>pointycastle: any</code> - \u52a0\u5bc6\u5e93</li> </ul>"},{"location":"basic_utils/basic_utils.html#_12","title":"\u4e91\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li><code>tencentcloud_cos_sdk_plugin: 1.2.0</code> - \u817e\u8baf\u4e91COS</li> </ul>"},{"location":"basic_utils/basic_utils.html#_13","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/basic_utils.html#1_basic_utilsdart","title":"1. \u6a21\u5757\u5165\u53e3 (<code>basic_utils.dart</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5de5\u5177\u6a21\u5757\u7edf\u4e00\u5bfc\u51fa - \u5168\u5c40\u914d\u7f6e\u521d\u59cb\u5316 - \u670d\u52a1\u6ce8\u518c\u7ba1\u7406</p>"},{"location":"basic_utils/basic_utils.html#2_srcevent_bus","title":"2. \u4e8b\u4ef6\u603b\u7ebf (<code>src/event_bus/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5168\u5c40\u4e8b\u4ef6\u53d1\u5e03\u8ba2\u9605\u673a\u5236 - \u7c7b\u578b\u5b89\u5168\u7684\u4e8b\u4ef6\u4f20\u9012 - \u4e8b\u4ef6\u8fc7\u6ee4\u548c\u8f6c\u6362 - \u5185\u5b58\u6cc4\u6f0f\u9632\u62a4</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>GlobalEventBus</code> - \u5168\u5c40\u4e8b\u4ef6\u603b\u7ebf - <code>EventSubscription</code> - \u4e8b\u4ef6\u8ba2\u9605\u7ba1\u7406 - <code>TypedEvent</code> - \u7c7b\u578b\u5316\u4e8b\u4ef6 - <code>EventFilter</code> - \u4e8b\u4ef6\u8fc7\u6ee4\u5668</p> <p>\u4f7f\u7528\u793a\u4f8b: <pre><code>// \u5b9a\u4e49\u4e8b\u4ef6\u7c7b\u578b\nclass UserLoginEvent {\n  final String userId;\n  final String userName;\n\n  UserLoginEvent(this.userId, this.userName);\n}\n\n// \u53d1\u5e03\u4e8b\u4ef6\nGlobalEventBus.instance.fire(UserLoginEvent('123', 'John'));\n\n// \u8ba2\u9605\u4e8b\u4ef6\nfinal subscription = GlobalEventBus.instance.on&lt;UserLoginEvent&gt;().listen((event) {\n  print('User ${event.userName} logged in');\n});\n\n// \u53d6\u6d88\u8ba2\u9605\nsubscription.cancel();\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#3_srcimage","title":"3. \u56fe\u7247\u5904\u7406 (<code>src/image/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u56fe\u7247\u9009\u62e9\u548c\u62cd\u7167\u529f\u80fd - \u56fe\u7247\u538b\u7f29\u548c\u683c\u5f0f\u8f6c\u6362 - \u56fe\u7247\u7f16\u8f91\u548c\u5904\u7406 - \u56fe\u7247\u7f13\u5b58\u548c\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>ImagePicker</code> - \u56fe\u7247\u9009\u62e9\u5668 - <code>ImageCompressor</code> - \u56fe\u7247\u538b\u7f29\u5668 - <code>ImageEditor</code> - \u56fe\u7247\u7f16\u8f91\u5668 - <code>ImageCache</code> - \u56fe\u7247\u7f13\u5b58\u7ba1\u7406</p> <p>\u4f7f\u7528\u793a\u4f8b: <pre><code>class ImageUtils {\n  static Future&lt;File?&gt; pickImage({\n    ImageSource source = ImageSource.gallery,\n    double? maxWidth,\n    double? maxHeight,\n    int? imageQuality,\n  }) async {\n    final picker = ImagePicker();\n    final XFile? image = await picker.pickImage(\n      source: source,\n      maxWidth: maxWidth,\n      maxHeight: maxHeight,\n      imageQuality: imageQuality,\n    );\n\n    return image != null ? File(image.path) : null;\n  }\n\n  static Future&lt;File&gt; compressImage(\n    File file, {\n    int quality = 85,\n    int? minWidth,\n    int? minHeight,\n  }) async {\n    final result = await FlutterImageCompress.compressAndGetFile(\n      file.absolute.path,\n      '${file.parent.path}/compressed_${file.name}',\n      quality: quality,\n      minWidth: minWidth,\n      minHeight: minHeight,\n    );\n\n    return File(result!.path);\n  }\n}\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#4_srcshare","title":"4. \u5206\u4eab\u529f\u80fd (<code>src/share/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u7cfb\u7edf\u539f\u751f\u5206\u4eab - \u793e\u4ea4\u5e73\u53f0\u5206\u4eab - \u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9 - \u5206\u4eab\u7ed3\u679c\u56de\u8c03</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>ShareManager</code> - \u5206\u4eab\u7ba1\u7406\u5668 - <code>WeChatShare</code> - \u5fae\u4fe1\u5206\u4eab - <code>WeiboShare</code> - \u5fae\u535a\u5206\u4eab - <code>SystemShare</code> - \u7cfb\u7edf\u5206\u4eab</p> <p>\u4f7f\u7528\u793a\u4f8b: <pre><code>class ShareUtils {\n  static Future&lt;void&gt; shareText(String text) async {\n    await Share.share(text);\n  }\n\n  static Future&lt;void&gt; shareFile(String filePath) async {\n    await Share.shareXFiles([XFile(filePath)]);\n  }\n\n  static Future&lt;void&gt; shareToWeChat({\n    required String title,\n    required String description,\n    String? imageUrl,\n    String? webpageUrl,\n  }) async {\n    final model = WeChatShareWebPageModel(\n      webPage: webpageUrl ?? '',\n      title: title,\n      description: description,\n      thumbnail: WeChatImage.network(imageUrl ?? ''),\n    );\n\n    await fluwx.shareToWeChat(model);\n  }\n}\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#5_srccrypto","title":"5. \u52a0\u5bc6\u89e3\u5bc6 (<code>src/crypto/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5bf9\u79f0\u52a0\u5bc6\u89e3\u5bc6 - \u975e\u5bf9\u79f0\u52a0\u5bc6\u89e3\u5bc6 - \u6570\u5b57\u7b7e\u540d\u9a8c\u8bc1 - \u54c8\u5e0c\u7b97\u6cd5\u5b9e\u73b0</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>AESCrypto</code> - AES\u52a0\u5bc6 - <code>RSACrypto</code> - RSA\u52a0\u5bc6 - <code>HashUtils</code> - \u54c8\u5e0c\u5de5\u5177 - <code>SignatureUtils</code> - \u6570\u5b57\u7b7e\u540d</p> <p>\u4f7f\u7528\u793a\u4f8b: <pre><code>class CryptoUtils {\n  static String md5Hash(String input) {\n    final bytes = utf8.encode(input);\n    final digest = md5.convert(bytes);\n    return digest.toString();\n  }\n\n  static String sha256Hash(String input) {\n    final bytes = utf8.encode(input);\n    final digest = sha256.convert(bytes);\n    return digest.toString();\n  }\n\n  static String aesEncrypt(String plainText, String key) {\n    final encrypter = Encrypter(AES(Key.fromBase64(key)));\n    final encrypted = encrypter.encrypt(plainText);\n    return encrypted.base64;\n  }\n\n  static String aesDecrypt(String encryptedText, String key) {\n    final encrypter = Encrypter(AES(Key.fromBase64(key)));\n    final decrypted = encrypter.decrypt64(encryptedText);\n    return decrypted;\n  }\n}\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#6_srcstorage","title":"6. \u4e91\u5b58\u50a8 (<code>src/storage/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u817e\u8baf\u4e91COS\u96c6\u6210 - \u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d - \u65ad\u70b9\u7eed\u4f20 - \u5b58\u50a8\u7a7a\u95f4\u7ba1\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>COSManager</code> - COS\u7ba1\u7406\u5668 - <code>FileUploader</code> - \u6587\u4ef6\u4e0a\u4f20\u5668 - <code>FileDownloader</code> - \u6587\u4ef6\u4e0b\u8f7d\u5668 - <code>StorageMonitor</code> - \u5b58\u50a8\u76d1\u63a7</p> <p>\u4f7f\u7528\u793a\u4f8b: <pre><code>class CloudStorageUtils {\n  static Future&lt;String?&gt; uploadFile(\n    String filePath, {\n    String? objectKey,\n    Function(int, int)? onProgress,\n  }) async {\n    try {\n      final result = await TencentCloudCosSdkPlugin.upload(\n        filePath,\n        objectKey ?? _generateObjectKey(filePath),\n        onProgress: onProgress,\n      );\n\n      return result['url'] as String?;\n    } catch (e) {\n      print('Upload failed: $e');\n      return null;\n    }\n  }\n\n  static Future&lt;bool&gt; downloadFile(\n    String url,\n    String savePath, {\n    Function(int, int)? onProgress,\n  }) async {\n    try {\n      await TencentCloudCosSdkPlugin.download(\n        url,\n        savePath,\n        onProgress: onProgress,\n      );\n      return true;\n    } catch (e) {\n      print('Download failed: $e');\n      return false;\n    }\n  }\n\n  static String _generateObjectKey(String filePath) {\n    final fileName = path.basename(filePath);\n    final timestamp = DateTime.now().millisecondsSinceEpoch;\n    return 'uploads/$timestamp/$fileName';\n  }\n}\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#7_srcnetwork","title":"7. \u7f51\u7edc\u5de5\u5177 (<code>src/network/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - HTTP\u8bf7\u6c42\u5c01\u88c5 - \u7f51\u7edc\u72b6\u6001\u68c0\u6d4b - \u8bf7\u6c42\u91cd\u8bd5\u673a\u5236 - \u54cd\u5e94\u6570\u636e\u5904\u7406</p> <p>\u4e3b\u8981\u7ec4\u4ef6: - <code>HttpClient</code> - HTTP\u5ba2\u6237\u7aef - <code>NetworkMonitor</code> - \u7f51\u7edc\u76d1\u63a7 - <code>RequestInterceptor</code> - \u8bf7\u6c42\u62e6\u622a\u5668 - <code>ResponseHandler</code> - \u54cd\u5e94\u5904\u7406\u5668</p>"},{"location":"basic_utils/basic_utils.html#8_srcutils","title":"8. \u901a\u7528\u5de5\u5177 (<code>src/utils/</code>)","text":"<p>\u529f\u80fd\u804c\u8d23: - \u5b57\u7b26\u4e32\u5904\u7406\u5de5\u5177 - \u65e5\u671f\u65f6\u95f4\u5de5\u5177 - \u6570\u5b66\u8ba1\u7b97\u5de5\u5177 - \u683c\u5f0f\u5316\u5de5\u5177</p> <p>\u4e3b\u8981\u5de5\u5177: - <code>StringUtils</code> - \u5b57\u7b26\u4e32\u5de5\u5177 - <code>DateUtils</code> - \u65e5\u671f\u5de5\u5177 - <code>MathUtils</code> - \u6570\u5b66\u5de5\u5177 - <code>FormatUtils</code> - \u683c\u5f0f\u5316\u5de5\u5177</p> <p>\u5de5\u5177\u65b9\u6cd5\u793a\u4f8b: <pre><code>class StringUtils {\n  static bool isNullOrEmpty(String? str) {\n    return str == null || str.isEmpty;\n  }\n\n  static bool isValidEmail(String email) {\n    return RegExp(r'^[^@]+@[^@]+\\.[^@]+').hasMatch(email);\n  }\n\n  static bool isValidPhone(String phone) {\n    return RegExp(r'^1[3-9]\\d{9}$').hasMatch(phone);\n  }\n\n  static String maskPhone(String phone) {\n    if (phone.length != 11) return phone;\n    return '${phone.substring(0, 3)}****${phone.substring(7)}';\n  }\n}\n\nclass DateUtils {\n  static String formatDateTime(DateTime dateTime, [String? pattern]) {\n    pattern ??= 'yyyy-MM-dd HH:mm:ss';\n    return DateFormat(pattern).format(dateTime);\n  }\n\n  static DateTime? parseDateTime(String dateStr, [String? pattern]) {\n    try {\n      pattern ??= 'yyyy-MM-dd HH:mm:ss';\n      return DateFormat(pattern).parse(dateStr);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  static bool isToday(DateTime dateTime) {\n    final now = DateTime.now();\n    return dateTime.year == now.year &amp;&amp;\n           dateTime.month == now.month &amp;&amp;\n           dateTime.day == now.day;\n  }\n}\n</code></pre></p>"},{"location":"basic_utils/basic_utils.html#_14","title":"\u901a\u7528\u7ec4\u4ef6","text":""},{"location":"basic_utils/basic_utils.html#loading","title":"Loading\u7ec4\u4ef6","text":"<pre><code>class LoadingUtils {\n  static OverlayEntry? _overlayEntry;\n\n  static void show(BuildContext context, {String? message}) {\n    hide(); // \u5148\u9690\u85cf\u4e4b\u524d\u7684\n\n    _overlayEntry = OverlayEntry(\n      builder: (context) =&gt; Material(\n        color: Colors.black54,\n        child: Center(\n          child: Container(\n            padding: const EdgeInsets.all(20),\n            decoration: BoxDecoration(\n              color: Colors.white,\n              borderRadius: BorderRadius.circular(8),\n            ),\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: [\n                const CircularProgressIndicator(),\n                if (message != null) ...[\n                  const SizedBox(height: 16),\n                  Text(message),\n                ],\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n\n    Overlay.of(context).insert(_overlayEntry!);\n  }\n\n  static void hide() {\n    _overlayEntry?.remove();\n    _overlayEntry = null;\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_utils.html#toast","title":"Toast\u7ec4\u4ef6","text":"<pre><code>class ToastUtils {\n  static void showSuccess(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      backgroundColor: Colors.green,\n      textColor: Colors.white,\n      toastLength: Toast.LENGTH_SHORT,\n    );\n  }\n\n  static void showError(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      backgroundColor: Colors.red,\n      textColor: Colors.white,\n      toastLength: Toast.LENGTH_SHORT,\n    );\n  }\n\n  static void showInfo(String message) {\n    Fluttertoast.showToast(\n      msg: message,\n      backgroundColor: Colors.blue,\n      textColor: Colors.white,\n      toastLength: Toast.LENGTH_SHORT,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/basic_utils.html#_15","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/basic_utils.html#_16","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u4e8b\u4ef6\u8ba2\u9605\u7ba1\u7406: \u53ca\u65f6\u53d6\u6d88\u4e0d\u9700\u8981\u7684\u4e8b\u4ef6\u8ba2\u9605</li> <li>\u56fe\u7247\u5185\u5b58\u4f18\u5316: \u5408\u7406\u63a7\u5236\u56fe\u7247\u52a0\u8f7d\u548c\u7f13\u5b58</li> <li>\u5bf9\u8c61\u6c60: \u590d\u7528\u5e38\u7528\u5bf9\u8c61\u51cf\u5c11GC\u538b\u529b</li> <li>\u5f31\u5f15\u7528: \u4f7f\u7528\u5f31\u5f15\u7528\u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> </ul>"},{"location":"basic_utils/basic_utils.html#_17","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8bf7\u6c42\u7f13\u5b58: \u7f13\u5b58\u7f51\u7edc\u8bf7\u6c42\u7ed3\u679c</li> <li>\u5e76\u53d1\u63a7\u5236: \u63a7\u5236\u5e76\u53d1\u8bf7\u6c42\u6570\u91cf</li> <li>\u8d85\u65f6\u91cd\u8bd5: \u667a\u80fd\u8d85\u65f6\u548c\u91cd\u8bd5\u673a\u5236</li> <li>\u6570\u636e\u538b\u7f29: \u538b\u7f29\u4f20\u8f93\u6570\u636e</li> </ul>"},{"location":"basic_utils/basic_utils.html#_18","title":"\u5b58\u50a8\u4f18\u5316","text":"<ul> <li>\u6587\u4ef6\u538b\u7f29: \u538b\u7f29\u5b58\u50a8\u6587\u4ef6</li> <li>\u6e05\u7406\u7b56\u7565: \u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u6587\u4ef6</li> <li>\u5206\u5757\u4e0a\u4f20: \u5927\u6587\u4ef6\u5206\u5757\u4e0a\u4f20</li> <li>\u65ad\u70b9\u7eed\u4f20: \u652f\u6301\u4e0a\u4f20\u4e0b\u8f7d\u65ad\u70b9\u7eed\u4f20</li> </ul>"},{"location":"basic_utils/basic_utils.html#_19","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"basic_utils/basic_utils.html#_20","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u654f\u611f\u6570\u636e\u52a0\u5bc6: \u654f\u611f\u4fe1\u606f\u52a0\u5bc6\u5b58\u50a8</li> <li>\u4f20\u8f93\u52a0\u5bc6: HTTPS\u4f20\u8f93\u4fdd\u62a4</li> <li>\u6570\u636e\u6821\u9a8c: \u6570\u636e\u5b8c\u6574\u6027\u6821\u9a8c</li> <li>\u9632\u7be1\u6539: \u6570\u5b57\u7b7e\u540d\u9632\u7be1\u6539</li> </ul>"},{"location":"basic_utils/basic_utils.html#_21","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u6743\u9650\u63a7\u5236: \u4e25\u683c\u7684\u529f\u80fd\u6743\u9650\u63a7\u5236</li> <li>\u6570\u636e\u8131\u654f: \u654f\u611f\u6570\u636e\u8131\u654f\u5904\u7406</li> <li>\u672c\u5730\u5b58\u50a8: \u5b89\u5168\u7684\u672c\u5730\u6570\u636e\u5b58\u50a8</li> <li>\u6e05\u7406\u673a\u5236: \u6570\u636e\u6e05\u7406\u548c\u9500\u6bc1\u673a\u5236</li> </ul>"},{"location":"basic_utils/basic_utils.html#_22","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/basic_utils.html#_23","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u5de5\u5177\u7c7b\u6d4b\u8bd5: \u5404\u79cd\u5de5\u5177\u65b9\u6cd5\u6d4b\u8bd5</li> <li>\u52a0\u5bc6\u89e3\u5bc6\u6d4b\u8bd5: \u52a0\u5bc6\u7b97\u6cd5\u6b63\u786e\u6027</li> <li>\u4e8b\u4ef6\u603b\u7ebf\u6d4b\u8bd5: \u4e8b\u4ef6\u53d1\u5e03\u8ba2\u9605\u673a\u5236</li> <li>\u7f51\u7edc\u5de5\u5177\u6d4b\u8bd5: \u7f51\u7edc\u8bf7\u6c42\u529f\u80fd</li> </ul>"},{"location":"basic_utils/basic_utils.html#_24","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u6587\u4ef6\u4e0a\u4f20\u6d4b\u8bd5: \u4e91\u5b58\u50a8\u96c6\u6210\u6d4b\u8bd5</li> <li>\u5206\u4eab\u529f\u80fd\u6d4b\u8bd5: \u793e\u4ea4\u5206\u4eab\u96c6\u6210\u6d4b\u8bd5</li> <li>\u56fe\u7247\u5904\u7406\u6d4b\u8bd5: \u56fe\u7247\u5904\u7406\u6d41\u7a0b\u6d4b\u8bd5</li> <li>\u7aef\u5230\u7aef\u6d4b\u8bd5: \u5b8c\u6574\u529f\u80fd\u6d41\u7a0b\u6d4b\u8bd5</li> </ul>"},{"location":"basic_utils/basic_utils.html#_25","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u5185\u5b58\u6cc4\u6f0f\u6d4b\u8bd5: \u957f\u65f6\u95f4\u8fd0\u884c\u68c0\u6d4b</li> <li>\u5e76\u53d1\u6027\u80fd\u6d4b\u8bd5: \u9ad8\u5e76\u53d1\u573a\u666f\u6d4b\u8bd5</li> <li>\u6587\u4ef6\u5904\u7406\u6d4b\u8bd5: \u5927\u6587\u4ef6\u5904\u7406\u6027\u80fd</li> <li>\u7f51\u7edc\u6027\u80fd\u6d4b\u8bd5: \u7f51\u7edc\u8bf7\u6c42\u6027\u80fd</li> </ul>"},{"location":"basic_utils/basic_utils.html#_26","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"basic_utils/basic_utils.html#_27","title":"\u5f00\u53d1\u5efa\u8bae","text":"<ol> <li>\u5de5\u5177\u590d\u7528: \u4f18\u5148\u4f7f\u7528\u73b0\u6709\u5de5\u5177\u65b9\u6cd5</li> <li>\u5f02\u5e38\u5904\u7406: \u5b8c\u5584\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236</li> <li>\u8d44\u6e90\u7ba1\u7406: \u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u8d44\u6e90</li> <li>\u6027\u80fd\u8003\u8651: \u907f\u514d\u4e0d\u5fc5\u8981\u7684\u64cd\u4f5c\u5f00\u9500</li> </ol>"},{"location":"basic_utils/basic_utils.html#_28","title":"\u4f7f\u7528\u6307\u5357","text":"<ol> <li>\u6309\u9700\u5bfc\u5165: \u53ea\u5bfc\u5165\u9700\u8981\u7684\u5de5\u5177\u7c7b</li> <li>\u914d\u7f6e\u4f18\u5316: \u5408\u7406\u914d\u7f6e\u5404\u79cd\u53c2\u6570</li> <li>\u9519\u8bef\u5904\u7406: \u59a5\u5584\u5904\u7406\u53ef\u80fd\u7684\u9519\u8bef</li> <li>\u65e5\u5fd7\u8bb0\u5f55: \u8bb0\u5f55\u5173\u952e\u64cd\u4f5c\u65e5\u5fd7</li> </ol>"},{"location":"basic_utils/basic_utils.html#_29","title":"\u603b\u7ed3","text":"<p><code>basic_utils</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u57fa\u7840\u5de5\u5177\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5f00\u53d1\u5de5\u5177\u548c\u8f85\u52a9\u529f\u80fd\u3002\u901a\u8fc7\u4e8b\u4ef6\u603b\u7ebf\u3001\u56fe\u7247\u5904\u7406\u3001\u5206\u4eab\u529f\u80fd\u3001\u52a0\u5bc6\u89e3\u5bc6\u7b49\u6838\u5fc3\u80fd\u529b\uff0c\u5927\u5927\u7b80\u5316\u4e86\u5e94\u7528\u5f00\u53d1\u7684\u590d\u6742\u6027\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u4f18\u5316\u548c\u5b89\u5168\u4fdd\u62a4\u673a\u5236\uff0c\u80fd\u591f\u6ee1\u8db3\u5404\u79cd\u5f00\u53d1\u573a\u666f\u7684\u9700\u6c42\u3002</p>"},{"location":"basic_utils/flutter_downloader.html","title":"Flutter Downloader \u6587\u4ef6\u4e0b\u8f7d\u5668\u6a21\u5757","text":""},{"location":"basic_utils/flutter_downloader.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>flutter_downloader</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u6587\u4ef6\u4e0b\u8f7d\u5668\u6a21\u5757\uff0c\u57fa\u4e8e Flutter Community \u7684\u5f00\u6e90\u9879\u76ee\u8fdb\u884c\u5b9a\u5236\u5316\u3002\u8be5\u6a21\u5757\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u6587\u4ef6\u4e0b\u8f7d\u80fd\u529b\uff0c\u652f\u6301\u591a\u5e73\u53f0\uff08Android\u3001iOS\u3001\u9e3f\u8499\uff09\u7684\u539f\u751f\u4e0b\u8f7d\u529f\u80fd\uff0c\u5305\u62ec\u540e\u53f0\u4e0b\u8f7d\u3001\u65ad\u70b9\u7eed\u4f20\u3001\u4e0b\u8f7d\u7ba1\u7406\u7b49\u7279\u6027\u3002</p>"},{"location":"basic_utils/flutter_downloader.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: flutter_downloader</li> <li>\u7248\u672c: 1.11.8</li> <li>\u63cf\u8ff0: \u5f3a\u5927\u7684\u6587\u4ef6\u4e0b\u8f7d\u63d2\u4ef6</li> <li>Flutter \u7248\u672c: &gt;=3.19.0</li> <li>Dart \u7248\u672c: &gt;=3.3.0 &lt;4.0.0</li> <li>\u539f\u59cb\u9879\u76ee: https://github.com/fluttercommunity/flutter_downloader</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/flutter_downloader.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u591a\u5e73\u53f0\u4e0b\u8f7d\u652f\u6301    - Android \u539f\u751f\u4e0b\u8f7d\u7ba1\u7406\u5668\u96c6\u6210    - iOS \u540e\u53f0\u4e0b\u8f7d\u4efb\u52a1\u652f\u6301    - \u9e3f\u8499\uff08HarmonyOS\uff09\u5e73\u53f0\u652f\u6301    - \u8de8\u5e73\u53f0\u7edf\u4e00\u63a5\u53e3</p> </li> <li> <p>\u9ad8\u7ea7\u4e0b\u8f7d\u7279\u6027    - \u540e\u53f0\u4e0b\u8f7d\u652f\u6301    - \u65ad\u70b9\u7eed\u4f20\u529f\u80fd    - \u4e0b\u8f7d\u8fdb\u5ea6\u76d1\u63a7    - \u5e76\u53d1\u4e0b\u8f7d\u63a7\u5236</p> </li> <li> <p>\u4e0b\u8f7d\u7ba1\u7406\u7cfb\u7edf    - \u4e0b\u8f7d\u4efb\u52a1\u961f\u5217    - \u4e0b\u8f7d\u72b6\u6001\u8ddf\u8e2a    - \u4e0b\u8f7d\u5386\u53f2\u8bb0\u5f55    - \u5931\u8d25\u91cd\u8bd5\u673a\u5236</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u96c6\u6210    - \u7075\u6d3b\u7684\u4fdd\u5b58\u8def\u5f84\u914d\u7f6e    - \u6587\u4ef6\u5b8c\u6574\u6027\u9a8c\u8bc1    - \u5b58\u50a8\u7a7a\u95f4\u68c0\u67e5    - \u6587\u4ef6\u6743\u9650\u7ba1\u7406</p> </li> </ol>"},{"location":"basic_utils/flutter_downloader.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/flutter_downloader.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>flutter_downloader/\n\u251c\u2500\u2500 lib/                        # Dart\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 flutter_downloader.dart # \u4e3b\u5165\u53e3\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                    # \u6e90\u4ee3\u7801\n\u2502       \u251c\u2500\u2500 downloader.dart     # \u4e0b\u8f7d\u5668\u6838\u5fc3\n\u2502       \u251c\u2500\u2500 models.dart         # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 callback_dispatcher.dart # \u56de\u8c03\u5206\u53d1\u5668\n\u2502       \u2514\u2500\u2500 utils.dart          # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 android/                    # Android\u539f\u751f\u5b9e\u73b0\n\u2502   \u2514\u2500\u2500 src/main/java/\n\u2502       \u2514\u2500\u2500 vn/hunghd/flutterdownloader/\n\u2502           \u251c\u2500\u2500 FlutterDownloaderPlugin.java\n\u2502           \u251c\u2500\u2500 DownloadWorker.java\n\u2502           \u251c\u2500\u2500 TaskDbHelper.java\n\u2502           \u2514\u2500\u2500 TaskDao.java\n\u251c\u2500\u2500 ios/                        # iOS\u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 Classes/\n\u2502   \u2502   \u251c\u2500\u2500 FlutterDownloaderPlugin.h\n\u2502   \u2502   \u251c\u2500\u2500 FlutterDownloaderPlugin.m\n\u2502   \u2502   \u251c\u2500\u2500 DBManager.h\n\u2502   \u2502   \u2514\u2500\u2500 DBManager.m\n\u2502   \u2514\u2500\u2500 flutter_downloader.podspec\n\u251c\u2500\u2500 ohos/                       # \u9e3f\u8499\u539f\u751f\u5b9e\u73b0\n\u2514\u2500\u2500 example/                    # \u793a\u4f8b\u5e94\u7528\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_7","title":"\u5e73\u53f0\u652f\u6301","text":"<ul> <li>Android: \u4f7f\u7528 DownloadManager \u548c WorkManager</li> <li>iOS: \u4f7f\u7528 URLSessionDownloadTask</li> <li>\u9e3f\u8499: \u4f7f\u7528 HarmonyOS \u4e0b\u8f7d\u63a5\u53e3</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_8","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/flutter_downloader.html#1_flutter","title":"1. Flutter\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_downloader.html#libflutter_downloaderdart","title":"\u4e3b\u5165\u53e3 (<code>lib/flutter_downloader.dart</code>)","text":"<pre><code>class FlutterDownloader {\n  static const MethodChannel _channel = MethodChannel('vn.hunghd/downloader');\n  static const MethodChannel _backgroundChannel = \n      MethodChannel('vn.hunghd/downloader_send_port');\n\n  /// \u521d\u59cb\u5316\u4e0b\u8f7d\u5668\n  static Future&lt;void&gt; initialize({\n    bool debug = false,\n    bool ignoreSsl = false,\n  }) async {\n    await _channel.invokeMethod('initialize', {\n      'debug': debug,\n      'ignoreSsl': ignoreSsl,\n    });\n  }\n\n  /// \u521b\u5efa\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;String?&gt; enqueue({\n    required String url,\n    required String savedDir,\n    String? fileName,\n    Map&lt;String, String&gt;? headers,\n    bool showNotification = true,\n    bool openFileFromNotification = true,\n    bool requiresStorageNotLow = false,\n    bool saveInPublicStorage = false,\n  }) async {\n    try {\n      final result = await _channel.invokeMethod('enqueue', {\n        'url': url,\n        'saved_dir': savedDir,\n        'file_name': fileName,\n        'headers': headers,\n        'show_notification': showNotification,\n        'open_file_from_notification': openFileFromNotification,\n        'requires_storage_not_low': requiresStorageNotLow,\n        'save_in_public_storage': saveInPublicStorage,\n      });\n      return result;\n    } catch (e) {\n      print('Error creating download task: $e');\n      return null;\n    }\n  }\n\n  /// \u83b7\u53d6\u6240\u6709\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;List&lt;DownloadTask&gt;?&gt; loadTasks() async {\n    try {\n      final result = await _channel.invokeMethod('loadTasks');\n      return (result as List&lt;dynamic&gt;?)\n          ?.map((item) =&gt; DownloadTask.fromMap(item))\n          .toList();\n    } catch (e) {\n      print('Error loading tasks: $e');\n      return null;\n    }\n  }\n\n  /// \u53d6\u6d88\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;void&gt; cancel({required String taskId}) async {\n    await _channel.invokeMethod('cancel', {'task_id': taskId});\n  }\n\n  /// \u6682\u505c\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;void&gt; pause({required String taskId}) async {\n    await _channel.invokeMethod('pause', {'task_id': taskId});\n  }\n\n  /// \u6062\u590d\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;void&gt; resume({required String taskId}) async {\n    await _channel.invokeMethod('resume', {'task_id': taskId});\n  }\n\n  /// \u91cd\u8bd5\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;String?&gt; retry({required String taskId}) async {\n    return await _channel.invokeMethod('retry', {'task_id': taskId});\n  }\n\n  /// \u79fb\u9664\u4e0b\u8f7d\u4efb\u52a1\n  static Future&lt;void&gt; remove({\n    required String taskId,\n    bool shouldDeleteContent = false,\n  }) async {\n    await _channel.invokeMethod('remove', {\n      'task_id': taskId,\n      'should_delete_content': shouldDeleteContent,\n    });\n  }\n\n  /// \u6253\u5f00\u4e0b\u8f7d\u7684\u6587\u4ef6\n  static Future&lt;bool&gt; open({required String taskId}) async {\n    return await _channel.invokeMethod('open', {'task_id': taskId});\n  }\n\n  /// \u6ce8\u518c\u4e0b\u8f7d\u56de\u8c03\n  static void registerCallback(DownloadCallback callback) {\n    _callback = callback;\n    _channel.setMethodCallHandler(_handleMethodCall);\n  }\n\n  static DownloadCallback? _callback;\n\n  static Future&lt;dynamic&gt; _handleMethodCall(MethodCall call) async {\n    if (call.method == 'updateProgress') {\n      final id = call.arguments['id'] as String;\n      final status = DownloadTaskStatus.values[call.arguments['status'] as int];\n      final progress = call.arguments['progress'] as int;\n      _callback?.call(id, status, progress);\n    }\n  }\n}\n\ntypedef DownloadCallback = void Function(\n  String id,\n  DownloadTaskStatus status,\n  int progress,\n);\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#srcmodelsdart","title":"\u6570\u636e\u6a21\u578b (<code>src/models.dart</code>)","text":"<pre><code>enum DownloadTaskStatus {\n  undefined,\n  enqueued,\n  running,\n  complete,\n  failed,\n  canceled,\n  paused,\n}\n\nclass DownloadTask {\n  final String taskId;\n  final String url;\n  final String filename;\n  final String savedDir;\n  final DownloadTaskStatus status;\n  final int progress;\n  final int timeCreated;\n  final bool allowCellular;\n\n  const DownloadTask({\n    required this.taskId,\n    required this.url,\n    required this.filename,\n    required this.savedDir,\n    required this.status,\n    required this.progress,\n    required this.timeCreated,\n    required this.allowCellular,\n  });\n\n  factory DownloadTask.fromMap(Map&lt;String, dynamic&gt; map) {\n    return DownloadTask(\n      taskId: map['task_id'] as String,\n      url: map['url'] as String,\n      filename: map['file_name'] as String,\n      savedDir: map['saved_dir'] as String,\n      status: DownloadTaskStatus.values[map['status'] as int],\n      progress: map['progress'] as int,\n      timeCreated: map['time_created'] as int,\n      allowCellular: map['allow_cellular'] as bool? ?? true,\n    );\n  }\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'task_id': taskId,\n      'url': url,\n      'file_name': filename,\n      'saved_dir': savedDir,\n      'status': status.index,\n      'progress': progress,\n      'time_created': timeCreated,\n      'allow_cellular': allowCellular,\n    };\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#2_android","title":"2. Android\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_downloader.html#flutterdownloaderpluginjava","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>FlutterDownloaderPlugin.java</code>)","text":"<pre><code>public class FlutterDownloaderPlugin implements FlutterPlugin, MethodCallHandler {\n    private static final String CHANNEL = \"vn.hunghd/downloader\";\n    private static final String BACKGROUND_CHANNEL = \"vn.hunghd/downloader_send_port\";\n\n    private Context context;\n    private MethodChannel channel;\n    private MethodChannel backgroundChannel;\n    private TaskDbHelper dbHelper;\n\n    @Override\n    public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\n        context = binding.getApplicationContext();\n        channel = new MethodChannel(binding.getBinaryMessenger(), CHANNEL);\n        backgroundChannel = new MethodChannel(binding.getBinaryMessenger(), BACKGROUND_CHANNEL);\n        channel.setMethodCallHandler(this);\n        dbHelper = TaskDbHelper.getInstance(context);\n    }\n\n    @Override\n    public void onMethodCall(@NonNull MethodCall call, @NonNull Result result) {\n        switch (call.method) {\n            case \"initialize\":\n                initialize(call, result);\n                break;\n            case \"enqueue\":\n                enqueue(call, result);\n                break;\n            case \"loadTasks\":\n                loadTasks(result);\n                break;\n            case \"cancel\":\n                cancel(call, result);\n                break;\n            case \"pause\":\n                pause(call, result);\n                break;\n            case \"resume\":\n                resume(call, result);\n                break;\n            case \"retry\":\n                retry(call, result);\n                break;\n            case \"remove\":\n                remove(call, result);\n                break;\n            case \"open\":\n                open(call, result);\n                break;\n            default:\n                result.notImplemented();\n        }\n    }\n\n    private void enqueue(MethodCall call, Result result) {\n        String url = call.argument(\"url\");\n        String savedDir = call.argument(\"saved_dir\");\n        String fileName = call.argument(\"file_name\");\n        Map&lt;String, String&gt; headers = call.argument(\"headers\");\n        boolean showNotification = call.argument(\"show_notification\");\n\n        // \u521b\u5efa\u4e0b\u8f7d\u8bf7\u6c42\n        DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\n\n        // \u8bbe\u7f6e\u8bf7\u6c42\u5934\n        if (headers != null) {\n            for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n                request.addRequestHeader(entry.getKey(), entry.getValue());\n            }\n        }\n\n        // \u8bbe\u7f6e\u4e0b\u8f7d\u8def\u5f84\n        String finalFileName = fileName != null ? fileName : \n            URLUtil.guessFileName(url, null, null);\n        request.setDestinationInExternalFilesDir(context, null, \n            savedDir + \"/\" + finalFileName);\n\n        // \u8bbe\u7f6e\u901a\u77e5\n        if (showNotification) {\n            request.setNotificationVisibility(\n                DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        }\n\n        // \u542f\u52a8\u4e0b\u8f7d\n        DownloadManager downloadManager = (DownloadManager) \n            context.getSystemService(Context.DOWNLOAD_SERVICE);\n        long downloadId = downloadManager.enqueue(request);\n\n        // \u4fdd\u5b58\u4efb\u52a1\u4fe1\u606f\u5230\u6570\u636e\u5e93\n        String taskId = UUID.randomUUID().toString();\n        TaskDao taskDao = new TaskDao(taskId, url, finalFileName, savedDir, \n            DownloadTaskStatus.ENQUEUED.ordinal(), 0, System.currentTimeMillis());\n        dbHelper.insertOrUpdateNewTask(taskDao);\n\n        result.success(taskId);\n    }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#downloadworkerjava","title":"\u4e0b\u8f7d\u5de5\u4f5c\u5668 (<code>DownloadWorker.java</code>)","text":"<pre><code>public class DownloadWorker extends Worker {\n    public DownloadWorker(@NonNull Context context, @NonNull WorkerParameters params) {\n        super(context, params);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n        String taskId = getInputData().getString(\"task_id\");\n        String url = getInputData().getString(\"url\");\n\n        try {\n            // \u6267\u884c\u4e0b\u8f7d\u903b\u8f91\n            downloadFile(taskId, url);\n            return Result.success();\n        } catch (Exception e) {\n            return Result.failure();\n        }\n    }\n\n    private void downloadFile(String taskId, String url) {\n        // \u4e0b\u8f7d\u5b9e\u73b0\u903b\u8f91\n        // \u5305\u62ec\u8fdb\u5ea6\u66f4\u65b0\u3001\u9519\u8bef\u5904\u7406\u7b49\n    }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#3_ios","title":"3. iOS\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_downloader.html#flutterdownloaderpluginm","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>FlutterDownloaderPlugin.m</code>)","text":"<pre><code>@implementation FlutterDownloaderPlugin\n\n+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar {\n    FlutterMethodChannel* channel = [FlutterMethodChannel\n        methodChannelWithName:@\"vn.hunghd/downloader\"\n              binaryMessenger:[registrar messenger]];\n    FlutterDownloaderPlugin* instance = [[FlutterDownloaderPlugin alloc] init];\n    [registrar addMethodCallDelegate:instance channel:channel];\n}\n\n- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {\n    if ([@\"initialize\" isEqualToString:call.method]) {\n        [self initialize:call result:result];\n    } else if ([@\"enqueue\" isEqualToString:call.method]) {\n        [self enqueue:call result:result];\n    } else if ([@\"loadTasks\" isEqualToString:call.method]) {\n        [self loadTasks:result];\n    } else if ([@\"cancel\" isEqualToString:call.method]) {\n        [self cancel:call result:result];\n    } else if ([@\"pause\" isEqualToString:call.method]) {\n        [self pause:call result:result];\n    } else if ([@\"resume\" isEqualToString:call.method]) {\n        [self resume:call result:result];\n    } else {\n        result(FlutterMethodNotImplemented);\n    }\n}\n\n- (void)enqueue:(FlutterMethodCall*)call result:(FlutterResult)result {\n    NSString* url = call.arguments[@\"url\"];\n    NSString* savedDir = call.arguments[@\"saved_dir\"];\n    NSString* fileName = call.arguments[@\"file_name\"];\n    NSDictionary* headers = call.arguments[@\"headers\"];\n\n    // \u521b\u5efa\u4e0b\u8f7d\u4efb\u52a1\n    NSURLSessionConfiguration* config = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:[[NSUUID UUID] UUIDString]];\n    NSURLSession* session = [NSURLSession sessionWithConfiguration:config delegate:self delegateQueue:nil];\n\n    NSMutableURLRequest* request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url]];\n\n    // \u8bbe\u7f6e\u8bf7\u6c42\u5934\n    if (headers) {\n        for (NSString* key in headers) {\n            [request setValue:headers[key] forHTTPHeaderField:key];\n        }\n    }\n\n    NSURLSessionDownloadTask* downloadTask = [session downloadTaskWithRequest:request];\n    [downloadTask resume];\n\n    // \u751f\u6210\u4efb\u52a1ID\u5e76\u4fdd\u5b58\n    NSString* taskId = [[NSUUID UUID] UUIDString];\n    [[DBManager getInstance] insertTask:taskId url:url fileName:fileName savedDir:savedDir];\n\n    result(taskId);\n}\n\n#pragma mark - NSURLSessionDownloadDelegate\n\n- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didFinishDownloadingToURL:(NSURL *)location {\n    // \u5904\u7406\u4e0b\u8f7d\u5b8c\u6210\n}\n\n- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite {\n    // \u66f4\u65b0\u4e0b\u8f7d\u8fdb\u5ea6\n    double progress = (double)totalBytesWritten / (double)totalBytesExpectedToWrite;\n    // \u901a\u77e5Flutter\u7aef\u8fdb\u5ea6\u66f4\u65b0\n}\n\n@end\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_9","title":"\u4e1a\u52a1\u6d41\u7a0b","text":""},{"location":"basic_utils/flutter_downloader.html#_10","title":"\u4e0b\u8f7d\u4efb\u52a1\u751f\u547d\u5468\u671f","text":"<pre><code>graph TD\n    A[\u521b\u5efa\u4e0b\u8f7d\u4efb\u52a1] --&gt; B[\u4efb\u52a1\u5165\u961f]\n    B --&gt; C[\u5f00\u59cb\u4e0b\u8f7d]\n    C --&gt; D[\u4e0b\u8f7d\u8fdb\u884c\u4e2d]\n    D --&gt; E{\u4e0b\u8f7d\u7ed3\u679c}\n    E --&gt;|\u6210\u529f| F[\u4e0b\u8f7d\u5b8c\u6210]\n    E --&gt;|\u5931\u8d25| G[\u4e0b\u8f7d\u5931\u8d25]\n    E --&gt;|\u53d6\u6d88| H[\u4efb\u52a1\u53d6\u6d88]\n    E --&gt;|\u6682\u505c| I[\u4efb\u52a1\u6682\u505c]\n\n    F --&gt; J[\u901a\u77e5\u7528\u6237]\n    G --&gt; K[\u9519\u8bef\u5904\u7406]\n    H --&gt; L[\u6e05\u7406\u8d44\u6e90]\n    I --&gt; M[\u53ef\u6062\u590d\u72b6\u6001]\n\n    K --&gt; N{\u662f\u5426\u91cd\u8bd5}\n    N --&gt;|\u662f| C\n    N --&gt;|\u5426| L\n\n    M --&gt; O[\u6062\u590d\u4e0b\u8f7d]\n    O --&gt; C</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_11","title":"\u8fdb\u5ea6\u66f4\u65b0\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u539f\u751f\u4e0b\u8f7d\u5668] --&gt; B[\u8fdb\u5ea6\u8ba1\u7b97]\n    B --&gt; C[\u65b9\u6cd5\u901a\u9053\u4f20\u9012]\n    C --&gt; D[Flutter\u56de\u8c03\u5904\u7406]\n    D --&gt; E[UI\u66f4\u65b0]\n\n    F[\u5b9a\u65f6\u5668] --&gt; G[\u72b6\u6001\u68c0\u67e5]\n    G --&gt; H{\u72b6\u6001\u662f\u5426\u53d8\u5316}\n    H --&gt;|\u662f| I[\u901a\u77e5\u72b6\u6001\u66f4\u65b0]\n    H --&gt;|\u5426| J[\u7ee7\u7eed\u76d1\u63a7]\n    I --&gt; D\n    J --&gt; G</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_12","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/flutter_downloader.html#_13","title":"\u57fa\u7840\u4e0b\u8f7d\u793a\u4f8b","text":"<pre><code>class DownloadExample extends StatefulWidget {\n  @override\n  _DownloadExampleState createState() =&gt; _DownloadExampleState();\n}\n\nclass _DownloadExampleState extends State&lt;DownloadExample&gt; {\n  List&lt;DownloadTask&gt; _tasks = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeDownloader();\n  }\n\n  Future&lt;void&gt; _initializeDownloader() async {\n    await FlutterDownloader.initialize(debug: true);\n\n    // \u6ce8\u518c\u4e0b\u8f7d\u56de\u8c03\n    FlutterDownloader.registerCallback(_downloadCallback);\n\n    // \u52a0\u8f7d\u5df2\u6709\u4efb\u52a1\n    _loadTasks();\n  }\n\n  void _downloadCallback(String id, DownloadTaskStatus status, int progress) {\n    setState(() {\n      final taskIndex = _tasks.indexWhere((task) =&gt; task.taskId == id);\n      if (taskIndex != -1) {\n        _tasks[taskIndex] = DownloadTask(\n          taskId: id,\n          url: _tasks[taskIndex].url,\n          filename: _tasks[taskIndex].filename,\n          savedDir: _tasks[taskIndex].savedDir,\n          status: status,\n          progress: progress,\n          timeCreated: _tasks[taskIndex].timeCreated,\n          allowCellular: _tasks[taskIndex].allowCellular,\n        );\n      }\n    });\n  }\n\n  Future&lt;void&gt; _loadTasks() async {\n    final tasks = await FlutterDownloader.loadTasks();\n    setState(() {\n      _tasks = tasks ?? [];\n    });\n  }\n\n  Future&lt;void&gt; _startDownload(String url, String fileName) async {\n    final savedDir = await _getSavedDir();\n\n    final taskId = await FlutterDownloader.enqueue(\n      url: url,\n      savedDir: savedDir,\n      fileName: fileName,\n      showNotification: true,\n      openFileFromNotification: true,\n    );\n\n    if (taskId != null) {\n      _loadTasks();\n    }\n  }\n\n  Future&lt;String&gt; _getSavedDir() async {\n    final directory = await getExternalStorageDirectory();\n    return '${directory!.path}/downloads';\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Downloads')),\n      body: ListView.builder(\n        itemCount: _tasks.length,\n        itemBuilder: (context, index) {\n          final task = _tasks[index];\n          return ListTile(\n            title: Text(task.filename),\n            subtitle: LinearProgressIndicator(\n              value: task.progress / 100.0,\n            ),\n            trailing: _buildActionButton(task),\n          );\n        },\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () =&gt; _showDownloadDialog(),\n        child: Icon(Icons.add),\n      ),\n    );\n  }\n\n  Widget _buildActionButton(DownloadTask task) {\n    switch (task.status) {\n      case DownloadTaskStatus.running:\n        return IconButton(\n          icon: Icon(Icons.pause),\n          onPressed: () =&gt; FlutterDownloader.pause(taskId: task.taskId),\n        );\n      case DownloadTaskStatus.paused:\n        return IconButton(\n          icon: Icon(Icons.play_arrow),\n          onPressed: () =&gt; FlutterDownloader.resume(taskId: task.taskId),\n        );\n      case DownloadTaskStatus.failed:\n        return IconButton(\n          icon: Icon(Icons.refresh),\n          onPressed: () =&gt; FlutterDownloader.retry(taskId: task.taskId),\n        );\n      case DownloadTaskStatus.complete:\n        return IconButton(\n          icon: Icon(Icons.open_in_new),\n          onPressed: () =&gt; FlutterDownloader.open(taskId: task.taskId),\n        );\n      default:\n        return IconButton(\n          icon: Icon(Icons.delete),\n          onPressed: () =&gt; FlutterDownloader.remove(\n            taskId: task.taskId,\n            shouldDeleteContent: true,\n          ),\n        );\n    }\n  }\n\n  void _showDownloadDialog() {\n    // \u663e\u793a\u4e0b\u8f7dURL\u8f93\u5165\u5bf9\u8bdd\u6846\n    showDialog(\n      context: context,\n      builder: (context) =&gt; DownloadDialog(\n        onDownload: (url, fileName) =&gt; _startDownload(url, fileName),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_14","title":"\u6279\u91cf\u4e0b\u8f7d\u7ba1\u7406","text":"<pre><code>class BatchDownloadManager {\n  static final BatchDownloadManager _instance = BatchDownloadManager._internal();\n  factory BatchDownloadManager() =&gt; _instance;\n  BatchDownloadManager._internal();\n\n  final Map&lt;String, DownloadTask&gt; _activeTasks = {};\n  final StreamController&lt;List&lt;DownloadTask&gt;&gt; _tasksController = \n      StreamController&lt;List&lt;DownloadTask&gt;&gt;.broadcast();\n\n  Stream&lt;List&lt;DownloadTask&gt;&gt; get tasksStream =&gt; _tasksController.stream;\n\n  Future&lt;void&gt; initialize() async {\n    await FlutterDownloader.initialize();\n    FlutterDownloader.registerCallback(_onDownloadCallback);\n    await _loadExistingTasks();\n  }\n\n  Future&lt;void&gt; _loadExistingTasks() async {\n    final tasks = await FlutterDownloader.loadTasks();\n    if (tasks != null) {\n      _activeTasks.clear();\n      for (final task in tasks) {\n        _activeTasks[task.taskId] = task;\n      }\n      _notifyTasksUpdate();\n    }\n  }\n\n  void _onDownloadCallback(String id, DownloadTaskStatus status, int progress) {\n    final existingTask = _activeTasks[id];\n    if (existingTask != null) {\n      _activeTasks[id] = DownloadTask(\n        taskId: id,\n        url: existingTask.url,\n        filename: existingTask.filename,\n        savedDir: existingTask.savedDir,\n        status: status,\n        progress: progress,\n        timeCreated: existingTask.timeCreated,\n        allowCellular: existingTask.allowCellular,\n      );\n      _notifyTasksUpdate();\n    }\n  }\n\n  Future&lt;String?&gt; addDownload({\n    required String url,\n    required String savedDir,\n    String? fileName,\n    Map&lt;String, String&gt;? headers,\n  }) async {\n    final taskId = await FlutterDownloader.enqueue(\n      url: url,\n      savedDir: savedDir,\n      fileName: fileName,\n      headers: headers,\n      showNotification: true,\n    );\n\n    if (taskId != null) {\n      await _loadExistingTasks();\n    }\n\n    return taskId;\n  }\n\n  Future&lt;void&gt; pauseDownload(String taskId) async {\n    await FlutterDownloader.pause(taskId: taskId);\n  }\n\n  Future&lt;void&gt; resumeDownload(String taskId) async {\n    await FlutterDownloader.resume(taskId: taskId);\n  }\n\n  Future&lt;void&gt; cancelDownload(String taskId) async {\n    await FlutterDownloader.cancel(taskId: taskId);\n    _activeTasks.remove(taskId);\n    _notifyTasksUpdate();\n  }\n\n  Future&lt;void&gt; retryDownload(String taskId) async {\n    final newTaskId = await FlutterDownloader.retry(taskId: taskId);\n    if (newTaskId != null) {\n      await _loadExistingTasks();\n    }\n  }\n\n  List&lt;DownloadTask&gt; getTasksByStatus(DownloadTaskStatus status) {\n    return _activeTasks.values\n        .where((task) =&gt; task.status == status)\n        .toList();\n  }\n\n  void _notifyTasksUpdate() {\n    _tasksController.add(_activeTasks.values.toList());\n  }\n\n  void dispose() {\n    _tasksController.close();\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_15","title":"\u914d\u7f6e\u548c\u4f18\u5316","text":""},{"location":"basic_utils/flutter_downloader.html#android","title":"Android\u914d\u7f6e","text":"<pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n&lt;application&gt;\n    &lt;provider\n        android:name=\"vn.hunghd.flutterdownloader.DownloadedFileProvider\"\n        android:authorities=\"${applicationId}.flutter_downloader.provider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/provider_paths\"/&gt;\n    &lt;/provider&gt;\n&lt;/application&gt;\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#ios","title":"iOS\u914d\u7f6e","text":"<pre><code>&lt;!-- ios/Runner/Info.plist --&gt;\n&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n\n&lt;key&gt;UIBackgroundModes&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;background-fetch&lt;/string&gt;\n    &lt;string&gt;background-processing&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_16","title":"\u6027\u80fd\u4f18\u5316","text":"<pre><code>class DownloadOptimizer {\n  static const int MAX_CONCURRENT_DOWNLOADS = 3;\n  static const int RETRY_ATTEMPTS = 3;\n  static const Duration RETRY_DELAY = Duration(seconds: 5);\n\n  static Future&lt;void&gt; configureDownloader() async {\n    await FlutterDownloader.initialize(\n      debug: kDebugMode,\n      ignoreSsl: false,\n    );\n  }\n\n  static Map&lt;String, String&gt; getOptimizedHeaders() {\n    return {\n      'User-Agent': 'OneApp/${getAppVersion()}',\n      'Accept-Encoding': 'gzip, deflate',\n      'Connection': 'keep-alive',\n    };\n  }\n\n  static Future&lt;String?&gt; smartDownload({\n    required String url,\n    required String savedDir,\n    String? fileName,\n  }) async {\n    // \u68c0\u67e5\u7f51\u7edc\u72b6\u6001\n    final connectivity = await Connectivity().checkConnectivity();\n    if (connectivity == ConnectivityResult.none) {\n      throw Exception('No network connection');\n    }\n\n    // \u68c0\u67e5\u5b58\u50a8\u7a7a\u95f4\n    final directory = Directory(savedDir);\n    if (!await directory.exists()) {\n      await directory.create(recursive: true);\n    }\n\n    final freeSpace = await _getAvailableSpace(savedDir);\n    final fileSize = await _getFileSize(url);\n    if (fileSize &gt; freeSpace) {\n      throw Exception('Insufficient storage space');\n    }\n\n    // \u5f00\u59cb\u4e0b\u8f7d\n    return await FlutterDownloader.enqueue(\n      url: url,\n      savedDir: savedDir,\n      fileName: fileName,\n      headers: getOptimizedHeaders(),\n      showNotification: true,\n      requiresStorageNotLow: true,\n    );\n  }\n\n  static Future&lt;int&gt; _getAvailableSpace(String path) async {\n    // \u83b7\u53d6\u53ef\u7528\u5b58\u50a8\u7a7a\u95f4\n    return 0; // \u5b9e\u73b0\u7ec6\u8282\n  }\n\n  static Future&lt;int&gt; _getFileSize(String url) async {\n    // \u83b7\u53d6\u6587\u4ef6\u5927\u5c0f\n    return 0; // \u5b9e\u73b0\u7ec6\u8282\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_downloader.html#_17","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"basic_utils/flutter_downloader.html#_18","title":"\u6587\u4ef6\u5b89\u5168","text":"<ul> <li>\u8def\u5f84\u9a8c\u8bc1: \u9a8c\u8bc1\u4e0b\u8f7d\u8def\u5f84\u5b89\u5168\u6027</li> <li>\u6587\u4ef6\u7c7b\u578b\u68c0\u67e5: \u68c0\u67e5\u5141\u8bb8\u7684\u6587\u4ef6\u7c7b\u578b</li> <li>\u75c5\u6bd2\u626b\u63cf: \u96c6\u6210\u5b89\u5168\u626b\u63cf\u673a\u5236</li> <li>\u6743\u9650\u63a7\u5236: \u4e25\u683c\u7684\u6587\u4ef6\u8bbf\u95ee\u6743\u9650</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_19","title":"\u7f51\u7edc\u5b89\u5168","text":"<ul> <li>HTTPS\u9a8c\u8bc1: \u5f3a\u5236HTTPS\u4e0b\u8f7d</li> <li>\u8bc1\u4e66\u6821\u9a8c: SSL\u8bc1\u4e66\u6709\u6548\u6027\u68c0\u67e5</li> <li>\u8bf7\u6c42\u5934\u9a8c\u8bc1: \u9632\u6b62\u6076\u610f\u8bf7\u6c42\u5934</li> <li>\u4e0b\u8f7d\u9650\u5236: \u6587\u4ef6\u5927\u5c0f\u548c\u7c7b\u578b\u9650\u5236</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_20","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"basic_utils/flutter_downloader.html#_21","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ul> <li>\u4e0b\u8f7d\u903b\u8f91\u6d4b\u8bd5: \u6838\u5fc3\u4e0b\u8f7d\u529f\u80fd</li> <li>\u72b6\u6001\u7ba1\u7406\u6d4b\u8bd5: \u4efb\u52a1\u72b6\u6001\u8f6c\u6362</li> <li>\u9519\u8bef\u5904\u7406\u6d4b\u8bd5: \u5f02\u5e38\u60c5\u51b5\u5904\u7406</li> <li>\u6570\u636e\u6a21\u578b\u6d4b\u8bd5: \u5e8f\u5217\u5316\u53cd\u5e8f\u5217\u5316</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_22","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<ul> <li>\u5e73\u53f0\u517c\u5bb9\u6d4b\u8bd5: \u4e0d\u540c\u5e73\u53f0\u4e0b\u8f7d\u529f\u80fd</li> <li>\u7f51\u7edc\u73af\u5883\u6d4b\u8bd5: \u4e0d\u540c\u7f51\u7edc\u6761\u4ef6</li> <li>\u5b58\u50a8\u6d4b\u8bd5: \u4e0d\u540c\u5b58\u50a8\u8def\u5f84\u548c\u6743\u9650</li> <li>\u5e76\u53d1\u6d4b\u8bd5: \u591a\u4efb\u52a1\u5e76\u53d1\u4e0b\u8f7d</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_23","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ul> <li>\u5927\u6587\u4ef6\u4e0b\u8f7d: \u5927\u6587\u4ef6\u4e0b\u8f7d\u7a33\u5b9a\u6027</li> <li>\u957f\u65f6\u95f4\u8fd0\u884c: \u957f\u671f\u540e\u53f0\u4e0b\u8f7d</li> <li>\u5185\u5b58\u4f7f\u7528: \u5185\u5b58\u6cc4\u6f0f\u68c0\u6d4b</li> <li>\u7535\u6c60\u6d88\u8017: \u4e0b\u8f7d\u5bf9\u7535\u6c60\u7684\u5f71\u54cd</li> </ul>"},{"location":"basic_utils/flutter_downloader.html#_24","title":"\u603b\u7ed3","text":"<p><code>flutter_downloader</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u6587\u4ef6\u4e0b\u8f7d\u5668\uff0c\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u8de8\u5e73\u53f0\u4e0b\u8f7d\u80fd\u529b\u3002\u901a\u8fc7\u539f\u751f\u5b9e\u73b0\u548cFlutter\u63a5\u53e3\u7684\u5b8c\u7f8e\u7ed3\u5408\uff0c\u5b9e\u73b0\u4e86\u9ad8\u6548\u3001\u7a33\u5b9a\u7684\u6587\u4ef6\u4e0b\u8f7d\u529f\u80fd\u3002\u6a21\u5757\u652f\u6301\u540e\u53f0\u4e0b\u8f7d\u3001\u65ad\u70b9\u7eed\u4f20\u3001\u8fdb\u5ea6\u76d1\u63a7\u7b49\u9ad8\u7ea7\u7279\u6027\uff0c\u80fd\u591f\u6ee1\u8db3\u5404\u79cd\u4e0b\u8f7d\u573a\u666f\u7684\u9700\u6c42\u3002\u826f\u597d\u7684\u9519\u8bef\u5904\u7406\u548c\u6027\u80fd\u4f18\u5316\u673a\u5236\u786e\u4fdd\u4e86\u4e0b\u8f7d\u4efb\u52a1\u7684\u53ef\u9760\u6027\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html","title":"Flutter Plugin MTPush Private \u7f8e\u56e2\u4e91\u63a8\u9001\u63d2\u4ef6","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>flutter_plugin_mtpush_private</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u7f8e\u56e2\u4e91\u63a8\u9001\u79c1\u6709\u7248\u63d2\u4ef6\uff0c\u57fa\u4e8e EngageLab \u7684\u63a8\u9001\u670d\u52a1\u5f00\u53d1\u3002\u8be5\u63d2\u4ef6\u4e3a Flutter \u5e94\u7528\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u63a8\u9001\u6d88\u606f\u529f\u80fd\uff0c\u5305\u62ec\u901a\u77e5\u63a8\u9001\u3001\u900f\u4f20\u6d88\u606f\u3001\u6807\u7b7e\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u652f\u6301 Android \u548c iOS \u53cc\u5e73\u53f0\u3002</p>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: flutter_plugin_mtpush_private</li> <li>\u7248\u672c: 3.0.1+2</li> <li>\u7c7b\u578b: Flutter Plugin\uff08\u539f\u751f\u63d2\u4ef6\uff09</li> <li>\u63cf\u8ff0: \u7f8e\u56e2\u4e91\u63a8\u9001\u79c1\u6709\u7248\u63d2\u4ef6</li> <li>Flutter \u7248\u672c: &gt;=1.20.0</li> <li>Dart \u7248\u672c: &gt;=2.12.0 &lt;4.0.0</li> <li>\u670d\u52a1\u63d0\u4f9b\u5546: EngageLab (https://www.engagelab.com/)</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u63a8\u9001\u6d88\u606f\u63a5\u6536    - \u901a\u77e5\u6d88\u606f\u63a5\u6536\u548c\u5c55\u793a    - \u900f\u4f20\u6d88\u606f\u63a5\u6536\u548c\u5904\u7406    - \u5bcc\u5a92\u4f53\u6d88\u606f\u652f\u6301    - \u81ea\u5b9a\u4e49\u6d88\u606f\u683c\u5f0f</p> </li> <li> <p>\u8bbe\u5907\u7ba1\u7406    - \u8bbe\u5907\u6ce8\u518c\u548c\u6ce8\u9500    - \u8bbe\u5907\u522b\u540d\u8bbe\u7f6e    - \u8bbe\u5907\u6807\u7b7e\u7ba1\u7406    - \u63a8\u9001\u5f00\u5173\u63a7\u5236</p> </li> <li> <p>\u6807\u7b7e\u548c\u522b\u540d    - \u7528\u6237\u6807\u7b7e\u8bbe\u7f6e    - \u522b\u540d\u7ed1\u5b9a\u7ba1\u7406    - \u6807\u7b7e\u5206\u7ec4\u63a8\u9001    - \u4e2a\u6027\u5316\u63a8\u9001</p> </li> <li> <p>\u7edf\u8ba1\u548c\u5206\u6790    - \u63a8\u9001\u5230\u8fbe\u7edf\u8ba1    - \u7528\u6237\u70b9\u51fb\u7edf\u8ba1    - \u8bbe\u5907\u6d3b\u8dc3\u7edf\u8ba1    - \u81ea\u5b9a\u4e49\u4e8b\u4ef6\u7edf\u8ba1</p> </li> </ol>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>flutter_plugin_mtpush_private/\n\u251c\u2500\u2500 lib/                        # Dart\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 flutter_plugin_mtpush_private.dart # \u63d2\u4ef6\u5165\u53e3\n\u2502   \u251c\u2500\u2500 src/                    # \u6e90\u4ee3\u7801\n\u2502   \u2502   \u251c\u2500\u2500 mtpush_flutter.dart # \u4e3b\u8981\u63a5\u53e3\n\u2502   \u2502   \u251c\u2500\u2500 mtpush_models.dart  # \u6570\u636e\u6a21\u578b\n\u2502   \u2502   \u251c\u2500\u2500 mtpush_constants.dart # \u5e38\u91cf\u5b9a\u4e49\n\u2502   \u2502   \u2514\u2500\u2500 mtpush_utils.dart   # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 flutter_plugin_mtpush_private_platform_interface.dart\n\u251c\u2500\u2500 android/                    # Android\u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 src/main/kotlin/\n\u2502   \u2502   \u2514\u2500\u2500 com/engagelab/privates/flutter_plugin_mtpush_private/\n\u2502   \u2502       \u251c\u2500\u2500 FlutterPluginMTPushPrivatePlugin.kt\n\u2502   \u2502       \u251c\u2500\u2500 MTPushReceiver.kt\n\u2502   \u2502       \u251c\u2500\u2500 NotificationHelper.kt\n\u2502   \u2502       \u2514\u2500\u2500 Utils.kt\n\u2502   \u2514\u2500\u2500 build.gradle\n\u251c\u2500\u2500 ios/                        # iOS\u539f\u751f\u5b9e\u73b0\n\u2502   \u251c\u2500\u2500 Classes/\n\u2502   \u2502   \u251c\u2500\u2500 FlutterPluginMTPushPrivatePlugin.h\n\u2502   \u2502   \u251c\u2500\u2500 FlutterPluginMTPushPrivatePlugin.m\n\u2502   \u2502   \u251c\u2500\u2500 MTPushNotificationDelegate.h\n\u2502   \u2502   \u2514\u2500\u2500 MTPushNotificationDelegate.m\n\u2502   \u2514\u2500\u2500 flutter_plugin_mtpush_private.podspec\n\u251c\u2500\u2500 example/                    # \u793a\u4f8b\u5e94\u7528\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>Flutter SDK</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#sdk","title":"\u539f\u751f SDK \u4f9d\u8d56","text":"<ul> <li>Android: EngageLab Android Push SDK</li> <li>iOS: EngageLab iOS Push SDK</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_9","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#1_flutter","title":"1. Flutter\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#srcmtpush_flutterdart","title":"\u4e3b\u63a5\u53e3 (<code>src/mtpush_flutter.dart</code>)","text":"<pre><code>class MTFlutterPush {\n  static const MethodChannel _channel = \n      MethodChannel('flutter_plugin_mtpush_private');\n\n  static const EventChannel _eventChannel = \n      EventChannel('flutter_plugin_mtpush_private_event');\n\n  // \u521d\u59cb\u5316\u63a8\u9001\u670d\u52a1\n  static Future&lt;void&gt; initialize({\n    required String appKey,\n    required String appSecret,\n    String? channel,\n    bool enableDebug = false,\n  }) async {\n    await _channel.invokeMethod('initialize', {\n      'appKey': appKey,\n      'appSecret': appSecret,\n      'channel': channel ?? 'default',\n      'enableDebug': enableDebug,\n    });\n  }\n\n  // \u83b7\u53d6\u8bbe\u5907\u6ce8\u518cID\n  static Future&lt;String?&gt; getRegistrationId() async {\n    return await _channel.invokeMethod('getRegistrationId');\n  }\n\n  // \u8bbe\u7f6e\u522b\u540d\n  static Future&lt;bool&gt; setAlias(String alias) async {\n    final result = await _channel.invokeMethod('setAlias', {'alias': alias});\n    return result == true;\n  }\n\n  // \u5220\u9664\u522b\u540d\n  static Future&lt;bool&gt; deleteAlias() async {\n    final result = await _channel.invokeMethod('deleteAlias');\n    return result == true;\n  }\n\n  // \u8bbe\u7f6e\u6807\u7b7e\n  static Future&lt;bool&gt; setTags(Set&lt;String&gt; tags) async {\n    final result = await _channel.invokeMethod('setTags', {'tags': tags.toList()});\n    return result == true;\n  }\n\n  // \u6dfb\u52a0\u6807\u7b7e\n  static Future&lt;bool&gt; addTags(Set&lt;String&gt; tags) async {\n    final result = await _channel.invokeMethod('addTags', {'tags': tags.toList()});\n    return result == true;\n  }\n\n  // \u5220\u9664\u6807\u7b7e\n  static Future&lt;bool&gt; deleteTags(Set&lt;String&gt; tags) async {\n    final result = await _channel.invokeMethod('deleteTags', {'tags': tags.toList()});\n    return result == true;\n  }\n\n  // \u6e05\u7a7a\u6240\u6709\u6807\u7b7e\n  static Future&lt;bool&gt; cleanTags() async {\n    final result = await _channel.invokeMethod('cleanTags');\n    return result == true;\n  }\n\n  // \u83b7\u53d6\u6240\u6709\u6807\u7b7e\n  static Future&lt;Set&lt;String&gt;?&gt; getAllTags() async {\n    final result = await _channel.invokeMethod('getAllTags');\n    if (result is List) {\n      return result.cast&lt;String&gt;().toSet();\n    }\n    return null;\n  }\n\n  // \u5f00\u542f\u63a8\u9001\n  static Future&lt;void&gt; resumePush() async {\n    await _channel.invokeMethod('resumePush');\n  }\n\n  // \u505c\u6b62\u63a8\u9001\n  static Future&lt;void&gt; stopPush() async {\n    await _channel.invokeMethod('stopPush');\n  }\n\n  // \u68c0\u67e5\u63a8\u9001\u662f\u5426\u505c\u6b62\n  static Future&lt;bool&gt; isPushStopped() async {\n    final result = await _channel.invokeMethod('isPushStopped');\n    return result == true;\n  }\n\n  // \u53d1\u9001\u672c\u5730\u901a\u77e5\n  static Future&lt;void&gt; sendLocalNotification(LocalNotification notification) async {\n    await _channel.invokeMethod('sendLocalNotification', notification.toMap());\n  }\n\n  // \u6dfb\u52a0\u63a8\u9001\u6d88\u606f\u76d1\u542c\u5668\n  static void addReceiveNotificationListener(\n    void Function(Map&lt;String, dynamic&gt; message) onReceive,\n  ) {\n    _eventChannel.receiveBroadcastStream('receiveNotification').listen((data) {\n      if (data is Map&lt;String, dynamic&gt;) {\n        onReceive(data);\n      }\n    });\n  }\n\n  // \u6dfb\u52a0\u63a8\u9001\u6d88\u606f\u70b9\u51fb\u76d1\u542c\u5668\n  static void addReceiveOpenNotificationListener(\n    void Function(Map&lt;String, dynamic&gt; message) onOpen,\n  ) {\n    _eventChannel.receiveBroadcastStream('openNotification').listen((data) {\n      if (data is Map&lt;String, dynamic&gt;) {\n        onOpen(data);\n      }\n    });\n  }\n\n  // \u6dfb\u52a0\u900f\u4f20\u6d88\u606f\u76d1\u542c\u5668\n  static void addReceiveMessageListener(\n    void Function(Map&lt;String, dynamic&gt; message) onMessage,\n  ) {\n    _eventChannel.receiveBroadcastStream('receiveMessage').listen((data) {\n      if (data is Map&lt;String, dynamic&gt;) {\n        onMessage(data);\n      }\n    });\n  }\n\n  // \u8bbe\u7f6e\u901a\u77e5\u680f\u6837\u5f0f\n  static Future&lt;void&gt; setNotificationStyle({\n    int? notificationStyle,\n    int? notificationMaxNumber,\n  }) async {\n    await _channel.invokeMethod('setNotificationStyle', {\n      'notificationStyle': notificationStyle,\n      'notificationMaxNumber': notificationMaxNumber,\n    });\n  }\n\n  // \u8bbe\u7f6e\u9759\u9ed8\u65f6\u95f4\n  static Future&lt;void&gt; setSilenceTime({\n    required int startHour,\n    required int startMinute,\n    required int endHour,\n    required int endMinute,\n  }) async {\n    await _channel.invokeMethod('setSilenceTime', {\n      'startHour': startHour,\n      'startMinute': startMinute,\n      'endHour': endHour,\n      'endMinute': endMinute,\n    });\n  }\n\n  // \u6e05\u7406\u901a\u77e5\n  static Future&lt;void&gt; clearAllNotifications() async {\n    await _channel.invokeMethod('clearAllNotifications');\n  }\n\n  // \u6e05\u7406\u6307\u5b9a\u901a\u77e5\n  static Future&lt;void&gt; clearNotificationById(int notificationId) async {\n    await _channel.invokeMethod('clearNotificationById', {\n      'notificationId': notificationId,\n    });\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#srcmtpush_modelsdart","title":"\u6570\u636e\u6a21\u578b (<code>src/mtpush_models.dart</code>)","text":"<pre><code>class LocalNotification {\n  final int id;\n  final String title;\n  final String content;\n  final String? subtitle;\n  final Map&lt;String, dynamic&gt;? extras;\n  final DateTime? fireTime;\n  final int? builderId;\n\n  const LocalNotification({\n    required this.id,\n    required this.title,\n    required this.content,\n    this.subtitle,\n    this.extras,\n    this.fireTime,\n    this.builderId,\n  });\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'id': id,\n      'title': title,\n      'content': content,\n      'subtitle': subtitle,\n      'extras': extras,\n      'fireTime': fireTime?.millisecondsSinceEpoch,\n      'builderId': builderId,\n    };\n  }\n\n  factory LocalNotification.fromMap(Map&lt;String, dynamic&gt; map) {\n    return LocalNotification(\n      id: map['id'] as int,\n      title: map['title'] as String,\n      content: map['content'] as String,\n      subtitle: map['subtitle'] as String?,\n      extras: map['extras'] as Map&lt;String, dynamic&gt;?,\n      fireTime: map['fireTime'] != null ? \n          DateTime.fromMillisecondsSinceEpoch(map['fireTime'] as int) : null,\n      builderId: map['builderId'] as int?,\n    );\n  }\n}\n\nclass PushMessage {\n  final String messageId;\n  final String title;\n  final String content;\n  final Map&lt;String, dynamic&gt; extras;\n  final int platform;\n  final DateTime receivedTime;\n\n  const PushMessage({\n    required this.messageId,\n    required this.title,\n    required this.content,\n    required this.extras,\n    required this.platform,\n    required this.receivedTime,\n  });\n\n  factory PushMessage.fromMap(Map&lt;String, dynamic&gt; map) {\n    return PushMessage(\n      messageId: map['messageId'] as String,\n      title: map['title'] as String,\n      content: map['content'] as String,\n      extras: map['extras'] as Map&lt;String, dynamic&gt;? ?? {},\n      platform: map['platform'] as int,\n      receivedTime: DateTime.fromMillisecondsSinceEpoch(\n        map['receivedTime'] as int,\n      ),\n    );\n  }\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'messageId': messageId,\n      'title': title,\n      'content': content,\n      'extras': extras,\n      'platform': platform,\n      'receivedTime': receivedTime.millisecondsSinceEpoch,\n    };\n  }\n}\n\nclass TagAliasResult {\n  final bool success;\n  final String? errorMessage;\n  final int? errorCode;\n  final Set&lt;String&gt;? tags;\n  final String? alias;\n\n  const TagAliasResult({\n    required this.success,\n    this.errorMessage,\n    this.errorCode,\n    this.tags,\n    this.alias,\n  });\n\n  factory TagAliasResult.fromMap(Map&lt;String, dynamic&gt; map) {\n    return TagAliasResult(\n      success: map['success'] as bool,\n      errorMessage: map['errorMessage'] as String?,\n      errorCode: map['errorCode'] as int?,\n      tags: (map['tags'] as List&lt;dynamic&gt;?)?.cast&lt;String&gt;().toSet(),\n      alias: map['alias'] as String?,\n    );\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#2_android","title":"2. Android\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#flutterpluginmtpushprivatepluginkt","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>FlutterPluginMTPushPrivatePlugin.kt</code>)","text":"<pre><code>class FlutterPluginMTPushPrivatePlugin: FlutterPlugin, MethodCallHandler {\n    private lateinit var channel: MethodChannel\n    private lateinit var eventChannel: EventChannel\n    private lateinit var context: Context\n    private var eventSink: EventChannel.EventSink? = null\n\n    override fun onAttachedToEngine(binding: FlutterPlugin.FlutterPluginBinding) {\n        channel = MethodChannel(binding.binaryMessenger, \"flutter_plugin_mtpush_private\")\n        eventChannel = EventChannel(binding.binaryMessenger, \"flutter_plugin_mtpush_private_event\")\n\n        context = binding.applicationContext\n        channel.setMethodCallHandler(this)\n\n        eventChannel.setStreamHandler(object : EventChannel.StreamHandler {\n            override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\n                eventSink = events\n            }\n\n            override fun onCancel(arguments: Any?) {\n                eventSink = null\n            }\n        })\n\n        // \u8bbe\u7f6e\u63a8\u9001\u6d88\u606f\u63a5\u6536\u5668\n        MTPushReceiver.setEventSink(eventSink)\n    }\n\n    override fun onMethodCall(call: MethodCall, result: Result) {\n        when (call.method) {\n            \"initialize\" -&gt; initialize(call, result)\n            \"getRegistrationId\" -&gt; getRegistrationId(result)\n            \"setAlias\" -&gt; setAlias(call, result)\n            \"deleteAlias\" -&gt; deleteAlias(result)\n            \"setTags\" -&gt; setTags(call, result)\n            \"addTags\" -&gt; addTags(call, result)\n            \"deleteTags\" -&gt; deleteTags(call, result)\n            \"cleanTags\" -&gt; cleanTags(result)\n            \"getAllTags\" -&gt; getAllTags(result)\n            \"resumePush\" -&gt; resumePush(result)\n            \"stopPush\" -&gt; stopPush(result)\n            \"isPushStopped\" -&gt; isPushStopped(result)\n            \"sendLocalNotification\" -&gt; sendLocalNotification(call, result)\n            \"setNotificationStyle\" -&gt; setNotificationStyle(call, result)\n            \"setSilenceTime\" -&gt; setSilenceTime(call, result)\n            \"clearAllNotifications\" -&gt; clearAllNotifications(result)\n            \"clearNotificationById\" -&gt; clearNotificationById(call, result)\n            else -&gt; result.notImplemented()\n        }\n    }\n\n    private fun initialize(call: MethodCall, result: Result) {\n        val appKey = call.argument&lt;String&gt;(\"appKey\")\n        val appSecret = call.argument&lt;String&gt;(\"appSecret\")\n        val channel = call.argument&lt;String&gt;(\"channel\") ?: \"default\"\n        val enableDebug = call.argument&lt;Boolean&gt;(\"enableDebug\") ?: false\n\n        if (appKey == null || appSecret == null) {\n            result.error(\"INVALID_ARGUMENTS\", \"AppKey and AppSecret are required\", null)\n            return\n        }\n\n        try {\n            // \u521d\u59cb\u5316\u7f8e\u56e2\u4e91\u63a8\u9001SDK\n            MTPushInterface.setDebugMode(enableDebug)\n            MTPushInterface.init(context, appKey, appSecret, channel)\n\n            // \u6ce8\u518c\u63a8\u9001\u670d\u52a1\n            MTPushInterface.register(context)\n\n            result.success(true)\n        } catch (e: Exception) {\n            result.error(\"INITIALIZATION_FAILED\", e.message, null)\n        }\n    }\n\n    private fun getRegistrationId(result: Result) {\n        val registrationId = MTPushInterface.getRegistrationId(context)\n        result.success(registrationId)\n    }\n\n    private fun setAlias(call: MethodCall, result: Result) {\n        val alias = call.argument&lt;String&gt;(\"alias\")\n        if (alias == null) {\n            result.error(\"INVALID_ARGUMENTS\", \"Alias is required\", null)\n            return\n        }\n\n        MTPushInterface.setAlias(context, alias, object : TagAliasCallback {\n            override fun gotResult(code: Int, alias: String?, tags: MutableSet&lt;String&gt;?) {\n                result.success(code == 0)\n            }\n        })\n    }\n\n    private fun setTags(call: MethodCall, result: Result) {\n        val tagsList = call.argument&lt;List&lt;String&gt;&gt;(\"tags\")\n        if (tagsList == null) {\n            result.error(\"INVALID_ARGUMENTS\", \"Tags are required\", null)\n            return\n        }\n\n        val tags = tagsList.toMutableSet()\n        MTPushInterface.setTags(context, tags, object : TagAliasCallback {\n            override fun gotResult(code: Int, alias: String?, tags: MutableSet&lt;String&gt;?) {\n                result.success(code == 0)\n            }\n        })\n    }\n\n    private fun sendLocalNotification(call: MethodCall, result: Result) {\n        val id = call.argument&lt;Int&gt;(\"id\") ?: 0\n        val title = call.argument&lt;String&gt;(\"title\")\n        val content = call.argument&lt;String&gt;(\"content\")\n        val fireTime = call.argument&lt;Long&gt;(\"fireTime\")\n\n        if (title == null || content == null) {\n            result.error(\"INVALID_ARGUMENTS\", \"Title and content are required\", null)\n            return\n        }\n\n        val notification = LocalNotification.Builder(context)\n            .setNotificationId(id)\n            .setTitle(title)\n            .setContent(content)\n\n        fireTime?.let {\n            notification.setFireTime(Date(it))\n        }\n\n        MTPushInterface.addLocalNotification(context, notification.build())\n        result.success(true)\n    }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#mtpushreceiverkt","title":"\u63a8\u9001\u6d88\u606f\u63a5\u6536\u5668 (<code>MTPushReceiver.kt</code>)","text":"<pre><code>class MTPushReceiver : BroadcastReceiver() {\n    companion object {\n        private var eventSink: EventChannel.EventSink? = null\n\n        fun setEventSink(sink: EventChannel.EventSink?) {\n            eventSink = sink\n        }\n    }\n\n    override fun onReceive(context: Context, intent: Intent) {\n        val bundle = intent.extras ?: return\n\n        when (intent.action) {\n            MTPushInterface.ACTION_REGISTRATION_ID -&gt; {\n                handleRegistration(bundle)\n            }\n            MTPushInterface.ACTION_MESSAGE_RECEIVED -&gt; {\n                handleMessageReceived(bundle)\n            }\n            MTPushInterface.ACTION_NOTIFICATION_RECEIVED -&gt; {\n                handleNotificationReceived(bundle)\n            }\n            MTPushInterface.ACTION_NOTIFICATION_OPENED -&gt; {\n                handleNotificationOpened(bundle)\n            }\n        }\n    }\n\n    private fun handleRegistration(bundle: Bundle) {\n        val registrationId = bundle.getString(MTPushInterface.EXTRA_REGISTRATION_ID)\n        // \u5904\u7406\u6ce8\u518cID\n    }\n\n    private fun handleMessageReceived(bundle: Bundle) {\n        val message = parseMessage(bundle)\n        eventSink?.success(mapOf(\n            \"event\" to \"receiveMessage\",\n            \"data\" to message\n        ))\n    }\n\n    private fun handleNotificationReceived(bundle: Bundle) {\n        val notification = parseNotification(bundle)\n        eventSink?.success(mapOf(\n            \"event\" to \"receiveNotification\",\n            \"data\" to notification\n        ))\n    }\n\n    private fun handleNotificationOpened(bundle: Bundle) {\n        val notification = parseNotification(bundle)\n        eventSink?.success(mapOf(\n            \"event\" to \"openNotification\",\n            \"data\" to notification\n        ))\n    }\n\n    private fun parseMessage(bundle: Bundle): Map&lt;String, Any&gt; {\n        return mapOf(\n            \"messageId\" to (bundle.getString(MTPushInterface.EXTRA_MSG_ID) ?: \"\"),\n            \"title\" to (bundle.getString(MTPushInterface.EXTRA_TITLE) ?: \"\"),\n            \"content\" to (bundle.getString(MTPushInterface.EXTRA_MESSAGE) ?: \"\"),\n            \"extras\" to parseExtras(bundle),\n            \"platform\" to 0, // Android\n            \"receivedTime\" to System.currentTimeMillis()\n        )\n    }\n\n    private fun parseNotification(bundle: Bundle): Map&lt;String, Any&gt; {\n        return mapOf(\n            \"messageId\" to (bundle.getString(MTPushInterface.EXTRA_MSG_ID) ?: \"\"),\n            \"title\" to (bundle.getString(MTPushInterface.EXTRA_NOTIFICATION_TITLE) ?: \"\"),\n            \"content\" to (bundle.getString(MTPushInterface.EXTRA_ALERT) ?: \"\"),\n            \"extras\" to parseExtras(bundle),\n            \"platform\" to 0, // Android\n            \"receivedTime\" to System.currentTimeMillis()\n        )\n    }\n\n    private fun parseExtras(bundle: Bundle): Map&lt;String, Any&gt; {\n        val extras = mutableMapOf&lt;String, Any&gt;()\n        val extrasString = bundle.getString(MTPushInterface.EXTRA_EXTRA)\n\n        extrasString?.let {\n            try {\n                val jsonObject = JSONObject(it)\n                val keys = jsonObject.keys()\n                while (keys.hasNext()) {\n                    val key = keys.next()\n                    extras[key] = jsonObject.get(key)\n                }\n            } catch (e: JSONException) {\n                // \u89e3\u6790\u5931\u8d25\uff0c\u8fd4\u56de\u7a7aMap\n            }\n        }\n\n        return extras\n    }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#3_ios","title":"3. iOS\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#flutterpluginmtpushprivatepluginm","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>FlutterPluginMTPushPrivatePlugin.m</code>)","text":"<pre><code>@implementation FlutterPluginMTPushPrivatePlugin\n\n+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar {\n    FlutterMethodChannel* channel = [FlutterMethodChannel\n        methodChannelWithName:@\"flutter_plugin_mtpush_private\"\n              binaryMessenger:[registrar messenger]];\n\n    FlutterEventChannel* eventChannel = [FlutterEventChannel\n        eventChannelWithName:@\"flutter_plugin_mtpush_private_event\"\n              binaryMessenger:[registrar messenger]];\n\n    FlutterPluginMTPushPrivatePlugin* instance = [[FlutterPluginMTPushPrivatePlugin alloc] init];\n    [registrar addMethodCallDelegate:instance channel:channel];\n    [eventChannel setStreamHandler:instance];\n}\n\n- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {\n    if ([@\"initialize\" isEqualToString:call.method]) {\n        [self initialize:call result:result];\n    } else if ([@\"getRegistrationId\" isEqualToString:call.method]) {\n        [self getRegistrationId:result];\n    } else if ([@\"setAlias\" isEqualToString:call.method]) {\n        [self setAlias:call result:result];\n    } else if ([@\"setTags\" isEqualToString:call.method]) {\n        [self setTags:call result:result];\n    } else if ([@\"sendLocalNotification\" isEqualToString:call.method]) {\n        [self sendLocalNotification:call result:result];\n    } else {\n        result(FlutterMethodNotImplemented);\n    }\n}\n\n- (void)initialize:(FlutterMethodCall*)call result:(FlutterResult)result {\n    NSString* appKey = call.arguments[@\"appKey\"];\n    NSString* appSecret = call.arguments[@\"appSecret\"];\n    NSString* channel = call.arguments[@\"channel\"] ?: @\"default\";\n    BOOL enableDebug = [call.arguments[@\"enableDebug\"] boolValue];\n\n    if (!appKey || !appSecret) {\n        result([FlutterError errorWithCode:@\"INVALID_ARGUMENTS\"\n                                  message:@\"AppKey and AppSecret are required\"\n                                  details:nil]);\n        return;\n    }\n\n    // \u521d\u59cb\u5316\u7f8e\u56e2\u4e91\u63a8\u9001SDK\n    [MTPushService setupWithOption:nil\n                            appKey:appKey\n                            appSecret:appSecret\n                            channel:channel\n                            apsForProduction:NO];\n\n    if (enableDebug) {\n        [MTPushService setDebugMode];\n    }\n\n    // \u6ce8\u518c\u63a8\u9001\u670d\u52a1\n    [MTPushService registerForRemoteNotificationTypes:(UIUserNotificationTypeBadge |\n                                                       UIUserNotificationTypeSound |\n                                                       UIUserNotificationTypeAlert)\n                                            categories:nil];\n\n    result(@YES);\n}\n\n- (void)getRegistrationId:(FlutterResult)result {\n    NSString* registrationId = [MTPushService registrationID];\n    result(registrationId);\n}\n\n- (void)setAlias:(FlutterMethodCall*)call result:(FlutterResult)result {\n    NSString* alias = call.arguments[@\"alias\"];\n\n    [MTPushService setAlias:alias\n                 completion:^(NSInteger iResCode, NSString *iAlias, NSInteger seq) {\n                     result(@(iResCode == 0));\n                 }\n                        seq:0];\n}\n\n- (void)setTags:(FlutterMethodCall*)call result:(FlutterResult)result {\n    NSArray* tagsArray = call.arguments[@\"tags\"];\n    NSSet* tags = [NSSet setWithArray:tagsArray];\n\n    [MTPushService setTags:tags\n                completion:^(NSInteger iResCode, NSSet *iTags, NSInteger seq) {\n                    result(@(iResCode == 0));\n                }\n                       seq:0];\n}\n\n#pragma mark - FlutterStreamHandler\n\n- (FlutterError*)onListenWithArguments:(id)arguments eventSink:(FlutterEventSink)events {\n    _eventSink = events;\n    return nil;\n}\n\n- (FlutterError*)onCancelWithArguments:(id)arguments {\n    _eventSink = nil;\n    return nil;\n}\n\n@end\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_10","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_11","title":"\u57fa\u7840\u63a8\u9001\u529f\u80fd","text":"<pre><code>class PushExample extends StatefulWidget {\n  @override\n  _PushExampleState createState() =&gt; _PushExampleState();\n}\n\nclass _PushExampleState extends State&lt;PushExample&gt; {\n  String? _registrationId;\n  List&lt;PushMessage&gt; _receivedMessages = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _initializePush();\n  }\n\n  Future&lt;void&gt; _initializePush() async {\n    // \u521d\u59cb\u5316\u63a8\u9001\u670d\u52a1\n    await MTFlutterPush.initialize(\n      appKey: 'your_app_key',\n      appSecret: 'your_app_secret',\n      channel: 'default',\n      enableDebug: true,\n    );\n\n    // \u83b7\u53d6\u6ce8\u518cID\n    final regId = await MTFlutterPush.getRegistrationId();\n    setState(() {\n      _registrationId = regId;\n    });\n\n    // \u8bbe\u7f6e\u7528\u6237\u522b\u540d\n    await MTFlutterPush.setAlias('user_123');\n\n    // \u8bbe\u7f6e\u7528\u6237\u6807\u7b7e\n    await MTFlutterPush.setTags({'VIP', 'iOS', 'Beijing'});\n\n    // \u76d1\u542c\u63a8\u9001\u6d88\u606f\n    _setupPushListeners();\n  }\n\n  void _setupPushListeners() {\n    // \u76d1\u542c\u901a\u77e5\u6d88\u606f\u63a5\u6536\n    MTFlutterPush.addReceiveNotificationListener((message) {\n      print('Received notification: $message');\n      _addMessage(PushMessage.fromMap(message));\n    });\n\n    // \u76d1\u542c\u901a\u77e5\u6d88\u606f\u70b9\u51fb\n    MTFlutterPush.addReceiveOpenNotificationListener((message) {\n      print('Opened notification: $message');\n      _handleNotificationClick(PushMessage.fromMap(message));\n    });\n\n    // \u76d1\u542c\u900f\u4f20\u6d88\u606f\n    MTFlutterPush.addReceiveMessageListener((message) {\n      print('Received message: $message');\n      _handleTransparentMessage(PushMessage.fromMap(message));\n    });\n  }\n\n  void _addMessage(PushMessage message) {\n    setState(() {\n      _receivedMessages.insert(0, message);\n    });\n  }\n\n  void _handleNotificationClick(PushMessage message) {\n    // \u5904\u7406\u901a\u77e5\u70b9\u51fb\u4e8b\u4ef6\n    if (message.extras.containsKey('page')) {\n      String targetPage = message.extras['page'];\n      // \u6839\u636e\u9875\u9762\u53c2\u6570\u8fdb\u884c\u8df3\u8f6c\n      _navigateToPage(targetPage);\n    }\n  }\n\n  void _handleTransparentMessage(PushMessage message) {\n    // \u5904\u7406\u900f\u4f20\u6d88\u606f\n    if (message.extras.containsKey('action')) {\n      String action = message.extras['action'];\n      switch (action) {\n        case 'refresh_data':\n          _refreshAppData();\n          break;\n        case 'show_dialog':\n          _showCustomDialog(message.content);\n          break;\n      }\n    }\n  }\n\n  void _navigateToPage(String page) {\n    // \u9875\u9762\u8df3\u8f6c\u903b\u8f91\n  }\n\n  void _refreshAppData() {\n    // \u5237\u65b0\u5e94\u7528\u6570\u636e\n  }\n\n  void _showCustomDialog(String content) {\n    showDialog(\n      context: context,\n      builder: (context) =&gt; AlertDialog(\n        title: Text('\u63a8\u9001\u6d88\u606f'),\n        content: Text(content),\n        actions: [\n          TextButton(\n            onPressed: () =&gt; Navigator.of(context).pop(),\n            child: Text('\u786e\u5b9a'),\n          ),\n        ],\n      ),\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u63a8\u9001\u793a\u4f8b')),\n      body: Column(\n        children: [\n          Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Text('\u6ce8\u518cID: ${_registrationId ?? \"\u83b7\u53d6\u4e2d...\"}'),\n                SizedBox(height: 16),\n                Row(\n                  children: [\n                    ElevatedButton(\n                      onPressed: _sendLocalNotification,\n                      child: Text('\u53d1\u9001\u672c\u5730\u901a\u77e5'),\n                    ),\n                    SizedBox(width: 8),\n                    ElevatedButton(\n                      onPressed: _clearAllNotifications,\n                      child: Text('\u6e05\u9664\u6240\u6709\u901a\u77e5'),\n                    ),\n                  ],\n                ),\n              ],\n            ),\n          ),\n          Expanded(\n            child: ListView.builder(\n              itemCount: _receivedMessages.length,\n              itemBuilder: (context, index) {\n                final message = _receivedMessages[index];\n                return ListTile(\n                  title: Text(message.title),\n                  subtitle: Text(message.content),\n                  trailing: Text(\n                    DateFormat('HH:mm:ss').format(message.receivedTime),\n                  ),\n                );\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _sendLocalNotification() {\n    final notification = LocalNotification(\n      id: DateTime.now().millisecondsSinceEpoch,\n      title: '\u672c\u5730\u901a\u77e5',\n      content: '\u8fd9\u662f\u4e00\u6761\u672c\u5730\u63a8\u9001\u901a\u77e5',\n      fireTime: DateTime.now().add(Duration(seconds: 5)),\n    );\n\n    MTFlutterPush.sendLocalNotification(notification);\n  }\n\n  void _clearAllNotifications() {\n    MTFlutterPush.clearAllNotifications();\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_12","title":"\u9ad8\u7ea7\u63a8\u9001\u7ba1\u7406","text":"<pre><code>class AdvancedPushManager {\n  static final AdvancedPushManager _instance = AdvancedPushManager._internal();\n  factory AdvancedPushManager() =&gt; _instance;\n  AdvancedPushManager._internal();\n\n  bool _isInitialized = false;\n  String? _currentUserId;\n  Set&lt;String&gt; _currentTags = {};\n\n  Future&lt;void&gt; initialize() async {\n    if (_isInitialized) return;\n\n    await MTFlutterPush.initialize(\n      appKey: Config.mtpushAppKey,\n      appSecret: Config.mtpushAppSecret,\n      enableDebug: Config.isDebugMode,\n    );\n\n    _setupMessageHandlers();\n    _isInitialized = true;\n  }\n\n  Future&lt;void&gt; setUser({\n    required String userId,\n    Set&lt;String&gt;? tags,\n    Map&lt;String, dynamic&gt;? userInfo,\n  }) async {\n    _currentUserId = userId;\n\n    // \u8bbe\u7f6e\u522b\u540d\n    await MTFlutterPush.setAlias(userId);\n\n    // \u8bbe\u7f6e\u6807\u7b7e\n    if (tags != null) {\n      _currentTags = tags;\n      await MTFlutterPush.setTags(tags);\n    }\n\n    // \u53ef\u4ee5\u5c06\u7528\u6237\u4fe1\u606f\u53d1\u9001\u5230\u670d\u52a1\u5668\n    if (userInfo != null) {\n      await _uploadUserInfo(userId, userInfo);\n    }\n  }\n\n  Future&lt;void&gt; addUserTags(Set&lt;String&gt; tags) async {\n    _currentTags.addAll(tags);\n    await MTFlutterPush.addTags(tags);\n  }\n\n  Future&lt;void&gt; removeUserTags(Set&lt;String&gt; tags) async {\n    _currentTags.removeAll(tags);\n    await MTFlutterPush.deleteTags(tags);\n  }\n\n  Future&lt;void&gt; logout() async {\n    _currentUserId = null;\n    _currentTags.clear();\n\n    await MTFlutterPush.deleteAlias();\n    await MTFlutterPush.cleanTags();\n  }\n\n  void _setupMessageHandlers() {\n    // \u8bbe\u7f6e\u901a\u77e5\u6d88\u606f\u5904\u7406\n    MTFlutterPush.addReceiveNotificationListener(_handleNotification);\n    MTFlutterPush.addReceiveOpenNotificationListener(_handleNotificationClick);\n    MTFlutterPush.addReceiveMessageListener(_handleTransparentMessage);\n  }\n\n  void _handleNotification(Map&lt;String, dynamic&gt; message) {\n    // \u8bb0\u5f55\u901a\u77e5\u63a5\u6536\u4e8b\u4ef6\n    _trackEvent('notification_received', message);\n\n    // \u66f4\u65b0\u5e94\u7528\u89d2\u6807\n    _updateAppBadge();\n  }\n\n  void _handleNotificationClick(Map&lt;String, dynamic&gt; message) {\n    // \u8bb0\u5f55\u901a\u77e5\u70b9\u51fb\u4e8b\u4ef6\n    _trackEvent('notification_clicked', message);\n\n    // \u5904\u7406\u6df1\u5ea6\u94fe\u63a5\n    if (message['extras'] != null) {\n      final extras = message['extras'] as Map&lt;String, dynamic&gt;;\n      _handleDeepLink(extras);\n    }\n  }\n\n  void _handleTransparentMessage(Map&lt;String, dynamic&gt; message) {\n    // \u8bb0\u5f55\u900f\u4f20\u6d88\u606f\u4e8b\u4ef6\n    _trackEvent('message_received', message);\n\n    // \u5904\u7406\u4e1a\u52a1\u903b\u8f91\n    final extras = message['extras'] as Map&lt;String, dynamic&gt;? ?? {};\n    _processBusinessMessage(extras);\n  }\n\n  void _handleDeepLink(Map&lt;String, dynamic&gt; extras) {\n    if (extras.containsKey('deeplink')) {\n      final deeplink = extras['deeplink'] as String;\n      // \u5904\u7406\u6df1\u5ea6\u94fe\u63a5\u8df3\u8f6c\n      DeepLinkHandler.handle(deeplink);\n    }\n  }\n\n  void _processBusinessMessage(Map&lt;String, dynamic&gt; extras) {\n    final action = extras['action'] as String?;\n\n    switch (action) {\n      case 'refresh_user_info':\n        UserService.refreshUserInfo();\n        break;\n      case 'update_config':\n        ConfigService.updateRemoteConfig();\n        break;\n      case 'force_logout':\n        AuthService.forceLogout();\n        break;\n    }\n  }\n\n  void _trackEvent(String eventName, Map&lt;String, dynamic&gt; data) {\n    // \u53d1\u9001\u4e8b\u4ef6\u7edf\u8ba1\n    AnalyticsService.trackEvent(eventName, data);\n  }\n\n  void _updateAppBadge() {\n    // \u66f4\u65b0\u5e94\u7528\u89d2\u6807\u6570\u91cf\n    // \u53ef\u4ee5\u8c03\u7528\u539f\u751f\u65b9\u6cd5\u6216\u4f7f\u7528\u5176\u4ed6\u63d2\u4ef6\n  }\n\n  Future&lt;void&gt; _uploadUserInfo(String userId, Map&lt;String, dynamic&gt; userInfo) async {\n    // \u5c06\u7528\u6237\u4fe1\u606f\u4e0a\u4f20\u5230\u63a8\u9001\u670d\u52a1\u5668\n    // \u7528\u4e8e\u7cbe\u51c6\u63a8\u9001\n  }\n\n  Future&lt;void&gt; schedulePushSettings({\n    int? silenceStartHour,\n    int? silenceStartMinute,\n    int? silenceEndHour,\n    int? silenceEndMinute,\n  }) async {\n    if (silenceStartHour != null &amp;&amp; silenceEndHour != null) {\n      await MTFlutterPush.setSilenceTime(\n        startHour: silenceStartHour,\n        startMinute: silenceStartMinute ?? 0,\n        endHour: silenceEndHour,\n        endMinute: silenceEndMinute ?? 0,\n      );\n    }\n  }\n}\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_13","title":"\u914d\u7f6e\u548c\u90e8\u7f72","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#android","title":"Android\u914d\u7f6e","text":"<pre><code>&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n\n&lt;application&gt;\n    &lt;!-- \u7f8e\u56e2\u4e91\u63a8\u9001\u670d\u52a1\u914d\u7f6e --&gt;\n    &lt;meta-data\n        android:name=\"MTPUSH_APPKEY\"\n        android:value=\"your_app_key\" /&gt;\n    &lt;meta-data\n        android:name=\"MTPUSH_CHANNEL\"\n        android:value=\"default\" /&gt;\n\n    &lt;!-- \u63a8\u9001\u6d88\u606f\u63a5\u6536\u5668 --&gt;\n    &lt;receiver android:name=\"com.engagelab.privates.flutter_plugin_mtpush_private.MTPushReceiver\"&gt;\n        &lt;intent-filter android:priority=\"1000\"&gt;\n            &lt;action android:name=\"cn.mtpush.android.intent.REGISTRATION\" /&gt;\n            &lt;action android:name=\"cn.mtpush.android.intent.MESSAGE_RECEIVED\" /&gt;\n            &lt;action android:name=\"cn.mtpush.android.intent.NOTIFICATION_RECEIVED\" /&gt;\n            &lt;action android:name=\"cn.mtpush.android.intent.NOTIFICATION_OPENED\" /&gt;\n            &lt;category android:name=\"your_package_name\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n&lt;/application&gt;\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#ios","title":"iOS\u914d\u7f6e","text":"<pre><code>&lt;!-- ios/Runner/Info.plist --&gt;\n&lt;key&gt;UIBackgroundModes&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;remote-notification&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_14","title":"\u63a8\u9001\u8bc1\u4e66\u914d\u7f6e","text":"<ul> <li>\u5f00\u53d1\u73af\u5883: \u914d\u7f6e\u5f00\u53d1\u63a8\u9001\u8bc1\u4e66</li> <li>\u751f\u4ea7\u73af\u5883: \u914d\u7f6e\u751f\u4ea7\u63a8\u9001\u8bc1\u4e66</li> <li>\u8bc1\u4e66\u7ba1\u7406: \u5b9a\u671f\u66f4\u65b0\u63a8\u9001\u8bc1\u4e66</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_15","title":"\u5b89\u5168\u7279\u6027","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_16","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u4f20\u8f93\u52a0\u5bc6: \u63a8\u9001\u6d88\u606f\u4f20\u8f93\u52a0\u5bc6</li> <li>\u8eab\u4efd\u9a8c\u8bc1: \u8bbe\u5907\u8eab\u4efd\u9a8c\u8bc1\u673a\u5236</li> <li>\u9632\u91cd\u653e: \u9632\u6b62\u63a8\u9001\u6d88\u606f\u91cd\u653e\u653b\u51fb</li> <li>\u6570\u636e\u6821\u9a8c: \u63a8\u9001\u6d88\u606f\u5b8c\u6574\u6027\u6821\u9a8c</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_17","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u7528\u6237\u540c\u610f: \u660e\u786e\u7684\u63a8\u9001\u6743\u9650\u7533\u8bf7</li> <li>\u6570\u636e\u6700\u5c0f\u5316: \u4ec5\u6536\u96c6\u5fc5\u8981\u7684\u8bbe\u5907\u4fe1\u606f</li> <li>\u533f\u540d\u5316: \u7528\u6237\u6570\u636e\u533f\u540d\u5316\u5904\u7406</li> <li>\u900f\u660e\u5ea6: \u6e05\u6670\u7684\u9690\u79c1\u653f\u7b56\u8bf4\u660e</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_18","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_19","title":"\u63a8\u9001\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u63a8\u9001: \u57fa\u4e8e\u7528\u6237\u884c\u4e3a\u7684\u667a\u80fd\u63a8\u9001</li> <li>\u9891\u7387\u63a7\u5236: \u63a8\u9001\u9891\u7387\u9650\u5236\u673a\u5236</li> <li>\u65f6\u6bb5\u63a7\u5236: \u9759\u9ed8\u65f6\u95f4\u8bbe\u7f6e</li> <li>\u5185\u5bb9\u4f18\u5316: \u63a8\u9001\u5185\u5bb9\u4e2a\u6027\u5316</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_20","title":"\u8d44\u6e90\u7ba1\u7406","text":"<ul> <li>\u5185\u5b58\u4f18\u5316: \u53ca\u65f6\u91ca\u653e\u63a8\u9001\u76f8\u5173\u8d44\u6e90</li> <li>\u7535\u6c60\u4f18\u5316: \u51cf\u5c11\u63a8\u9001\u670d\u52a1\u7535\u6c60\u6d88\u8017</li> <li>\u7f51\u7edc\u4f18\u5316: \u4f18\u5316\u63a8\u9001\u7f51\u7edc\u8bf7\u6c42</li> <li>\u5b58\u50a8\u4f18\u5316: \u5408\u7406\u7ba1\u7406\u63a8\u9001\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"basic_utils/flutter_plugin_mtpush_private.html#_21","title":"\u603b\u7ed3","text":"<p><code>flutter_plugin_mtpush_private</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u7f8e\u56e2\u4e91\u63a8\u9001\u79c1\u6709\u7248\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u8de8\u5e73\u53f0\u63a8\u9001\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u4e0e EngageLab \u63a8\u9001\u670d\u52a1\u7684\u6df1\u5ea6\u96c6\u6210\uff0c\u5b9e\u73b0\u4e86\u9ad8\u6548\u3001\u53ef\u9760\u7684\u6d88\u606f\u63a8\u9001\u529f\u80fd\u3002\u6a21\u5757\u652f\u6301\u4e30\u5bcc\u7684\u63a8\u9001\u7c7b\u578b\u3001\u7cbe\u51c6\u7684\u7528\u6237\u5b9a\u4f4d\u548c\u5b8c\u5584\u7684\u7edf\u8ba1\u5206\u6790\uff0c\u80fd\u591f\u6ee1\u8db3\u5404\u79cd\u63a8\u9001\u573a\u666f\u7684\u9700\u6c42\u3002\u826f\u597d\u7684\u5b89\u5168\u4fdd\u62a4\u548c\u6027\u80fd\u4f18\u5316\u673a\u5236\u786e\u4fdd\u4e86\u63a8\u9001\u670d\u52a1\u7684\u7a33\u5b9a\u6027\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"basic_utils/kit_app_monitor.html","title":"Kit App Monitor \u5e94\u7528\u76d1\u63a7\u5de5\u5177\u5305","text":""},{"location":"basic_utils/kit_app_monitor.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>kit_app_monitor</code> \u662f OneApp \u57fa\u7840\u5de5\u5177\u6a21\u5757\u7fa4\u4e2d\u7684\u5e94\u7528\u76d1\u63a7\u5de5\u5177\u5305\uff0c\u8d1f\u8d23\u5b9e\u65f6\u76d1\u63a7\u5e94\u7528\u7684\u6027\u80fd\u6307\u6807\u3001\u5f02\u5e38\u60c5\u51b5\u3001\u7528\u6237\u884c\u4e3a\u7b49\u5173\u952e\u6570\u636e\u3002\u8be5\u63d2\u4ef6\u901a\u8fc7\u539f\u751f\u5e73\u53f0\u80fd\u529b\uff0c\u4e3a\u5e94\u7528\u63d0\u4f9b\u5168\u9762\u7684\u76d1\u63a7\u548c\u5206\u6790\u529f\u80fd\u3002</p>"},{"location":"basic_utils/kit_app_monitor.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: kit_app_monitor</li> <li>\u7248\u672c: 0.0.2+1</li> <li>\u7c7b\u578b: Flutter Plugin\uff08\u539f\u751f\u63d2\u4ef6\uff09</li> <li>\u63cf\u8ff0: \u5e94\u7528\u76d1\u63a7\u5de5\u5177\u5305</li> <li>Flutter \u7248\u672c: &gt;=3.0.0</li> <li>Dart \u7248\u672c: &gt;=3.0.0&lt;4.0.0</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_3","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"basic_utils/kit_app_monitor.html#_4","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u6027\u80fd\u76d1\u63a7    - CPU\u4f7f\u7528\u7387\u76d1\u63a7    - \u5185\u5b58\u4f7f\u7528\u76d1\u63a7    - \u7f51\u7edc\u8bf7\u6c42\u6027\u80fd    - \u5e27\u7387(FPS)\u76d1\u63a7</p> </li> <li> <p>\u5f02\u5e38\u76d1\u63a7    - Crash\u5d29\u6e83\u76d1\u63a7    - ANR(\u5e94\u7528\u65e0\u54cd\u5e94)\u68c0\u6d4b    - \u7f51\u7edc\u5f02\u5e38\u76d1\u63a7    - \u81ea\u5b9a\u4e49\u5f02\u5e38\u4e0a\u62a5</p> </li> <li> <p>\u7528\u6237\u884c\u4e3a\u5206\u6790    - \u9875\u9762\u8bbf\u95ee\u7edf\u8ba1    - \u7528\u6237\u64cd\u4f5c\u8f68\u8ff9    - \u529f\u80fd\u4f7f\u7528\u9891\u7387    - \u7528\u6237\u7559\u5b58\u5206\u6790</p> </li> <li> <p>\u8bbe\u5907\u4fe1\u606f\u6536\u96c6    - \u8bbe\u5907\u786c\u4ef6\u4fe1\u606f    - \u7cfb\u7edf\u7248\u672c\u4fe1\u606f    - \u5e94\u7528\u7248\u672c\u4fe1\u606f    - \u7f51\u7edc\u73af\u5883\u4fe1\u606f</p> </li> </ol>"},{"location":"basic_utils/kit_app_monitor.html#_5","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"basic_utils/kit_app_monitor.html#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>kit_app_monitor/\n\u251c\u2500\u2500 lib/                        # Dart\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 kit_app_monitor.dart    # \u63d2\u4ef6\u5165\u53e3\n\u2502   \u251c\u2500\u2500 src/                    # \u6e90\u4ee3\u7801\n\u2502   \u2502   \u251c\u2500\u2500 platform_interface.dart # \u5e73\u53f0\u63a5\u53e3\u5b9a\u4e49\n\u2502   \u2502   \u251c\u2500\u2500 method_channel.dart     # \u65b9\u6cd5\u901a\u9053\u5b9e\u73b0\n\u2502   \u2502   \u251c\u2500\u2500 models/                 # \u6570\u636e\u6a21\u578b\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 performance_data.dart\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 crash_report.dart\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 user_behavior.dart\n\u2502   \u2502   \u2514\u2500\u2500 utils/                  # \u5de5\u5177\u7c7b\n\u2502   \u2514\u2500\u2500 kit_app_monitor_platform_interface.dart\n\u251c\u2500\u2500 android/                    # Android\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 src/main/kotlin/\n\u2502   \u2502   \u2514\u2500\u2500 com/cariadcn/kit_app_monitor/\n\u2502   \u2502       \u251c\u2500\u2500 KitAppMonitorPlugin.kt\n\u2502   \u2502       \u251c\u2500\u2500 PerformanceMonitor.kt\n\u2502   \u2502       \u251c\u2500\u2500 CrashHandler.kt\n\u2502   \u2502       \u2514\u2500\u2500 BehaviorTracker.kt\n\u2502   \u2514\u2500\u2500 build.gradle\n\u251c\u2500\u2500 ios/                        # iOS\u539f\u751f\u4ee3\u7801\n\u2502   \u251c\u2500\u2500 Classes/\n\u2502   \u2502   \u251c\u2500\u2500 KitAppMonitorPlugin.swift\n\u2502   \u2502   \u251c\u2500\u2500 PerformanceMonitor.swift\n\u2502   \u2502   \u251c\u2500\u2500 CrashHandler.swift\n\u2502   \u2502   \u2514\u2500\u2500 BehaviorTracker.swift\n\u2502   \u2514\u2500\u2500 kit_app_monitor.podspec\n\u251c\u2500\u2500 example/                    # \u793a\u4f8b\u5e94\u7528\n\u2514\u2500\u2500 test/                       # \u6d4b\u8bd5\u6587\u4ef6\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_7","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"basic_utils/kit_app_monitor.html#_8","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li><code>plugin_platform_interface: ^2.0.2</code> - \u63d2\u4ef6\u5e73\u53f0\u63a5\u53e3</li> <li><code>json_annotation: ^4.8.1</code> - JSON\u5e8f\u5217\u5316</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_9","title":"\u5f00\u53d1\u4f9d\u8d56","text":"<ul> <li><code>json_serializable: ^6.7.0</code> - JSON\u5e8f\u5217\u5316\u4ee3\u7801\u751f\u6210</li> <li><code>build_runner: any</code> - \u4ee3\u7801\u751f\u6210\u5f15\u64ce</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_10","title":"\u6838\u5fc3\u6a21\u5757\u5206\u6790","text":""},{"location":"basic_utils/kit_app_monitor.html#1_flutter","title":"1. Flutter\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/kit_app_monitor.html#libkit_app_monitordart","title":"\u63d2\u4ef6\u5165\u53e3 (<code>lib/kit_app_monitor.dart</code>)","text":"<pre><code>class KitAppMonitor {\n  static const MethodChannel _channel = MethodChannel('kit_app_monitor');\n\n  static bool _isInitialized = false;\n  static StreamController&lt;PerformanceData&gt;? _performanceController;\n  static StreamController&lt;CrashReport&gt;? _crashController;\n  static StreamController&lt;UserBehavior&gt;? _behaviorController;\n\n  /// \u521d\u59cb\u5316\u76d1\u63a7\n  static Future&lt;void&gt; initialize({\n    bool enablePerformanceMonitoring = true,\n    bool enableCrashReporting = true,\n    bool enableBehaviorTracking = true,\n    String? userId,\n    Map&lt;String, dynamic&gt;? customProperties,\n  }) async {\n    if (_isInitialized) return;\n\n    await _channel.invokeMethod('initialize', {\n      'enablePerformanceMonitoring': enablePerformanceMonitoring,\n      'enableCrashReporting': enableCrashReporting,\n      'enableBehaviorTracking': enableBehaviorTracking,\n      'userId': userId,\n      'customProperties': customProperties,\n    });\n\n    _setupEventChannels();\n    _isInitialized = true;\n  }\n\n  /// \u8bbe\u7f6e\u7528\u6237ID\n  static Future&lt;void&gt; setUserId(String userId) async {\n    await _channel.invokeMethod('setUserId', {'userId': userId});\n  }\n\n  /// \u8bbe\u7f6e\u81ea\u5b9a\u4e49\u5c5e\u6027\n  static Future&lt;void&gt; setCustomProperty(String key, dynamic value) async {\n    await _channel.invokeMethod('setCustomProperty', {\n      'key': key,\n      'value': value,\n    });\n  }\n\n  /// \u8bb0\u5f55\u81ea\u5b9a\u4e49\u4e8b\u4ef6\n  static Future&lt;void&gt; recordEvent(String eventName, Map&lt;String, dynamic&gt;? parameters) async {\n    await _channel.invokeMethod('recordEvent', {\n      'eventName': eventName,\n      'parameters': parameters,\n    });\n  }\n\n  /// \u8bb0\u5f55\u9875\u9762\u8bbf\u95ee\n  static Future&lt;void&gt; recordPageView(String pageName) async {\n    await _channel.invokeMethod('recordPageView', {'pageName': pageName});\n  }\n\n  /// \u8bb0\u5f55\u7f51\u7edc\u8bf7\u6c42\n  static Future&lt;void&gt; recordNetworkRequest({\n    required String url,\n    required String method,\n    required int statusCode,\n    required int responseTime,\n    int? requestSize,\n    int? responseSize,\n  }) async {\n    await _channel.invokeMethod('recordNetworkRequest', {\n      'url': url,\n      'method': method,\n      'statusCode': statusCode,\n      'responseTime': responseTime,\n      'requestSize': requestSize,\n      'responseSize': responseSize,\n    });\n  }\n\n  /// \u624b\u52a8\u8bb0\u5f55\u5f02\u5e38\n  static Future&lt;void&gt; recordException({\n    required String name,\n    required String reason,\n    String? stackTrace,\n    Map&lt;String, dynamic&gt;? customData,\n  }) async {\n    await _channel.invokeMethod('recordException', {\n      'name': name,\n      'reason': reason,\n      'stackTrace': stackTrace,\n      'customData': customData,\n    });\n  }\n\n  /// \u83b7\u53d6\u6027\u80fd\u6570\u636e\u6d41\n  static Stream&lt;PerformanceData&gt; get performanceStream {\n    _performanceController ??= StreamController&lt;PerformanceData&gt;.broadcast();\n    return _performanceController!.stream;\n  }\n\n  /// \u83b7\u53d6\u5d29\u6e83\u62a5\u544a\u6d41\n  static Stream&lt;CrashReport&gt; get crashStream {\n    _crashController ??= StreamController&lt;CrashReport&gt;.broadcast();\n    return _crashController!.stream;\n  }\n\n  /// \u83b7\u53d6\u7528\u6237\u884c\u4e3a\u6d41\n  static Stream&lt;UserBehavior&gt; get behaviorStream {\n    _behaviorController ??= StreamController&lt;UserBehavior&gt;.broadcast();\n    return _behaviorController!.stream;\n  }\n\n  /// \u5f3a\u5236\u4e0a\u62a5\u6570\u636e\n  static Future&lt;void&gt; flush() async {\n    await _channel.invokeMethod('flush');\n  }\n\n  /// \u8bbe\u7f6e\u4e8b\u4ef6\u901a\u9053\n  static void _setupEventChannels() {\n    const performanceChannel = EventChannel('kit_app_monitor/performance');\n    const crashChannel = EventChannel('kit_app_monitor/crash');\n    const behaviorChannel = EventChannel('kit_app_monitor/behavior');\n\n    performanceChannel.receiveBroadcastStream().listen((data) {\n      final performanceData = PerformanceData.fromJson(data);\n      _performanceController?.add(performanceData);\n    });\n\n    crashChannel.receiveBroadcastStream().listen((data) {\n      final crashReport = CrashReport.fromJson(data);\n      _crashController?.add(crashReport);\n    });\n\n    behaviorChannel.receiveBroadcastStream().listen((data) {\n      final userBehavior = UserBehavior.fromJson(data);\n      _behaviorController?.add(userBehavior);\n    });\n  }\n\n  /// \u6e05\u7406\u8d44\u6e90\n  static void dispose() {\n    _performanceController?.close();\n    _crashController?.close();\n    _behaviorController?.close();\n    _isInitialized = false;\n  }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#srcmodels","title":"\u6570\u636e\u6a21\u578b (<code>src/models/</code>)","text":""},{"location":"basic_utils/kit_app_monitor.html#_11","title":"\u6027\u80fd\u6570\u636e\u6a21\u578b","text":"<pre><code>@JsonSerializable()\nclass PerformanceData {\n  final double cpuUsage;\n  final int memoryUsage;\n  final int totalMemory;\n  final double fps;\n  final int networkLatency;\n  final DateTime timestamp;\n  final String? pageName;\n\n  const PerformanceData({\n    required this.cpuUsage,\n    required this.memoryUsage,\n    required this.totalMemory,\n    required this.fps,\n    required this.networkLatency,\n    required this.timestamp,\n    this.pageName,\n  });\n\n  factory PerformanceData.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$PerformanceDataFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$PerformanceDataToJson(this);\n\n  double get memoryUsagePercentage =&gt; (memoryUsage / totalMemory) * 100;\n\n  bool get isHighCpuUsage =&gt; cpuUsage &gt; 80.0;\n\n  bool get isHighMemoryUsage =&gt; memoryUsagePercentage &gt; 90.0;\n\n  bool get isLowFps =&gt; fps &lt; 30.0;\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_12","title":"\u5d29\u6e83\u62a5\u544a\u6a21\u578b","text":"<pre><code>@JsonSerializable()\nclass CrashReport {\n  final String crashId;\n  final String type;\n  final String message;\n  final String stackTrace;\n  final DateTime timestamp;\n  final String appVersion;\n  final String deviceModel;\n  final String osVersion;\n  final Map&lt;String, dynamic&gt; customData;\n  final String? userId;\n\n  const CrashReport({\n    required this.crashId,\n    required this.type,\n    required this.message,\n    required this.stackTrace,\n    required this.timestamp,\n    required this.appVersion,\n    required this.deviceModel,\n    required this.osVersion,\n    required this.customData,\n    this.userId,\n  });\n\n  factory CrashReport.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$CrashReportFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$CrashReportToJson(this);\n\n  bool get isFatal =&gt; type.toLowerCase().contains('fatal');\n\n  bool get isNativeCrash =&gt; type.toLowerCase().contains('native');\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_13","title":"\u7528\u6237\u884c\u4e3a\u6a21\u578b","text":"<pre><code>@JsonSerializable()\nclass UserBehavior {\n  final String eventType;\n  final String? pageName;\n  final String? elementName;\n  final Map&lt;String, dynamic&gt; parameters;\n  final DateTime timestamp;\n  final String? userId;\n  final String sessionId;\n\n  const UserBehavior({\n    required this.eventType,\n    this.pageName,\n    this.elementName,\n    required this.parameters,\n    required this.timestamp,\n    this.userId,\n    required this.sessionId,\n  });\n\n  factory UserBehavior.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$UserBehaviorFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$UserBehaviorToJson(this);\n\n  bool get isPageView =&gt; eventType == 'page_view';\n\n  bool get isButtonClick =&gt; eventType == 'button_click';\n\n  bool get isUserAction =&gt; ['click', 'tap', 'swipe', 'scroll'].contains(eventType);\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#2_android","title":"2. Android\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/kit_app_monitor.html#kitappmonitorpluginkt","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>KitAppMonitorPlugin.kt</code>)","text":"<pre><code>class KitAppMonitorPlugin: FlutterPlugin, MethodCallHandler, ActivityAware {\n    private lateinit var channel: MethodChannel\n    private lateinit var context: Context\n    private var activity: Activity? = null\n\n    private var performanceMonitor: PerformanceMonitor? = null\n    private var crashHandler: CrashHandler? = null\n    private var behaviorTracker: BehaviorTracker? = null\n\n    private var performanceEventChannel: EventChannel? = null\n    private var crashEventChannel: EventChannel? = null\n    private var behaviorEventChannel: EventChannel? = null\n\n    override fun onAttachedToEngine(binding: FlutterPlugin.FlutterPluginBinding) {\n        channel = MethodChannel(binding.binaryMessenger, \"kit_app_monitor\")\n        context = binding.applicationContext\n        channel.setMethodCallHandler(this)\n\n        // \u8bbe\u7f6e\u4e8b\u4ef6\u901a\u9053\n        setupEventChannels(binding.binaryMessenger)\n    }\n\n    private fun setupEventChannels(messenger: BinaryMessenger) {\n        performanceEventChannel = EventChannel(messenger, \"kit_app_monitor/performance\")\n        crashEventChannel = EventChannel(messenger, \"kit_app_monitor/crash\")\n        behaviorEventChannel = EventChannel(messenger, \"kit_app_monitor/behavior\")\n    }\n\n    override fun onMethodCall(call: MethodCall, result: Result) {\n        when (call.method) {\n            \"initialize\" -&gt; initialize(call, result)\n            \"setUserId\" -&gt; setUserId(call, result)\n            \"setCustomProperty\" -&gt; setCustomProperty(call, result)\n            \"recordEvent\" -&gt; recordEvent(call, result)\n            \"recordPageView\" -&gt; recordPageView(call, result)\n            \"recordNetworkRequest\" -&gt; recordNetworkRequest(call, result)\n            \"recordException\" -&gt; recordException(call, result)\n            \"flush\" -&gt; flush(result)\n            else -&gt; result.notImplemented()\n        }\n    }\n\n    private fun initialize(call: MethodCall, result: Result) {\n        val enablePerformanceMonitoring = call.argument&lt;Boolean&gt;(\"enablePerformanceMonitoring\") ?: true\n        val enableCrashReporting = call.argument&lt;Boolean&gt;(\"enableCrashReporting\") ?: true\n        val enableBehaviorTracking = call.argument&lt;Boolean&gt;(\"enableBehaviorTracking\") ?: true\n        val userId = call.argument&lt;String&gt;(\"userId\")\n        val customProperties = call.argument&lt;Map&lt;String, Any&gt;&gt;(\"customProperties\")\n\n        try {\n            if (enablePerformanceMonitoring) {\n                performanceMonitor = PerformanceMonitor(context)\n                performanceMonitor?.initialize(performanceEventChannel)\n            }\n\n            if (enableCrashReporting) {\n                crashHandler = CrashHandler(context)\n                crashHandler?.initialize(crashEventChannel)\n            }\n\n            if (enableBehaviorTracking) {\n                behaviorTracker = BehaviorTracker(context)\n                behaviorTracker?.initialize(behaviorEventChannel)\n            }\n\n            userId?.let { setUserId(it) }\n            customProperties?.forEach { (key, value) -&gt;\n                setCustomProperty(key, value)\n            }\n\n            result.success(true)\n        } catch (e: Exception) {\n            result.error(\"INITIALIZATION_FAILED\", e.message, null)\n        }\n    }\n\n    private fun recordEvent(call: MethodCall, result: Result) {\n        val eventName = call.argument&lt;String&gt;(\"eventName\")\n        val parameters = call.argument&lt;Map&lt;String, Any&gt;&gt;(\"parameters\")\n\n        behaviorTracker?.recordEvent(eventName ?: \"\", parameters ?: emptyMap())\n        result.success(true)\n    }\n\n    private fun recordPageView(call: MethodCall, result: Result) {\n        val pageName = call.argument&lt;String&gt;(\"pageName\")\n        behaviorTracker?.recordPageView(pageName ?: \"\")\n        result.success(true)\n    }\n\n    override fun onAttachedToActivity(binding: ActivityPluginBinding) {\n        activity = binding.activity\n        performanceMonitor?.setActivity(activity)\n        behaviorTracker?.setActivity(activity)\n    }\n\n    override fun onDetachedFromActivity() {\n        activity = null\n        performanceMonitor?.setActivity(null)\n        behaviorTracker?.setActivity(null)\n    }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#performancemonitorkt","title":"\u6027\u80fd\u76d1\u63a7\u5668 (<code>PerformanceMonitor.kt</code>)","text":"<pre><code>class PerformanceMonitor(private val context: Context) {\n    private var eventSink: EventChannel.EventSink? = null\n    private var monitoringHandler: Handler? = null\n    private var activity: Activity? = null\n    private val updateInterval = 5000L // 5\u79d2\u66f4\u65b0\u4e00\u6b21\n\n    fun initialize(eventChannel: EventChannel?) {\n        eventChannel?.setStreamHandler(object : EventChannel.StreamHandler {\n            override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\n                eventSink = events\n                startMonitoring()\n            }\n\n            override fun onCancel(arguments: Any?) {\n                eventSink = null\n                stopMonitoring()\n            }\n        })\n    }\n\n    fun setActivity(activity: Activity?) {\n        this.activity = activity\n    }\n\n    private fun startMonitoring() {\n        monitoringHandler = Handler(Looper.getMainLooper())\n        monitoringHandler?.post(monitoringRunnable)\n    }\n\n    private fun stopMonitoring() {\n        monitoringHandler?.removeCallbacks(monitoringRunnable)\n        monitoringHandler = null\n    }\n\n    private val monitoringRunnable = object : Runnable {\n        override fun run() {\n            collectPerformanceData()\n            monitoringHandler?.postDelayed(this, updateInterval)\n        }\n    }\n\n    private fun collectPerformanceData() {\n        try {\n            val cpuUsage = getCpuUsage()\n            val memoryInfo = getMemoryInfo()\n            val fps = getFps()\n            val networkLatency = getNetworkLatency()\n\n            val performanceData = mapOf(\n                \"cpuUsage\" to cpuUsage,\n                \"memoryUsage\" to memoryInfo.first,\n                \"totalMemory\" to memoryInfo.second,\n                \"fps\" to fps,\n                \"networkLatency\" to networkLatency,\n                \"timestamp\" to System.currentTimeMillis(),\n                \"pageName\" to getCurrentPageName()\n            )\n\n            eventSink?.success(performanceData)\n        } catch (e: Exception) {\n            eventSink?.error(\"PERFORMANCE_ERROR\", e.message, null)\n        }\n    }\n\n    private fun getCpuUsage(): Double {\n        // \u83b7\u53d6CPU\u4f7f\u7528\u7387\u7684\u5b9e\u73b0\n        return try {\n            val runtime = Runtime.getRuntime()\n            val usedMemory = runtime.totalMemory() - runtime.freeMemory()\n            val maxMemory = runtime.maxMemory()\n            (usedMemory.toDouble() / maxMemory.toDouble()) * 100\n        } catch (e: Exception) {\n            0.0\n        }\n    }\n\n    private fun getMemoryInfo(): Pair&lt;Long, Long&gt; {\n        val activityManager = context.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager\n        val memoryInfo = ActivityManager.MemoryInfo()\n        activityManager.getMemoryInfo(memoryInfo)\n\n        val usedMemory = memoryInfo.totalMem - memoryInfo.availMem\n        return Pair(usedMemory, memoryInfo.totalMem)\n    }\n\n    private fun getFps(): Double {\n        // \u83b7\u53d6FPS\u7684\u5b9e\u73b0\n        return activity?.let {\n            // \u4f7f\u7528Choreographer\u6216\u5176\u4ed6\u65b9\u5f0f\u8ba1\u7b97FPS\n            60.0 // \u9ed8\u8ba4\u8fd4\u56de60FPS\n        } ?: 0.0\n    }\n\n    private fun getNetworkLatency(): Int {\n        // \u83b7\u53d6\u7f51\u7edc\u5ef6\u8fdf\u7684\u5b9e\u73b0\n        return 0 // \u9ed8\u8ba4\u8fd4\u56de0\n    }\n\n    private fun getCurrentPageName(): String? {\n        return activity?.let { \n            it.javaClass.simpleName\n        }\n    }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#crashhandlerkt","title":"\u5d29\u6e83\u5904\u7406\u5668 (<code>CrashHandler.kt</code>)","text":"<pre><code>class CrashHandler(private val context: Context) : Thread.UncaughtExceptionHandler {\n    private var eventSink: EventChannel.EventSink? = null\n    private var defaultExceptionHandler: Thread.UncaughtExceptionHandler? = null\n\n    fun initialize(eventChannel: EventChannel?) {\n        eventChannel?.setStreamHandler(object : EventChannel.StreamHandler {\n            override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\n                eventSink = events\n                setupCrashHandler()\n            }\n\n            override fun onCancel(arguments: Any?) {\n                eventSink = null\n                restoreDefaultHandler()\n            }\n        })\n    }\n\n    private fun setupCrashHandler() {\n        defaultExceptionHandler = Thread.getDefaultUncaughtExceptionHandler()\n        Thread.setDefaultUncaughtExceptionHandler(this)\n    }\n\n    private fun restoreDefaultHandler() {\n        defaultExceptionHandler?.let {\n            Thread.setDefaultUncaughtExceptionHandler(it)\n        }\n    }\n\n    override fun uncaughtException(thread: Thread, exception: Throwable) {\n        try {\n            val crashReport = createCrashReport(exception)\n            eventSink?.success(crashReport)\n\n            // \u4fdd\u5b58\u5d29\u6e83\u4fe1\u606f\u5230\u672c\u5730\n            saveCrashToLocal(crashReport)\n        } catch (e: Exception) {\n            // \u5904\u7406\u5d29\u6e83\u62a5\u544a\u751f\u6210\u5931\u8d25\u7684\u60c5\u51b5\n        } finally {\n            // \u8c03\u7528\u9ed8\u8ba4\u7684\u5f02\u5e38\u5904\u7406\u5668\n            defaultExceptionHandler?.uncaughtException(thread, exception)\n        }\n    }\n\n    private fun createCrashReport(exception: Throwable): Map&lt;String, Any&gt; {\n        return mapOf(\n            \"crashId\" to UUID.randomUUID().toString(),\n            \"type\" to exception.javaClass.simpleName,\n            \"message\" to (exception.message ?: \"\"),\n            \"stackTrace\" to getStackTraceString(exception),\n            \"timestamp\" to System.currentTimeMillis(),\n            \"appVersion\" to getAppVersion(),\n            \"deviceModel\" to Build.MODEL,\n            \"osVersion\" to Build.VERSION.RELEASE,\n            \"customData\" to getCustomData()\n        )\n    }\n\n    private fun getStackTraceString(exception: Throwable): String {\n        val stringWriter = StringWriter()\n        val printWriter = PrintWriter(stringWriter)\n        exception.printStackTrace(printWriter)\n        return stringWriter.toString()\n    }\n\n    private fun getAppVersion(): String {\n        return try {\n            val packageInfo = context.packageManager.getPackageInfo(context.packageName, 0)\n            packageInfo.versionName ?: \"unknown\"\n        } catch (e: Exception) {\n            \"unknown\"\n        }\n    }\n\n    private fun getCustomData(): Map&lt;String, Any&gt; {\n        return mapOf(\n            \"freeMemory\" to Runtime.getRuntime().freeMemory(),\n            \"totalMemory\" to Runtime.getRuntime().totalMemory(),\n            \"maxMemory\" to Runtime.getRuntime().maxMemory()\n        )\n    }\n\n    private fun saveCrashToLocal(crashReport: Map&lt;String, Any&gt;) {\n        // \u5c06\u5d29\u6e83\u4fe1\u606f\u4fdd\u5b58\u5230\u672c\u5730\u6587\u4ef6\n        // \u7528\u4e8e\u79bb\u7ebf\u4e0a\u62a5\n    }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#3_ios","title":"3. iOS\u7aef\u5b9e\u73b0","text":""},{"location":"basic_utils/kit_app_monitor.html#kitappmonitorpluginswift","title":"\u4e3b\u63d2\u4ef6\u7c7b (<code>KitAppMonitorPlugin.swift</code>)","text":"<pre><code>public class KitAppMonitorPlugin: NSObject, FlutterPlugin {\n    private var performanceMonitor: PerformanceMonitor?\n    private var crashHandler: CrashHandler?\n    private var behaviorTracker: BehaviorTracker?\n\n    public static func register(with registrar: FlutterPluginRegistrar) {\n        let channel = FlutterMethodChannel(name: \"kit_app_monitor\", \n                                         binaryMessenger: registrar.messenger())\n        let instance = KitAppMonitorPlugin()\n        registrar.addMethodCallDelegate(instance, channel: channel)\n\n        instance.setupEventChannels(with: registrar.messenger())\n    }\n\n    private func setupEventChannels(with messenger: FlutterBinaryMessenger) {\n        let performanceChannel = FlutterEventChannel(name: \"kit_app_monitor/performance\", \n                                                   binaryMessenger: messenger)\n        let crashChannel = FlutterEventChannel(name: \"kit_app_monitor/crash\", \n                                             binaryMessenger: messenger)\n        let behaviorChannel = FlutterEventChannel(name: \"kit_app_monitor/behavior\", \n                                                binaryMessenger: messenger)\n\n        performanceMonitor = PerformanceMonitor()\n        crashHandler = CrashHandler()\n        behaviorTracker = BehaviorTracker()\n\n        performanceChannel.setStreamHandler(performanceMonitor)\n        crashChannel.setStreamHandler(crashHandler)\n        behaviorChannel.setStreamHandler(behaviorTracker)\n    }\n\n    public func handle(_ call: FlutterMethodCall, result: @escaping FlutterResult) {\n        switch call.method {\n        case \"initialize\":\n            initialize(call: call, result: result)\n        case \"setUserId\":\n            setUserId(call: call, result: result)\n        case \"recordEvent\":\n            recordEvent(call: call, result: result)\n        case \"recordPageView\":\n            recordPageView(call: call, result: result)\n        case \"flush\":\n            flush(result: result)\n        default:\n            result(FlutterMethodNotImplemented)\n        }\n    }\n\n    private func initialize(call: FlutterMethodCall, result: @escaping FlutterResult) {\n        guard let args = call.arguments as? [String: Any] else {\n            result(FlutterError(code: \"INVALID_ARGUMENTS\", \n                               message: \"Invalid arguments\", \n                               details: nil))\n            return\n        }\n\n        let enablePerformanceMonitoring = args[\"enablePerformanceMonitoring\"] as? Bool ?? true\n        let enableCrashReporting = args[\"enableCrashReporting\"] as? Bool ?? true\n        let enableBehaviorTracking = args[\"enableBehaviorTracking\"] as? Bool ?? true\n\n        if enablePerformanceMonitoring {\n            performanceMonitor?.startMonitoring()\n        }\n\n        if enableCrashReporting {\n            crashHandler?.setupCrashHandler()\n        }\n\n        if enableBehaviorTracking {\n            behaviorTracker?.startTracking()\n        }\n\n        result(true)\n    }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_14","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"basic_utils/kit_app_monitor.html#_15","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>class MonitorExample extends StatefulWidget {\n  @override\n  _MonitorExampleState createState() =&gt; _MonitorExampleState();\n}\n\nclass _MonitorExampleState extends State&lt;MonitorExample&gt; {\n  StreamSubscription&lt;PerformanceData&gt;? _performanceSubscription;\n  StreamSubscription&lt;CrashReport&gt;? _crashSubscription;\n\n  @override\n  void initState() {\n    super.initState();\n    _initializeMonitoring();\n  }\n\n  Future&lt;void&gt; _initializeMonitoring() async {\n    // \u521d\u59cb\u5316\u76d1\u63a7\n    await KitAppMonitor.initialize(\n      enablePerformanceMonitoring: true,\n      enableCrashReporting: true,\n      enableBehaviorTracking: true,\n      userId: 'user_123',\n      customProperties: {\n        'app_version': '1.0.0',\n        'build_number': '100',\n      },\n    );\n\n    // \u76d1\u542c\u6027\u80fd\u6570\u636e\n    _performanceSubscription = KitAppMonitor.performanceStream.listen((data) {\n      if (data.isHighCpuUsage || data.isHighMemoryUsage || data.isLowFps) {\n        _handlePerformanceIssue(data);\n      }\n    });\n\n    // \u76d1\u542c\u5d29\u6e83\u62a5\u544a\n    _crashSubscription = KitAppMonitor.crashStream.listen((crash) {\n      _handleCrashReport(crash);\n    });\n\n    // \u8bb0\u5f55\u5e94\u7528\u542f\u52a8\u4e8b\u4ef6\n    await KitAppMonitor.recordEvent('app_start', {\n      'launch_time': DateTime.now().millisecondsSinceEpoch,\n      'is_cold_start': true,\n    });\n  }\n\n  void _handlePerformanceIssue(PerformanceData data) {\n    // \u5904\u7406\u6027\u80fd\u95ee\u9898\n    print('Performance issue detected: '\n          'CPU: ${data.cpuUsage}%, '\n          'Memory: ${data.memoryUsagePercentage}%, '\n          'FPS: ${data.fps}');\n\n    // \u8bb0\u5f55\u6027\u80fd\u95ee\u9898\u4e8b\u4ef6\n    KitAppMonitor.recordEvent('performance_issue', {\n      'cpu_usage': data.cpuUsage,\n      'memory_usage': data.memoryUsagePercentage,\n      'fps': data.fps,\n      'page_name': data.pageName,\n    });\n  }\n\n  void _handleCrashReport(CrashReport crash) {\n    // \u5904\u7406\u5d29\u6e83\u62a5\u544a\n    print('Crash detected: ${crash.type} - ${crash.message}');\n\n    // \u53ef\u4ee5\u5728\u8fd9\u91cc\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684\u5d29\u6e83\u5904\u7406\u903b\u8f91\n    // \u4f8b\u5982\u53d1\u9001\u5230\u81ea\u5b9a\u4e49\u7684\u5d29\u6e83\u6536\u96c6\u670d\u52a1\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('Monitor Example')),\n      body: Column(\n        children: [\n          ElevatedButton(\n            onPressed: () =&gt; _simulateHighCpuUsage(),\n            child: Text('Simulate High CPU'),\n          ),\n          ElevatedButton(\n            onPressed: () =&gt; _simulateMemoryLeak(),\n            child: Text('Simulate Memory Issue'),\n          ),\n          ElevatedButton(\n            onPressed: () =&gt; _simulateCrash(),\n            child: Text('Simulate Crash'),\n          ),\n          ElevatedButton(\n            onPressed: () =&gt; _recordCustomEvent(),\n            child: Text('Record Custom Event'),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _simulateHighCpuUsage() {\n    // \u6a21\u62df\u9ad8CPU\u4f7f\u7528\n    Timer.periodic(Duration(milliseconds: 1), (timer) {\n      // \u6267\u884c\u5bc6\u96c6\u8ba1\u7b97\n      for (int i = 0; i &lt; 1000000; i++) {\n        math.sqrt(i);\n      }\n\n      if (timer.tick &gt; 1000) {\n        timer.cancel();\n      }\n    });\n  }\n\n  void _simulateMemoryLeak() {\n    // \u6a21\u62df\u5185\u5b58\u6cc4\u6f0f\n    List&lt;List&lt;int&gt;&gt; memoryHog = [];\n    for (int i = 0; i &lt; 1000; i++) {\n      memoryHog.add(List.filled(1000000, i));\n    }\n  }\n\n  void _simulateCrash() {\n    // \u6a21\u62df\u5d29\u6e83\n    throw Exception('Simulated crash for testing');\n  }\n\n  void _recordCustomEvent() {\n    KitAppMonitor.recordEvent('button_clicked', {\n      'button_name': 'custom_event_button',\n      'timestamp': DateTime.now().millisecondsSinceEpoch,\n      'user_action': 'tap',\n    });\n  }\n\n  @override\n  void dispose() {\n    _performanceSubscription?.cancel();\n    _crashSubscription?.cancel();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_16","title":"\u9ad8\u7ea7\u76d1\u63a7\u914d\u7f6e","text":"<pre><code>class AdvancedMonitorConfig {\n  static Future&lt;void&gt; setupAdvancedMonitoring() async {\n    // \u521d\u59cb\u5316\u9ad8\u7ea7\u76d1\u63a7\u914d\u7f6e\n    await KitAppMonitor.initialize(\n      enablePerformanceMonitoring: true,\n      enableCrashReporting: true,\n      enableBehaviorTracking: true,\n      userId: await _getUserId(),\n      customProperties: await _getCustomProperties(),\n    );\n\n    // \u8bbe\u7f6e\u6027\u80fd\u76d1\u63a7\u9608\u503c\n    _setupPerformanceThresholds();\n\n    // \u8bbe\u7f6e\u81ea\u52a8\u9875\u9762\u8ddf\u8e2a\n    _setupAutomaticPageTracking();\n\n    // \u8bbe\u7f6e\u7f51\u7edc\u76d1\u63a7\n    _setupNetworkMonitoring();\n  }\n\n  static void _setupPerformanceThresholds() {\n    KitAppMonitor.performanceStream.listen((data) {\n      // CPU\u4f7f\u7528\u7387\u8fc7\u9ad8\n      if (data.cpuUsage &gt; 80) {\n        KitAppMonitor.recordEvent('high_cpu_usage', {\n          'cpu_usage': data.cpuUsage,\n          'page_name': data.pageName,\n          'severity': 'warning',\n        });\n      }\n\n      // \u5185\u5b58\u4f7f\u7528\u7387\u8fc7\u9ad8\n      if (data.memoryUsagePercentage &gt; 90) {\n        KitAppMonitor.recordEvent('high_memory_usage', {\n          'memory_usage': data.memoryUsagePercentage,\n          'total_memory': data.totalMemory,\n          'severity': 'critical',\n        });\n      }\n\n      // FPS\u8fc7\u4f4e\n      if (data.fps &lt; 30) {\n        KitAppMonitor.recordEvent('low_fps', {\n          'fps': data.fps,\n          'page_name': data.pageName,\n          'severity': 'warning',\n        });\n      }\n    });\n  }\n\n  static void _setupAutomaticPageTracking() {\n    // \u53ef\u4ee5\u4e0e\u8def\u7531\u7cfb\u7edf\u96c6\u6210\uff0c\u81ea\u52a8\u8bb0\u5f55\u9875\u9762\u8bbf\u95ee\n    // \u8fd9\u91cc\u662f\u4e00\u4e2a\u7b80\u5316\u7684\u793a\u4f8b\n    NavigatorObserver observer = RouteObserver&lt;PageRoute&lt;dynamic&gt;&gt;();\n    // \u5b9e\u73b0\u8def\u7531\u76d1\u542c\uff0c\u81ea\u52a8\u8c03\u7528 KitAppMonitor.recordPageView\n  }\n\n  static void _setupNetworkMonitoring() {\n    // \u53ef\u4ee5\u4e0e\u7f51\u7edc\u8bf7\u6c42\u5e93\u96c6\u6210\uff0c\u81ea\u52a8\u8bb0\u5f55\u7f51\u7edc\u8bf7\u6c42\n    // \u4f8b\u5982\u4e0e Dio \u96c6\u6210\n    // dio.interceptors.add(MonitoringInterceptor());\n  }\n\n  static Future&lt;String&gt; _getUserId() async {\n    // \u83b7\u53d6\u7528\u6237ID\u7684\u903b\u8f91\n    return 'user_123';\n  }\n\n  static Future&lt;Map&lt;String, dynamic&gt;&gt; _getCustomProperties() async {\n    return {\n      'app_version': await _getAppVersion(),\n      'device_model': await _getDeviceModel(),\n      'os_version': await _getOSVersion(),\n      'network_type': await _getNetworkType(),\n    };\n  }\n}\n</code></pre>"},{"location":"basic_utils/kit_app_monitor.html#_17","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"basic_utils/kit_app_monitor.html#_18","title":"\u6570\u636e\u91c7\u96c6\u4f18\u5316","text":"<ul> <li>\u91c7\u6837\u7b56\u7565: \u6839\u636e\u6027\u80fd\u5f71\u54cd\u8c03\u6574\u6570\u636e\u91c7\u96c6\u9891\u7387</li> <li>\u6279\u91cf\u4e0a\u62a5: \u6279\u91cf\u53d1\u9001\u76d1\u63a7\u6570\u636e\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42</li> <li>\u672c\u5730\u7f13\u5b58: \u79bb\u7ebf\u65f6\u7f13\u5b58\u6570\u636e\uff0c\u8054\u7f51\u540e\u4e0a\u62a5</li> <li>\u6570\u636e\u538b\u7f29: \u538b\u7f29\u76d1\u63a7\u6570\u636e\u51cf\u5c11\u4f20\u8f93\u91cf</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_19","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u53ca\u65f6\u6e05\u7406: \u53ca\u65f6\u6e05\u7406\u76d1\u63a7\u6570\u636e\u548c\u4e34\u65f6\u5bf9\u8c61</li> <li>\u5185\u5b58\u76d1\u63a7: \u76d1\u63a7\u81ea\u8eab\u5185\u5b58\u4f7f\u7528\u907f\u514d\u5f71\u54cd\u5e94\u7528</li> <li>\u5f31\u5f15\u7528: \u4f7f\u7528\u5f31\u5f15\u7528\u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> <li>\u8d44\u6e90\u590d\u7528: \u590d\u7528\u76d1\u63a7\u76f8\u5173\u5bf9\u8c61</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_20","title":"\u5b89\u5168\u548c\u9690\u79c1","text":""},{"location":"basic_utils/kit_app_monitor.html#_21","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u654f\u611f\u4fe1\u606f\u8fc7\u6ee4: \u8fc7\u6ee4\u7528\u6237\u654f\u611f\u4fe1\u606f</li> <li>\u6570\u636e\u52a0\u5bc6: \u52a0\u5bc6\u5b58\u50a8\u548c\u4f20\u8f93\u76d1\u63a7\u6570\u636e</li> <li>\u8bbf\u95ee\u63a7\u5236: \u4e25\u683c\u7684\u6570\u636e\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> <li>\u6570\u636e\u8131\u654f: \u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u8131\u654f\u5904\u7406</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_22","title":"\u9690\u79c1\u5408\u89c4","text":"<ul> <li>\u7528\u6237\u540c\u610f: \u660e\u786e\u7684\u6570\u636e\u6536\u96c6\u7528\u6237\u540c\u610f</li> <li>\u6570\u636e\u6700\u5c0f\u5316: \u4ec5\u6536\u96c6\u5fc5\u8981\u7684\u76d1\u63a7\u6570\u636e</li> <li>\u900f\u660e\u5ea6: \u6e05\u6670\u7684\u9690\u79c1\u653f\u7b56\u8bf4\u660e</li> <li>\u7528\u6237\u63a7\u5236: \u7528\u6237\u53ef\u63a7\u5236\u76d1\u63a7\u529f\u80fd\u5f00\u5173</li> </ul>"},{"location":"basic_utils/kit_app_monitor.html#_23","title":"\u603b\u7ed3","text":"<p><code>kit_app_monitor</code> \u6a21\u5757\u4f5c\u4e3a OneApp \u7684\u5e94\u7528\u76d1\u63a7\u5de5\u5177\u5305\uff0c\u63d0\u4f9b\u4e86\u5168\u9762\u7684\u5e94\u7528\u6027\u80fd\u76d1\u63a7\u3001\u5f02\u5e38\u68c0\u6d4b\u548c\u7528\u6237\u884c\u4e3a\u5206\u6790\u80fd\u529b\u3002\u901a\u8fc7\u539f\u751f\u5e73\u53f0\u7684\u6df1\u5ea6\u96c6\u6210\uff0c\u5b9e\u73b0\u4e86\u9ad8\u6548\u3001\u51c6\u786e\u7684\u5e94\u7528\u76d1\u63a7\u529f\u80fd\u3002\u6a21\u5757\u5177\u6709\u826f\u597d\u7684\u6027\u80fd\u4f18\u5316\u548c\u9690\u79c1\u4fdd\u62a4\u673a\u5236\uff0c\u80fd\u591f\u5e2e\u52a9\u5f00\u53d1\u56e2\u961f\u53ca\u65f6\u53d1\u73b0\u548c\u89e3\u51b3\u5e94\u7528\u95ee\u9898\uff0c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"car_sales/index.html","title":"OneApp Car Sales - \u6c7d\u8f66\u9500\u552e\u6a21\u5757\u6587\u6863","text":""},{"location":"car_sales/index.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_car_sales</code> \u662f OneApp \u7684\u6c7d\u8f66\u9500\u552e\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u8f66\u578b\u5c55\u793a\u3001\u5728\u7ebf\u9009\u8f66\u3001\u8bd5\u9a7e\u9884\u7ea6\u3001\u9500\u552e\u7ebf\u7d22\u7ba1\u7406\u3001\u7ecf\u9500\u5546\u670d\u52a1\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u5730\u56fe\u670d\u52a1\u3001\u89e6\u70b9\u7ba1\u7406\u3001\u552e\u540e\u670d\u52a1\u7b49\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u8d2d\u8f66\u4f53\u9a8c\u3002</p>"},{"location":"car_sales/index.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: oneapp_car_sales</li> <li>\u7248\u672c: 0.0.1</li> <li>\u7c7b\u578b: Flutter Package</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> <li>Flutter \u7248\u672c: &gt;=3.0.0</li> </ul>"},{"location":"car_sales/index.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>oneapp_car_sales/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 oneapp_car_sales.dart     # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u9500\u552e\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u9500\u552e\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u2514\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 ios/                          # iOS \u914d\u7f6e\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"car_sales/index.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"car_sales/index.html#1","title":"1. \u8f66\u578b\u5c55\u793a\u4e0e\u9009\u62e9","text":""},{"location":"car_sales/index.html#_5","title":"\u8f66\u578b\u76ee\u5f55\u670d\u52a1","text":"<pre><code>// \u8f66\u578b\u76ee\u5f55\u670d\u52a1\nclass VehicleCatalogService {\n  final CatalogRepository _repository;\n  final ConfigurationService _configService;\n\n  VehicleCatalogService(this._repository, this._configService);\n\n  // \u83b7\u53d6\u8f66\u578b\u5217\u8868\n  Future&lt;Result&lt;List&lt;VehicleModel&gt;&gt;&gt; getVehicleModels({\n    VehicleBrand? brand,\n    VehicleCategory? category,\n    PriceRange? priceRange,\n    List&lt;String&gt;? features,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final filters = VehicleFilters(\n        brand: brand,\n        category: category,\n        priceRange: priceRange,\n        features: features,\n      );\n\n      final models = await _repository.getVehicleModels(\n        filters: filters,\n        page: page,\n        pageSize: pageSize,\n      );\n\n      return Right(models);\n    } catch (e) {\n      return Left(SalesFailure.catalogLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8f66\u578b\u8be6\u60c5\n  Future&lt;Result&lt;VehicleDetail&gt;&gt; getVehicleDetail(String modelId) async {\n    try {\n      final detail = await _repository.getVehicleDetail(modelId);\n      return Right(detail);\n    } catch (e) {\n      return Left(SalesFailure.detailLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8f66\u578b\u914d\u7f6e\u9009\u9879\n  Future&lt;Result&lt;VehicleConfiguration&gt;&gt; getVehicleConfiguration(\n    String modelId,\n  ) async {\n    try {\n      final configuration = await _configService.getModelConfiguration(modelId);\n      return Right(configuration);\n    } catch (e) {\n      return Left(SalesFailure.configurationLoadFailed(e.toString()));\n    }\n  }\n\n  // \u8ba1\u7b97\u8f66\u578b\u4ef7\u683c\n  Future&lt;Result&lt;VehiclePricing&gt;&gt; calculateVehiclePrice({\n    required String modelId,\n    required Map&lt;String, String&gt; selectedOptions,\n    String? dealerCode,\n    List&lt;String&gt;? promotions,\n  }) async {\n    try {\n      final pricing = await _repository.calculatePrice(\n        modelId: modelId,\n        options: selectedOptions,\n        dealerCode: dealerCode,\n        promotions: promotions,\n      );\n\n      return Right(pricing);\n    } catch (e) {\n      return Left(SalesFailure.pricingCalculationFailed(e.toString()));\n    }\n  }\n}\n\n// \u8f66\u578b\u6570\u636e\u6a21\u578b\nclass VehicleModel {\n  final String id;\n  final String name;\n  final VehicleBrand brand;\n  final VehicleCategory category;\n  final String description;\n  final List&lt;String&gt; images;\n  final String mainImage;\n  final PriceRange priceRange;\n  final VehicleSpecs specifications;\n  final List&lt;String&gt; features;\n  final List&lt;String&gt; colors;\n  final double rating;\n  final int reviewCount;\n  final bool isAvailable;\n  final DateTime? launchDate;\n\n  const VehicleModel({\n    required this.id,\n    required this.name,\n    required this.brand,\n    required this.category,\n    required this.description,\n    required this.images,\n    required this.mainImage,\n    required this.priceRange,\n    required this.specifications,\n    required this.features,\n    required this.colors,\n    required this.rating,\n    required this.reviewCount,\n    required this.isAvailable,\n    this.launchDate,\n  });\n\n  String get displayPrice =&gt; '${priceRange.min.toStringAsFixed(1)}\u4e07\u8d77';\n  bool get isNewModel =&gt; launchDate != null &amp;&amp; \n      DateTime.now().difference(launchDate!).inDays &lt; 90;\n}\n</code></pre>"},{"location":"car_sales/index.html#2","title":"2. \u8bd5\u9a7e\u9884\u7ea6\u7ba1\u7406","text":""},{"location":"car_sales/index.html#_6","title":"\u8bd5\u9a7e\u9884\u7ea6\u670d\u52a1","text":"<pre><code>// \u8bd5\u9a7e\u9884\u7ea6\u670d\u52a1\nclass TestDriveService {\n  final TestDriveRepository _repository;\n  final DealerService _dealerService;\n  final NotificationService _notificationService;\n\n  TestDriveService(\n    this._repository,\n    this._dealerService,\n    this._notificationService,\n  );\n\n  // \u521b\u5efa\u8bd5\u9a7e\u9884\u7ea6\n  Future&lt;Result&lt;TestDriveAppointment&gt;&gt; createTestDriveAppointment({\n    required String userId,\n    required String vehicleModelId,\n    required String dealerId,\n    required DateTime preferredDateTime,\n    String? alternativeDateTime,\n    required CustomerInfo customerInfo,\n    String? specialRequests,\n  }) async {\n    try {\n      // \u68c0\u67e5\u65f6\u95f4\u6bb5\u53ef\u7528\u6027\n      final isAvailable = await _checkTimeSlotAvailability(\n        dealerId: dealerId,\n        dateTime: preferredDateTime,\n        vehicleModelId: vehicleModelId,\n      );\n\n      if (!isAvailable) {\n        return Left(SalesFailure.timeSlotNotAvailable());\n      }\n\n      // \u521b\u5efa\u9884\u7ea6\n      final appointment = TestDriveAppointment(\n        id: generateId(),\n        userId: userId,\n        vehicleModelId: vehicleModelId,\n        dealerId: dealerId,\n        customerInfo: customerInfo,\n        preferredDateTime: preferredDateTime,\n        alternativeDateTime: alternativeDateTime != null \n            ? DateTime.tryParse(alternativeDateTime) \n            : null,\n        specialRequests: specialRequests,\n        status: TestDriveStatus.pending,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.createTestDriveAppointment(appointment);\n\n      // \u53d1\u9001\u786e\u8ba4\u901a\u77e5\n      await _notificationService.sendTestDriveConfirmation(\n        userId: userId,\n        appointment: appointment,\n      );\n\n      // \u901a\u77e5\u7ecf\u9500\u5546\n      await _notifyDealer(appointment);\n\n      return Right(appointment);\n    } catch (e) {\n      return Left(SalesFailure.appointmentCreationFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u53ef\u7528\u65f6\u95f4\u6bb5\n  Future&lt;Result&lt;List&lt;TimeSlot&gt;&gt;&gt; getAvailableTimeSlots({\n    required String dealerId,\n    required String vehicleModelId,\n    required DateTime date,\n  }) async {\n    try {\n      final dealer = await _dealerService.getDealerById(dealerId);\n      if (dealer == null) {\n        return Left(SalesFailure.dealerNotFound());\n      }\n\n      final businessHours = dealer.businessHours[date.weekday - 1];\n      final bookedSlots = await _repository.getBookedTimeSlots(\n        dealerId: dealerId,\n        date: date,\n      );\n\n      final availableSlots = _generateAvailableSlots(\n        businessHours: businessHours,\n        bookedSlots: bookedSlots,\n        vehicleModelId: vehicleModelId,\n      );\n\n      return Right(availableSlots);\n    } catch (e) {\n      return Left(SalesFailure.timeSlotsLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u7528\u6237\u8bd5\u9a7e\u5386\u53f2\n  Future&lt;Result&lt;List&lt;TestDriveAppointment&gt;&gt;&gt; getUserTestDriveHistory(\n    String userId,\n  ) async {\n    try {\n      final appointments = await _repository.getUserTestDriveAppointments(userId);\n      return Right(appointments);\n    } catch (e) {\n      return Left(SalesFailure.historyLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u8bd5\u9a7e\u9884\u7ea6\u6a21\u578b\nclass TestDriveAppointment {\n  final String id;\n  final String userId;\n  final String vehicleModelId;\n  final String dealerId;\n  final CustomerInfo customerInfo;\n  final DateTime preferredDateTime;\n  final DateTime? alternativeDateTime;\n  final String? specialRequests;\n  final TestDriveStatus status;\n  final DateTime createdAt;\n  final DateTime? confirmedAt;\n  final DateTime? completedAt;\n  final String? salesRepId;\n  final TestDriveFeedback? feedback;\n\n  const TestDriveAppointment({\n    required this.id,\n    required this.userId,\n    required this.vehicleModelId,\n    required this.dealerId,\n    required this.customerInfo,\n    required this.preferredDateTime,\n    this.alternativeDateTime,\n    this.specialRequests,\n    required this.status,\n    required this.createdAt,\n    this.confirmedAt,\n    this.completedAt,\n    this.salesRepId,\n    this.feedback,\n  });\n\n  bool get isUpcoming =&gt; status == TestDriveStatus.confirmed &amp;&amp; \n      preferredDateTime.isAfter(DateTime.now());\n\n  bool get isPast =&gt; completedAt != null || \n      (status == TestDriveStatus.confirmed &amp;&amp; \n       preferredDateTime.isBefore(DateTime.now().subtract(Duration(hours: 2))));\n}\n</code></pre>"},{"location":"car_sales/index.html#3","title":"3. \u7ecf\u9500\u5546\u7ba1\u7406","text":""},{"location":"car_sales/index.html#_7","title":"\u7ecf\u9500\u5546\u670d\u52a1","text":"<pre><code>// \u7ecf\u9500\u5546\u670d\u52a1\nclass DealerService {\n  final DealerRepository _repository;\n  final LocationService _locationService;\n\n  DealerService(this._repository, this._locationService);\n\n  // \u67e5\u627e\u9644\u8fd1\u7ecf\u9500\u5546\n  Future&lt;Result&lt;List&lt;Dealer&gt;&gt;&gt; findNearbyDealers({\n    required LatLng userLocation,\n    double radiusKm = 50,\n    VehicleBrand? brand,\n    List&lt;DealerService&gt;? services,\n  }) async {\n    try {\n      final dealers = await _repository.findDealersNearLocation(\n        location: userLocation,\n        radius: radiusKm,\n        brand: brand,\n        services: services,\n      );\n\n      // \u8ba1\u7b97\u8ddd\u79bb\u5e76\u6392\u5e8f\n      final dealersWithDistance = dealers.map((dealer) {\n        final distance = _locationService.calculateDistance(\n          userLocation,\n          dealer.location,\n        );\n        return DealerWithDistance(dealer: dealer, distance: distance);\n      }).toList();\n\n      dealersWithDistance.sort((a, b) =&gt; a.distance.compareTo(b.distance));\n\n      return Right(dealersWithDistance.map((d) =&gt; d.dealer).toList());\n    } catch (e) {\n      return Left(SalesFailure.dealerSearchFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u7ecf\u9500\u5546\u8be6\u60c5\n  Future&lt;Result&lt;DealerDetail&gt;&gt; getDealerDetail(String dealerId) async {\n    try {\n      final dealer = await _repository.getDealerById(dealerId);\n      if (dealer == null) {\n        return Left(SalesFailure.dealerNotFound());\n      }\n\n      final detail = DealerDetail(\n        dealer: dealer,\n        salesReps: await _repository.getDealerSalesReps(dealerId),\n        reviews: await _repository.getDealerReviews(dealerId),\n        inventory: await _repository.getDealerInventory(dealerId),\n      );\n\n      return Right(detail);\n    } catch (e) {\n      return Left(SalesFailure.dealerDetailLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u7ecf\u9500\u5546\u5e93\u5b58\n  Future&lt;Result&lt;List&lt;VehicleInventory&gt;&gt;&gt; getDealerInventory({\n    required String dealerId,\n    String? modelId,\n    bool availableOnly = true,\n  }) async {\n    try {\n      final inventory = await _repository.getDealerInventory(\n        dealerId,\n        modelId: modelId,\n        availableOnly: availableOnly,\n      );\n      return Right(inventory);\n    } catch (e) {\n      return Left(SalesFailure.inventoryLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u7ecf\u9500\u5546\u6570\u636e\u6a21\u578b\nclass Dealer {\n  final String id;\n  final String name;\n  final String code;\n  final VehicleBrand primaryBrand;\n  final List&lt;VehicleBrand&gt; supportedBrands;\n  final DealerType type;\n  final Address address;\n  final LatLng location;\n  final ContactInfo contactInfo;\n  final List&lt;BusinessHours&gt; businessHours;\n  final List&lt;DealerService&gt; services;\n  final double rating;\n  final int reviewCount;\n  final List&lt;String&gt; certifications;\n  final List&lt;String&gt; images;\n  final bool isAuthorized;\n  final bool isActive;\n\n  const Dealer({\n    required this.id,\n    required this.name,\n    required this.code,\n    required this.primaryBrand,\n    required this.supportedBrands,\n    required this.type,\n    required this.address,\n    required this.location,\n    required this.contactInfo,\n    required this.businessHours,\n    required this.services,\n    required this.rating,\n    required this.reviewCount,\n    required this.certifications,\n    required this.images,\n    required this.isAuthorized,\n    required this.isActive,\n  });\n\n  bool get isOpen {\n    final now = DateTime.now();\n    final todayHours = businessHours[now.weekday - 1];\n    return todayHours.isOpen(now);\n  }\n\n  bool get supportsTestDrive =&gt; services.contains(DealerService.testDrive);\n  bool get supportsService =&gt; services.contains(DealerService.afterSales);\n}\n</code></pre>"},{"location":"car_sales/index.html#4","title":"4. \u9500\u552e\u7ebf\u7d22\u7ba1\u7406","text":""},{"location":"car_sales/index.html#_8","title":"\u7ebf\u7d22\u7ba1\u7406\u670d\u52a1","text":"<pre><code>// \u9500\u552e\u7ebf\u7d22\u7ba1\u7406\u670d\u52a1\nclass SalesLeadService {\n  final LeadRepository _repository;\n  final CrmIntegrationService _crmService;\n  final NotificationService _notificationService;\n\n  SalesLeadService(\n    this._repository,\n    this._crmService,\n    this._notificationService,\n  );\n\n  // \u521b\u5efa\u9500\u552e\u7ebf\u7d22\n  Future&lt;Result&lt;SalesLead&gt;&gt; createSalesLead({\n    required String userId,\n    required LeadSource source,\n    required String vehicleModelId,\n    String? dealerId,\n    required CustomerInfo customerInfo,\n    LeadType type = LeadType.inquiry,\n    String? notes,\n    Map&lt;String, dynamic&gt;? metadata,\n  }) async {\n    try {\n      final lead = SalesLead(\n        id: generateId(),\n        userId: userId,\n        source: source,\n        type: type,\n        vehicleModelId: vehicleModelId,\n        dealerId: dealerId,\n        customerInfo: customerInfo,\n        status: LeadStatus.new_,\n        priority: _calculateLeadPriority(source, type, customerInfo),\n        notes: notes,\n        metadata: metadata,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.createSalesLead(lead);\n\n      // \u540c\u6b65\u5230 CRM \u7cfb\u7edf\n      await _crmService.syncLead(lead);\n\n      // \u5206\u914d\u7ed9\u9500\u552e\u4ee3\u8868\n      await _assignToSalesRep(lead);\n\n      return Right(lead);\n    } catch (e) {\n      return Left(SalesFailure.leadCreationFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u7ebf\u7d22\u72b6\u6001\n  Future&lt;Result&lt;void&gt;&gt; updateLeadStatus({\n    required String leadId,\n    required LeadStatus status,\n    String? salesRepId,\n    String? notes,\n  }) async {\n    try {\n      await _repository.updateLeadStatus(\n        leadId: leadId,\n        status: status,\n        salesRepId: salesRepId,\n        notes: notes,\n        updatedAt: DateTime.now(),\n      );\n\n      // \u53d1\u9001\u72b6\u6001\u66f4\u65b0\u901a\u77e5\n      await _notificationService.sendLeadStatusUpdate(\n        leadId: leadId,\n        status: status,\n      );\n\n      return Right(unit);\n    } catch (e) {\n      return Left(SalesFailure.leadUpdateFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u7528\u6237\u9500\u552e\u7ebf\u7d22\n  Future&lt;Result&lt;List&lt;SalesLead&gt;&gt;&gt; getUserSalesLeads(String userId) async {\n    try {\n      final leads = await _repository.getUserSalesLeads(userId);\n      return Right(leads);\n    } catch (e) {\n      return Left(SalesFailure.leadsLoadFailed(e.toString()));\n    }\n  }\n\n  // \u8ba1\u7b97\u7ebf\u7d22\u4f18\u5148\u7ea7\n  LeadPriority _calculateLeadPriority(\n    LeadSource source,\n    LeadType type,\n    CustomerInfo customerInfo,\n  ) {\n    int score = 0;\n\n    // \u6839\u636e\u6765\u6e90\u8ba1\u5206\n    switch (source) {\n      case LeadSource.testDrive:\n        score += 40;\n        break;\n      case LeadSource.configurationTool:\n        score += 30;\n        break;\n      case LeadSource.dealerInquiry:\n        score += 35;\n        break;\n      case LeadSource.websiteBrowsing:\n        score += 20;\n        break;\n    }\n\n    // \u6839\u636e\u7c7b\u578b\u8ba1\u5206\n    switch (type) {\n      case LeadType.purchaseIntent:\n        score += 30;\n        break;\n      case LeadType.testDriveRequest:\n        score += 25;\n        break;\n      case LeadType.priceInquiry:\n        score += 20;\n        break;\n      case LeadType.generalInquiry:\n        score += 10;\n        break;\n    }\n\n    // \u6839\u636e\u5ba2\u6237\u4fe1\u606f\u8ba1\u5206\n    if (customerInfo.hasValidPhone) score += 10;\n    if (customerInfo.hasValidEmail) score += 10;\n    if (customerInfo.preferredContactTime != null) score += 5;\n\n    if (score &gt;= 70) return LeadPriority.high;\n    if (score &gt;= 50) return LeadPriority.medium;\n    return LeadPriority.low;\n  }\n}\n\n// \u9500\u552e\u7ebf\u7d22\u6a21\u578b\nclass SalesLead {\n  final String id;\n  final String userId;\n  final LeadSource source;\n  final LeadType type;\n  final String vehicleModelId;\n  final String? dealerId;\n  final CustomerInfo customerInfo;\n  final LeadStatus status;\n  final LeadPriority priority;\n  final String? notes;\n  final Map&lt;String, dynamic&gt;? metadata;\n  final DateTime createdAt;\n  final DateTime? updatedAt;\n  final String? salesRepId;\n  final List&lt;LeadActivity&gt; activities;\n\n  const SalesLead({\n    required this.id,\n    required this.userId,\n    required this.source,\n    required this.type,\n    required this.vehicleModelId,\n    this.dealerId,\n    required this.customerInfo,\n    required this.status,\n    required this.priority,\n    this.notes,\n    this.metadata,\n    required this.createdAt,\n    this.updatedAt,\n    this.salesRepId,\n    this.activities = const [],\n  });\n\n  bool get isActive =&gt; ![LeadStatus.closed, LeadStatus.lost].contains(status);\n  bool get hasAssignedRep =&gt; salesRepId != null;\n  Duration get age =&gt; DateTime.now().difference(createdAt);\n}\n</code></pre>"},{"location":"car_sales/index.html#_9","title":"\u9875\u9762\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"car_sales/index.html#_10","title":"\u8f66\u578b\u5c55\u793a\u9875\u9762","text":"<pre><code>// \u8f66\u578b\u5c55\u793a\u9875\u9762\nclass VehicleCatalogPage extends StatefulWidget {\n  @override\n  _VehicleCatalogPageState createState() =&gt; _VehicleCatalogPageState();\n}\n\nclass _VehicleCatalogPageState extends State&lt;VehicleCatalogPage&gt; {\n  late VehicleCatalogBloc _catalogBloc;\n  final SwiperController _swiperController = SwiperController();\n\n  @override\n  void initState() {\n    super.initState();\n    _catalogBloc = context.read&lt;VehicleCatalogBloc&gt;();\n    _catalogBloc.add(LoadVehicleModels());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: CustomScrollView(\n        slivers: [\n          _buildAppBar(),\n          _buildFilterSection(),\n          _buildVehicleGrid(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildVehicleGrid() {\n    return BlocBuilder&lt;VehicleCatalogBloc, VehicleCatalogState&gt;(\n      builder: (context, state) {\n        if (state is VehicleCatalogLoaded) {\n          return SliverGrid(\n            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n              crossAxisCount: 2,\n              childAspectRatio: 0.75,\n              crossAxisSpacing: 16,\n              mainAxisSpacing: 16,\n            ),\n            delegate: SliverChildBuilderDelegate(\n              (context, index) {\n                return VehicleCard(\n                  vehicle: state.vehicles[index],\n                  onTap: () =&gt; _navigateToVehicleDetail(state.vehicles[index]),\n                );\n              },\n              childCount: state.vehicles.length,\n            ),\n          );\n        }\n        return SliverToBoxAdapter(child: VehicleGridSkeleton());\n      },\n    );\n  }\n}\n\n// \u8f66\u578b\u5361\u7247\u7ec4\u4ef6\nclass VehicleCard extends StatelessWidget {\n  final VehicleModel vehicle;\n  final VoidCallback? onTap;\n\n  const VehicleCard({\n    Key? key,\n    required this.vehicle,\n    this.onTap,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      elevation: 4,\n      shape: RoundedRectangleBorder(\n        borderRadius: BorderRadius.circular(12),\n      ),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            _buildImageSection(),\n            _buildInfoSection(),\n            _buildActionSection(),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildImageSection() {\n    return Expanded(\n      flex: 3,\n      child: Container(\n        width: double.infinity,\n        decoration: BoxDecoration(\n          borderRadius: BorderRadius.vertical(top: Radius.circular(12)),\n          image: DecorationImage(\n            image: NetworkImage(vehicle.mainImage),\n            fit: BoxFit.cover,\n          ),\n        ),\n        child: Stack(\n          children: [\n            if (vehicle.isNewModel)\n              Positioned(\n                top: 8,\n                left: 8,\n                child: Container(\n                  padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),\n                  decoration: BoxDecoration(\n                    color: Colors.red,\n                    borderRadius: BorderRadius.circular(12),\n                  ),\n                  child: Text(\n                    '\u65b0\u8f66',\n                    style: TextStyle(\n                      color: Colors.white,\n                      fontSize: 12,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                ),\n              ),\n            Positioned(\n              bottom: 8,\n              right: 8,\n              child: Container(\n                padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),\n                decoration: BoxDecoration(\n                  color: Colors.black54,\n                  borderRadius: BorderRadius.circular(12),\n                ),\n                child: Row(\n                  mainAxisSize: MainAxisSize.min,\n                  children: [\n                    Icon(Icons.star, color: Colors.yellow, size: 14),\n                    SizedBox(width: 4),\n                    Text(\n                      vehicle.rating.toStringAsFixed(1),\n                      style: TextStyle(color: Colors.white, fontSize: 12),\n                    ),\n                  ],\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildInfoSection() {\n    return Expanded(\n      flex: 2,\n      child: Padding(\n        padding: EdgeInsets.all(12),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              vehicle.name,\n              style: TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              maxLines: 1,\n              overflow: TextOverflow.ellipsis,\n            ),\n            SizedBox(height: 4),\n            Text(\n              vehicle.brand.name,\n              style: TextStyle(\n                fontSize: 14,\n                color: Colors.grey[600],\n              ),\n            ),\n            Spacer(),\n            Text(\n              vehicle.displayPrice,\n              style: TextStyle(\n                fontSize: 18,\n                fontWeight: FontWeight.bold,\n                color: Colors.blue,\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>"},{"location":"car_sales/index.html#_11","title":"\u8bd5\u9a7e\u9884\u7ea6\u9875\u9762","text":"<pre><code>// \u8bd5\u9a7e\u9884\u7ea6\u9875\u9762\nclass TestDriveBookingPage extends StatefulWidget {\n  final VehicleModel vehicle;\n\n  const TestDriveBookingPage({required this.vehicle});\n\n  @override\n  _TestDriveBookingPageState createState() =&gt; _TestDriveBookingPageState();\n}\n\nclass _TestDriveBookingPageState extends State&lt;TestDriveBookingPage&gt; {\n  late TestDriveBloc _testDriveBloc;\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  final _customerInfoController = CustomerInfoController();\n\n  Dealer? _selectedDealer;\n  DateTime? _selectedDate;\n  TimeSlot? _selectedTimeSlot;\n\n  @override\n  void initState() {\n    super.initState();\n    _testDriveBloc = context.read&lt;TestDriveBloc&gt;();\n    _loadNearbyDealers();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u9884\u7ea6\u8bd5\u9a7e - ${widget.vehicle.name}'),\n      ),\n      body: Form(\n        key: _formKey,\n        child: ListView(\n          padding: EdgeInsets.all(16),\n          children: [\n            _buildVehicleSection(),\n            SizedBox(height: 24),\n            _buildDealerSelection(),\n            SizedBox(height: 24),\n            _buildDateTimeSelection(),\n            SizedBox(height: 24),\n            _buildCustomerInfoForm(),\n            SizedBox(height: 24),\n            _buildSpecialRequestsField(),\n            SizedBox(height: 32),\n            _buildSubmitButton(),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildDealerSelection() {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          '\u9009\u62e9\u7ecf\u9500\u5546',\n          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),\n        ),\n        SizedBox(height: 12),\n        BlocBuilder&lt;TestDriveBloc, TestDriveState&gt;(\n          builder: (context, state) {\n            if (state is DealersLoaded) {\n              return Column(\n                children: state.dealers.map((dealer) {\n                  return DealerSelectionCard(\n                    dealer: dealer,\n                    isSelected: _selectedDealer?.id == dealer.id,\n                    onSelected: () =&gt; _selectDealer(dealer),\n                  );\n                }).toList(),\n              );\n            }\n            return DealerSelectionSkeleton();\n          },\n        ),\n      ],\n    );\n  }\n\n  Widget _buildDateTimeSelection() {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          '\u9009\u62e9\u65f6\u95f4',\n          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),\n        ),\n        SizedBox(height: 12),\n        DatePickerWidget(\n          onDateSelected: (date) =&gt; _selectDate(date),\n          minDate: DateTime.now(),\n          maxDate: DateTime.now().add(Duration(days: 30)),\n        ),\n        if (_selectedDate != null) ...[\n          SizedBox(height: 16),\n          TimeSlotGrid(\n            availableSlots: _getAvailableTimeSlots(),\n            selectedSlot: _selectedTimeSlot,\n            onSlotSelected: (slot) =&gt; _selectTimeSlot(slot),\n          ),\n        ],\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"car_sales/index.html#_12","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"car_sales/index.html#_13","title":"\u8f66\u578b\u76ee\u5f55\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u8f66\u578b\u76ee\u5f55\u72b6\u6001 BLoC\nclass VehicleCatalogBloc extends Bloc&lt;VehicleCatalogEvent, VehicleCatalogState&gt; {\n  final VehicleCatalogService _catalogService;\n\n  VehicleCatalogBloc(this._catalogService) : super(VehicleCatalogInitial()) {\n    on&lt;LoadVehicleModels&gt;(_onLoadVehicleModels);\n    on&lt;FilterVehicles&gt;(_onFilterVehicles);\n    on&lt;SearchVehicles&gt;(_onSearchVehicles);\n  }\n\n  Future&lt;void&gt; _onLoadVehicleModels(\n    LoadVehicleModels event,\n    Emitter&lt;VehicleCatalogState&gt; emit,\n  ) async {\n    emit(VehicleCatalogLoading());\n\n    final result = await _catalogService.getVehicleModels(\n      brand: event.brand,\n      category: event.category,\n      priceRange: event.priceRange,\n    );\n\n    result.fold(\n      (failure) =&gt; emit(VehicleCatalogError(failure.message)),\n      (vehicles) =&gt; emit(VehicleCatalogLoaded(vehicles)),\n    );\n  }\n}\n</code></pre>"},{"location":"car_sales/index.html#_14","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"car_sales/index.html#_15","title":"\u6838\u5fc3\u6a21\u5757\u4f9d\u8d56","text":"<ul> <li>basic_utils: \u57fa\u7840\u5de5\u5177\u7c7b</li> <li>basic_uis: \u57fa\u7840 UI \u7ec4\u4ef6</li> <li>app_configuration: \u5e94\u7528\u914d\u7f6e</li> <li>oneapp_after_sales: \u552e\u540e\u670d\u52a1\u96c6\u6210</li> <li>oneapp_touch_point: \u89e6\u70b9\u7ba1\u7406\u96c6\u6210</li> </ul>"},{"location":"car_sales/index.html#ui","title":"UI \u76f8\u5173\u4f9d\u8d56","text":"<ul> <li>card_swiper: \u5361\u7247\u8f6e\u64ad\u7ec4\u4ef6\uff0c\u7528\u4e8e\u8f66\u578b\u56fe\u7247\u5c55\u793a</li> <li>flutter_pickers: \u9009\u62e9\u5668\u7ec4\u4ef6\uff0c\u7528\u4e8e\u65e5\u671f\u65f6\u95f4\u9009\u62e9</li> <li>ui_mapview: \u5730\u56fe\u89c6\u56fe\u7ec4\u4ef6\uff0c\u7528\u4e8e\u7ecf\u9500\u5546\u4f4d\u7f6e\u5c55\u793a</li> </ul>"},{"location":"car_sales/index.html#_16","title":"\u5b9a\u4f4d\u76f8\u5173\u4f9d\u8d56","text":"<ul> <li>amap_flutter_location: \u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\u670d\u52a1</li> <li>permission_handler: \u6743\u9650\u7ba1\u7406</li> </ul>"},{"location":"car_sales/index.html#_17","title":"\u6846\u67b6\u4f9d\u8d56","text":"<ul> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>flutter_localizations: \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"car_sales/index.html#_18","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"car_sales/index.html#_19","title":"\u9500\u552e\u6a21\u5757\u5f02\u5e38","text":"<pre><code>// \u9500\u552e\u529f\u80fd\u5f02\u5e38\nabstract class SalesFailure {\n  const SalesFailure();\n\n  factory SalesFailure.catalogLoadFailed(String message) = CatalogLoadFailure;\n  factory SalesFailure.dealerNotFound() = DealerNotFoundFailure;\n  factory SalesFailure.timeSlotNotAvailable() = TimeSlotNotAvailableFailure;\n  factory SalesFailure.appointmentCreationFailed(String message) = AppointmentCreationFailure;\n  factory SalesFailure.leadCreationFailed(String message) = LeadCreationFailure;\n}\n</code></pre>"},{"location":"car_sales/index.html#_20","title":"\u603b\u7ed3","text":"<p><code>oneapp_car_sales</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u6c7d\u8f66\u9500\u552e\u89e3\u51b3\u65b9\u6848\uff0c\u901a\u8fc7\u8f66\u578b\u5c55\u793a\u3001\u8bd5\u9a7e\u9884\u7ea6\u3001\u7ecf\u9500\u5546\u670d\u52a1\u548c\u9500\u552e\u7ebf\u7d22\u7ba1\u7406\uff0c\u6784\u5efa\u4e86\u5b8c\u6574\u7684\u6570\u5b57\u5316\u8d2d\u8f66\u4f53\u9a8c\u3002\u6a21\u5757\u4e0e\u5730\u56fe\u670d\u52a1\u3001\u89e6\u70b9\u7ba1\u7406\u3001\u552e\u540e\u670d\u52a1\u7b49\u6df1\u5ea6\u96c6\u6210\uff0c\u4e3a\u7528\u6237\u548c\u7ecf\u9500\u5546\u63d0\u4f9b\u4e86\u9ad8\u6548\u7684\u9500\u552e\u670d\u52a1\u5e73\u53f0\u3002</p>"},{"location":"community/index.html","title":"OneApp Community - \u793e\u533a\u6a21\u5757\u6587\u6863","text":""},{"location":"community/index.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_community</code> \u662f OneApp \u7684\u7528\u6237\u793e\u533a\u6a21\u5757\uff0c\u63d0\u4f9b\u8f66\u4e3b\u793e\u4ea4\u3001\u5185\u5bb9\u5206\u4eab\u3001\u8bdd\u9898\u8ba8\u8bba\u3001\u6d3b\u52a8\u53c2\u4e0e\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u96c6\u6210\u4e86\u591a\u5a92\u4f53\u5185\u5bb9\u5c55\u793a\u3001\u7528\u6237\u4e92\u52a8\u3001\u5185\u5bb9\u7ba1\u7406\u7b49\u6838\u5fc3\u529f\u80fd\uff0c\u4e3a\u8f66\u4e3b\u7528\u6237\u6784\u5efa\u6d3b\u8dc3\u7684\u793e\u533a\u751f\u6001\u3002</p>"},{"location":"community/index.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: oneapp_community</li> <li>\u7248\u672c: 0.0.3</li> <li>\u7c7b\u578b: Flutter Package</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> </ul>"},{"location":"community/index.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>oneapp_community/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 oneapp_community.dart     # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u793e\u533a\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u793e\u533a\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\n\u2502       \u2514\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"community/index.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"community/index.html#1","title":"1. \u5185\u5bb9\u53d1\u5e03\u4e0e\u7ba1\u7406","text":""},{"location":"community/index.html#_5","title":"\u5185\u5bb9\u53d1\u5e03\u7cfb\u7edf","text":"<pre><code>// \u5185\u5bb9\u53d1\u5e03\u670d\u52a1\nclass ContentPublishService {\n  final CommunityRepository _repository;\n  final MediaService _mediaService;\n  final UserService _userService;\n\n  ContentPublishService(\n    this._repository,\n    this._mediaService,\n    this._userService,\n  );\n\n  // \u53d1\u5e03\u56fe\u6587\u5185\u5bb9\n  Future&lt;Result&lt;Post&gt;&gt; publishTextPost({\n    required String content,\n    required List&lt;String&gt; tags,\n    List&lt;File&gt;? images,\n    String? location,\n    PostPrivacy privacy = PostPrivacy.public,\n  }) async {\n    try {\n      // 1. \u4e0a\u4f20\u56fe\u7247\n      List&lt;String&gt; imageUrls = [];\n      if (images != null &amp;&amp; images.isNotEmpty) {\n        final uploadResults = await Future.wait(\n          images.map((image) =&gt; _mediaService.uploadImage(image)),\n        );\n        imageUrls = uploadResults.where((url) =&gt; url != null).cast&lt;String&gt;().toList();\n      }\n\n      // 2. \u521b\u5efa\u5e16\u5b50\n      final post = Post(\n        id: generateId(),\n        authorId: _userService.currentUserId,\n        content: content,\n        images: imageUrls,\n        tags: tags,\n        location: location,\n        privacy: privacy,\n        createdAt: DateTime.now(),\n        updatedAt: DateTime.now(),\n      );\n\n      // 3. \u4fdd\u5b58\u5230\u6570\u636e\u5e93\n      final savedPost = await _repository.createPost(post);\n\n      // 4. \u901a\u77e5\u76f8\u5173\u7528\u6237\n      await _notifyFollowers(savedPost);\n\n      return Right(savedPost);\n    } catch (e) {\n      return Left(CommunityFailure.publishFailed(e.toString()));\n    }\n  }\n\n  // \u53d1\u5e03\u89c6\u9891\u5185\u5bb9\n  Future&lt;Result&lt;Post&gt;&gt; publishVideoPost({\n    required String content,\n    required File video,\n    File? thumbnail,\n    required List&lt;String&gt; tags,\n    String? location,\n  }) async {\n    try {\n      // 1. \u4e0a\u4f20\u89c6\u9891\n      final videoUrl = await _mediaService.uploadVideo(video);\n      if (videoUrl == null) {\n        return Left(CommunityFailure.videoUploadFailed());\n      }\n\n      // 2. \u4e0a\u4f20\u7f29\u7565\u56fe\u6216\u751f\u6210\u7f29\u7565\u56fe\n      String? thumbnailUrl;\n      if (thumbnail != null) {\n        thumbnailUrl = await _mediaService.uploadImage(thumbnail);\n      } else {\n        thumbnailUrl = await _mediaService.generateVideoThumbnail(videoUrl);\n      }\n\n      // 3. \u521b\u5efa\u89c6\u9891\u5e16\u5b50\n      final post = Post(\n        id: generateId(),\n        authorId: _userService.currentUserId,\n        content: content,\n        videoUrl: videoUrl,\n        thumbnailUrl: thumbnailUrl,\n        tags: tags,\n        location: location,\n        type: PostType.video,\n        createdAt: DateTime.now(),\n        updatedAt: DateTime.now(),\n      );\n\n      final savedPost = await _repository.createPost(post);\n      return Right(savedPost);\n    } catch (e) {\n      return Left(CommunityFailure.publishFailed(e.toString()));\n    }\n  }\n\n  // \u5206\u4eab\u8f66\u8f86\u72b6\u6001\n  Future&lt;Result&lt;Post&gt;&gt; shareVehicleStatus({\n    required String vehicleId,\n    required VehicleStatus status,\n    String? content,\n    List&lt;String&gt;? tags,\n  }) async {\n    try {\n      final post = Post(\n        id: generateId(),\n        authorId: _userService.currentUserId,\n        content: content ?? '\u5206\u4eab\u6211\u7684\u7231\u8f66\u72b6\u6001',\n        tags: tags ?? ['\u8f66\u8f86\u72b6\u6001'],\n        vehicleData: VehicleShareData.fromStatus(vehicleId, status),\n        type: PostType.vehicleShare,\n        createdAt: DateTime.now(),\n        updatedAt: DateTime.now(),\n      );\n\n      final savedPost = await _repository.createPost(post);\n      return Right(savedPost);\n    } catch (e) {\n      return Left(CommunityFailure.publishFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"community/index.html#2","title":"2. \u5185\u5bb9\u6d4f\u89c8\u4e0e\u4e92\u52a8","text":""},{"location":"community/index.html#_6","title":"\u5185\u5bb9\u6d41\u7ba1\u7406","text":"<pre><code>// \u793e\u533a\u5185\u5bb9\u6d41\u670d\u52a1\nclass CommunityFeedService {\n  final CommunityRepository _repository;\n  final UserPreferenceService _preferenceService;\n  final RecommendationEngine _recommendationEngine;\n\n  CommunityFeedService(\n    this._repository,\n    this._preferenceService,\n    this._recommendationEngine,\n  );\n\n  // \u83b7\u53d6\u4e2a\u6027\u5316\u5185\u5bb9\u6d41\n  Future&lt;Result&lt;List&lt;Post&gt;&gt;&gt; getPersonalizedFeed({\n    int page = 1,\n    int pageSize = 20,\n    FeedType type = FeedType.recommended,\n  }) async {\n    try {\n      final userPreferences = await _preferenceService.getUserPreferences();\n\n      List&lt;Post&gt; posts;\n      switch (type) {\n        case FeedType.recommended:\n          posts = await _getRecommendedPosts(userPreferences, page, pageSize);\n          break;\n        case FeedType.following:\n          posts = await _getFollowingPosts(page, pageSize);\n          break;\n        case FeedType.latest:\n          posts = await _getLatestPosts(page, pageSize);\n          break;\n        case FeedType.trending:\n          posts = await _getTrendingPosts(page, pageSize);\n          break;\n      }\n\n      return Right(posts);\n    } catch (e) {\n      return Left(CommunityFailure.feedLoadFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u63a8\u8350\u5185\u5bb9\n  Future&lt;List&lt;Post&gt;&gt; _getRecommendedPosts(\n    UserPreferences preferences,\n    int page,\n    int pageSize,\n  ) async {\n    final recommendations = await _recommendationEngine.getRecommendations(\n      userId: _userService.currentUserId,\n      preferences: preferences,\n      page: page,\n      pageSize: pageSize,\n    );\n\n    return await _repository.getPostsByIds(recommendations.postIds);\n  }\n\n  // \u641c\u7d22\u5185\u5bb9\n  Future&lt;Result&lt;SearchResult&gt;&gt; searchContent({\n    required String keyword,\n    List&lt;String&gt;? tags,\n    PostType? type,\n    String? location,\n    DateRange? dateRange,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final searchParams = SearchParams(\n        keyword: keyword,\n        tags: tags,\n        type: type,\n        location: location,\n        dateRange: dateRange,\n        page: page,\n        pageSize: pageSize,\n      );\n\n      final searchResult = await _repository.searchPosts(searchParams);\n      return Right(searchResult);\n    } catch (e) {\n      return Left(CommunityFailure.searchFailed(e.toString()));\n    }\n  }\n}\n\n// \u5185\u5bb9\u4e92\u52a8\u670d\u52a1\nclass ContentInteractionService {\n  final CommunityRepository _repository;\n  final NotificationService _notificationService;\n\n  ContentInteractionService(this._repository, this._notificationService);\n\n  // \u70b9\u8d5e/\u53d6\u6d88\u70b9\u8d5e\n  Future&lt;Result&lt;void&gt;&gt; toggleLike(String postId) async {\n    try {\n      final isLiked = await _repository.isPostLiked(postId, _userService.currentUserId);\n\n      if (isLiked) {\n        await _repository.unlikePost(postId, _userService.currentUserId);\n      } else {\n        await _repository.likePost(postId, _userService.currentUserId);\n\n        // \u53d1\u9001\u70b9\u8d5e\u901a\u77e5\n        final post = await _repository.getPostById(postId);\n        if (post != null &amp;&amp; post.authorId != _userService.currentUserId) {\n          await _notificationService.sendLikeNotification(\n            targetUserId: post.authorId,\n            postId: postId,\n            likerUserId: _userService.currentUserId,\n          );\n        }\n      }\n\n      return Right(unit);\n    } catch (e) {\n      return Left(CommunityFailure.interactionFailed(e.toString()));\n    }\n  }\n\n  // \u8bc4\u8bba\n  Future&lt;Result&lt;Comment&gt;&gt; addComment({\n    required String postId,\n    required String content,\n    String? parentCommentId,\n    List&lt;String&gt;? mentionedUserIds,\n  }) async {\n    try {\n      final comment = Comment(\n        id: generateId(),\n        postId: postId,\n        authorId: _userService.currentUserId,\n        content: content,\n        parentCommentId: parentCommentId,\n        mentionedUserIds: mentionedUserIds ?? [],\n        createdAt: DateTime.now(),\n      );\n\n      final savedComment = await _repository.createComment(comment);\n\n      // \u53d1\u9001\u8bc4\u8bba\u901a\u77e5\n      await _sendCommentNotifications(savedComment);\n\n      return Right(savedComment);\n    } catch (e) {\n      return Left(CommunityFailure.commentFailed(e.toString()));\n    }\n  }\n\n  // \u5206\u4eab\n  Future&lt;Result&lt;void&gt;&gt; sharePost({\n    required String postId,\n    required ShareTarget target,\n    String? message,\n  }) async {\n    try {\n      final post = await _repository.getPostById(postId);\n      if (post == null) {\n        return Left(CommunityFailure.postNotFound());\n      }\n\n      await _repository.recordShare(postId, _userService.currentUserId, target);\n\n      // \u6839\u636e\u5206\u4eab\u76ee\u6807\u6267\u884c\u76f8\u5e94\u64cd\u4f5c\n      switch (target) {\n        case ShareTarget.internal:\n          await _shareToInternalFeed(post, message);\n          break;\n        case ShareTarget.wechat:\n          await _shareToWeChat(post);\n          break;\n        case ShareTarget.weibo:\n          await _shareToWeibo(post);\n          break;\n        default:\n          break;\n      }\n\n      return Right(unit);\n    } catch (e) {\n      return Left(CommunityFailure.shareFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"community/index.html#3","title":"3. \u7528\u6237\u5173\u7cfb\u7ba1\u7406","text":""},{"location":"community/index.html#_7","title":"\u5173\u6ce8\u7cfb\u7edf","text":"<pre><code>// \u7528\u6237\u5173\u7cfb\u670d\u52a1\nclass UserRelationshipService {\n  final CommunityRepository _repository;\n  final NotificationService _notificationService;\n\n  UserRelationshipService(this._repository, this._notificationService);\n\n  // \u5173\u6ce8\u7528\u6237\n  Future&lt;Result&lt;void&gt;&gt; followUser(String targetUserId) async {\n    try {\n      if (targetUserId == _userService.currentUserId) {\n        return Left(CommunityFailure.cannotFollowSelf());\n      }\n\n      final isAlreadyFollowing = await _repository.isFollowing(\n        _userService.currentUserId,\n        targetUserId,\n      );\n\n      if (isAlreadyFollowing) {\n        return Left(CommunityFailure.alreadyFollowing());\n      }\n\n      await _repository.followUser(_userService.currentUserId, targetUserId);\n\n      // \u53d1\u9001\u5173\u6ce8\u901a\u77e5\n      await _notificationService.sendFollowNotification(\n        targetUserId: targetUserId,\n        followerUserId: _userService.currentUserId,\n      );\n\n      return Right(unit);\n    } catch (e) {\n      return Left(CommunityFailure.followFailed(e.toString()));\n    }\n  }\n\n  // \u53d6\u6d88\u5173\u6ce8\n  Future&lt;Result&lt;void&gt;&gt; unfollowUser(String targetUserId) async {\n    try {\n      await _repository.unfollowUser(_userService.currentUserId, targetUserId);\n      return Right(unit);\n    } catch (e) {\n      return Left(CommunityFailure.unfollowFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u5173\u6ce8\u5217\u8868\n  Future&lt;Result&lt;List&lt;UserProfile&gt;&gt;&gt; getFollowing({\n    String? userId,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final targetUserId = userId ?? _userService.currentUserId;\n      final followingList = await _repository.getFollowing(\n        targetUserId,\n        page,\n        pageSize,\n      );\n      return Right(followingList);\n    } catch (e) {\n      return Left(CommunityFailure.loadFollowingFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u7c89\u4e1d\u5217\u8868\n  Future&lt;Result&lt;List&lt;UserProfile&gt;&gt;&gt; getFollowers({\n    String? userId,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final targetUserId = userId ?? _userService.currentUserId;\n      final followersList = await _repository.getFollowers(\n        targetUserId,\n        page,\n        pageSize,\n      );\n      return Right(followersList);\n    } catch (e) {\n      return Left(CommunityFailure.loadFollowersFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u5171\u540c\u5173\u6ce8\n  Future&lt;Result&lt;List&lt;UserProfile&gt;&gt;&gt; getMutualFollowing(String userId) async {\n    try {\n      final mutualFollowing = await _repository.getMutualFollowing(\n        _userService.currentUserId,\n        userId,\n      );\n      return Right(mutualFollowing);\n    } catch (e) {\n      return Left(CommunityFailure.loadMutualFollowingFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"community/index.html#4","title":"4. \u8bdd\u9898\u4e0e\u6807\u7b7e\u7cfb\u7edf","text":""},{"location":"community/index.html#_8","title":"\u8bdd\u9898\u7ba1\u7406","text":"<pre><code>// \u8bdd\u9898\u670d\u52a1\nclass TopicService {\n  final CommunityRepository _repository;\n  final TrendingAnalyzer _trendingAnalyzer;\n\n  TopicService(this._repository, this._trendingAnalyzer);\n\n  // \u83b7\u53d6\u70ed\u95e8\u8bdd\u9898\n  Future&lt;Result&lt;List&lt;Topic&gt;&gt;&gt; getTrendingTopics({\n    int limit = 20,\n    Duration? timeRange,\n  }) async {\n    try {\n      final topics = await _trendingAnalyzer.getTrendingTopics(\n        limit: limit,\n        timeRange: timeRange ?? Duration(days: 7),\n      );\n      return Right(topics);\n    } catch (e) {\n      return Left(CommunityFailure.loadTopicsFailed(e.toString()));\n    }\n  }\n\n  // \u641c\u7d22\u8bdd\u9898\n  Future&lt;Result&lt;List&lt;Topic&gt;&gt;&gt; searchTopics(String keyword) async {\n    try {\n      final topics = await _repository.searchTopics(keyword);\n      return Right(topics);\n    } catch (e) {\n      return Left(CommunityFailure.searchTopicsFailed(e.toString()));\n    }\n  }\n\n  // \u5173\u6ce8\u8bdd\u9898\n  Future&lt;Result&lt;void&gt;&gt; followTopic(String topicId) async {\n    try {\n      await _repository.followTopic(_userService.currentUserId, topicId);\n      return Right(unit);\n    } catch (e) {\n      return Left(CommunityFailure.followTopicFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u8bdd\u9898\u4e0b\u7684\u5185\u5bb9\n  Future&lt;Result&lt;List&lt;Post&gt;&gt;&gt; getTopicPosts({\n    required String topicId,\n    int page = 1,\n    int pageSize = 20,\n    PostSortType sortType = PostSortType.latest,\n  }) async {\n    try {\n      final posts = await _repository.getTopicPosts(\n        topicId: topicId,\n        page: page,\n        pageSize: pageSize,\n        sortType: sortType,\n      );\n      return Right(posts);\n    } catch (e) {\n      return Left(CommunityFailure.loadTopicPostsFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"community/index.html#5","title":"5. \u591a\u5a92\u4f53\u5185\u5bb9\u5904\u7406","text":""},{"location":"community/index.html#_9","title":"\u89c6\u9891\u64ad\u653e\u5668\u96c6\u6210","text":"<pre><code>// \u793e\u533a\u89c6\u9891\u64ad\u653e\u5668\nclass CommunityVideoPlayer extends StatefulWidget {\n  final String videoUrl;\n  final String? thumbnailUrl;\n  final bool autoPlay;\n  final bool showControls;\n  final VoidCallback? onPlayComplete;\n\n  const CommunityVideoPlayer({\n    Key? key,\n    required this.videoUrl,\n    this.thumbnailUrl,\n    this.autoPlay = false,\n    this.showControls = true,\n    this.onPlayComplete,\n  }) : super(key: key);\n\n  @override\n  _CommunityVideoPlayerState createState() =&gt; _CommunityVideoPlayerState();\n}\n\nclass _CommunityVideoPlayerState extends State&lt;CommunityVideoPlayer&gt; {\n  late SuperPlayerController _controller;\n  bool _isInitialized = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _initializePlayer();\n  }\n\n  void _initializePlayer() {\n    _controller = SuperPlayerController();\n\n    final playerConfig = SuperPlayerModel();\n    playerConfig.videoURL = widget.videoUrl;\n    playerConfig.title = '\u793e\u533a\u89c6\u9891';\n    playerConfig.coverURL = widget.thumbnailUrl;\n\n    _controller.playWithModel(playerConfig);\n\n    _controller.onSimplePlayerEventBroadcast.listen((event) {\n      if (event['event'] == SuperPlayerViewEvent.onPlayEnd) {\n        widget.onPlayComplete?.call();\n      }\n    });\n\n    setState(() {\n      _isInitialized = true;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (!_isInitialized) {\n      return _buildLoadingState();\n    }\n\n    return SuperPlayerView(\n      _controller,\n      isFullScreen: false,\n      showLeftBackBtn: false,\n    );\n  }\n\n  Widget _buildLoadingState() {\n    return Container(\n      height: 200,\n      color: Colors.black12,\n      child: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            CircularProgressIndicator(),\n            SizedBox(height: 8),\n            Text('\u52a0\u8f7d\u4e2d...'),\n          ],\n        ),\n      ),\n    );\n  }\n\n  @override\n  void dispose() {\n    _controller.releasePlayer();\n    super.dispose();\n  }\n}\n</code></pre>"},{"location":"community/index.html#_10","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"community/index.html#_11","title":"\u6838\u5fc3\u6570\u636e\u6a21\u578b","text":"<pre><code>// \u5e16\u5b50\u6a21\u578b\nclass Post {\n  final String id;\n  final String authorId;\n  final String content;\n  final List&lt;String&gt; images;\n  final String? videoUrl;\n  final String? thumbnailUrl;\n  final List&lt;String&gt; tags;\n  final String? location;\n  final PostType type;\n  final PostPrivacy privacy;\n  final VehicleShareData? vehicleData;\n  final int likeCount;\n  final int commentCount;\n  final int shareCount;\n  final DateTime createdAt;\n  final DateTime updatedAt;\n\n  const Post({\n    required this.id,\n    required this.authorId,\n    required this.content,\n    this.images = const [],\n    this.videoUrl,\n    this.thumbnailUrl,\n    this.tags = const [],\n    this.location,\n    this.type = PostType.text,\n    this.privacy = PostPrivacy.public,\n    this.vehicleData,\n    this.likeCount = 0,\n    this.commentCount = 0,\n    this.shareCount = 0,\n    required this.createdAt,\n    required this.updatedAt,\n  });\n}\n\n// \u8bc4\u8bba\u6a21\u578b\nclass Comment {\n  final String id;\n  final String postId;\n  final String authorId;\n  final String content;\n  final String? parentCommentId;\n  final List&lt;String&gt; mentionedUserIds;\n  final int likeCount;\n  final List&lt;Comment&gt; replies;\n  final DateTime createdAt;\n\n  const Comment({\n    required this.id,\n    required this.postId,\n    required this.authorId,\n    required this.content,\n    this.parentCommentId,\n    this.mentionedUserIds = const [],\n    this.likeCount = 0,\n    this.replies = const [],\n    required this.createdAt,\n  });\n}\n\n// \u7528\u6237\u8d44\u6599\u6a21\u578b\nclass UserProfile {\n  final String id;\n  final String username;\n  final String? displayName;\n  final String? avatar;\n  final String? bio;\n  final String? location;\n  final int followingCount;\n  final int followersCount;\n  final int postsCount;\n  final bool isVerified;\n  final DateTime joinedAt;\n\n  const UserProfile({\n    required this.id,\n    required this.username,\n    this.displayName,\n    this.avatar,\n    this.bio,\n    this.location,\n    this.followingCount = 0,\n    this.followersCount = 0,\n    this.postsCount = 0,\n    this.isVerified = false,\n    required this.joinedAt,\n  });\n}\n</code></pre>"},{"location":"community/index.html#ui","title":"UI \u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"community/index.html#_12","title":"\u5e16\u5b50\u5361\u7247\u7ec4\u4ef6","text":"<pre><code>// \u5e16\u5b50\u5361\u7247\u7ec4\u4ef6\nclass PostCard extends StatelessWidget {\n  final Post post;\n  final UserProfile author;\n  final VoidCallback? onTap;\n  final VoidCallback? onLike;\n  final VoidCallback? onComment;\n  final VoidCallback? onShare;\n\n  const PostCard({\n    Key? key,\n    required this.post,\n    required this.author,\n    this.onTap,\n    this.onLike,\n    this.onComment,\n    this.onShare,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      child: InkWell(\n        onTap: onTap,\n        child: Padding(\n          padding: EdgeInsets.all(16),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              _buildHeader(),\n              SizedBox(height: 12),\n              _buildContent(),\n              if (post.images.isNotEmpty) ...[\n                SizedBox(height: 12),\n                _buildImageGrid(),\n              ],\n              if (post.videoUrl != null) ...[\n                SizedBox(height: 12),\n                _buildVideoPlayer(),\n              ],\n              if (post.vehicleData != null) ...[\n                SizedBox(height: 12),\n                _buildVehicleData(),\n              ],\n              SizedBox(height: 12),\n              _buildInteractionBar(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  Widget _buildHeader() {\n    return Row(\n      children: [\n        CircleAvatar(\n          radius: 20,\n          backgroundImage: author.avatar != null\n              ? NetworkImage(author.avatar!)\n              : null,\n          child: author.avatar == null\n              ? Text(author.username[0].toUpperCase())\n              : null,\n        ),\n        SizedBox(width: 12),\n        Expanded(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Row(\n                children: [\n                  Text(\n                    author.displayName ?? author.username,\n                    style: TextStyle(\n                      fontWeight: FontWeight.bold,\n                      fontSize: 16,\n                    ),\n                  ),\n                  if (author.isVerified) ...[\n                    SizedBox(width: 4),\n                    Icon(\n                      Icons.verified,\n                      size: 16,\n                      color: Colors.blue,\n                    ),\n                  ],\n                ],\n              ),\n              Text(\n                timeago.format(post.createdAt),\n                style: TextStyle(\n                  color: Colors.grey[600],\n                  fontSize: 12,\n                ),\n              ),\n            ],\n          ),\n        ),\n        IconButton(\n          icon: Icon(Icons.more_vert),\n          onPressed: () =&gt; _showPostMenu(context),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildContent() {\n    return Text(\n      post.content,\n      style: TextStyle(fontSize: 16),\n    );\n  }\n\n  Widget _buildInteractionBar() {\n    return Row(\n      children: [\n        _buildInteractionButton(\n          icon: Icons.favorite_border,\n          count: post.likeCount,\n          onTap: onLike,\n        ),\n        SizedBox(width: 24),\n        _buildInteractionButton(\n          icon: Icons.comment_outlined,\n          count: post.commentCount,\n          onTap: onComment,\n        ),\n        SizedBox(width: 24),\n        _buildInteractionButton(\n          icon: Icons.share_outlined,\n          count: post.shareCount,\n          onTap: onShare,\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"community/index.html#_13","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"community/index.html#_14","title":"\u96c6\u6210\u6a21\u5757\u4f9d\u8d56","text":"<ul> <li>basic_utils: \u57fa\u7840\u5de5\u5177\u7c7b</li> <li>basic_uis: \u57fa\u7840 UI \u7ec4\u4ef6</li> <li>oneapp_membership: \u4f1a\u5458\u7cfb\u7edf\u96c6\u6210</li> <li>oneapp_car_sales: \u6c7d\u8f66\u9500\u552e\u96c6\u6210</li> <li>oneapp_touch_point: \u89e6\u70b9\u7ba1\u7406\u96c6\u6210</li> <li>oneapp_after_sales: \u552e\u540e\u670d\u52a1\u96c6\u6210</li> <li>share_to_friends: \u5206\u4eab\u529f\u80fd\u7ec4\u4ef6</li> </ul>"},{"location":"community/index.html#_15","title":"\u591a\u5a92\u4f53\u4f9d\u8d56","text":"<ul> <li>superplayer_widget: \u817e\u8baf\u4e91\u8d85\u7ea7\u64ad\u653e\u5668\uff0c\u7528\u4e8e\u89c6\u9891\u64ad\u653e</li> </ul>"},{"location":"community/index.html#_16","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"community/index.html#_17","title":"\u793e\u533a\u7279\u5b9a\u5f02\u5e38","text":"<pre><code>// \u793e\u533a\u529f\u80fd\u5f02\u5e38\nabstract class CommunityFailure {\n  const CommunityFailure();\n\n  factory CommunityFailure.publishFailed(String message) = PublishFailure;\n  factory CommunityFailure.feedLoadFailed(String message) = FeedLoadFailure;\n  factory CommunityFailure.interactionFailed(String message) = InteractionFailure;\n  factory CommunityFailure.followFailed(String message) = FollowFailure;\n  factory CommunityFailure.contentNotFound() = ContentNotFoundFailure;\n  factory CommunityFailure.permissionDenied() = PermissionDeniedFailure;\n}\n</code></pre>"},{"location":"community/index.html#_18","title":"\u603b\u7ed3","text":"<p><code>oneapp_community</code> \u6a21\u5757\u4e3a OneApp \u6784\u5efa\u4e86\u5b8c\u6574\u7684\u8f66\u4e3b\u793e\u533a\u751f\u6001\uff0c\u901a\u8fc7\u5185\u5bb9\u53d1\u5e03\u3001\u4e92\u52a8\u5206\u4eab\u3001\u7528\u6237\u5173\u7cfb\u7b49\u529f\u80fd\uff0c\u4fc3\u8fdb\u4e86\u8f66\u4e3b\u4e4b\u95f4\u7684\u4ea4\u6d41\u4e0e\u4e92\u52a8\u3002\u6a21\u5757\u96c6\u6210\u4e86\u591a\u5a92\u4f53\u64ad\u653e\u3001\u5206\u4eab\u7ec4\u4ef6\u7b49\u529f\u80fd\uff0c\u5e76\u4e0e\u5176\u4ed6\u4e1a\u52a1\u6a21\u5757\u6df1\u5ea6\u6574\u5408\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u793e\u533a\u4f53\u9a8c\u3002</p>"},{"location":"membership/index.html","title":"OneApp Membership - \u4f1a\u5458\u7cfb\u7edf\u6a21\u5757\u6587\u6863","text":""},{"location":"membership/index.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_membership</code> \u662f OneApp \u7684\u4f1a\u5458\u7cfb\u7edf\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u4f1a\u5458\u7b49\u7ea7\u7ba1\u7406\u3001\u79ef\u5206\u7cfb\u7edf\u3001\u6743\u76ca\u7ba1\u7406\u3001\u4f1a\u5458\u7279\u6743\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u4e0e\u793e\u533a\u3001\u8d26\u6237\u3001\u552e\u540e\u670d\u52a1\u7b49\u6a21\u5757\u6df1\u5ea6\u96c6\u6210\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u4f1a\u5458\u751f\u6001\u4f53\u9a8c\u3002</p>"},{"location":"membership/index.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: oneapp_membership</li> <li>\u7248\u672c: 0.0.1</li> <li>\u7c7b\u578b: Flutter Package</li> <li>Dart \u7248\u672c: &gt;=3.0.0 &lt;4.0.0</li> <li>Flutter \u7248\u672c: &gt;=1.17.0</li> </ul>"},{"location":"membership/index.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>oneapp_membership/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 oneapp_membership.dart    # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u4f1a\u5458\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u4f1a\u5458\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u251c\u2500\u2500 blocs/                # \u72b6\u6001\u7ba1\u7406\n\u2502       \u251c\u2500\u2500 utils/                # \u5de5\u5177\u7c7b\n\u2502       \u2514\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 test/                         # \u6d4b\u8bd5\u6587\u4ef6\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"membership/index.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"membership/index.html#1","title":"1. \u4f1a\u5458\u7b49\u7ea7\u7ba1\u7406","text":""},{"location":"membership/index.html#_5","title":"\u4f1a\u5458\u7b49\u7ea7\u7cfb\u7edf","text":"<pre><code>// \u4f1a\u5458\u7b49\u7ea7\u679a\u4e3e\nenum MembershipTier {\n  bronze,   // \u9752\u94dc\u4f1a\u5458\n  silver,   // \u767d\u94f6\u4f1a\u5458\n  gold,     // \u9ec4\u91d1\u4f1a\u5458\n  platinum, // \u94c2\u91d1\u4f1a\u5458\n  diamond,  // \u94bb\u77f3\u4f1a\u5458\n  vip       // VIP\u4f1a\u5458\n}\n\n// \u4f1a\u5458\u7b49\u7ea7\u6a21\u578b\nclass MembershipLevel {\n  final MembershipTier tier;\n  final String name;\n  final String description;\n  final Color color;\n  final String iconUrl;\n  final int requiredPoints;\n  final List&lt;MemberBenefit&gt; benefits;\n  final MembershipPrivileges privileges;\n\n  const MembershipLevel({\n    required this.tier,\n    required this.name,\n    required this.description,\n    required this.color,\n    required this.iconUrl,\n    required this.requiredPoints,\n    required this.benefits,\n    required this.privileges,\n  });\n\n  factory MembershipLevel.bronze() {\n    return MembershipLevel(\n      tier: MembershipTier.bronze,\n      name: '\u9752\u94dc\u4f1a\u5458',\n      description: '\u5165\u95e8\u7ea7\u4f1a\u5458\uff0c\u4eab\u53d7\u57fa\u7840\u6743\u76ca',\n      color: Color(0xFFCD7F32),\n      iconUrl: 'assets/membership/bronze_icon.png',\n      requiredPoints: 0,\n      benefits: [\n        MemberBenefit.basicSupport(),\n        MemberBenefit.monthlyReport(),\n      ],\n      privileges: MembershipPrivileges.bronze(),\n    );\n  }\n\n  factory MembershipLevel.gold() {\n    return MembershipLevel(\n      tier: MembershipTier.gold,\n      name: '\u9ec4\u91d1\u4f1a\u5458',\n      description: '\u9ad8\u7ea7\u4f1a\u5458\uff0c\u4eab\u53d7\u4f18\u8d28\u670d\u52a1',\n      color: Color(0xFFFFD700),\n      iconUrl: 'assets/membership/gold_icon.png',\n      requiredPoints: 10000,\n      benefits: [\n        MemberBenefit.prioritySupport(),\n        MemberBenefit.freeCharging(times: 5),\n        MemberBenefit.exclusiveEvents(),\n        MemberBenefit.discounts(percentage: 15),\n      ],\n      privileges: MembershipPrivileges.gold(),\n    );\n  }\n}\n\n// \u4f1a\u5458\u670d\u52a1\u7ba1\u7406\nclass MembershipService {\n  final MembershipRepository _repository;\n  final PointsService _pointsService;\n  final NotificationService _notificationService;\n\n  MembershipService(\n    this._repository,\n    this._pointsService,\n    this._notificationService,\n  );\n\n  // \u83b7\u53d6\u7528\u6237\u4f1a\u5458\u4fe1\u606f\n  Future&lt;Result&lt;MembershipInfo&gt;&gt; getUserMembership(String userId) async {\n    try {\n      final membershipInfo = await _repository.getUserMembership(userId);\n      return Right(membershipInfo);\n    } catch (e) {\n      return Left(MembershipFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u5347\u7ea7\u4f1a\u5458\u7b49\u7ea7\n  Future&lt;Result&lt;void&gt;&gt; upgradeMembership({\n    required String userId,\n    required MembershipTier targetTier,\n    required PaymentMethod paymentMethod,\n  }) async {\n    try {\n      final currentMembership = await getUserMembership(userId);\n      return currentMembership.fold(\n        (failure) =&gt; Left(failure),\n        (membership) async {\n          // \u68c0\u67e5\u5347\u7ea7\u6761\u4ef6\n          if (!_canUpgrade(membership.tier, targetTier)) {\n            return Left(MembershipFailure.upgradeNotAllowed());\n          }\n\n          // \u5904\u7406\u652f\u4ed8\n          final upgradeResult = await _processUpgradePayment(\n            userId,\n            targetTier,\n            paymentMethod,\n          );\n\n          if (upgradeResult.isLeft()) {\n            return Left(MembershipFailure.paymentFailed());\n          }\n\n          // \u66f4\u65b0\u4f1a\u5458\u7b49\u7ea7\n          await _repository.updateMembershipTier(userId, targetTier);\n\n          // \u53d1\u9001\u5347\u7ea7\u901a\u77e5\n          await _notificationService.sendMembershipUpgradeNotification(\n            userId: userId,\n            newTier: targetTier,\n          );\n\n          return Right(unit);\n        },\n      );\n    } catch (e) {\n      return Left(MembershipFailure.upgradeFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"membership/index.html#2","title":"2. \u79ef\u5206\u7cfb\u7edf","text":""},{"location":"membership/index.html#_6","title":"\u79ef\u5206\u7ba1\u7406\u670d\u52a1","text":"<pre><code>// \u79ef\u5206\u7cfb\u7edf\u670d\u52a1\nclass PointsService {\n  final PointsRepository _repository;\n  final MembershipService _membershipService;\n\n  PointsService(this._repository, this._membershipService);\n\n  // \u83b7\u53d6\u7528\u6237\u79ef\u5206\u4f59\u989d\n  Future&lt;Result&lt;PointsBalance&gt;&gt; getUserPoints(String userId) async {\n    try {\n      final balance = await _repository.getPointsBalance(userId);\n      return Right(balance);\n    } catch (e) {\n      return Left(PointsFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u8d5a\u53d6\u79ef\u5206\n  Future&lt;Result&lt;PointsTransaction&gt;&gt; earnPoints({\n    required String userId,\n    required int points,\n    required PointsEarnReason reason,\n    Map&lt;String, dynamic&gt;? metadata,\n  }) async {\n    try {\n      final transaction = PointsTransaction(\n        id: generateId(),\n        userId: userId,\n        type: PointsTransactionType.earn,\n        points: points,\n        reason: reason.toString(),\n        metadata: metadata,\n        createdAt: DateTime.now(),\n      );\n\n      await _repository.addPointsTransaction(transaction);\n      await _repository.updatePointsBalance(userId, points);\n\n      // \u68c0\u67e5\u662f\u5426\u89e6\u53d1\u4f1a\u5458\u7b49\u7ea7\u5347\u7ea7\n      await _checkMembershipUpgrade(userId);\n\n      return Right(transaction);\n    } catch (e) {\n      return Left(PointsFailure.earnFailed(e.toString()));\n    }\n  }\n\n  // \u6d88\u8d39\u79ef\u5206\n  Future&lt;Result&lt;PointsTransaction&gt;&gt; spendPoints({\n    required String userId,\n    required int points,\n    required PointsSpendReason reason,\n    Map&lt;String, dynamic&gt;? metadata,\n  }) async {\n    try {\n      // \u68c0\u67e5\u79ef\u5206\u4f59\u989d\n      final balanceResult = await getUserPoints(userId);\n      return balanceResult.fold(\n        (failure) =&gt; Left(failure),\n        (balance) async {\n          if (balance.availablePoints &lt; points) {\n            return Left(PointsFailure.insufficientPoints());\n          }\n\n          final transaction = PointsTransaction(\n            id: generateId(),\n            userId: userId,\n            type: PointsTransactionType.spend,\n            points: -points,\n            reason: reason.toString(),\n            metadata: metadata,\n            createdAt: DateTime.now(),\n          );\n\n          await _repository.addPointsTransaction(transaction);\n          await _repository.updatePointsBalance(userId, -points);\n\n          return Right(transaction);\n        },\n      );\n    } catch (e) {\n      return Left(PointsFailure.spendFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u79ef\u5206\u5386\u53f2\u8bb0\u5f55\n  Future&lt;Result&lt;List&lt;PointsTransaction&gt;&gt;&gt; getPointsHistory({\n    required String userId,\n    int page = 1,\n    int pageSize = 20,\n    PointsTransactionType? type,\n  }) async {\n    try {\n      final transactions = await _repository.getPointsTransactions(\n        userId: userId,\n        page: page,\n        pageSize: pageSize,\n        type: type,\n      );\n      return Right(transactions);\n    } catch (e) {\n      return Left(PointsFailure.historyLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u79ef\u5206\u6570\u636e\u6a21\u578b\nclass PointsBalance {\n  final String userId;\n  final int totalEarned;\n  final int totalSpent;\n  final int availablePoints;\n  final int pendingPoints;\n  final DateTime lastUpdated;\n\n  const PointsBalance({\n    required this.userId,\n    required this.totalEarned,\n    required this.totalSpent,\n    required this.availablePoints,\n    required this.pendingPoints,\n    required this.lastUpdated,\n  });\n\n  int get lifetimePoints =&gt; totalEarned;\n  double get spendingRate =&gt; totalEarned &gt; 0 ? totalSpent / totalEarned : 0.0;\n}\n\n// \u79ef\u5206\u4ea4\u6613\u8bb0\u5f55\nclass PointsTransaction {\n  final String id;\n  final String userId;\n  final PointsTransactionType type;\n  final int points;\n  final String reason;\n  final Map&lt;String, dynamic&gt;? metadata;\n  final DateTime createdAt;\n  final PointsTransactionStatus status;\n\n  const PointsTransaction({\n    required this.id,\n    required this.userId,\n    required this.type,\n    required this.points,\n    required this.reason,\n    this.metadata,\n    required this.createdAt,\n    this.status = PointsTransactionStatus.completed,\n  });\n}\n</code></pre>"},{"location":"membership/index.html#3","title":"3. \u4f1a\u5458\u6743\u76ca\u7ba1\u7406","text":""},{"location":"membership/index.html#_7","title":"\u6743\u76ca\u670d\u52a1\u7cfb\u7edf","text":"<pre><code>// \u4f1a\u5458\u6743\u76ca\u670d\u52a1\nclass MemberBenefitsService {\n  final BenefitsRepository _repository;\n  final MembershipService _membershipService;\n\n  MemberBenefitsService(this._repository, this._membershipService);\n\n  // \u83b7\u53d6\u7528\u6237\u53ef\u7528\u6743\u76ca\n  Future&lt;Result&lt;List&lt;MemberBenefit&gt;&gt;&gt; getUserBenefits(String userId) async {\n    try {\n      final membership = await _membershipService.getUserMembership(userId);\n      return membership.fold(\n        (failure) =&gt; Left(BenefitsFailure.membershipNotFound()),\n        (membershipInfo) async {\n          final benefits = await _repository.getBenefitsForTier(\n            membershipInfo.tier,\n          );\n          return Right(benefits);\n        },\n      );\n    } catch (e) {\n      return Left(BenefitsFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u4f7f\u7528\u6743\u76ca\n  Future&lt;Result&lt;BenefitUsage&gt;&gt; useBenefit({\n    required String userId,\n    required String benefitId,\n    Map&lt;String, dynamic&gt;? context,\n  }) async {\n    try {\n      // \u68c0\u67e5\u6743\u76ca\u53ef\u7528\u6027\n      final benefit = await _repository.getBenefitById(benefitId);\n      if (benefit == null) {\n        return Left(BenefitsFailure.benefitNotFound());\n      }\n\n      // \u68c0\u67e5\u4f7f\u7528\u6761\u4ef6\n      final canUseResult = await _canUseBenefit(userId, benefit);\n      if (canUseResult.isLeft()) {\n        return Left(canUseResult.fold((l) =&gt; l, (r) =&gt; throw Exception()));\n      }\n\n      // \u8bb0\u5f55\u4f7f\u7528\n      final usage = BenefitUsage(\n        id: generateId(),\n        userId: userId,\n        benefitId: benefitId,\n        usedAt: DateTime.now(),\n        context: context,\n      );\n\n      await _repository.recordBenefitUsage(usage);\n\n      // \u6267\u884c\u6743\u76ca\u903b\u8f91\n      await _executeBenefitLogic(benefit, usage);\n\n      return Right(usage);\n    } catch (e) {\n      return Left(BenefitsFailure.usageFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u6743\u76ca\u4f7f\u7528\u5386\u53f2\n  Future&lt;Result&lt;List&lt;BenefitUsage&gt;&gt;&gt; getBenefitUsageHistory({\n    required String userId,\n    String? benefitId,\n    DateRange? dateRange,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final usageHistory = await _repository.getBenefitUsageHistory(\n        userId: userId,\n        benefitId: benefitId,\n        dateRange: dateRange,\n        page: page,\n        pageSize: pageSize,\n      );\n      return Right(usageHistory);\n    } catch (e) {\n      return Left(BenefitsFailure.historyLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u4f1a\u5458\u6743\u76ca\u6a21\u578b\nclass MemberBenefit {\n  final String id;\n  final String name;\n  final String description;\n  final BenefitType type;\n  final BenefitCategory category;\n  final Map&lt;String, dynamic&gt; configuration;\n  final UsageLimit usageLimit;\n  final List&lt;MembershipTier&gt; eligibleTiers;\n  final DateTime? validFrom;\n  final DateTime? validUntil;\n  final bool isActive;\n\n  const MemberBenefit({\n    required this.id,\n    required this.name,\n    required this.description,\n    required this.type,\n    required this.category,\n    required this.configuration,\n    required this.usageLimit,\n    required this.eligibleTiers,\n    this.validFrom,\n    this.validUntil,\n    this.isActive = true,\n  });\n\n  // \u514d\u8d39\u5145\u7535\u6743\u76ca\n  factory MemberBenefit.freeCharging({int times = 1}) {\n    return MemberBenefit(\n      id: 'free_charging',\n      name: '\u514d\u8d39\u5145\u7535',\n      description: '\u6bcf\u6708\u4eab\u53d7 $times \u6b21\u514d\u8d39\u5145\u7535\u670d\u52a1',\n      type: BenefitType.service,\n      category: BenefitCategory.charging,\n      configuration: {'free_times': times},\n      usageLimit: UsageLimit.monthly(times),\n      eligibleTiers: [\n        MembershipTier.gold,\n        MembershipTier.platinum,\n        MembershipTier.diamond,\n        MembershipTier.vip,\n      ],\n    );\n  }\n\n  // \u4f18\u5148\u5ba2\u670d\u6743\u76ca\n  factory MemberBenefit.prioritySupport() {\n    return MemberBenefit(\n      id: 'priority_support',\n      name: '\u4f18\u5148\u5ba2\u670d',\n      description: '\u4eab\u53d77x24\u5c0f\u65f6\u4f18\u5148\u5ba2\u670d\u652f\u6301',\n      type: BenefitType.service,\n      category: BenefitCategory.support,\n      configuration: {'priority_level': 'high'},\n      usageLimit: UsageLimit.unlimited(),\n      eligibleTiers: [\n        MembershipTier.gold,\n        MembershipTier.platinum,\n        MembershipTier.diamond,\n        MembershipTier.vip,\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"membership/index.html#4","title":"4. \u4f1a\u5458\u5546\u57ce","text":""},{"location":"membership/index.html#_8","title":"\u79ef\u5206\u5546\u57ce\u670d\u52a1","text":"<pre><code>// \u79ef\u5206\u5546\u57ce\u670d\u52a1\nclass MembershipStoreService {\n  final StoreRepository _repository;\n  final PointsService _pointsService;\n  final OrderService _orderService;\n\n  MembershipStoreService(\n    this._repository,\n    this._pointsService,\n    this._orderService,\n  );\n\n  // \u83b7\u53d6\u5546\u54c1\u5217\u8868\n  Future&lt;Result&lt;List&lt;StoreItem&gt;&gt;&gt; getStoreItems({\n    StoreCategory? category,\n    MembershipTier? minTier,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final items = await _repository.getStoreItems(\n        category: category,\n        minTier: minTier,\n        page: page,\n        pageSize: pageSize,\n      );\n      return Right(items);\n    } catch (e) {\n      return Left(StoreFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u5151\u6362\u5546\u54c1\n  Future&lt;Result&lt;StoreOrder&gt;&gt; redeemItem({\n    required String userId,\n    required String itemId,\n    int quantity = 1,\n    String? deliveryAddress,\n  }) async {\n    try {\n      // \u83b7\u53d6\u5546\u54c1\u4fe1\u606f\n      final item = await _repository.getStoreItemById(itemId);\n      if (item == null) {\n        return Left(StoreFailure.itemNotFound());\n      }\n\n      // \u68c0\u67e5\u79ef\u5206\u4f59\u989d\n      final totalCost = item.pointsPrice * quantity;\n      final pointsResult = await _pointsService.getUserPoints(userId);\n\n      return pointsResult.fold(\n        (failure) =&gt; Left(StoreFailure.pointsCheckFailed()),\n        (balance) async {\n          if (balance.availablePoints &lt; totalCost) {\n            return Left(StoreFailure.insufficientPoints());\n          }\n\n          // \u68c0\u67e5\u5e93\u5b58\n          if (item.stock != null &amp;&amp; item.stock! &lt; quantity) {\n            return Left(StoreFailure.insufficientStock());\n          }\n\n          // \u521b\u5efa\u8ba2\u5355\n          final order = StoreOrder(\n            id: generateId(),\n            userId: userId,\n            itemId: itemId,\n            itemName: item.name,\n            quantity: quantity,\n            pointsPrice: item.pointsPrice,\n            totalPoints: totalCost,\n            deliveryAddress: deliveryAddress,\n            status: StoreOrderStatus.pending,\n            createdAt: DateTime.now(),\n          );\n\n          // \u6263\u9664\u79ef\u5206\n          await _pointsService.spendPoints(\n            userId: userId,\n            points: totalCost,\n            reason: PointsSpendReason.storeRedemption,\n            metadata: {'order_id': order.id, 'item_id': itemId},\n          );\n\n          // \u4fdd\u5b58\u8ba2\u5355\n          await _repository.createStoreOrder(order);\n\n          // \u66f4\u65b0\u5e93\u5b58\n          if (item.stock != null) {\n            await _repository.updateItemStock(itemId, -quantity);\n          }\n\n          return Right(order);\n        },\n      );\n    } catch (e) {\n      return Left(StoreFailure.redeemFailed(e.toString()));\n    }\n  }\n\n  // \u83b7\u53d6\u5151\u6362\u8bb0\u5f55\n  Future&lt;Result&lt;List&lt;StoreOrder&gt;&gt;&gt; getRedemptionHistory({\n    required String userId,\n    StoreOrderStatus? status,\n    int page = 1,\n    int pageSize = 20,\n  }) async {\n    try {\n      final orders = await _repository.getStoreOrders(\n        userId: userId,\n        status: status,\n        page: page,\n        pageSize: pageSize,\n      );\n      return Right(orders);\n    } catch (e) {\n      return Left(StoreFailure.historyLoadFailed(e.toString()));\n    }\n  }\n}\n\n// \u5546\u57ce\u5546\u54c1\u6a21\u578b\nclass StoreItem {\n  final String id;\n  final String name;\n  final String description;\n  final String imageUrl;\n  final int pointsPrice;\n  final StoreCategory category;\n  final MembershipTier? requiredTier;\n  final int? stock;\n  final bool isVirtual;\n  final Map&lt;String, dynamic&gt;? metadata;\n  final DateTime? validUntil;\n  final bool isActive;\n\n  const StoreItem({\n    required this.id,\n    required this.name,\n    required this.description,\n    required this.imageUrl,\n    required this.pointsPrice,\n    required this.category,\n    this.requiredTier,\n    this.stock,\n    this.isVirtual = false,\n    this.metadata,\n    this.validUntil,\n    this.isActive = true,\n  });\n\n  bool get isInStock =&gt; stock == null || stock! &gt; 0;\n  bool get isExpired =&gt; validUntil != null &amp;&amp; validUntil!.isBefore(DateTime.now());\n  bool get isAvailable =&gt; isActive &amp;&amp; isInStock &amp;&amp; !isExpired;\n}\n</code></pre>"},{"location":"membership/index.html#_9","title":"\u9875\u9762\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"membership/index.html#_10","title":"\u4f1a\u5458\u4e3b\u9875","text":"<pre><code>// \u4f1a\u5458\u4e3b\u9875\nclass MembershipHomePage extends StatefulWidget {\n  @override\n  _MembershipHomePageState createState() =&gt; _MembershipHomePageState();\n}\n\nclass _MembershipHomePageState extends State&lt;MembershipHomePage&gt; {\n  late MembershipBloc _membershipBloc;\n  late PointsBloc _pointsBloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _membershipBloc = context.read&lt;MembershipBloc&gt;();\n    _pointsBloc = context.read&lt;PointsBloc&gt;();\n\n    _membershipBloc.add(LoadMembershipInfo());\n    _pointsBloc.add(LoadPointsBalance());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: CustomScrollView(\n        slivers: [\n          _buildAppBar(),\n          SliverToBoxAdapter(child: _buildMembershipCard()),\n          SliverToBoxAdapter(child: _buildPointsSection()),\n          SliverToBoxAdapter(child: _buildBenefitsSection()),\n          SliverToBoxAdapter(child: _buildQuickActions()),\n          SliverToBoxAdapter(child: _buildPromotions()),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildMembershipCard() {\n    return BlocBuilder&lt;MembershipBloc, MembershipState&gt;(\n      builder: (context, state) {\n        if (state is MembershipLoaded) {\n          return MembershipCard(\n            membershipInfo: state.membershipInfo,\n            onUpgrade: () =&gt; _navigateToUpgrade(),\n          );\n        }\n        return MembershipCardSkeleton();\n      },\n    );\n  }\n\n  Widget _buildPointsSection() {\n    return BlocBuilder&lt;PointsBloc, PointsState&gt;(\n      builder: (context, state) {\n        if (state is PointsLoaded) {\n          return PointsOverviewCard(\n            balance: state.balance,\n            onViewHistory: () =&gt; _navigateToPointsHistory(),\n            onEarnMore: () =&gt; _navigateToEarnPoints(),\n          );\n        }\n        return PointsCardSkeleton();\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"membership/index.html#_11","title":"\u4f1a\u5458\u5361\u7247\u7ec4\u4ef6","text":"<pre><code>// \u4f1a\u5458\u5361\u7247\u7ec4\u4ef6\nclass MembershipCard extends StatelessWidget {\n  final MembershipInfo membershipInfo;\n  final VoidCallback? onUpgrade;\n\n  const MembershipCard({\n    Key? key,\n    required this.membershipInfo,\n    this.onUpgrade,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      margin: EdgeInsets.all(16),\n      padding: EdgeInsets.all(20),\n      decoration: BoxDecoration(\n        gradient: _getGradientForTier(membershipInfo.tier),\n        borderRadius: BorderRadius.circular(16),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.1),\n            blurRadius: 10,\n            offset: Offset(0, 4),\n          ),\n        ],\n      ),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        children: [\n          _buildHeader(),\n          SizedBox(height: 16),\n          _buildProgress(),\n          SizedBox(height: 16),\n          _buildActions(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildHeader() {\n    return Row(\n      children: [\n        CircleAvatar(\n          radius: 24,\n          backgroundColor: Colors.white.withOpacity(0.2),\n          child: Icon(\n            _getIconForTier(membershipInfo.tier),\n            color: Colors.white,\n            size: 28,\n          ),\n        ),\n        SizedBox(width: 12),\n        Expanded(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text(\n                membershipInfo.tierName,\n                style: TextStyle(\n                  fontSize: 20,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.white,\n                ),\n              ),\n              Text(\n                '\u4f1a\u5458\u7f16\u53f7: ${membershipInfo.memberNumber}',\n                style: TextStyle(\n                  fontSize: 14,\n                  color: Colors.white.withOpacity(0.8),\n                ),\n              ),\n            ],\n          ),\n        ),\n        if (membershipInfo.tier != MembershipTier.vip)\n          TextButton(\n            onPressed: onUpgrade,\n            child: Text(\n              '\u5347\u7ea7',\n              style: TextStyle(color: Colors.white),\n            ),\n            style: TextButton.styleFrom(\n              backgroundColor: Colors.white.withOpacity(0.2),\n            ),\n          ),\n      ],\n    );\n  }\n\n  Widget _buildProgress() {\n    if (membershipInfo.tier == MembershipTier.vip) {\n      return Container(); // VIP \u4e0d\u663e\u793a\u8fdb\u5ea6\n    }\n\n    final nextTier = _getNextTier(membershipInfo.tier);\n    final currentPoints = membershipInfo.totalPoints;\n    final requiredPoints = _getRequiredPointsForTier(nextTier);\n    final progress = currentPoints / requiredPoints;\n\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          '\u8ddd\u79bb${_getTierName(nextTier)}\u8fd8\u9700 ${requiredPoints - currentPoints} \u79ef\u5206',\n          style: TextStyle(\n            color: Colors.white.withOpacity(0.9),\n            fontSize: 14,\n          ),\n        ),\n        SizedBox(height: 8),\n        LinearProgressIndicator(\n          value: progress.clamp(0.0, 1.0),\n          backgroundColor: Colors.white.withOpacity(0.3),\n          valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Colors.white),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"membership/index.html#_12","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"membership/index.html#_13","title":"\u4f1a\u5458\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u4f1a\u5458\u72b6\u6001 BLoC\nclass MembershipBloc extends Bloc&lt;MembershipEvent, MembershipState&gt; {\n  final MembershipService _membershipService;\n  final PointsService _pointsService;\n\n  MembershipBloc(this._membershipService, this._pointsService) \n      : super(MembershipInitial()) {\n    on&lt;LoadMembershipInfo&gt;(_onLoadMembershipInfo);\n    on&lt;UpgradeMembership&gt;(_onUpgradeMembership);\n    on&lt;RefreshMembershipInfo&gt;(_onRefreshMembershipInfo);\n  }\n\n  Future&lt;void&gt; _onLoadMembershipInfo(\n    LoadMembershipInfo event,\n    Emitter&lt;MembershipState&gt; emit,\n  ) async {\n    emit(MembershipLoading());\n\n    final result = await _membershipService.getUserMembership(event.userId);\n    result.fold(\n      (failure) =&gt; emit(MembershipError(failure.message)),\n      (membershipInfo) =&gt; emit(MembershipLoaded(membershipInfo)),\n    );\n  }\n\n  Future&lt;void&gt; _onUpgradeMembership(\n    UpgradeMembership event,\n    Emitter&lt;MembershipState&gt; emit,\n  ) async {\n    emit(MembershipUpgrading());\n\n    final result = await _membershipService.upgradeMembership(\n      userId: event.userId,\n      targetTier: event.targetTier,\n      paymentMethod: event.paymentMethod,\n    );\n\n    result.fold(\n      (failure) =&gt; emit(MembershipError(failure.message)),\n      (_) {\n        add(LoadMembershipInfo(event.userId));\n        emit(MembershipUpgradeSuccess());\n      },\n    );\n  }\n}\n</code></pre>"},{"location":"membership/index.html#_14","title":"\u4e0e\u5176\u4ed6\u6a21\u5757\u96c6\u6210","text":""},{"location":"membership/index.html#_15","title":"\u793e\u533a\u96c6\u6210","text":"<pre><code>// \u4f1a\u5458\u793e\u533a\u6743\u76ca\u670d\u52a1\nclass MembershipCommunityIntegration {\n  final MembershipService _membershipService;\n  final CommunityService _communityService;\n\n  MembershipCommunityIntegration(\n    this._membershipService,\n    this._communityService,\n  );\n\n  // \u68c0\u67e5\u53d1\u5e03\u6743\u9650\n  Future&lt;bool&gt; canPublishPremiumContent(String userId) async {\n    final membership = await _membershipService.getUserMembership(userId);\n    return membership.fold(\n      (_) =&gt; false,\n      (info) =&gt; info.tier.index &gt;= MembershipTier.gold.index,\n    );\n  }\n\n  // \u83b7\u53d6\u4f1a\u5458\u4e13\u5c5e\u8bdd\u9898\n  Future&lt;List&lt;Topic&gt;&gt; getMemberExclusiveTopics(String userId) async {\n    final membership = await _membershipService.getUserMembership(userId);\n    return membership.fold(\n      (_) =&gt; [],\n      (info) =&gt; _communityService.getTopicsForMemberTier(info.tier),\n    );\n  }\n}\n</code></pre>"},{"location":"membership/index.html#_16","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"membership/index.html#_17","title":"\u96c6\u6210\u6a21\u5757\u4f9d\u8d56","text":"<ul> <li>basic_utils: \u57fa\u7840\u5de5\u5177\u7c7b</li> <li>basic_uis: \u57fa\u7840 UI \u7ec4\u4ef6</li> <li>oneapp_community: \u793e\u533a\u529f\u80fd\u96c6\u6210</li> <li>oneapp_after_sales: \u552e\u540e\u670d\u52a1\u96c6\u6210</li> <li>app_account: \u8d26\u6237\u7cfb\u7edf\u96c6\u6210</li> </ul>"},{"location":"membership/index.html#_18","title":"\u7b2c\u4e09\u65b9\u4f9d\u8d56","text":"<ul> <li>fluwx: \u5fae\u4fe1\u652f\u4ed8\u96c6\u6210\uff08\u4f1a\u5458\u5347\u7ea7\u4ed8\u8d39\uff09</li> </ul>"},{"location":"membership/index.html#_19","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"membership/index.html#_20","title":"\u4f1a\u5458\u7cfb\u7edf\u5f02\u5e38","text":"<pre><code>// \u4f1a\u5458\u7cfb\u7edf\u5f02\u5e38\nabstract class MembershipFailure {\n  const MembershipFailure();\n\n  factory MembershipFailure.loadFailed(String message) = LoadFailure;\n  factory MembershipFailure.upgradeFailed(String message) = UpgradeFailure;\n  factory MembershipFailure.paymentFailed() = PaymentFailure;\n  factory MembershipFailure.upgradeNotAllowed() = UpgradeNotAllowedFailure;\n  factory MembershipFailure.insufficientPoints() = InsufficientPointsFailure;\n}\n\n// \u79ef\u5206\u7cfb\u7edf\u5f02\u5e38\nabstract class PointsFailure {\n  const PointsFailure();\n\n  factory PointsFailure.insufficientPoints() = InsufficientPointsFailure;\n  factory PointsFailure.earnFailed(String message) = EarnFailure;\n  factory PointsFailure.spendFailed(String message) = SpendFailure;\n}\n</code></pre>"},{"location":"membership/index.html#_21","title":"\u603b\u7ed3","text":"<p><code>oneapp_membership</code> \u6a21\u5757\u4e3a OneApp \u6784\u5efa\u4e86\u5b8c\u6574\u7684\u4f1a\u5458\u751f\u6001\u4f53\u7cfb\uff0c\u901a\u8fc7\u7b49\u7ea7\u7ba1\u7406\u3001\u79ef\u5206\u7cfb\u7edf\u3001\u6743\u76ca\u670d\u52a1\u548c\u5546\u57ce\u529f\u80fd\uff0c\u63d0\u5347\u4e86\u7528\u6237\u7c98\u6027\u548c\u4ed8\u8d39\u8f6c\u5316\u3002\u6a21\u5757\u4e0e\u793e\u533a\u3001\u8d26\u6237\u3001\u552e\u540e\u670d\u52a1\u7b49\u6a21\u5757\u6df1\u5ea6\u96c6\u6210\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u5168\u65b9\u4f4d\u7684\u4f1a\u5458\u4f53\u9a8c\u548c\u4ef7\u503c\u8ba4\u77e5\u3002</p>"},{"location":"service_component/index.html","title":"Service Component \u670d\u52a1\u7ec4\u4ef6\u6a21\u5757\u7fa4","text":""},{"location":"service_component/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>Service Component \u6a21\u5757\u7fa4\u662f OneApp \u7684\u670d\u52a1\u7ec4\u4ef6\u96c6\u5408\uff0c\u63d0\u4f9b\u4e86\u5404\u79cd\u901a\u7528\u7684\u4e1a\u52a1\u670d\u52a1\u7ec4\u4ef6\u548c\u5de5\u5177\u3002\u8be5\u6a21\u5757\u7fa4\u5305\u542b\u4e86\u914d\u7f6e\u7ba1\u7406\u3001\u5168\u5c40\u641c\u7d22\u3001\u4f34\u4fa3\u5e94\u7528\u3001\u5f39\u7a97\u7ba1\u7406\u3001\u5206\u4eab\u529f\u80fd\u7b49\u8de8\u6a21\u5757\u7684\u901a\u7528\u670d\u52a1\u7ec4\u4ef6\u3002</p>"},{"location":"service_component/index.html#_2","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"service_component/index.html#_3","title":"\u6838\u5fc3\u670d\u52a1\u7ec4\u4ef6","text":"<ol> <li> <p>app_configuration - \u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u6a21\u5757    - \u8fdc\u7a0b\u914d\u7f6e\u7ba1\u7406    - \u672c\u5730\u914d\u7f6e\u7f13\u5b58    - \u914d\u7f6e\u70ed\u66f4\u65b0    - \u73af\u5883\u914d\u7f6e\u5207\u6362</p> </li> <li> <p>clr_configuration - \u914d\u7f6e\u670d\u52a1SDK    - \u914d\u7f6eAPI\u5c01\u88c5    - \u914d\u7f6e\u6570\u636e\u6a21\u578b    - \u914d\u7f6e\u540c\u6b65\u673a\u5236    - \u914d\u7f6e\u53d8\u66f4\u901a\u77e5</p> </li> <li> <p>GlobalSearch - \u5168\u5c40\u641c\u7d22\u6a21\u5757    - \u8de8\u6a21\u5757\u5185\u5bb9\u641c\u7d22    - \u667a\u80fd\u641c\u7d22\u5efa\u8bae    - \u641c\u7d22\u5386\u53f2\u7ba1\u7406    - \u641c\u7d22\u7ed3\u679c\u4f18\u5316</p> </li> <li> <p>oneapp_companion - \u4f34\u4fa3\u5e94\u7528\u6a21\u5757    - \u591a\u8bbe\u5907\u534f\u540c    - \u6570\u636e\u540c\u6b65    - \u8fdc\u7a0b\u63a7\u5236    - \u8bbe\u5907\u7ba1\u7406</p> </li> <li> <p>oneapp_popup - \u5f39\u7a97\u7ba1\u7406\u6a21\u5757    - \u7edf\u4e00\u5f39\u7a97\u7ba1\u7406    - \u5f39\u7a97\u4f18\u5148\u7ea7\u63a7\u5236    - \u5f39\u7a97\u6837\u5f0f\u5b9a\u5236    - \u5f39\u7a97\u751f\u547d\u5468\u671f</p> </li> <li> <p>ShareToFriends - \u5206\u4eab\u529f\u80fd\u6a21\u5757    - \u793e\u4ea4\u5e73\u53f0\u5206\u4eab    - \u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9    - \u5206\u4eab\u7edf\u8ba1\u5206\u6790    - \u5206\u4eab\u6743\u9650\u63a7\u5236</p> </li> </ol>"},{"location":"service_component/index.html#_4","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"service_component/index.html#_5","title":"\u6838\u5fc3\u529f\u80fd","text":"<ol> <li> <p>\u914d\u7f6e\u7ba1\u7406\u670d\u52a1    - \u96c6\u4e2d\u5316\u914d\u7f6e\u7ba1\u7406    - \u52a8\u6001\u914d\u7f6e\u4e0b\u53d1    - \u914d\u7f6e\u7248\u672c\u63a7\u5236    - \u914d\u7f6e\u56de\u6eda\u673a\u5236</p> </li> <li> <p>\u641c\u7d22\u670d\u52a1    - \u5168\u6587\u641c\u7d22\u5f15\u64ce    - \u667a\u80fd\u641c\u7d22\u63a8\u8350    - \u641c\u7d22\u7ed3\u679c\u6392\u5e8f    - \u641c\u7d22\u6027\u80fd\u4f18\u5316</p> </li> <li> <p>\u8bbe\u5907\u534f\u540c\u670d\u52a1    - \u591a\u8bbe\u5907\u6570\u636e\u540c\u6b65    - \u8de8\u8bbe\u5907\u64cd\u4f5c\u63a7\u5236    - \u8bbe\u5907\u72b6\u6001\u76d1\u63a7    - \u8bbe\u5907\u6743\u9650\u7ba1\u7406</p> </li> <li> <p>\u7528\u6237\u4ea4\u4e92\u670d\u52a1    - \u5f39\u7a97\u7edf\u4e00\u7ba1\u7406    - \u5206\u4eab\u529f\u80fd\u96c6\u6210    - \u7528\u6237\u53cd\u9988\u6536\u96c6    - \u4ea4\u4e92\u4f53\u9a8c\u4f18\u5316</p> </li> </ol>"},{"location":"service_component/index.html#_6","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/index.html#_7","title":"\u670d\u52a1\u67b6\u6784\u56fe","text":"<pre><code>\u5e94\u7528\u5c42 (App Layer)\n    \u2193\n\u670d\u52a1\u7ec4\u4ef6\u5c42 (Service Components)\n    \u2193\n\u57fa\u7840\u670d\u52a1\u5c42 (Basic Services)\n    \u2193\n\u5e73\u53f0\u80fd\u529b\u5c42 (Platform Capabilities)\n</code></pre>"},{"location":"service_component/index.html#_8","title":"\u7ec4\u4ef6\u4ea4\u4e92\u56fe","text":"<pre><code>graph TD\n    A[App Configuration] --&gt; B[Configuration SDK]\n    C[Global Search] --&gt; D[Search Engine]\n    E[Companion App] --&gt; F[Sync Service]\n    G[Popup Manager] --&gt; H[UI Controller]\n    I[Share Service] --&gt; J[Platform APIs]\n\n    B --&gt; K[Basic Storage]\n    D --&gt; K\n    F --&gt; L[Basic Network]\n    H --&gt; M[Basic UI]\n    J --&gt; N[Basic Platform]</code></pre>"},{"location":"service_component/index.html#_9","title":"\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"service_component/index.html#1","title":"1. \u6a21\u5757\u5316\u8bbe\u8ba1","text":"<ul> <li>\u72ec\u7acb\u90e8\u7f72: \u6bcf\u4e2a\u7ec4\u4ef6\u53ef\u72ec\u7acb\u90e8\u7f72\u548c\u66f4\u65b0</li> <li>\u63a5\u53e3\u6807\u51c6: \u7edf\u4e00\u7684\u670d\u52a1\u63a5\u53e3\u89c4\u8303</li> <li>\u4f9d\u8d56\u7ba1\u7406: \u6e05\u6670\u7684\u4f9d\u8d56\u5173\u7cfb\u5b9a\u4e49</li> <li>\u7248\u672c\u517c\u5bb9: \u5411\u540e\u517c\u5bb9\u7684\u7248\u672c\u7b56\u7565</li> </ul>"},{"location":"service_component/index.html#2","title":"2. \u670d\u52a1\u5316\u67b6\u6784","text":"<ul> <li>\u5fae\u670d\u52a1: \u670d\u52a1\u7ec4\u4ef6\u5fae\u670d\u52a1\u5316</li> <li>API\u7f51\u5173: \u7edf\u4e00\u7684API\u5165\u53e3</li> <li>\u670d\u52a1\u53d1\u73b0: \u52a8\u6001\u670d\u52a1\u53d1\u73b0\u673a\u5236</li> <li>\u8d1f\u8f7d\u5747\u8861: \u670d\u52a1\u8d1f\u8f7d\u5747\u8861</li> </ul>"},{"location":"service_component/index.html#3","title":"3. \u6570\u636e\u4e00\u81f4\u6027","text":"<ul> <li>\u4e8b\u52a1\u7ba1\u7406: \u8de8\u670d\u52a1\u4e8b\u52a1\u534f\u8c03</li> <li>\u6570\u636e\u540c\u6b65: \u591a\u670d\u52a1\u6570\u636e\u540c\u6b65</li> <li>\u51b2\u7a81\u89e3\u51b3: \u6570\u636e\u51b2\u7a81\u89e3\u51b3\u7b56\u7565</li> <li>\u6700\u7ec8\u4e00\u81f4\u6027: \u6700\u7ec8\u4e00\u81f4\u6027\u4fdd\u8bc1</li> </ul>"},{"location":"service_component/index.html#_10","title":"\u901a\u7528\u80fd\u529b","text":""},{"location":"service_component/index.html#_11","title":"\u914d\u7f6e\u7ba1\u7406\u80fd\u529b","text":"<pre><code>// \u83b7\u53d6\u914d\u7f6e\nfinal config = await ConfigService.getConfig('feature_flags');\n\n// \u76d1\u542c\u914d\u7f6e\u53d8\u5316\nConfigService.onConfigChanged('feature_flags').listen((newConfig) {\n  // \u5904\u7406\u914d\u7f6e\u53d8\u5316\n});\n\n// \u672c\u5730\u914d\u7f6e\u7f13\u5b58\nawait ConfigService.setCachedConfig('user_preferences', userConfig);\n</code></pre>"},{"location":"service_component/index.html#_12","title":"\u641c\u7d22\u80fd\u529b","text":"<pre><code>// \u5168\u5c40\u641c\u7d22\nfinal results = await GlobalSearchService.search(\n  query: '\u8f66\u8f86',\n  categories: ['vehicle', 'service', 'help'],\n);\n\n// \u641c\u7d22\u5efa\u8bae\nfinal suggestions = await GlobalSearchService.getSuggestions('\u8f66');\n\n// \u641c\u7d22\u5386\u53f2\nfinal history = await GlobalSearchService.getSearchHistory();\n</code></pre>"},{"location":"service_component/index.html#_13","title":"\u5f39\u7a97\u7ba1\u7406\u80fd\u529b","text":"<pre><code>// \u663e\u793a\u5f39\u7a97\nPopupManager.show(\n  popup: CustomPopup(\n    title: '\u63d0\u793a',\n    content: '\u662f\u5426\u786e\u8ba4\u64cd\u4f5c\uff1f',\n    priority: PopupPriority.high,\n  ),\n);\n\n// \u5f39\u7a97\u961f\u5217\u7ba1\u7406\nPopupManager.enqueue(popupList);\n\n// \u5f39\u7a97\u751f\u547d\u5468\u671f\nPopupManager.onPopupShown.listen((popup) {\n  // \u5f39\u7a97\u663e\u793a\u56de\u8c03\n});\n</code></pre>"},{"location":"service_component/index.html#_14","title":"\u8be6\u7ec6\u6a21\u5757\u6587\u6863","text":"<ul> <li>App Configuration - \u5e94\u7528\u914d\u7f6e\u7ba1\u7406</li> <li>CLR Configuration - \u914d\u7f6e\u670d\u52a1SDK</li> <li>Global Search - \u5168\u5c40\u641c\u7d22</li> <li>OneApp Companion - \u4f34\u4fa3\u5e94\u7528</li> <li>OneApp Popup - \u5f39\u7a97\u7ba1\u7406</li> <li>Share To Friends - \u5206\u4eab\u529f\u80fd</li> </ul>"},{"location":"service_component/index.html#_15","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"service_component/index.html#_16","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Flutter &gt;=3.0.0</li> <li>Dart &gt;=3.0.0 &lt;4.0.0</li> <li>Android SDK &gt;=21</li> <li>iOS &gt;=11.0</li> </ul>"},{"location":"service_component/index.html#_17","title":"\u4f9d\u8d56\u7ba1\u7406","text":"<pre><code>dependencies:\n  # \u670d\u52a1\u7ec4\u4ef6\n  app_configuration:\n    path: ../oneapp_service_component/app_configuration\n  oneapp_companion:\n    path: ../oneapp_service_component/oneapp_companion\n  oneapp_popup:\n    path: ../oneapp_service_component/oneapp_popup\n</code></pre>"},{"location":"service_component/index.html#_18","title":"\u670d\u52a1\u521d\u59cb\u5316","text":"<pre><code>Future&lt;void&gt; initializeServiceComponents() async {\n  // \u521d\u59cb\u5316\u914d\u7f6e\u670d\u52a1\n  await ConfigurationService.initialize();\n\n  // \u521d\u59cb\u5316\u641c\u7d22\u670d\u52a1\n  await GlobalSearchService.initialize();\n\n  // \u521d\u59cb\u5316\u4f34\u4fa3\u5e94\u7528\u670d\u52a1\n  await CompanionService.initialize();\n\n  // \u521d\u59cb\u5316\u5f39\u7a97\u7ba1\u7406\u5668\n  PopupManager.initialize();\n\n  // \u521d\u59cb\u5316\u5206\u4eab\u670d\u52a1\n  await ShareService.initialize();\n}\n</code></pre>"},{"location":"service_component/index.html#_19","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/index.html#1_1","title":"1. \u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u914d\u7f6e\u7f13\u5b58: \u672c\u5730\u914d\u7f6e\u7f13\u5b58\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42</li> <li>\u641c\u7d22\u7f13\u5b58: \u641c\u7d22\u7ed3\u679c\u667a\u80fd\u7f13\u5b58</li> <li>\u6570\u636e\u9884\u52a0\u8f7d: \u5173\u952e\u6570\u636e\u9884\u52a0\u8f7d</li> <li>\u61d2\u52a0\u8f7d: \u6309\u9700\u52a0\u8f7d\u670d\u52a1\u7ec4\u4ef6</li> </ul>"},{"location":"service_component/index.html#2_1","title":"2. \u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8bf7\u6c42\u5408\u5e76: \u6279\u91cf\u8bf7\u6c42\u51cf\u5c11\u7f51\u7edc\u5f00\u9500</li> <li>\u6570\u636e\u538b\u7f29: \u4f20\u8f93\u6570\u636e\u538b\u7f29</li> <li>CDN\u52a0\u901f: \u9759\u6001\u8d44\u6e90CDN\u5206\u53d1</li> <li>\u79bb\u7ebf\u652f\u6301: \u5173\u952e\u529f\u80fd\u79bb\u7ebf\u53ef\u7528</li> </ul>"},{"location":"service_component/index.html#3_1","title":"3. \u5185\u5b58\u7ba1\u7406","text":"<ul> <li>\u8d44\u6e90\u91ca\u653e: \u53ca\u65f6\u91ca\u653e\u4e0d\u9700\u8981\u7684\u8d44\u6e90</li> <li>\u5185\u5b58\u76d1\u63a7: \u76d1\u63a7\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</li> <li>\u5bf9\u8c61\u6c60: \u590d\u7528\u9891\u7e41\u521b\u5efa\u7684\u5bf9\u8c61</li> <li>\u5f31\u5f15\u7528: \u907f\u514d\u5185\u5b58\u6cc4\u6f0f</li> </ul>"},{"location":"service_component/index.html#_20","title":"\u76d1\u63a7\u548c\u8bca\u65ad","text":""},{"location":"service_component/index.html#_21","title":"\u670d\u52a1\u76d1\u63a7","text":"<ul> <li>\u670d\u52a1\u5065\u5eb7\u68c0\u67e5: \u5b9a\u671f\u68c0\u67e5\u670d\u52a1\u72b6\u6001</li> <li>\u6027\u80fd\u6307\u6807\u76d1\u63a7: \u76d1\u63a7\u5173\u952e\u6027\u80fd\u6307\u6807</li> <li>\u9519\u8bef\u65e5\u5fd7\u6536\u96c6: \u6536\u96c6\u548c\u5206\u6790\u9519\u8bef\u65e5\u5fd7</li> <li>\u7528\u6237\u884c\u4e3a\u5206\u6790: \u5206\u6790\u7528\u6237\u4f7f\u7528\u6a21\u5f0f</li> </ul>"},{"location":"service_component/index.html#_22","title":"\u6545\u969c\u8bca\u65ad","text":"<ul> <li>\u94fe\u8def\u8ffd\u8e2a: \u8ddf\u8e2a\u670d\u52a1\u8c03\u7528\u94fe\u8def</li> <li>\u5f02\u5e38\u544a\u8b66: \u5f02\u5e38\u60c5\u51b5\u5b9e\u65f6\u544a\u8b66</li> <li>\u6545\u969c\u6062\u590d: \u81ea\u52a8\u6545\u969c\u6062\u590d\u673a\u5236</li> <li>\u964d\u7ea7\u7b56\u7565: \u670d\u52a1\u964d\u7ea7\u4fdd\u8bc1\u53ef\u7528\u6027</li> </ul>"},{"location":"service_component/index.html#_23","title":"\u5b89\u5168\u8003\u8651","text":""},{"location":"service_component/index.html#_24","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u6570\u636e\u52a0\u5bc6: \u654f\u611f\u6570\u636e\u52a0\u5bc6\u5b58\u50a8\u548c\u4f20\u8f93</li> <li>\u8bbf\u95ee\u63a7\u5236: \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236</li> <li>\u5ba1\u8ba1\u65e5\u5fd7: \u8be6\u7ec6\u7684\u64cd\u4f5c\u5ba1\u8ba1\u65e5\u5fd7</li> <li>\u6570\u636e\u8131\u654f: \u654f\u611f\u6570\u636e\u8131\u654f\u5904\u7406</li> </ul>"},{"location":"service_component/index.html#_25","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u7528\u6237\u540c\u610f: \u660e\u786e\u7684\u7528\u6237\u6570\u636e\u4f7f\u7528\u540c\u610f</li> <li>\u6570\u636e\u6700\u5c0f\u5316: \u4ec5\u6536\u96c6\u5fc5\u8981\u7684\u7528\u6237\u6570\u636e</li> <li>\u533f\u540d\u5316: \u7528\u6237\u6570\u636e\u533f\u540d\u5316\u5904\u7406</li> <li>\u6570\u636e\u5220\u9664: \u7528\u6237\u6570\u636e\u5220\u9664\u6743\u652f\u6301</li> </ul>"},{"location":"service_component/index.html#_26","title":"\u603b\u7ed3","text":"<p>Service Component \u6a21\u5757\u7fa4\u4e3a OneApp \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u901a\u7528\u670d\u52a1\u7ec4\u4ef6\uff0c\u901a\u8fc7\u6a21\u5757\u5316\u8bbe\u8ba1\u548c\u670d\u52a1\u5316\u67b6\u6784\uff0c\u5b9e\u73b0\u4e86\u9ad8\u5185\u805a\u3001\u4f4e\u8026\u5408\u7684\u670d\u52a1\u4f53\u7cfb\u3002\u8fd9\u4e9b\u7ec4\u4ef6\u4e0d\u4ec5\u63d0\u5347\u4e86\u5f00\u53d1\u6548\u7387\uff0c\u4e5f\u4fdd\u8bc1\u4e86\u670d\u52a1\u7684\u4e00\u81f4\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u4e3a\u6574\u4e2a\u5e94\u7528\u751f\u6001\u63d0\u4f9b\u4e86\u575a\u5b9e\u7684\u6280\u672f\u652f\u6491\u3002</p>"},{"location":"service_component/GlobalSearch.html","title":"GlobalSearch - \u5168\u5c40\u641c\u7d22\u6a21\u5757","text":""},{"location":"service_component/GlobalSearch.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>GlobalSearch</code> \u662f OneApp \u7684\u5168\u5c40\u641c\u7d22\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u8de8\u6a21\u5757\u7684\u7edf\u4e00\u641c\u7d22\u529f\u80fd\u3002\u8be5\u6a21\u5757\u652f\u6301\u591a\u79cd\u5185\u5bb9\u7c7b\u578b\u7684\u641c\u7d22\uff0c\u5305\u62ec\u667a\u80fd\u641c\u7d22\u5efa\u8bae\u3001\u641c\u7d22\u5386\u53f2\u7ba1\u7406\u3001\u641c\u7d22\u7ed3\u679c\u4f18\u5316\u7b49\u529f\u80fd\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u9ad8\u6548\u3001\u7cbe\u51c6\u7684\u641c\u7d22\u4f53\u9a8c\u3002</p>"},{"location":"service_component/GlobalSearch.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/GlobalSearch.html#1","title":"1. \u8de8\u6a21\u5757\u5185\u5bb9\u641c\u7d22","text":"<ul> <li>\u7edf\u4e00\u641c\u7d22\u5165\u53e3\uff1a\u63d0\u4f9b\u5168\u5c40\u7edf\u4e00\u7684\u641c\u7d22\u63a5\u53e3</li> <li>\u591a\u6a21\u5757\u7d22\u5f15\uff1a\u805a\u5408\u5404\u6a21\u5757\u7684\u53ef\u641c\u7d22\u5185\u5bb9</li> <li>\u5185\u5bb9\u5206\u7c7b\uff1a\u6309\u7c7b\u578b\u5206\u7c7b\u641c\u7d22\u7ed3\u679c</li> <li>\u6743\u9650\u63a7\u5236\uff1a\u57fa\u4e8e\u7528\u6237\u6743\u9650\u8fc7\u6ee4\u641c\u7d22\u7ed3\u679c</li> </ul>"},{"location":"service_component/GlobalSearch.html#2","title":"2. \u667a\u80fd\u641c\u7d22\u5efa\u8bae","text":"<ul> <li>\u5b9e\u65f6\u5efa\u8bae\uff1a\u8f93\u5165\u65f6\u5b9e\u65f6\u63d0\u4f9b\u641c\u7d22\u5efa\u8bae</li> <li>\u70ed\u95e8\u641c\u7d22\uff1a\u5c55\u793a\u70ed\u95e8\u641c\u7d22\u5173\u952e\u8bcd</li> <li>\u4e2a\u6027\u5316\u63a8\u8350\uff1a\u57fa\u4e8e\u7528\u6237\u884c\u4e3a\u7684\u4e2a\u6027\u5316\u5efa\u8bae</li> <li>\u62fc\u5199\u7ea0\u9519\uff1a\u667a\u80fd\u7ea0\u6b63\u641c\u7d22\u8bcd\u62fc\u5199\u9519\u8bef</li> </ul>"},{"location":"service_component/GlobalSearch.html#3","title":"3. \u641c\u7d22\u5386\u53f2\u7ba1\u7406","text":"<ul> <li>\u5386\u53f2\u8bb0\u5f55\uff1a\u4fdd\u5b58\u7528\u6237\u641c\u7d22\u5386\u53f2</li> <li>\u5feb\u901f\u8bbf\u95ee\uff1a\u5feb\u901f\u8bbf\u95ee\u5386\u53f2\u641c\u7d22\u7ed3\u679c</li> <li>\u6e05\u7406\u7ba1\u7406\uff1a\u652f\u6301\u6e05\u7406\u641c\u7d22\u5386\u53f2</li> <li>\u9690\u79c1\u4fdd\u62a4\uff1a\u654f\u611f\u641c\u7d22\u5386\u53f2\u52a0\u5bc6\u5b58\u50a8</li> </ul>"},{"location":"service_component/GlobalSearch.html#4","title":"4. \u641c\u7d22\u7ed3\u679c\u4f18\u5316","text":"<ul> <li>\u76f8\u5173\u6027\u6392\u5e8f\uff1a\u6309\u76f8\u5173\u6027\u667a\u80fd\u6392\u5e8f</li> <li>\u7ed3\u679c\u805a\u5408\uff1a\u76f8\u4f3c\u7ed3\u679c\u667a\u80fd\u805a\u5408</li> <li>\u9ad8\u4eae\u663e\u793a\uff1a\u5173\u952e\u8bcd\u9ad8\u4eae\u663e\u793a</li> <li>\u5206\u9875\u52a0\u8f7d\uff1a\u5927\u91cf\u7ed3\u679c\u5206\u9875\u5c55\u793a</li> </ul>"},{"location":"service_component/GlobalSearch.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/GlobalSearch.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u641c\u7d22\u754c\u9762\u5c42                \u2502\n\u2502       (Search UI Components)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         GlobalSearch \u6a21\u5757           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u641c\u7d22\u5f15\u64ce \u2502 \u7d22\u5f15\u7ba1\u7406 \u2502 \u7ed3\u679c\u5904\u7406 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u5efa\u8bae\u7cfb\u7edf \u2502 \u5386\u53f2\u7ba1\u7406 \u2502 \u7f13\u5b58\u5c42   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u6a21\u5757\u641c\u7d22\u63a5\u53e3              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u8f66\u8f86\u6a21\u5757 \u2502 \u8ba2\u5355\u6a21\u5757 \u2502 \u8bbe\u7f6e\u6a21\u5757 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u6570\u636e\u5b58\u50a8\u5c42                \u2502\n\u2502    (Local DB + Remote Index)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/GlobalSearch.html#1_searchengine","title":"1. \u641c\u7d22\u5f15\u64ce (SearchEngine)","text":"<pre><code>class GlobalSearchEngine {\n  // \u6267\u884c\u641c\u7d22\n  Future&lt;SearchResult&gt; search(SearchQuery query);\n\n  // \u83b7\u53d6\u641c\u7d22\u5efa\u8bae\n  Future&lt;List&lt;SearchSuggestion&gt;&gt; getSuggestions(String input);\n\n  // \u6ce8\u518c\u641c\u7d22\u63d0\u4f9b\u8005\n  void registerSearchProvider(SearchProvider provider);\n\n  // \u6784\u5efa\u641c\u7d22\u7d22\u5f15\n  Future&lt;void&gt; buildSearchIndex();\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#2_indexmanager","title":"2. \u7d22\u5f15\u7ba1\u7406\u5668 (IndexManager)","text":"<pre><code>class SearchIndexManager {\n  // \u66f4\u65b0\u7d22\u5f15\n  Future&lt;bool&gt; updateIndex(String moduleId, List&lt;SearchableItem&gt; items);\n\n  // \u5220\u9664\u7d22\u5f15\n  Future&lt;bool&gt; removeIndex(String moduleId, List&lt;String&gt; itemIds);\n\n  // \u91cd\u5efa\u7d22\u5f15\n  Future&lt;bool&gt; rebuildIndex(String moduleId);\n\n  // \u641c\u7d22\u7d22\u5f15\n  Future&lt;List&lt;IndexedItem&gt;&gt; searchIndex(String query, SearchOptions options);\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#3_searchhistorymanager","title":"3. \u641c\u7d22\u5386\u53f2\u7ba1\u7406\u5668 (SearchHistoryManager)","text":"<pre><code>class SearchHistoryManager {\n  // \u6dfb\u52a0\u641c\u7d22\u8bb0\u5f55\n  Future&lt;void&gt; addSearchRecord(SearchRecord record);\n\n  // \u83b7\u53d6\u641c\u7d22\u5386\u53f2\n  Future&lt;List&lt;SearchRecord&gt;&gt; getSearchHistory({int limit = 50});\n\n  // \u5220\u9664\u641c\u7d22\u8bb0\u5f55\n  Future&lt;bool&gt; deleteSearchRecord(String recordId);\n\n  // \u6e05\u7a7a\u641c\u7d22\u5386\u53f2\n  Future&lt;bool&gt; clearSearchHistory();\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#4_suggestionsystem","title":"4. \u641c\u7d22\u5efa\u8bae\u7cfb\u7edf (SuggestionSystem)","text":"<pre><code>class SearchSuggestionSystem {\n  // \u751f\u6210\u641c\u7d22\u5efa\u8bae\n  Future&lt;List&lt;SearchSuggestion&gt;&gt; generateSuggestions(String input);\n\n  // \u83b7\u53d6\u70ed\u95e8\u641c\u7d22\n  Future&lt;List&lt;String&gt;&gt; getPopularSearches();\n\n  // \u83b7\u53d6\u4e2a\u6027\u5316\u5efa\u8bae\n  Future&lt;List&lt;SearchSuggestion&gt;&gt; getPersonalizedSuggestions(String userId);\n\n  // \u66f4\u65b0\u5efa\u8bae\u6570\u636e\n  Future&lt;void&gt; updateSuggestionData();\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/GlobalSearch.html#_7","title":"\u641c\u7d22\u67e5\u8be2\u6a21\u578b","text":"<pre><code>class SearchQuery {\n  final String keyword;\n  final List&lt;String&gt; categories;\n  final SearchScope scope;\n  final SortOption sortBy;\n  final int page;\n  final int pageSize;\n  final Map&lt;String, dynamic&gt; filters;\n  final bool includeHistory;\n}\n\nenum SearchScope {\n  all,        // \u5168\u90e8\u5185\u5bb9\n  vehicle,    // \u8f66\u8f86\u76f8\u5173\n  order,      // \u8ba2\u5355\u76f8\u5173\n  service,    // \u670d\u52a1\u76f8\u5173\n  settings,   // \u8bbe\u7f6e\u76f8\u5173\n  help        // \u5e2e\u52a9\u6587\u6863\n}\n\nenum SortOption {\n  relevance,  // \u76f8\u5173\u6027\n  time,       // \u65f6\u95f4\n  popularity, // \u70ed\u5ea6\n  alphabetical // \u5b57\u6bcd\u987a\u5e8f\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_8","title":"\u641c\u7d22\u7ed3\u679c\u6a21\u578b","text":"<pre><code>class SearchResult {\n  final String query;\n  final int totalCount;\n  final List&lt;SearchResultItem&gt; items;\n  final List&lt;SearchSuggestion&gt; suggestions;\n  final Duration searchTime;\n  final Map&lt;String, int&gt; categoryCount;\n  final bool hasMore;\n}\n\nclass SearchResultItem {\n  final String id;\n  final String title;\n  final String? subtitle;\n  final String? description;\n  final String category;\n  final String moduleId;\n  final String? imageUrl;\n  final double relevanceScore;\n  final DateTime? timestamp;\n  final Map&lt;String, dynamic&gt; metadata;\n  final List&lt;HighlightRange&gt; highlights;\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_9","title":"\u641c\u7d22\u5efa\u8bae\u6a21\u578b","text":"<pre><code>class SearchSuggestion {\n  final String text;\n  final SuggestionType type;\n  final String? category;\n  final int frequency;\n  final double relevance;\n  final Map&lt;String, dynamic&gt;? metadata;\n}\n\nenum SuggestionType {\n  keyword,     // \u5173\u952e\u8bcd\u5efa\u8bae\n  history,     // \u5386\u53f2\u641c\u7d22\n  popular,     // \u70ed\u95e8\u641c\u7d22\n  completion,  // \u81ea\u52a8\u8865\u5168\n  correction   // \u62fc\u5199\u7ea0\u9519\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#api","title":"API \u63a5\u53e3","text":""},{"location":"service_component/GlobalSearch.html#_10","title":"\u641c\u7d22\u63a5\u53e3","text":"<pre><code>abstract class GlobalSearchService {\n  // \u6267\u884c\u5168\u5c40\u641c\u7d22\n  Future&lt;ApiResponse&lt;SearchResult&gt;&gt; search(SearchRequest request);\n\n  // \u83b7\u53d6\u641c\u7d22\u5efa\u8bae\n  Future&lt;ApiResponse&lt;List&lt;SearchSuggestion&gt;&gt;&gt; getSuggestions(SuggestionRequest request);\n\n  // \u83b7\u53d6\u70ed\u95e8\u641c\u7d22\n  Future&lt;ApiResponse&lt;List&lt;String&gt;&gt;&gt; getPopularSearches();\n\n  // \u83b7\u53d6\u641c\u7d22\u5386\u53f2\n  Future&lt;ApiResponse&lt;List&lt;SearchRecord&gt;&gt;&gt; getSearchHistory(HistoryRequest request);\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_11","title":"\u7d22\u5f15\u7ba1\u7406\u63a5\u53e3","text":"<pre><code>abstract class SearchIndexService {\n  // \u66f4\u65b0\u641c\u7d22\u7d22\u5f15\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updateSearchIndex(UpdateIndexRequest request);\n\n  // \u5220\u9664\u641c\u7d22\u7d22\u5f15\n  Future&lt;ApiResponse&lt;bool&gt;&gt; deleteSearchIndex(DeleteIndexRequest request);\n\n  // \u83b7\u53d6\u7d22\u5f15\u72b6\u6001\n  Future&lt;ApiResponse&lt;IndexStatus&gt;&gt; getIndexStatus(String moduleId);\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_12","title":"\u641c\u7d22\u63d0\u4f9b\u8005\u63a5\u53e3","text":"<pre><code>abstract class SearchProvider {\n  // \u641c\u7d22\u63d0\u4f9b\u8005ID\n  String get providerId;\n\n  // \u652f\u6301\u7684\u641c\u7d22\u7c7b\u522b\n  List&lt;String&gt; get supportedCategories;\n\n  // \u6267\u884c\u641c\u7d22\n  Future&lt;List&lt;SearchResultItem&gt;&gt; search(SearchQuery query);\n\n  // \u83b7\u53d6\u53ef\u641c\u7d22\u9879\u76ee\n  Future&lt;List&lt;SearchableItem&gt;&gt; getSearchableItems();\n\n  // \u83b7\u53d6\u641c\u7d22\u5efa\u8bae\n  Future&lt;List&lt;SearchSuggestion&gt;&gt; getSuggestions(String input);\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/GlobalSearch.html#_14","title":"\u641c\u7d22\u914d\u7f6e","text":"<pre><code>class GlobalSearchConfig {\n  final int maxResults;\n  final int suggestionLimit;\n  final bool enableHistory;\n  final bool enableSuggestions;\n  final Duration cacheExpiry;\n  final List&lt;String&gt; enabledModules;\n  final Map&lt;String, double&gt; categoryWeights;\n\n  static const GlobalSearchConfig defaultConfig = GlobalSearchConfig(\n    maxResults: 100,\n    suggestionLimit: 10,\n    enableHistory: true,\n    enableSuggestions: true,\n    cacheExpiry: Duration(minutes: 30),\n    enabledModules: ['vehicle', 'order', 'service', 'settings'],\n    categoryWeights: {\n      'vehicle': 1.0,\n      'order': 0.8,\n      'service': 0.9,\n      'settings': 0.6,\n    },\n  );\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_15","title":"\u7d22\u5f15\u914d\u7f6e","text":"<pre><code>class SearchIndexConfig {\n  final bool enableRealTimeIndex;\n  final Duration indexUpdateInterval;\n  final int maxIndexSize;\n  final List&lt;String&gt; indexedFields;\n  final Map&lt;String, int&gt; fieldWeights;\n\n  static const SearchIndexConfig defaultIndexConfig = SearchIndexConfig(\n    enableRealTimeIndex: true,\n    indexUpdateInterval: Duration(minutes: 5),\n    maxIndexSize: 10000,\n    indexedFields: ['title', 'description', 'tags', 'content'],\n    fieldWeights: {\n      'title': 3,\n      'description': 2,\n      'tags': 2,\n      'content': 1,\n    },\n  );\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/GlobalSearch.html#_17","title":"\u57fa\u672c\u641c\u7d22\u529f\u80fd","text":"<pre><code>// \u521d\u59cb\u5316\u5168\u5c40\u641c\u7d22\nfinal globalSearch = GlobalSearchEngine.instance;\nawait globalSearch.initialize(GlobalSearchConfig.defaultConfig);\n\n// \u6267\u884c\u641c\u7d22\nfinal searchQuery = SearchQuery(\n  keyword: '\u5145\u7535',\n  categories: ['vehicle', 'service'],\n  scope: SearchScope.all,\n  sortBy: SortOption.relevance,\n  page: 1,\n  pageSize: 20,\n);\n\nfinal searchResult = await globalSearch.search(searchQuery);\n\n// \u5904\u7406\u641c\u7d22\u7ed3\u679c\nfor (final item in searchResult.items) {\n  print('${item.title}: ${item.description}');\n  print('\u7c7b\u522b: ${item.category}, \u76f8\u5173\u6027: ${item.relevanceScore}');\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_18","title":"\u641c\u7d22\u5efa\u8bae\u529f\u80fd","text":"<pre><code>// \u83b7\u53d6\u8f93\u5165\u5efa\u8bae\nfinal suggestions = await globalSearch.getSuggestions('\u5145\u7535');\n\n// \u663e\u793a\u5efa\u8bae\u5217\u8868\nfor (final suggestion in suggestions) {\n  switch (suggestion.type) {\n    case SuggestionType.completion:\n      print('\u8865\u5168: ${suggestion.text}');\n      break;\n    case SuggestionType.history:\n      print('\u5386\u53f2: ${suggestion.text}');\n      break;\n    case SuggestionType.popular:\n      print('\u70ed\u95e8: ${suggestion.text}');\n      break;\n  }\n}\n\n// \u83b7\u53d6\u70ed\u95e8\u641c\u7d22\nfinal popularSearches = await globalSearch.getPopularSearches();\nprint('\u70ed\u95e8\u641c\u7d22: ${popularSearches.join(', ')}');\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_19","title":"\u641c\u7d22\u5386\u53f2\u7ba1\u7406","text":"<pre><code>// \u6dfb\u52a0\u641c\u7d22\u8bb0\u5f55\nfinal searchRecord = SearchRecord(\n  query: '\u5145\u7535\u7ad9',\n  timestamp: DateTime.now(),\n  resultCount: 25,\n  category: 'vehicle',\n);\n\nawait SearchHistoryManager.instance.addSearchRecord(searchRecord);\n\n// \u83b7\u53d6\u641c\u7d22\u5386\u53f2\nfinal history = await SearchHistoryManager.instance.getSearchHistory(limit: 10);\n\nfor (final record in history) {\n  print('${record.query} - ${record.timestamp}');\n}\n\n// \u6e05\u7a7a\u641c\u7d22\u5386\u53f2\nawait SearchHistoryManager.instance.clearSearchHistory();\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_20","title":"\u6ce8\u518c\u641c\u7d22\u63d0\u4f9b\u8005","text":"<pre><code>// \u5b9e\u73b0\u641c\u7d22\u63d0\u4f9b\u8005\nclass VehicleSearchProvider extends SearchProvider {\n  @override\n  String get providerId =&gt; 'vehicle_search';\n\n  @override\n  List&lt;String&gt; get supportedCategories =&gt; ['vehicle', 'charging', 'maintenance'];\n\n  @override\n  Future&lt;List&lt;SearchResultItem&gt;&gt; search(SearchQuery query) async {\n    // \u5b9e\u73b0\u8f66\u8f86\u76f8\u5173\u5185\u5bb9\u641c\u7d22\n    final vehicles = await vehicleService.searchVehicles(query.keyword);\n\n    return vehicles.map((vehicle) =&gt; SearchResultItem(\n      id: vehicle.id,\n      title: vehicle.name,\n      description: vehicle.description,\n      category: 'vehicle',\n      moduleId: 'app_car',\n      relevanceScore: calculateRelevance(query.keyword, vehicle),\n    )).toList();\n  }\n\n  @override\n  Future&lt;List&lt;SearchSuggestion&gt;&gt; getSuggestions(String input) async {\n    // \u8fd4\u56de\u8f66\u8f86\u76f8\u5173\u641c\u7d22\u5efa\u8bae\n    return vehicleService.getSearchSuggestions(input);\n  }\n}\n\n// \u6ce8\u518c\u641c\u7d22\u63d0\u4f9b\u8005\nglobalSearch.registerSearchProvider(VehicleSearchProvider());\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_21","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/GlobalSearch.html#_22","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('GlobalSearch Tests', () {\n  test('should return search results', () async {\n    // Given\n    final searchEngine = GlobalSearchEngine();\n    final query = SearchQuery(keyword: 'test', scope: SearchScope.all);\n\n    // When\n    final result = await searchEngine.search(query);\n\n    // Then\n    expect(result.items, isNotEmpty);\n    expect(result.query, 'test');\n  });\n\n  test('should provide search suggestions', () async {\n    // Given\n    final suggestionSystem = SearchSuggestionSystem();\n\n    // When\n    final suggestions = await suggestionSystem.generateSuggestions('cha');\n\n    // Then\n    expect(suggestions, isNotEmpty);\n    expect(suggestions.first.text, contains('cha'));\n  });\n});\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_23","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Search Integration Tests', () {\n  testWidgets('complete search flow', (tester) async {\n    // 1. \u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd\n    await tester.enterText(find.byKey(Key('search_input')), '\u5145\u7535');\n\n    // 2. \u9a8c\u8bc1\u641c\u7d22\u5efa\u8bae\u663e\u793a\n    expect(find.text('\u5145\u7535\u7ad9'), findsOneWidget);\n    expect(find.text('\u5145\u7535\u6869'), findsOneWidget);\n\n    // 3. \u6267\u884c\u641c\u7d22\n    await tester.tap(find.byKey(Key('search_button')));\n    await tester.pumpAndSettle();\n\n    // 4. \u9a8c\u8bc1\u641c\u7d22\u7ed3\u679c\n    expect(find.byType(SearchResultItem), findsWidgets);\n  });\n});\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/GlobalSearch.html#_25","title":"\u641c\u7d22\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u7d22\u5f15\u4f18\u5316\uff1a\u4f7f\u7528\u5012\u6392\u7d22\u5f15\u63d0\u9ad8\u641c\u7d22\u901f\u5ea6</li> <li>\u7f13\u5b58\u7b56\u7565\uff1a\u70ed\u95e8\u641c\u7d22\u7ed3\u679c\u7f13\u5b58</li> <li>\u5206\u9875\u52a0\u8f7d\uff1a\u5927\u7ed3\u679c\u96c6\u5206\u9875\u52a0\u8f7d</li> <li>\u5f02\u6b65\u5904\u7406\uff1a\u641c\u7d22\u64cd\u4f5c\u5f02\u6b65\u5904\u7406</li> </ul>"},{"location":"service_component/GlobalSearch.html#_26","title":"\u5185\u5b58\u4f18\u5316","text":"<ul> <li>\u7ed3\u679c\u9650\u5236\uff1a\u9650\u5236\u641c\u7d22\u7ed3\u679c\u6570\u91cf</li> <li>\u61d2\u52a0\u8f7d\uff1a\u641c\u7d22\u7ed3\u679c\u61d2\u52a0\u8f7d</li> <li>\u5bf9\u8c61\u6c60\uff1a\u590d\u7528\u641c\u7d22\u5bf9\u8c61</li> <li>\u5185\u5b58\u56de\u6536\uff1a\u53ca\u65f6\u56de\u6536\u4e0d\u7528\u7684\u641c\u7d22\u6570\u636e</li> </ul>"},{"location":"service_component/GlobalSearch.html#_27","title":"\u7b97\u6cd5\u548c\u7b56\u7565","text":""},{"location":"service_component/GlobalSearch.html#_28","title":"\u76f8\u5173\u6027\u7b97\u6cd5","text":"<pre><code>class RelevanceCalculator {\n  // \u8ba1\u7b97\u6587\u672c\u76f8\u5173\u6027\n  double calculateTextRelevance(String query, String text);\n\n  // \u8ba1\u7b97\u6807\u9898\u6743\u91cd\n  double calculateTitleWeight(String query, String title);\n\n  // \u8ba1\u7b97\u7c7b\u522b\u6743\u91cd\n  double calculateCategoryWeight(String category);\n\n  // \u8ba1\u7b97\u7efc\u5408\u5f97\u5206\n  double calculateFinalScore(Map&lt;String, double&gt; scores);\n}\n</code></pre>"},{"location":"service_component/GlobalSearch.html#_29","title":"\u641c\u7d22\u4f18\u5316\u7b56\u7565","text":"<ul> <li>\u67e5\u8be2\u6269\u5c55\uff1a\u540c\u4e49\u8bcd\u548c\u76f8\u5173\u8bcd\u6269\u5c55</li> <li>\u6a21\u7cca\u5339\u914d\uff1a\u652f\u6301\u6a21\u7cca\u5339\u914d\u641c\u7d22</li> <li>\u6743\u91cd\u8c03\u6574\uff1a\u52a8\u6001\u8c03\u6574\u641c\u7d22\u6743\u91cd</li> <li>\u4e2a\u6027\u5316\u6392\u5e8f\uff1a\u57fa\u4e8e\u7528\u6237\u884c\u4e3a\u7684\u4e2a\u6027\u5316\u6392\u5e8f</li> </ul>"},{"location":"service_component/GlobalSearch.html#_30","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/GlobalSearch.html#v0325","title":"v0.3.2+5 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u8bed\u4e49\u641c\u7d22\u529f\u80fd</li> <li>\u4f18\u5316\u641c\u7d22\u6027\u80fd\u548c\u51c6\u786e\u6027</li> <li>\u652f\u6301\u591a\u8bed\u8a00\u641c\u7d22</li> <li>\u4fee\u590d\u641c\u7d22\u7ed3\u679c\u6392\u5e8f\u95ee\u9898</li> </ul>"},{"location":"service_component/GlobalSearch.html#v031","title":"v0.3.1","text":"<ul> <li>\u652f\u6301\u5b9e\u65f6\u641c\u7d22\u5efa\u8bae</li> <li>\u65b0\u589e\u641c\u7d22\u5386\u53f2\u7ba1\u7406</li> <li>\u4f18\u5316\u641c\u7d22\u7d22\u5f15\u7ed3\u6784</li> <li>\u6539\u8fdb\u641c\u7d22\u7ed3\u679c\u5c55\u793a</li> </ul>"},{"location":"service_component/GlobalSearch.html#_31","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/GlobalSearch.html#_32","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_storage</code>: \u672c\u5730\u6570\u636e\u5b58\u50a8</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li><code>basic_utils</code>: \u5de5\u5177\u7c7b\u5e93</li> <li><code>basic_logger</code>: \u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"service_component/GlobalSearch.html#_33","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>sqflite</code>: \u672c\u5730\u6570\u636e\u5e93</li> <li><code>fuzzywuzzy</code>: \u6a21\u7cca\u5339\u914d\u7b97\u6cd5</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> <li><code>collection</code>: \u96c6\u5408\u5de5\u5177</li> </ul>"},{"location":"service_component/GlobalSearch.html#_34","title":"\u603b\u7ed3","text":"<p><code>GlobalSearch</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5168\u5c40\u641c\u7d22\u80fd\u529b\uff0c\u901a\u8fc7\u7edf\u4e00\u7684\u641c\u7d22\u63a5\u53e3\u3001\u667a\u80fd\u7684\u641c\u7d22\u5efa\u8bae\u3001\u5b8c\u5584\u7684\u5386\u53f2\u7ba1\u7406\u548c\u4f18\u5316\u7684\u641c\u7d22\u7ed3\u679c\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u9ad8\u6548\u3001\u7cbe\u51c6\u7684\u641c\u7d22\u4f53\u9a8c\u3002\u8be5\u6a21\u5757\u7684\u8bbe\u8ba1\u5145\u5206\u8003\u8651\u4e86\u53ef\u6269\u5c55\u6027\u3001\u6027\u80fd\u4f18\u5316\u548c\u7528\u6237\u4f53\u9a8c\uff0c\u80fd\u591f\u5f88\u597d\u5730\u652f\u6491\u5e94\u7528\u7684\u641c\u7d22\u9700\u6c42\u3002</p>"},{"location":"service_component/ShareToFriends.html","title":"ShareToFriends - \u5206\u4eab\u529f\u80fd\u6a21\u5757","text":""},{"location":"service_component/ShareToFriends.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>ShareToFriends</code> \u662f OneApp \u7684\u5206\u4eab\u529f\u80fd\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u793e\u4ea4\u5206\u4eab\u89e3\u51b3\u65b9\u6848\u3002\u8be5\u6a21\u5757\u652f\u6301\u591a\u79cd\u793e\u4ea4\u5e73\u53f0\u5206\u4eab\u3001\u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9\u3001\u5206\u4eab\u7edf\u8ba1\u5206\u6790\u548c\u6743\u9650\u63a7\u5236\u7b49\u529f\u80fd\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4fbf\u6377\u7684\u5185\u5bb9\u5206\u4eab\u4f53\u9a8c\u3002</p>"},{"location":"service_component/ShareToFriends.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/ShareToFriends.html#1","title":"1. \u793e\u4ea4\u5e73\u53f0\u5206\u4eab","text":"<ul> <li>\u591a\u5e73\u53f0\u652f\u6301\uff1a\u652f\u6301\u5fae\u4fe1\u3001QQ\u3001\u5fae\u535a\u3001\u6296\u97f3\u7b49\u4e3b\u6d41\u5e73\u53f0</li> <li>\u539f\u751f\u96c6\u6210\uff1a\u6df1\u5ea6\u96c6\u6210\u5404\u5e73\u53f0\u539f\u751f\u5206\u4eab\u80fd\u529b</li> <li>\u683c\u5f0f\u9002\u914d\uff1a\u81ea\u52a8\u9002\u914d\u5404\u5e73\u53f0\u7684\u5185\u5bb9\u683c\u5f0f\u8981\u6c42</li> <li>\u72b6\u6001\u8ddf\u8e2a\uff1a\u8ddf\u8e2a\u5206\u4eab\u72b6\u6001\u548c\u7ed3\u679c\u53cd\u9988</li> </ul>"},{"location":"service_component/ShareToFriends.html#2","title":"2. \u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9","text":"<ul> <li>\u5185\u5bb9\u6a21\u677f\uff1a\u63d0\u4f9b\u4e30\u5bcc\u7684\u5206\u4eab\u5185\u5bb9\u6a21\u677f</li> <li>\u52a8\u6001\u751f\u6210\uff1a\u6839\u636e\u5206\u4eab\u5185\u5bb9\u52a8\u6001\u751f\u6210\u5206\u4eab\u7d20\u6750</li> <li>\u591a\u5a92\u4f53\u652f\u6301\uff1a\u652f\u6301\u6587\u5b57\u3001\u56fe\u7247\u3001\u89c6\u9891\u3001\u94fe\u63a5\u5206\u4eab</li> <li>\u54c1\u724c\u5b9a\u5236\uff1a\u652f\u6301\u54c1\u724c\u5143\u7d20\u7684\u81ea\u5b9a\u4e49\u6dfb\u52a0</li> </ul>"},{"location":"service_component/ShareToFriends.html#3","title":"3. \u5206\u4eab\u7edf\u8ba1\u5206\u6790","text":"<ul> <li>\u5206\u4eab\u6570\u636e\u7edf\u8ba1\uff1a\u7edf\u8ba1\u5206\u4eab\u6b21\u6570\u3001\u5e73\u53f0\u5206\u5e03\u7b49\u6570\u636e</li> <li>\u7528\u6237\u884c\u4e3a\u5206\u6790\uff1a\u5206\u6790\u7528\u6237\u5206\u4eab\u884c\u4e3a\u548c\u504f\u597d</li> <li>\u8f6c\u5316\u7387\u8ddf\u8e2a\uff1a\u8ddf\u8e2a\u5206\u4eab\u5e26\u6765\u7684\u8f6c\u5316\u6548\u679c</li> <li>\u70ed\u70b9\u5185\u5bb9\u8bc6\u522b\uff1a\u8bc6\u522b\u70ed\u95e8\u5206\u4eab\u5185\u5bb9</li> </ul>"},{"location":"service_component/ShareToFriends.html#4","title":"4. \u5206\u4eab\u6743\u9650\u63a7\u5236","text":"<ul> <li>\u5185\u5bb9\u6743\u9650\uff1a\u63a7\u5236\u53ef\u5206\u4eab\u7684\u5185\u5bb9\u8303\u56f4</li> <li>\u7528\u6237\u6743\u9650\uff1a\u57fa\u4e8e\u7528\u6237\u89d2\u8272\u7684\u5206\u4eab\u6743\u9650</li> <li>\u5e73\u53f0\u9650\u5236\uff1a\u7279\u5b9a\u5e73\u53f0\u7684\u5206\u4eab\u9650\u5236</li> <li>\u654f\u611f\u5185\u5bb9\u8fc7\u6ee4\uff1a\u8fc7\u6ee4\u654f\u611f\u6216\u4e0d\u5f53\u5185\u5bb9</li> </ul>"},{"location":"service_component/ShareToFriends.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/ShareToFriends.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u754c\u9762\u5c42                \u2502\n\u2502         (Share UI Components)       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         ShareToFriends              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u5206\u4eab\u7ba1\u7406 \u2502 \u5185\u5bb9\u751f\u6210 \u2502 \u5e73\u53f0\u9002\u914d \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u7edf\u8ba1\u5206\u6790 \u2502 \u6743\u9650\u63a7\u5236 \u2502 \u7f13\u5b58\u7ba1\u7406 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u5e73\u53f0SDK\u5c42                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u5fae\u4fe1SDK  \u2502 QQ SDK   \u2502 \u5fae\u535aSDK  \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u7cfb\u7edf\u5206\u4eab\u63a5\u53e3              \u2502\n\u2502       (System Share APIs)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/ShareToFriends.html#1_sharemanager","title":"1. \u5206\u4eab\u7ba1\u7406\u5668 (ShareManager)","text":"<pre><code>class ShareManager {\n  // \u6267\u884c\u5206\u4eab\n  Future&lt;ShareResult&gt; share(ShareRequest request);\n\n  // \u83b7\u53d6\u53ef\u7528\u7684\u5206\u4eab\u5e73\u53f0\n  Future&lt;List&lt;SharePlatform&gt;&gt; getAvailablePlatforms();\n\n  // \u68c0\u67e5\u5e73\u53f0\u53ef\u7528\u6027\n  Future&lt;bool&gt; isPlatformAvailable(SharePlatformType platform);\n\n  // \u6ce8\u518c\u5206\u4eab\u5e73\u53f0\n  void registerPlatform(SharePlatform platform);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#2_contentgenerator","title":"2. \u5185\u5bb9\u751f\u6210\u5668 (ContentGenerator)","text":"<pre><code>class ShareContentGenerator {\n  // \u751f\u6210\u5206\u4eab\u5185\u5bb9\n  Future&lt;ShareContent&gt; generateContent(ContentTemplate template, Map&lt;String, dynamic&gt; data);\n\n  // \u521b\u5efa\u5206\u4eab\u56fe\u7247\n  Future&lt;File&gt; createShareImage(ShareImageConfig config);\n\n  // \u751f\u6210\u5206\u4eab\u94fe\u63a5\n  Future&lt;String&gt; generateShareLink(ShareLinkConfig config);\n\n  // \u683c\u5f0f\u5316\u5206\u4eab\u6587\u672c\n  String formatShareText(String template, Map&lt;String, String&gt; variables);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#3_platformadapter","title":"3. \u5e73\u53f0\u9002\u914d\u5668 (PlatformAdapter)","text":"<pre><code>class SharePlatformAdapter {\n  // \u9002\u914d\u5206\u4eab\u5185\u5bb9\n  ShareContent adaptContent(ShareContent content, SharePlatformType platform);\n\n  // \u9a8c\u8bc1\u5185\u5bb9\u683c\u5f0f\n  ValidationResult validateContent(ShareContent content, SharePlatformType platform);\n\n  // \u83b7\u53d6\u5e73\u53f0\u9650\u5236\n  PlatformLimitations getPlatformLimitations(SharePlatformType platform);\n\n  // \u8f6c\u6362\u5185\u5bb9\u683c\u5f0f\n  ShareContent convertContentFormat(ShareContent content, ContentFormat targetFormat);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#4_shareanalytics","title":"4. \u7edf\u8ba1\u5206\u6790\u5668 (ShareAnalytics)","text":"<pre><code>class ShareAnalytics {\n  // \u8bb0\u5f55\u5206\u4eab\u4e8b\u4ef6\n  Future&lt;void&gt; recordShareEvent(ShareEvent event);\n\n  // \u83b7\u53d6\u5206\u4eab\u7edf\u8ba1\n  Future&lt;ShareStatistics&gt; getShareStatistics(StatisticsQuery query);\n\n  // \u5206\u6790\u7528\u6237\u5206\u4eab\u884c\u4e3a\n  Future&lt;UserShareBehavior&gt; analyzeUserBehavior(String userId);\n\n  // \u83b7\u53d6\u70ed\u95e8\u5206\u4eab\u5185\u5bb9\n  Future&lt;List&lt;PopularContent&gt;&gt; getPopularContent(TimeRange timeRange);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/ShareToFriends.html#_7","title":"\u5206\u4eab\u8bf7\u6c42\u6a21\u578b","text":"<pre><code>class ShareRequest {\n  final String id;\n  final ShareContent content;\n  final SharePlatformType platform;\n  final ShareOptions options;\n  final String? userId;\n  final Map&lt;String, dynamic&gt; metadata;\n  final DateTime timestamp;\n}\n\nclass ShareContent {\n  final String? title;\n  final String? description;\n  final String? text;\n  final List&lt;String&gt; images;\n  final String? video;\n  final String? url;\n  final String? thumbnailUrl;\n  final ContentType type;\n  final Map&lt;String, dynamic&gt; extras;\n}\n\nenum ContentType {\n  text,         // \u7eaf\u6587\u672c\n  image,        // \u56fe\u7247\n  video,        // \u89c6\u9891\n  link,         // \u94fe\u63a5\n  miniProgram,  // \u5c0f\u7a0b\u5e8f\n  music,        // \u97f3\u4e50\n  file          // \u6587\u4ef6\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_8","title":"\u5206\u4eab\u5e73\u53f0\u6a21\u578b","text":"<pre><code>enum SharePlatformType {\n  wechat,           // \u5fae\u4fe1\u597d\u53cb\n  wechatMoments,    // \u5fae\u4fe1\u670b\u53cb\u5708\n  qq,               // QQ\u597d\u53cb\n  qzone,            // QQ\u7a7a\u95f4\n  weibo,            // \u65b0\u6d6a\u5fae\u535a\n  douyin,           // \u6296\u97f3\n  system,           // \u7cfb\u7edf\u5206\u4eab\n  copy,             // \u590d\u5236\u94fe\u63a5\n  email,            // \u90ae\u4ef6\n  sms               // \u77ed\u4fe1\n}\n\nclass SharePlatform {\n  final SharePlatformType type;\n  final String name;\n  final String packageName;\n  final String iconUrl;\n  final bool isInstalled;\n  final bool isEnabled;\n  final PlatformLimitations limitations;\n  final Map&lt;String, dynamic&gt; config;\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_9","title":"\u5206\u4eab\u7ed3\u679c\u6a21\u578b","text":"<pre><code>class ShareResult {\n  final bool isSuccess;\n  final SharePlatformType platform;\n  final String? shareId;\n  final String? errorMessage;\n  final int? errorCode;\n  final DateTime timestamp;\n  final Map&lt;String, dynamic&gt; extraData;\n}\n\nclass ShareStatistics {\n  final int totalShares;\n  final Map&lt;SharePlatformType, int&gt; platformDistribution;\n  final Map&lt;ContentType, int&gt; contentTypeDistribution;\n  final List&lt;ShareTrend&gt; trends;\n  final double averageSharesPerUser;\n  final List&lt;TopSharedContent&gt; topContent;\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#api","title":"API \u63a5\u53e3","text":""},{"location":"service_component/ShareToFriends.html#_10","title":"\u5206\u4eab\u63a5\u53e3","text":"<pre><code>abstract class ShareService {\n  // \u6267\u884c\u5206\u4eab\n  Future&lt;ApiResponse&lt;ShareResult&gt;&gt; executeShare(ShareRequest request);\n\n  // \u83b7\u53d6\u5206\u4eab\u5e73\u53f0\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;SharePlatform&gt;&gt;&gt; getSharePlatforms();\n\n  // \u9884\u89c8\u5206\u4eab\u5185\u5bb9\n  Future&lt;ApiResponse&lt;SharePreview&gt;&gt; previewShare(PreviewRequest request);\n\n  // \u83b7\u53d6\u5206\u4eab\u5386\u53f2\n  Future&lt;ApiResponse&lt;List&lt;ShareRecord&gt;&gt;&gt; getShareHistory(HistoryQuery query);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_11","title":"\u5185\u5bb9\u751f\u6210\u63a5\u53e3","text":"<pre><code>abstract class ShareContentService {\n  // \u751f\u6210\u5206\u4eab\u5185\u5bb9\n  Future&lt;ApiResponse&lt;ShareContent&gt;&gt; generateShareContent(ContentGenerationRequest request);\n\n  // \u521b\u5efa\u5206\u4eab\u6d77\u62a5\n  Future&lt;ApiResponse&lt;String&gt;&gt; createSharePoster(PosterCreationRequest request);\n\n  // \u83b7\u53d6\u5185\u5bb9\u6a21\u677f\n  Future&lt;ApiResponse&lt;List&lt;ContentTemplate&gt;&gt;&gt; getContentTemplates(String category);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_12","title":"\u7edf\u8ba1\u5206\u6790\u63a5\u53e3","text":"<pre><code>abstract class ShareAnalyticsService {\n  // \u83b7\u53d6\u5206\u4eab\u7edf\u8ba1\u6570\u636e\n  Future&lt;ApiResponse&lt;ShareStatistics&gt;&gt; getShareStatistics(StatisticsRequest request);\n\n  // \u83b7\u53d6\u7528\u6237\u5206\u4eab\u884c\u4e3a\n  Future&lt;ApiResponse&lt;UserShareBehavior&gt;&gt; getUserShareBehavior(String userId);\n\n  // \u83b7\u53d6\u70ed\u95e8\u5206\u4eab\u5185\u5bb9\n  Future&lt;ApiResponse&lt;List&lt;PopularContent&gt;&gt;&gt; getPopularContent(PopularContentRequest request);\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/ShareToFriends.html#_14","title":"\u5206\u4eab\u914d\u7f6e","text":"<pre><code>class ShareConfig {\n  final List&lt;SharePlatformType&gt; enabledPlatforms;\n  final bool enableAnalytics;\n  final bool enableContentGeneration;\n  final int maxImageSize;\n  final Duration shareTimeout;\n  final Map&lt;SharePlatformType, PlatformConfig&gt; platformConfigs;\n\n  static const ShareConfig defaultConfig = ShareConfig(\n    enabledPlatforms: [\n      SharePlatformType.wechat,\n      SharePlatformType.wechatMoments,\n      SharePlatformType.qq,\n      SharePlatformType.qzone,\n      SharePlatformType.weibo,\n      SharePlatformType.system,\n    ],\n    enableAnalytics: true,\n    enableContentGeneration: true,\n    maxImageSize: 1024 * 1024 * 2, // 2MB\n    shareTimeout: Duration(seconds: 30),\n    platformConfigs: {},\n  );\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_15","title":"\u5185\u5bb9\u914d\u7f6e","text":"<pre><code>class ContentConfig {\n  final String appName;\n  final String appDescription;\n  final String defaultShareUrl;\n  final String logoUrl;\n  final Map&lt;String, String&gt; shareTemplates;\n  final List&lt;String&gt; sensitiveWords;\n\n  static const ContentConfig defaultContentConfig = ContentConfig(\n    appName: 'OneApp',\n    appDescription: '\u667a\u80fd\u8f66\u8054\u7f51\u5e94\u7528',\n    defaultShareUrl: 'https://oneapp.com',\n    logoUrl: 'https://oneapp.com/logo.png',\n    shareTemplates: {\n      'vehicle': '\u6211\u5728OneApp\u53d1\u73b0\u4e86\u4e00\u6b3e\u4e0d\u9519\u7684\u8f66\u8f86\uff1a{vehicleName}',\n      'charging': '\u5728OneApp\u627e\u5230\u4e86\u4fbf\u5b9c\u7684\u5145\u7535\u7ad9\uff0c\u5206\u4eab\u7ed9\u4f60\uff1a{stationName}',\n    },\n    sensitiveWords: ['\u654f\u611f\u8bcd1', '\u654f\u611f\u8bcd2'],\n  );\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/ShareToFriends.html#_17","title":"\u57fa\u672c\u5206\u4eab\u529f\u80fd","text":"<pre><code>// \u5206\u4eab\u6587\u672c\u5185\u5bb9\nfinal shareRequest = ShareRequest(\n  id: 'share_text_${DateTime.now().millisecondsSinceEpoch}',\n  content: ShareContent(\n    text: '\u6211\u5728\u4f7f\u7528OneApp\uff0c\u611f\u89c9\u5f88\u4e0d\u9519\uff01',\n    url: 'https://oneapp.com',\n    type: ContentType.text,\n  ),\n  platform: SharePlatformType.wechat,\n  options: ShareOptions(\n    enableAnalytics: true,\n    autoGenerateImage: false,\n  ),\n);\n\nfinal result = await ShareManager.instance.share(shareRequest);\n\nif (result.isSuccess) {\n  print('\u5206\u4eab\u6210\u529f');\n} else {\n  print('\u5206\u4eab\u5931\u8d25: ${result.errorMessage}');\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_18","title":"\u5206\u4eab\u56fe\u7247\u5185\u5bb9","text":"<pre><code>// \u5206\u4eab\u8f66\u8f86\u4fe1\u606f\nfinal vehicleInfo = {\n  'name': 'Model Y',\n  'brand': 'Tesla',\n  'price': '30\u4e07',\n  'image': 'https://example.com/vehicle.jpg',\n};\n\n// \u751f\u6210\u5206\u4eab\u5185\u5bb9\nfinal shareContent = await ShareContentGenerator.instance.generateContent(\n  ContentTemplate.vehicle,\n  vehicleInfo,\n);\n\n// \u521b\u5efa\u5206\u4eab\u6d77\u62a5\nfinal posterPath = await ShareContentGenerator.instance.createShareImage(\n  ShareImageConfig(\n    template: 'vehicle_poster',\n    data: vehicleInfo,\n    size: Size(750, 1334),\n  ),\n);\n\n// \u6267\u884c\u5206\u4eab\nfinal shareResult = await ShareManager.instance.share(\n  ShareRequest(\n    id: 'share_vehicle',\n    content: ShareContent(\n      title: vehicleInfo['name'],\n      description: '${vehicleInfo['brand']} ${vehicleInfo['name']} - ${vehicleInfo['price']}',\n      images: [posterPath],\n      url: 'https://oneapp.com/vehicle/${vehicleInfo['id']}',\n      type: ContentType.image,\n    ),\n    platform: SharePlatformType.wechatMoments,\n  ),\n);\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_19","title":"\u591a\u5e73\u53f0\u5206\u4eab","text":"<pre><code>// \u83b7\u53d6\u53ef\u7528\u7684\u5206\u4eab\u5e73\u53f0\nfinal availablePlatforms = await ShareManager.instance.getAvailablePlatforms();\n\n// \u663e\u793a\u5206\u4eab\u9762\u677f\nshowSharePanel(\n  context: context,\n  platforms: availablePlatforms,\n  content: shareContent,\n  onPlatformSelected: (platform) async {\n    final result = await ShareManager.instance.share(\n      ShareRequest(\n        content: shareContent,\n        platform: platform.type,\n      ),\n    );\n\n    if (result.isSuccess) {\n      showSuccessToast('\u5206\u4eab\u6210\u529f');\n    } else {\n      showErrorToast('\u5206\u4eab\u5931\u8d25: ${result.errorMessage}');\n    }\n  },\n);\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_20","title":"\u5206\u4eab\u7edf\u8ba1\u5206\u6790","text":"<pre><code>// \u83b7\u53d6\u5206\u4eab\u7edf\u8ba1\u6570\u636e\nfinal statistics = await ShareAnalytics.instance.getShareStatistics(\n  StatisticsQuery(\n    timeRange: TimeRange.lastMonth,\n    groupBy: GroupBy.platform,\n  ),\n);\n\nprint('\u603b\u5206\u4eab\u6b21\u6570: ${statistics.totalShares}');\nprint('\u5e73\u53f0\u5206\u5e03:');\nstatistics.platformDistribution.forEach((platform, count) {\n  print('  ${platform.name}: $count\u6b21');\n});\n\n// \u83b7\u53d6\u70ed\u95e8\u5206\u4eab\u5185\u5bb9\nfinal popularContent = await ShareAnalytics.instance.getPopularContent(\n  TimeRange.lastWeek,\n);\n\nprint('\u70ed\u95e8\u5206\u4eab\u5185\u5bb9:');\nfor (final content in popularContent) {\n  print('  ${content.title}: ${content.shareCount}\u6b21\u5206\u4eab');\n}\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_21","title":"\u81ea\u5b9a\u4e49\u5206\u4eab\u5185\u5bb9","text":"<pre><code>// \u6ce8\u518c\u81ea\u5b9a\u4e49\u5185\u5bb9\u6a21\u677f\nShareContentGenerator.instance.registerTemplate(\n  'custom_vehicle',\n  ContentTemplate(\n    id: 'custom_vehicle',\n    name: '\u81ea\u5b9a\u4e49\u8f66\u8f86\u5206\u4eab',\n    textTemplate: '\u6211\u5728OneApp\u53d1\u73b0\u4e86{brand} {model}\uff0c{feature}\uff0c\u63a8\u8350\u7ed9\u4f60\uff01',\n    imageTemplate: 'custom_vehicle_poster.png',\n    variables: ['brand', 'model', 'feature', 'price'],\n  ),\n);\n\n// \u4f7f\u7528\u81ea\u5b9a\u4e49\u6a21\u677f\u751f\u6210\u5185\u5bb9\nfinal customContent = await ShareContentGenerator.instance.generateContent(\n  'custom_vehicle',\n  {\n    'brand': 'BMW',\n    'model': 'iX3',\n    'feature': '\u7eed\u822a500\u516c\u91cc',\n    'price': '40\u4e07',\n  },\n);\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_22","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/ShareToFriends.html#_23","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('ShareManager Tests', () {\n  test('should share content successfully', () async {\n    // Given\n    final shareManager = ShareManager();\n    final shareRequest = ShareRequest(\n      content: ShareContent(text: 'Test share'),\n      platform: SharePlatformType.system,\n    );\n\n    // When\n    final result = await shareManager.share(shareRequest);\n\n    // Then\n    expect(result.isSuccess, true);\n    expect(result.platform, SharePlatformType.system);\n  });\n\n  test('should generate share content from template', () async {\n    // Given\n    final generator = ShareContentGenerator();\n    final template = ContentTemplate.vehicle;\n    final data = {'name': 'Model 3', 'brand': 'Tesla'};\n\n    // When\n    final content = await generator.generateContent(template, data);\n\n    // Then\n    expect(content.title, contains('Model 3'));\n    expect(content.description, contains('Tesla'));\n  });\n});\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_24","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Share Integration Tests', () {\n  testWidgets('share flow', (tester) async {\n    // 1. \u70b9\u51fb\u5206\u4eab\u6309\u94ae\n    await tester.tap(find.byKey(Key('share_button')));\n    await tester.pumpAndSettle();\n\n    // 2. \u9a8c\u8bc1\u5206\u4eab\u9762\u677f\u663e\u793a\n    expect(find.byType(SharePanel), findsOneWidget);\n\n    // 3. \u9009\u62e9\u5206\u4eab\u5e73\u53f0\n    await tester.tap(find.byKey(Key('platform_wechat')));\n    await tester.pumpAndSettle();\n\n    // 4. \u9a8c\u8bc1\u5206\u4eab\u6267\u884c\n    verify(mockShareManager.share(any)).called(1);\n  });\n});\n</code></pre>"},{"location":"service_component/ShareToFriends.html#_25","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/ShareToFriends.html#_26","title":"\u5185\u5bb9\u751f\u6210\u4f18\u5316","text":"<ul> <li>\u6a21\u677f\u7f13\u5b58\uff1a\u7f13\u5b58\u5e38\u7528\u7684\u5185\u5bb9\u6a21\u677f</li> <li>\u56fe\u7247\u538b\u7f29\uff1a\u81ea\u52a8\u538b\u7f29\u5206\u4eab\u56fe\u7247</li> <li>\u5f02\u6b65\u5904\u7406\uff1a\u5f02\u6b65\u751f\u6210\u5206\u4eab\u5185\u5bb9</li> <li>\u6279\u91cf\u5904\u7406\uff1a\u6279\u91cf\u5904\u7406\u591a\u4e2a\u5206\u4eab\u8bf7\u6c42</li> </ul>"},{"location":"service_component/ShareToFriends.html#_27","title":"\u5e73\u53f0\u96c6\u6210\u4f18\u5316","text":"<ul> <li>\u61d2\u52a0\u8f7dSDK\uff1a\u6309\u9700\u52a0\u8f7d\u5e73\u53f0SDK</li> <li>\u8fde\u63a5\u6c60\uff1a\u590d\u7528\u7f51\u7edc\u8fde\u63a5</li> <li>\u7f13\u5b58\u68c0\u67e5\uff1a\u7f13\u5b58\u5e73\u53f0\u53ef\u7528\u6027\u68c0\u67e5\u7ed3\u679c</li> <li>\u8d85\u65f6\u63a7\u5236\uff1a\u5408\u7406\u7684\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e</li> </ul>"},{"location":"service_component/ShareToFriends.html#_28","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/ShareToFriends.html#v0253","title":"v0.2.5+3 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u6296\u97f3\u5206\u4eab\u652f\u6301</li> <li>\u4f18\u5316\u5206\u4eab\u5185\u5bb9\u751f\u6210\u6027\u80fd</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u5206\u4eab\u6a21\u677f</li> <li>\u4fee\u590d\u5fae\u4fe1\u5206\u4eab\u56de\u8c03\u95ee\u9898</li> </ul>"},{"location":"service_component/ShareToFriends.html#v024","title":"v0.2.4","text":"<ul> <li>\u652f\u6301\u89c6\u9891\u5185\u5bb9\u5206\u4eab</li> <li>\u65b0\u589e\u5206\u4eab\u7edf\u8ba1\u5206\u6790</li> <li>\u4f18\u5316\u5206\u4eab\u9762\u677fUI</li> <li>\u6539\u8fdb\u9519\u8bef\u5904\u7406\u673a\u5236</li> </ul>"},{"location":"service_component/ShareToFriends.html#_29","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/ShareToFriends.html#_30","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_utils</code>: \u5de5\u5177\u7c7b\u5e93</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42</li> <li><code>basic_logger</code>: \u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"service_component/ShareToFriends.html#_31","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>fluwx</code>: \u5fae\u4fe1\u5206\u4eabSDK</li> <li><code>share_plus</code>: \u7cfb\u7edf\u5206\u4eab</li> <li><code>image</code>: \u56fe\u7247\u5904\u7406</li> <li><code>path_provider</code>: \u6587\u4ef6\u8def\u5f84</li> </ul>"},{"location":"service_component/ShareToFriends.html#_32","title":"\u603b\u7ed3","text":"<p><code>ShareToFriends</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u793e\u4ea4\u5206\u4eab\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u591a\u5e73\u53f0\u652f\u6301\u3001\u81ea\u5b9a\u4e49\u5185\u5bb9\u751f\u6210\u3001\u7edf\u8ba1\u5206\u6790\u548c\u6743\u9650\u63a7\u5236\u7b49\u529f\u80fd\uff0c\u8be5\u6a21\u5757\u8ba9\u7528\u6237\u80fd\u591f\u4fbf\u6377\u5730\u5206\u4eab\u5e94\u7528\u5185\u5bb9\u5230\u5404\u5927\u793e\u4ea4\u5e73\u53f0\uff0c\u540c\u65f6\u4e3a\u8fd0\u8425\u56e2\u961f\u63d0\u4f9b\u4e86\u6709\u4ef7\u503c\u7684\u5206\u4eab\u6570\u636e\u5206\u6790\uff0c\u6709\u52a9\u4e8e\u63d0\u5347\u7528\u6237\u53c2\u4e0e\u5ea6\u548c\u5e94\u7528\u4f20\u64ad\u6548\u679c\u3002</p>"},{"location":"service_component/app_configuration.html","title":"App Configuration - \u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u6a21\u5757","text":""},{"location":"service_component/app_configuration.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_configuration</code> \u662f OneApp \u7684\u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u914d\u7f6e\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u3002\u8be5\u6a21\u5757\u652f\u6301\u8fdc\u7a0b\u914d\u7f6e\u4e0b\u53d1\u3001\u672c\u5730\u914d\u7f6e\u7f13\u5b58\u3001\u914d\u7f6e\u70ed\u66f4\u65b0\u548c\u591a\u73af\u5883\u914d\u7f6e\u5207\u6362\u7b49\u529f\u80fd\uff0c\u4e3a\u5e94\u7528\u7684\u914d\u7f6e\u7ba1\u7406\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u63a5\u53e3\u548c\u53ef\u9760\u7684\u5b9e\u73b0\u3002</p>"},{"location":"service_component/app_configuration.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/app_configuration.html#1","title":"1. \u8fdc\u7a0b\u914d\u7f6e\u7ba1\u7406","text":"<ul> <li>\u914d\u7f6e\u4e0b\u53d1\uff1a\u4ece\u670d\u52a1\u7aef\u52a8\u6001\u4e0b\u53d1\u914d\u7f6e\u4fe1\u606f</li> <li>\u7248\u672c\u63a7\u5236\uff1a\u914d\u7f6e\u7248\u672c\u7ba1\u7406\u548c\u56de\u6eda\u673a\u5236</li> <li>\u7070\u5ea6\u53d1\u5e03\uff1a\u652f\u6301\u914d\u7f6e\u7684\u7070\u5ea6\u53d1\u5e03\u7b56\u7565</li> <li>\u5b9e\u65f6\u540c\u6b65\uff1a\u914d\u7f6e\u53d8\u66f4\u7684\u5b9e\u65f6\u540c\u6b65</li> </ul>"},{"location":"service_component/app_configuration.html#2","title":"2. \u672c\u5730\u914d\u7f6e\u7f13\u5b58","text":"<ul> <li>\u79bb\u7ebf\u652f\u6301\uff1a\u914d\u7f6e\u672c\u5730\u7f13\u5b58\u786e\u4fdd\u79bb\u7ebf\u53ef\u7528</li> <li>\u6301\u4e45\u5316\u5b58\u50a8\uff1a\u914d\u7f6e\u6570\u636e\u6301\u4e45\u5316\u5b58\u50a8</li> <li>\u7f13\u5b58\u7b56\u7565\uff1a\u667a\u80fd\u7f13\u5b58\u7b56\u7565\u4f18\u5316\u6027\u80fd</li> <li>\u6570\u636e\u538b\u7f29\uff1a\u914d\u7f6e\u6570\u636e\u538b\u7f29\u5b58\u50a8</li> </ul>"},{"location":"service_component/app_configuration.html#3","title":"3. \u914d\u7f6e\u70ed\u66f4\u65b0","text":"<ul> <li>\u5b9e\u65f6\u66f4\u65b0\uff1a\u914d\u7f6e\u53d8\u66f4\u65e0\u9700\u91cd\u542f\u5e94\u7528</li> <li>\u589e\u91cf\u66f4\u65b0\uff1a\u53ea\u66f4\u65b0\u53d8\u5316\u7684\u914d\u7f6e\u9879</li> <li>\u66f4\u65b0\u901a\u77e5\uff1a\u914d\u7f6e\u66f4\u65b0\u4e8b\u4ef6\u901a\u77e5\u673a\u5236</li> <li>\u56de\u6eda\u673a\u5236\uff1a\u914d\u7f6e\u66f4\u65b0\u5931\u8d25\u81ea\u52a8\u56de\u6eda</li> </ul>"},{"location":"service_component/app_configuration.html#4","title":"4. \u73af\u5883\u914d\u7f6e\u5207\u6362","text":"<ul> <li>\u591a\u73af\u5883\u652f\u6301\uff1a\u5f00\u53d1\u3001\u6d4b\u8bd5\u3001\u751f\u4ea7\u73af\u5883\u914d\u7f6e</li> <li>\u73af\u5883\u9694\u79bb\uff1a\u4e0d\u540c\u73af\u5883\u914d\u7f6e\u5b8c\u5168\u9694\u79bb</li> <li>\u52a8\u6001\u5207\u6362\uff1a\u8fd0\u884c\u65f6\u52a8\u6001\u5207\u6362\u914d\u7f6e\u73af\u5883</li> <li>\u914d\u7f6e\u9a8c\u8bc1\uff1a\u914d\u7f6e\u6709\u6548\u6027\u9a8c\u8bc1\u673a\u5236</li> </ul>"},{"location":"service_component/app_configuration.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/app_configuration.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u5c42                    \u2502\n\u2502         (UI Components)             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502       App Configuration             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u914d\u7f6e\u7ba1\u7406 \u2502 \u7f13\u5b58\u670d\u52a1 \u2502 \u66f4\u65b0\u670d\u52a1 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u73af\u5883\u5207\u6362 \u2502 \u6570\u636e\u540c\u6b65 \u2502 \u4e8b\u4ef6\u901a\u77e5 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         CLR Configuration           \u2502\n\u2502           (\u914d\u7f6e\u670d\u52a1SDK)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u7f51\u7edc\u670d\u52a1\u5c42                 \u2502\n\u2502      (HTTP/WebSocket/GraphQL)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/app_configuration.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/app_configuration.html#1_configurationmanager","title":"1. \u914d\u7f6e\u7ba1\u7406\u5668 (ConfigurationManager)","text":"<pre><code>class ConfigurationManager {\n  // \u521d\u59cb\u5316\u914d\u7f6e\u7ba1\u7406\u5668\n  Future&lt;bool&gt; initialize(ConfigurationConfig config);\n\n  // \u83b7\u53d6\u914d\u7f6e\u503c\n  T? getValue&lt;T&gt;(String key, {T? defaultValue});\n\n  // \u8bbe\u7f6e\u914d\u7f6e\u503c\n  Future&lt;bool&gt; setValue&lt;T&gt;(String key, T value);\n\n  // \u5220\u9664\u914d\u7f6e\n  Future&lt;bool&gt; removeValue(String key);\n\n  // \u83b7\u53d6\u6240\u6709\u914d\u7f6e\n  Map&lt;String, dynamic&gt; getAllConfigurations();\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#2_remoteconfigservice","title":"2. \u8fdc\u7a0b\u914d\u7f6e\u670d\u52a1 (RemoteConfigService)","text":"<pre><code>class RemoteConfigService {\n  // \u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u914d\u7f6e\n  Future&lt;ConfigurationResult&gt; fetchRemoteConfig();\n\n  // \u68c0\u67e5\u914d\u7f6e\u66f4\u65b0\n  Future&lt;bool&gt; checkForUpdates();\n\n  // \u5e94\u7528\u8fdc\u7a0b\u914d\u7f6e\n  Future&lt;bool&gt; applyRemoteConfig(Map&lt;String, dynamic&gt; config);\n\n  // \u83b7\u53d6\u914d\u7f6e\u7248\u672c\u4fe1\u606f\n  Future&lt;ConfigVersion&gt; getConfigVersion();\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#3_localcachemanager","title":"3. \u672c\u5730\u7f13\u5b58\u7ba1\u7406\u5668 (LocalCacheManager)","text":"<pre><code>class LocalCacheManager {\n  // \u7f13\u5b58\u914d\u7f6e\u5230\u672c\u5730\n  Future&lt;bool&gt; cacheConfiguration(String key, dynamic value);\n\n  // \u4ece\u7f13\u5b58\u83b7\u53d6\u914d\u7f6e\n  T? getCachedConfiguration&lt;T&gt;(String key);\n\n  // \u6e05\u9664\u7f13\u5b58\n  Future&lt;bool&gt; clearCache([String? key]);\n\n  // \u83b7\u53d6\u7f13\u5b58\u5927\u5c0f\n  Future&lt;int&gt; getCacheSize();\n\n  // \u538b\u7f29\u7f13\u5b58\u6570\u636e\n  Future&lt;bool&gt; compressCache();\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#4_environmentmanager","title":"4. \u73af\u5883\u7ba1\u7406\u5668 (EnvironmentManager)","text":"<pre><code>class EnvironmentManager {\n  // \u8bbe\u7f6e\u5f53\u524d\u73af\u5883\n  Future&lt;bool&gt; setCurrentEnvironment(Environment environment);\n\n  // \u83b7\u53d6\u5f53\u524d\u73af\u5883\n  Environment getCurrentEnvironment();\n\n  // \u83b7\u53d6\u73af\u5883\u914d\u7f6e\n  Map&lt;String, dynamic&gt; getEnvironmentConfig(Environment environment);\n\n  // \u9a8c\u8bc1\u73af\u5883\u914d\u7f6e\n  Future&lt;bool&gt; validateEnvironmentConfig(Environment environment);\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/app_configuration.html#_7","title":"\u914d\u7f6e\u6a21\u578b","text":"<pre><code>class Configuration {\n  final String key;\n  final dynamic value;\n  final ConfigurationType type;\n  final DateTime createdAt;\n  final DateTime updatedAt;\n  final String version;\n  final Map&lt;String, dynamic&gt; metadata;\n  final bool isRemote;\n  final bool isEncrypted;\n}\n\nenum ConfigurationType {\n  string,\n  integer,\n  double,\n  boolean,\n  json,\n  list\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_8","title":"\u73af\u5883\u6a21\u578b","text":"<pre><code>enum Environment {\n  development,\n  testing,\n  staging,\n  production\n}\n\nclass EnvironmentConfig {\n  final Environment environment;\n  final String baseUrl;\n  final String apiKey;\n  final Map&lt;String, String&gt; headers;\n  final int timeout;\n  final bool enableLogging;\n  final Map&lt;String, dynamic&gt; features;\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_9","title":"\u914d\u7f6e\u7248\u672c\u6a21\u578b","text":"<pre><code>class ConfigVersion {\n  final String version;\n  final DateTime publishTime;\n  final String description;\n  final List&lt;String&gt; changedKeys;\n  final Map&lt;String, dynamic&gt; changeset;\n  final bool isForced;\n  final DateTime expireTime;\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#api","title":"API \u63a5\u53e3","text":""},{"location":"service_component/app_configuration.html#_10","title":"\u914d\u7f6e\u7ba1\u7406\u63a5\u53e3","text":"<pre><code>abstract class ConfigurationService {\n  // \u521d\u59cb\u5316\u914d\u7f6e\u670d\u52a1\n  Future&lt;ApiResponse&lt;bool&gt;&gt; initialize(InitConfigRequest request);\n\n  // \u83b7\u53d6\u914d\u7f6e\n  Future&lt;ApiResponse&lt;ConfigurationResult&gt;&gt; getConfiguration(GetConfigRequest request);\n\n  // \u6279\u91cf\u83b7\u53d6\u914d\u7f6e\n  Future&lt;ApiResponse&lt;Map&lt;String, dynamic&gt;&gt;&gt; getBatchConfiguration(BatchConfigRequest request);\n\n  // \u66f4\u65b0\u914d\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updateConfiguration(UpdateConfigRequest request);\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_11","title":"\u8fdc\u7a0b\u914d\u7f6e\u63a5\u53e3","text":"<pre><code>abstract class RemoteConfigurationService {\n  // \u83b7\u53d6\u8fdc\u7a0b\u914d\u7f6e\n  Future&lt;ApiResponse&lt;Map&lt;String, dynamic&gt;&gt;&gt; fetchRemoteConfiguration(FetchConfigRequest request);\n\n  // \u68c0\u67e5\u914d\u7f6e\u66f4\u65b0\n  Future&lt;ApiResponse&lt;UpdateCheckResult&gt;&gt; checkConfigurationUpdate(CheckUpdateRequest request);\n\n  // \u4e0a\u62a5\u914d\u7f6e\u4f7f\u7528\u60c5\u51b5\n  Future&lt;ApiResponse&lt;bool&gt;&gt; reportConfigurationUsage(UsageReportRequest request);\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_12","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/app_configuration.html#_13","title":"\u9ed8\u8ba4\u914d\u7f6e","text":"<pre><code>class DefaultConfiguration {\n  static const Map&lt;String, dynamic&gt; defaultConfig = {\n    'app': {\n      'name': 'OneApp',\n      'version': '1.0.0',\n      'debug': false,\n    },\n    'network': {\n      'timeout': 30000,\n      'retryCount': 3,\n      'enableCache': true,\n    },\n    'ui': {\n      'theme': 'auto',\n      'language': 'auto',\n      'animations': true,\n    },\n    'features': {\n      'enableAnalytics': true,\n      'enablePush': true,\n      'enableLocation': false,\n    },\n  };\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_14","title":"\u73af\u5883\u914d\u7f6e","text":"<pre><code>class EnvironmentConfiguration {\n  static const Map&lt;Environment, EnvironmentConfig&gt; environments = {\n    Environment.development: EnvironmentConfig(\n      environment: Environment.development,\n      baseUrl: 'https://dev-api.oneapp.com',\n      apiKey: 'dev_api_key',\n      enableLogging: true,\n    ),\n    Environment.production: EnvironmentConfig(\n      environment: Environment.production,\n      baseUrl: 'https://api.oneapp.com',\n      apiKey: 'prod_api_key',\n      enableLogging: false,\n    ),\n  };\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_15","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/app_configuration.html#_16","title":"\u57fa\u672c\u914d\u7f6e\u7ba1\u7406","text":"<pre><code>// \u521d\u59cb\u5316\u914d\u7f6e\u7ba1\u7406\u5668\nfinal configManager = ConfigurationManager.instance;\nawait configManager.initialize(ConfigurationConfig.defaultConfig);\n\n// \u83b7\u53d6\u914d\u7f6e\u503c\nfinal appName = configManager.getValue&lt;String&gt;('app.name', defaultValue: 'OneApp');\nfinal timeout = configManager.getValue&lt;int&gt;('network.timeout', defaultValue: 30000);\nfinal enableAnalytics = configManager.getValue&lt;bool&gt;('features.enableAnalytics', defaultValue: true);\n\n// \u8bbe\u7f6e\u914d\u7f6e\u503c\nawait configManager.setValue('ui.theme', 'dark');\nawait configManager.setValue('features.enablePush', false);\n\n// \u76d1\u542c\u914d\u7f6e\u53d8\u5316\nconfigManager.onConfigurationChanged.listen((change) {\n  print('\u914d\u7f6e\u53d8\u66f4: ${change.key} = ${change.newValue}');\n});\n</code></pre>"},{"location":"service_component/app_configuration.html#_17","title":"\u8fdc\u7a0b\u914d\u7f6e\u66f4\u65b0","text":"<pre><code>// \u68c0\u67e5\u8fdc\u7a0b\u914d\u7f6e\u66f4\u65b0\nfinal remoteConfigService = RemoteConfigService.instance;\nfinal hasUpdate = await remoteConfigService.checkForUpdates();\n\nif (hasUpdate) {\n  // \u83b7\u53d6\u8fdc\u7a0b\u914d\u7f6e\n  final remoteConfig = await remoteConfigService.fetchRemoteConfig();\n\n  if (remoteConfig.isSuccess) {\n    // \u5e94\u7528\u8fdc\u7a0b\u914d\u7f6e\n    await remoteConfigService.applyRemoteConfig(remoteConfig.data);\n    print('\u8fdc\u7a0b\u914d\u7f6e\u5df2\u66f4\u65b0');\n  }\n}\n\n// \u76d1\u542c\u8fdc\u7a0b\u914d\u7f6e\u66f4\u65b0\nremoteConfigService.onRemoteConfigUpdated.listen((config) {\n  print('\u6536\u5230\u8fdc\u7a0b\u914d\u7f6e\u66f4\u65b0');\n  // \u5904\u7406\u914d\u7f6e\u66f4\u65b0\u903b\u8f91\n});\n</code></pre>"},{"location":"service_component/app_configuration.html#_18","title":"\u73af\u5883\u914d\u7f6e\u5207\u6362","text":"<pre><code>// \u83b7\u53d6\u5f53\u524d\u73af\u5883\nfinal currentEnv = EnvironmentManager.instance.getCurrentEnvironment();\nprint('\u5f53\u524d\u73af\u5883: $currentEnv');\n\n// \u5207\u6362\u5230\u6d4b\u8bd5\u73af\u5883\nawait EnvironmentManager.instance.setCurrentEnvironment(Environment.testing);\n\n// \u83b7\u53d6\u73af\u5883\u914d\u7f6e\nfinal envConfig = EnvironmentManager.instance.getEnvironmentConfig(Environment.testing);\nprint('\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e: $envConfig');\n\n// \u9a8c\u8bc1\u73af\u5883\u914d\u7f6e\nfinal isValid = await EnvironmentManager.instance.validateEnvironmentConfig(Environment.testing);\nif (!isValid) {\n  print('\u73af\u5883\u914d\u7f6e\u9a8c\u8bc1\u5931\u8d25');\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_19","title":"\u914d\u7f6e\u7f13\u5b58\u7ba1\u7406","text":"<pre><code>// \u7f13\u5b58\u914d\u7f6e\nfinal cacheManager = LocalCacheManager.instance;\nawait cacheManager.cacheConfiguration('user_preferences', userPreferences);\n\n// \u83b7\u53d6\u7f13\u5b58\u914d\u7f6e\nfinal cachedPreferences = cacheManager.getCachedConfiguration&lt;Map&lt;String, dynamic&gt;&gt;('user_preferences');\n\n// \u83b7\u53d6\u7f13\u5b58\u5927\u5c0f\nfinal cacheSize = await cacheManager.getCacheSize();\nprint('\u7f13\u5b58\u5927\u5c0f: ${cacheSize}KB');\n\n// \u6e05\u7406\u7f13\u5b58\nif (cacheSize &gt; 1024 * 1024) { // \u8d85\u8fc71MB\n  await cacheManager.compressCache();\n}\n</code></pre>"},{"location":"service_component/app_configuration.html#_20","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/app_configuration.html#_21","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('ConfigurationManager Tests', () {\n  test('should get and set configuration values', () async {\n    // Given\n    final configManager = ConfigurationManager();\n    await configManager.initialize(ConfigurationConfig.defaultConfig);\n\n    // When\n    await configManager.setValue('test.key', 'test_value');\n    final value = configManager.getValue&lt;String&gt;('test.key');\n\n    // Then\n    expect(value, 'test_value');\n  });\n\n  test('should return default value when key not found', () {\n    // Given\n    final configManager = ConfigurationManager();\n\n    // When\n    final value = configManager.getValue&lt;String&gt;('nonexistent.key', defaultValue: 'default');\n\n    // Then\n    expect(value, 'default');\n  });\n});\n</code></pre>"},{"location":"service_component/app_configuration.html#_22","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Configuration Integration Tests', () {\n  testWidgets('configuration update flow', (tester) async {\n    // 1. \u521d\u59cb\u5316\u914d\u7f6e\n    await ConfigurationManager.instance.initialize(ConfigurationConfig.defaultConfig);\n\n    // 2. \u6a21\u62df\u8fdc\u7a0b\u914d\u7f6e\u66f4\u65b0\n    final mockRemoteConfig = {'feature.newFeature': true};\n    await RemoteConfigService.instance.applyRemoteConfig(mockRemoteConfig);\n\n    // 3. \u9a8c\u8bc1\u914d\u7f6e\u5df2\u66f4\u65b0\n    final newFeatureEnabled = ConfigurationManager.instance.getValue&lt;bool&gt;('feature.newFeature');\n    expect(newFeatureEnabled, true);\n  });\n});\n</code></pre>"},{"location":"service_component/app_configuration.html#_23","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/app_configuration.html#_24","title":"\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u5185\u5b58\u7f13\u5b58\uff1a\u70ed\u70b9\u914d\u7f6e\u5185\u5b58\u7f13\u5b58</li> <li>\u78c1\u76d8\u7f13\u5b58\uff1a\u6240\u6709\u914d\u7f6e\u78c1\u76d8\u6301\u4e45\u5316</li> <li>\u7f13\u5b58\u8fc7\u671f\uff1a\u914d\u7f6e\u7f13\u5b58\u8fc7\u671f\u673a\u5236</li> <li>\u9884\u52a0\u8f7d\uff1a\u5e94\u7528\u542f\u52a8\u65f6\u9884\u52a0\u8f7d\u5173\u952e\u914d\u7f6e</li> </ul>"},{"location":"service_component/app_configuration.html#_25","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u589e\u91cf\u540c\u6b65\uff1a\u53ea\u540c\u6b65\u53d8\u5316\u7684\u914d\u7f6e\u9879</li> <li>\u538b\u7f29\u4f20\u8f93\uff1a\u914d\u7f6e\u6570\u636e\u538b\u7f29\u4f20\u8f93</li> <li>\u6279\u91cf\u64cd\u4f5c\uff1a\u6279\u91cf\u83b7\u53d6\u548c\u66f4\u65b0\u914d\u7f6e</li> <li>\u8fde\u63a5\u6c60\uff1a\u7f51\u7edc\u8fde\u63a5\u6c60\u4f18\u5316</li> </ul>"},{"location":"service_component/app_configuration.html#_26","title":"\u5b89\u5168\u8003\u8651","text":""},{"location":"service_component/app_configuration.html#_27","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u914d\u7f6e\u52a0\u5bc6\uff1a\u654f\u611f\u914d\u7f6e\u52a0\u5bc6\u5b58\u50a8</li> <li>\u4f20\u8f93\u52a0\u5bc6\uff1a\u914d\u7f6e\u4f20\u8f93\u4f7f\u7528HTTPS</li> <li>\u7b7e\u540d\u9a8c\u8bc1\uff1a\u914d\u7f6e\u6570\u636e\u7b7e\u540d\u9a8c\u8bc1</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u914d\u7f6e\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"service_component/app_configuration.html#_28","title":"\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u6570\u636e\u6700\u5c0f\u5316\uff1a\u53ea\u6536\u96c6\u5fc5\u8981\u7684\u914d\u7f6e\u6570\u636e</li> <li>\u533f\u540d\u5316\uff1a\u7528\u6237\u76f8\u5173\u914d\u7f6e\u533f\u540d\u5316</li> <li>\u6570\u636e\u6e05\u7406\uff1a\u5b9a\u671f\u6e05\u7406\u8fc7\u671f\u914d\u7f6e</li> <li>\u900f\u660e\u5ea6\uff1a\u914d\u7f6e\u4f7f\u7528\u900f\u660e\u5316</li> </ul>"},{"location":"service_component/app_configuration.html#_29","title":"\u76d1\u63a7\u548c\u8bca\u65ad","text":""},{"location":"service_component/app_configuration.html#_30","title":"\u6027\u80fd\u76d1\u63a7","text":"<ul> <li>\u914d\u7f6e\u4f7f\u7528\u7edf\u8ba1\uff1a\u7edf\u8ba1\u914d\u7f6e\u9879\u4f7f\u7528\u9891\u7387</li> <li>\u66f4\u65b0\u6027\u80fd\uff1a\u76d1\u63a7\u914d\u7f6e\u66f4\u65b0\u6027\u80fd</li> <li>\u7f13\u5b58\u547d\u4e2d\u7387\uff1a\u76d1\u63a7\u7f13\u5b58\u547d\u4e2d\u7387</li> <li>\u7f51\u7edc\u6027\u80fd\uff1a\u76d1\u63a7\u914d\u7f6e\u7f51\u7edc\u8bf7\u6c42\u6027\u80fd</li> </ul>"},{"location":"service_component/app_configuration.html#_31","title":"\u6545\u969c\u8bca\u65ad","text":"<ul> <li>\u914d\u7f6e\u9a8c\u8bc1\uff1a\u914d\u7f6e\u6570\u636e\u6709\u6548\u6027\u9a8c\u8bc1</li> <li>\u66f4\u65b0\u5931\u8d25\u6062\u590d\uff1a\u914d\u7f6e\u66f4\u65b0\u5931\u8d25\u81ea\u52a8\u6062\u590d</li> <li>\u5f02\u5e38\u76d1\u63a7\uff1a\u914d\u7f6e\u76f8\u5173\u5f02\u5e38\u76d1\u63a7</li> <li>\u5065\u5eb7\u68c0\u67e5\uff1a\u914d\u7f6e\u670d\u52a1\u5065\u5eb7\u68c0\u67e5</li> </ul>"},{"location":"service_component/app_configuration.html#_32","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/app_configuration.html#v0268","title":"v0.2.6+8 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u914d\u7f6e\u70ed\u66f4\u65b0\u529f\u80fd</li> <li>\u4f18\u5316\u7f13\u5b58\u6027\u80fd</li> <li>\u652f\u6301\u914d\u7f6e\u5206\u7ec4\u7ba1\u7406</li> <li>\u4fee\u590d\u73af\u5883\u5207\u6362\u95ee\u9898</li> </ul>"},{"location":"service_component/app_configuration.html#v025","title":"v0.2.5","text":"<ul> <li>\u652f\u6301\u8fdc\u7a0b\u914d\u7f6e\u7070\u5ea6\u53d1\u5e03</li> <li>\u65b0\u589e\u914d\u7f6e\u4f7f\u7528\u7edf\u8ba1</li> <li>\u4f18\u5316\u914d\u7f6e\u540c\u6b65\u673a\u5236</li> <li>\u6539\u8fdb\u9519\u8bef\u5904\u7406</li> </ul>"},{"location":"service_component/app_configuration.html#_33","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/app_configuration.html#_34","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>clr_configuration</code>: \u914d\u7f6e\u670d\u52a1SDK</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li><code>basic_error</code>: \u9519\u8bef\u5904\u7406\u6846\u67b6</li> </ul>"},{"location":"service_component/app_configuration.html#_35","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>shared_preferences</code>: \u672c\u5730\u914d\u7f6e\u5b58\u50a8</li> <li><code>dio</code>: HTTP\u5ba2\u6237\u7aef</li> <li><code>encrypt</code>: \u6570\u636e\u52a0\u5bc6</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> </ul>"},{"location":"service_component/app_configuration.html#_36","title":"\u603b\u7ed3","text":"<p><code>app_configuration</code> \u4f5c\u4e3a\u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u7684\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u914d\u7f6e\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u8fdc\u7a0b\u914d\u7f6e\u3001\u672c\u5730\u7f13\u5b58\u3001\u70ed\u66f4\u65b0\u548c\u73af\u5883\u5207\u6362\u7b49\u529f\u80fd\uff0c\u4e3a OneApp \u63d0\u4f9b\u4e86\u7075\u6d3b\u3001\u53ef\u9760\u3001\u9ad8\u6548\u7684\u914d\u7f6e\u7ba1\u7406\u80fd\u529b\uff0c\u786e\u4fdd\u5e94\u7528\u80fd\u591f\u5feb\u901f\u54cd\u5e94\u4e1a\u52a1\u9700\u6c42\u53d8\u5316\uff0c\u540c\u65f6\u4fdd\u8bc1\u7528\u6237\u4f53\u9a8c\u7684\u4e00\u81f4\u6027\u548c\u7a33\u5b9a\u6027\u3002</p>"},{"location":"service_component/clr_configuration.html","title":"CLR Configuration - \u914d\u7f6e\u670d\u52a1SDK","text":""},{"location":"service_component/clr_configuration.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>clr_configuration</code> \u662f OneApp \u914d\u7f6e\u670d\u52a1\u7684\u6838\u5fc3 SDK\uff0c\u4e3a\u5e94\u7528\u914d\u7f6e\u7ba1\u7406\u63d0\u4f9b\u5e95\u5c42\u7684 API \u5c01\u88c5\u548c\u6570\u636e\u5904\u7406\u80fd\u529b\u3002\u8be5 SDK \u5c01\u88c5\u4e86\u914d\u7f6e\u670d\u52a1\u7684\u7f51\u7edc\u63a5\u53e3\u3001\u6570\u636e\u6a21\u578b\u3001\u540c\u6b65\u673a\u5236\u548c\u53d8\u66f4\u901a\u77e5\u7b49\u529f\u80fd\uff0c\u4e3a\u4e0a\u5c42\u7684\u914d\u7f6e\u7ba1\u7406\u6a21\u5757\u63d0\u4f9b\u7a33\u5b9a\u53ef\u9760\u7684\u670d\u52a1\u652f\u6491\u3002</p>"},{"location":"service_component/clr_configuration.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/clr_configuration.html#1_api","title":"1. \u914d\u7f6e API \u5c01\u88c5","text":"<ul> <li>RESTful API\uff1a\u914d\u7f6e\u670d\u52a1 REST API \u5c01\u88c5</li> <li>GraphQL API\uff1a\u914d\u7f6e\u67e5\u8be2 GraphQL \u63a5\u53e3</li> <li>WebSocket API\uff1a\u5b9e\u65f6\u914d\u7f6e\u66f4\u65b0\u63a5\u53e3</li> <li>\u6279\u91cf\u64cd\u4f5c\uff1a\u914d\u7f6e\u6279\u91cf\u8bfb\u5199\u64cd\u4f5c</li> </ul>"},{"location":"service_component/clr_configuration.html#2","title":"2. \u914d\u7f6e\u6570\u636e\u6a21\u578b","text":"<ul> <li>\u6570\u636e\u7ed3\u6784\uff1a\u6807\u51c6\u5316\u7684\u914d\u7f6e\u6570\u636e\u7ed3\u6784</li> <li>\u7c7b\u578b\u7cfb\u7edf\uff1a\u5f3a\u7c7b\u578b\u914d\u7f6e\u503c\u7cfb\u7edf</li> <li>\u5e8f\u5217\u5316\uff1a\u914d\u7f6e\u6570\u636e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316</li> <li>\u9a8c\u8bc1\u673a\u5236\uff1a\u914d\u7f6e\u6570\u636e\u6709\u6548\u6027\u9a8c\u8bc1</li> </ul>"},{"location":"service_component/clr_configuration.html#3","title":"3. \u914d\u7f6e\u540c\u6b65\u673a\u5236","text":"<ul> <li>\u589e\u91cf\u540c\u6b65\uff1a\u914d\u7f6e\u53d8\u66f4\u589e\u91cf\u540c\u6b65</li> <li>\u51b2\u7a81\u89e3\u51b3\uff1a\u914d\u7f6e\u51b2\u7a81\u89e3\u51b3\u7b56\u7565</li> <li>\u7248\u672c\u63a7\u5236\uff1a\u914d\u7f6e\u7248\u672c\u7ba1\u7406\u673a\u5236</li> <li>\u4e8b\u52a1\u652f\u6301\uff1a\u914d\u7f6e\u64cd\u4f5c\u4e8b\u52a1\u4fdd\u8bc1</li> </ul>"},{"location":"service_component/clr_configuration.html#4","title":"4. \u914d\u7f6e\u53d8\u66f4\u901a\u77e5","text":"<ul> <li>\u4e8b\u4ef6\u9a71\u52a8\uff1a\u57fa\u4e8e\u4e8b\u4ef6\u7684\u53d8\u66f4\u901a\u77e5</li> <li>\u8ba2\u9605\u673a\u5236\uff1a\u914d\u7f6e\u53d8\u66f4\u8ba2\u9605\u7ba1\u7406</li> <li>\u63a8\u9001\u901a\u77e5\uff1a\u5b9e\u65f6\u63a8\u9001\u914d\u7f6e\u53d8\u66f4</li> <li>\u56de\u8c03\u5904\u7406\uff1a\u914d\u7f6e\u53d8\u66f4\u56de\u8c03\u5904\u7406</li> </ul>"},{"location":"service_component/clr_configuration.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/clr_configuration.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          \u914d\u7f6e\u7ba1\u7406\u5e94\u7528\u5c42              \u2502\n\u2502      (app_configuration)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         CLR Configuration           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 API\u5c01\u88c5  \u2502 \u6570\u636e\u6a21\u578b \u2502 \u540c\u6b65\u5f15\u64ce \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u4e8b\u4ef6\u7cfb\u7edf \u2502 \u7f13\u5b58\u5c42   \u2502 \u5b89\u5168\u6a21\u5757 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u7f51\u7edc\u901a\u4fe1\u5c42                \u2502\n\u2502    (HTTP/WebSocket/GraphQL)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u914d\u7f6e\u670d\u52a1\u540e\u7aef              \u2502\n\u2502        (Configuration Server)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/clr_configuration.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/clr_configuration.html#1_api_apiclient","title":"1. API \u5ba2\u6237\u7aef (ApiClient)","text":"<pre><code>class ConfigurationApiClient {\n  // \u83b7\u53d6\u914d\u7f6e\n  Future&lt;ApiResponse&lt;ConfigData&gt;&gt; getConfiguration(GetConfigRequest request);\n\n  // \u8bbe\u7f6e\u914d\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; setConfiguration(SetConfigRequest request);\n\n  // \u6279\u91cf\u83b7\u53d6\u914d\u7f6e\n  Future&lt;ApiResponse&lt;Map&lt;String, ConfigData&gt;&gt;&gt; getBatchConfiguration(BatchGetRequest request);\n\n  // \u8ba2\u9605\u914d\u7f6e\u53d8\u66f4\n  Stream&lt;ConfigurationChange&gt; subscribeConfigurationChanges(String key);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#2_datamodelmanager","title":"2. \u6570\u636e\u6a21\u578b\u7ba1\u7406\u5668 (DataModelManager)","text":"<pre><code>class ConfigurationDataModel {\n  // \u5e8f\u5217\u5316\u914d\u7f6e\u6570\u636e\n  Map&lt;String, dynamic&gt; serialize(ConfigData data);\n\n  // \u53cd\u5e8f\u5217\u5316\u914d\u7f6e\u6570\u636e\n  ConfigData deserialize(Map&lt;String, dynamic&gt; json);\n\n  // \u9a8c\u8bc1\u914d\u7f6e\u6570\u636e\n  ValidationResult validate(ConfigData data);\n\n  // \u8f6c\u6362\u914d\u7f6e\u6570\u636e\u7c7b\u578b\n  T convertValue&lt;T&gt;(dynamic value, ConfigType targetType);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#3_syncengine","title":"3. \u540c\u6b65\u5f15\u64ce (SyncEngine)","text":"<pre><code>class ConfigurationSyncEngine {\n  // \u5f00\u59cb\u540c\u6b65\n  Future&lt;SyncResult&gt; startSync(SyncOptions options);\n\n  // \u589e\u91cf\u540c\u6b65\n  Future&lt;SyncResult&gt; incrementalSync(String lastSyncVersion);\n\n  // \u89e3\u51b3\u51b2\u7a81\n  Future&lt;ConflictResolution&gt; resolveConflict(ConfigurationConflict conflict);\n\n  // \u56de\u6eda\u914d\u7f6e\n  Future&lt;bool&gt; rollbackConfiguration(String version);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#4_eventsystem","title":"4. \u4e8b\u4ef6\u7cfb\u7edf (EventSystem)","text":"<pre><code>class ConfigurationEventSystem {\n  // \u53d1\u5e03\u4e8b\u4ef6\n  void publishEvent(ConfigurationEvent event);\n\n  // \u8ba2\u9605\u4e8b\u4ef6\n  StreamSubscription&lt;T&gt; subscribe&lt;T extends ConfigurationEvent&gt;(EventHandler&lt;T&gt; handler);\n\n  // \u53d6\u6d88\u8ba2\u9605\n  void unsubscribe(StreamSubscription subscription);\n\n  // \u6e05\u7406\u4e8b\u4ef6\n  void clearEvents([String? eventType]);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/clr_configuration.html#_7","title":"\u914d\u7f6e\u6570\u636e\u6a21\u578b","text":"<pre><code>class ConfigData {\n  final String key;\n  final dynamic value;\n  final ConfigType type;\n  final String version;\n  final DateTime timestamp;\n  final Map&lt;String, String&gt; metadata;\n  final List&lt;String&gt; tags;\n  final ConfigScope scope;\n  final bool isEncrypted;\n  final String? description;\n}\n\nenum ConfigType {\n  string,\n  integer,\n  double,\n  boolean,\n  json,\n  array,\n  binary\n}\n\nenum ConfigScope {\n  global,\n  user,\n  device,\n  session\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_8","title":"\u914d\u7f6e\u53d8\u66f4\u6a21\u578b","text":"<pre><code>class ConfigurationChange {\n  final String key;\n  final dynamic oldValue;\n  final dynamic newValue;\n  final ChangeType changeType;\n  final String version;\n  final DateTime timestamp;\n  final String? userId;\n  final String? source;\n  final Map&lt;String, dynamic&gt; context;\n}\n\nenum ChangeType {\n  created,\n  updated,\n  deleted,\n  restored\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#api","title":"API \u8bf7\u6c42\u6a21\u578b","text":"<pre><code>class GetConfigRequest {\n  final String key;\n  final ConfigScope? scope;\n  final String? version;\n  final bool includeMetadata;\n  final List&lt;String&gt;? tags;\n}\n\nclass SetConfigRequest {\n  final String key;\n  final dynamic value;\n  final ConfigType type;\n  final ConfigScope scope;\n  final Map&lt;String, String&gt;? metadata;\n  final List&lt;String&gt;? tags;\n  final bool encrypt;\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#api_1","title":"API \u63a5\u53e3","text":""},{"location":"service_component/clr_configuration.html#_9","title":"\u914d\u7f6e\u64cd\u4f5c\u63a5\u53e3","text":"<pre><code>abstract class ConfigurationApi {\n  // \u83b7\u53d6\u5355\u4e2a\u914d\u7f6e\n  Future&lt;ApiResponse&lt;ConfigData&gt;&gt; getConfig(String key, {ConfigScope? scope});\n\n  // \u8bbe\u7f6e\u5355\u4e2a\u914d\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; setConfig(String key, dynamic value, {ConfigType? type, ConfigScope? scope});\n\n  // \u5220\u9664\u914d\u7f6e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; deleteConfig(String key, {ConfigScope? scope});\n\n  // \u68c0\u67e5\u914d\u7f6e\u662f\u5426\u5b58\u5728\n  Future&lt;ApiResponse&lt;bool&gt;&gt; hasConfig(String key, {ConfigScope? scope});\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_10","title":"\u6279\u91cf\u64cd\u4f5c\u63a5\u53e3","text":"<pre><code>abstract class BatchConfigurationApi {\n  // \u6279\u91cf\u83b7\u53d6\u914d\u7f6e\n  Future&lt;ApiResponse&lt;Map&lt;String, ConfigData&gt;&gt;&gt; getBatchConfigs(List&lt;String&gt; keys);\n\n  // \u6279\u91cf\u8bbe\u7f6e\u914d\u7f6e\n  Future&lt;ApiResponse&lt;BatchResult&gt;&gt; setBatchConfigs(Map&lt;String, dynamic&gt; configs);\n\n  // \u6279\u91cf\u5220\u9664\u914d\u7f6e\n  Future&lt;ApiResponse&lt;BatchResult&gt;&gt; deleteBatchConfigs(List&lt;String&gt; keys);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_11","title":"\u540c\u6b65\u63a5\u53e3","text":"<pre><code>abstract class ConfigurationSyncApi {\n  // \u83b7\u53d6\u914d\u7f6e\u7248\u672c\n  Future&lt;ApiResponse&lt;ConfigVersion&gt;&gt; getConfigVersion();\n\n  // \u540c\u6b65\u914d\u7f6e\n  Future&lt;ApiResponse&lt;SyncResult&gt;&gt; syncConfigurations(SyncRequest request);\n\n  // \u83b7\u53d6\u914d\u7f6e\u53d8\u66f4\u5386\u53f2\n  Future&lt;ApiResponse&lt;List&lt;ConfigurationChange&gt;&gt;&gt; getChangeHistory(ChangeHistoryRequest request);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_12","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/clr_configuration.html#sdk","title":"SDK \u914d\u7f6e","text":"<pre><code>class ConfigurationSdkConfig {\n  final String serverUrl;\n  final String apiKey;\n  final String clientId;\n  final Duration timeout;\n  final int maxRetries;\n  final bool enableCache;\n  final bool enableEncryption;\n  final LogLevel logLevel;\n\n  static const ConfigurationSdkConfig defaultConfig = ConfigurationSdkConfig(\n    serverUrl: 'https://config-api.oneapp.com',\n    timeout: Duration(seconds: 30),\n    maxRetries: 3,\n    enableCache: true,\n    enableEncryption: true,\n    logLevel: LogLevel.info,\n  );\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_13","title":"\u7f13\u5b58\u914d\u7f6e","text":"<pre><code>class CacheConfig {\n  final Duration ttl;\n  final int maxSize;\n  final bool enableCompression;\n  final CacheEvictionPolicy evictionPolicy;\n\n  static const CacheConfig defaultCacheConfig = CacheConfig(\n    ttl: Duration(minutes: 30),\n    maxSize: 1000,\n    enableCompression: true,\n    evictionPolicy: CacheEvictionPolicy.lru,\n  );\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_14","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/clr_configuration.html#_15","title":"\u57fa\u672c\u914d\u7f6e\u64cd\u4f5c","text":"<pre><code>// \u521d\u59cb\u5316 SDK\nfinal configSdk = ConfigurationSdk.instance;\nawait configSdk.initialize(ConfigurationSdkConfig.defaultConfig);\n\n// \u83b7\u53d6\u914d\u7f6e\ntry {\n  final config = await configSdk.getConfig('app.theme');\n  print('\u5f53\u524d\u4e3b\u9898: ${config.value}');\n} catch (e) {\n  print('\u83b7\u53d6\u914d\u7f6e\u5931\u8d25: $e');\n}\n\n// \u8bbe\u7f6e\u914d\u7f6e\nawait configSdk.setConfig(\n  'user.language', \n  'zh-CN',\n  type: ConfigType.string,\n  scope: ConfigScope.user,\n);\n\n// \u5220\u9664\u914d\u7f6e\nawait configSdk.deleteConfig('temp.data');\n</code></pre>"},{"location":"service_component/clr_configuration.html#_16","title":"\u6279\u91cf\u914d\u7f6e\u64cd\u4f5c","text":"<pre><code>// \u6279\u91cf\u83b7\u53d6\u914d\u7f6e\nfinal keys = ['app.theme', 'app.language', 'app.version'];\nfinal batchResult = await configSdk.getBatchConfigs(keys);\n\nfor (final entry in batchResult.entries) {\n  print('${entry.key}: ${entry.value.value}');\n}\n\n// \u6279\u91cf\u8bbe\u7f6e\u914d\u7f6e\nfinal batchConfigs = {\n  'ui.showTips': true,\n  'ui.animationSpeed': 1.0,\n  'ui.darkMode': false,\n};\n\nawait configSdk.setBatchConfigs(batchConfigs);\n</code></pre>"},{"location":"service_component/clr_configuration.html#_17","title":"\u914d\u7f6e\u53d8\u66f4\u76d1\u542c","text":"<pre><code>// \u76d1\u542c\u7279\u5b9a\u914d\u7f6e\u53d8\u66f4\nconfigSdk.subscribeConfigurationChanges('app.theme').listen((change) {\n  print('\u4e3b\u9898\u914d\u7f6e\u53d8\u66f4: ${change.oldValue} -&gt; ${change.newValue}');\n  // \u5e94\u7528\u65b0\u7684\u4e3b\u9898\u914d\u7f6e\n  applyThemeConfig(change.newValue);\n});\n\n// \u76d1\u542c\u6240\u6709\u914d\u7f6e\u53d8\u66f4\nconfigSdk.onConfigurationChanged.listen((change) {\n  print('\u914d\u7f6e\u53d8\u66f4: ${change.key}');\n  logConfigurationChange(change);\n});\n</code></pre>"},{"location":"service_component/clr_configuration.html#_18","title":"\u914d\u7f6e\u540c\u6b65","text":"<pre><code>// \u68c0\u67e5\u662f\u5426\u6709\u914d\u7f6e\u66f4\u65b0\nfinal currentVersion = await configSdk.getConfigVersion();\nfinal hasUpdate = await configSdk.checkForUpdates(currentVersion.version);\n\nif (hasUpdate) {\n  // \u6267\u884c\u589e\u91cf\u540c\u6b65\n  final syncResult = await configSdk.incrementalSync(currentVersion.version);\n\n  if (syncResult.isSuccess) {\n    print('\u914d\u7f6e\u540c\u6b65\u6210\u529f\uff0c\u66f4\u65b0\u4e86 ${syncResult.updatedCount} \u4e2a\u914d\u7f6e');\n  } else {\n    print('\u914d\u7f6e\u540c\u6b65\u5931\u8d25: ${syncResult.error}');\n  }\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_19","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/clr_configuration.html#_20","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('ConfigurationSdk Tests', () {\n  test('should get configuration successfully', () async {\n    // Given\n    final sdk = ConfigurationSdk();\n    await sdk.initialize(ConfigurationSdkConfig.defaultConfig);\n\n    // When\n    final result = await sdk.getConfig('test.key');\n\n    // Then\n    expect(result.key, 'test.key');\n    expect(result.value, isNotNull);\n  });\n\n  test('should handle configuration not found', () async {\n    // Given\n    final sdk = ConfigurationSdk();\n\n    // When &amp; Then\n    expect(\n      () =&gt; sdk.getConfig('nonexistent.key'),\n      throwsA(isA&lt;ConfigurationNotFoundException&gt;()),\n    );\n  });\n});\n</code></pre>"},{"location":"service_component/clr_configuration.html#_21","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Configuration Integration Tests', () {\n  testWidgets('configuration sync flow', (tester) async {\n    // 1. \u521d\u59cb\u5316 SDK\n    await ConfigurationSdk.instance.initialize(testConfig);\n\n    // 2. \u8bbe\u7f6e\u914d\u7f6e\n    await ConfigurationSdk.instance.setConfig('test.sync', 'value1');\n\n    // 3. \u6a21\u62df\u8fdc\u7a0b\u914d\u7f6e\u53d8\u66f4\n    await simulateRemoteConfigChange('test.sync', 'value2');\n\n    // 4. \u6267\u884c\u540c\u6b65\n    final syncResult = await ConfigurationSdk.instance.sync();\n\n    // 5. \u9a8c\u8bc1\u540c\u6b65\u7ed3\u679c\n    expect(syncResult.isSuccess, true);\n\n    final updatedConfig = await ConfigurationSdk.instance.getConfig('test.sync');\n    expect(updatedConfig.value, 'value2');\n  });\n});\n</code></pre>"},{"location":"service_component/clr_configuration.html#_22","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/clr_configuration.html#_23","title":"\u7f13\u5b58\u7b56\u7565","text":"<ul> <li>\u591a\u7ea7\u7f13\u5b58\uff1a\u5185\u5b58 + \u78c1\u76d8\u591a\u7ea7\u7f13\u5b58</li> <li>\u667a\u80fd\u9884\u52a0\u8f7d\uff1a\u9884\u6d4b\u6027\u914d\u7f6e\u9884\u52a0\u8f7d</li> <li>\u7f13\u5b58\u538b\u7f29\uff1a\u914d\u7f6e\u6570\u636e\u538b\u7f29\u5b58\u50a8</li> <li>\u7f13\u5b58\u66f4\u65b0\uff1a\u589e\u91cf\u7f13\u5b58\u66f4\u65b0\u673a\u5236</li> </ul>"},{"location":"service_component/clr_configuration.html#_24","title":"\u7f51\u7edc\u4f18\u5316","text":"<ul> <li>\u8fde\u63a5\u590d\u7528\uff1aHTTP \u8fde\u63a5\u6c60\u590d\u7528</li> <li>\u8bf7\u6c42\u5408\u5e76\uff1a\u76f8\u5173\u914d\u7f6e\u8bf7\u6c42\u5408\u5e76</li> <li>\u6570\u636e\u538b\u7f29\uff1a\u4f20\u8f93\u6570\u636e gzip \u538b\u7f29</li> <li>\u79bb\u7ebf\u6a21\u5f0f\uff1a\u79bb\u7ebf\u914d\u7f6e\u8bbf\u95ee\u652f\u6301</li> </ul>"},{"location":"service_component/clr_configuration.html#_25","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"service_component/clr_configuration.html#_26","title":"\u9519\u8bef\u7c7b\u578b","text":"<pre><code>abstract class ConfigurationException implements Exception {\n  final String message;\n  final String? errorCode;\n  final Map&lt;String, dynamic&gt;? details;\n\n  const ConfigurationException(this.message, [this.errorCode, this.details]);\n}\n\nclass ConfigurationNotFoundException extends ConfigurationException {\n  const ConfigurationNotFoundException(String key) \n      : super('Configuration not found: $key', 'CONFIG_NOT_FOUND');\n}\n\nclass ConfigurationValidationException extends ConfigurationException {\n  const ConfigurationValidationException(String message, Map&lt;String, dynamic&gt; details)\n      : super(message, 'VALIDATION_ERROR', details);\n}\n\nclass ConfigurationSyncException extends ConfigurationException {\n  const ConfigurationSyncException(String message)\n      : super(message, 'SYNC_ERROR');\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_27","title":"\u91cd\u8bd5\u673a\u5236","text":"<pre><code>class RetryConfig {\n  final int maxRetries;\n  final Duration initialDelay;\n  final double backoffMultiplier;\n  final Duration maxDelay;\n\n  static const RetryConfig defaultRetryConfig = RetryConfig(\n    maxRetries: 3,\n    initialDelay: Duration(seconds: 1),\n    backoffMultiplier: 2.0,\n    maxDelay: Duration(seconds: 30),\n  );\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_28","title":"\u5b89\u5168\u673a\u5236","text":""},{"location":"service_component/clr_configuration.html#_29","title":"\u6570\u636e\u52a0\u5bc6","text":"<pre><code>class ConfigurationEncryption {\n  // \u52a0\u5bc6\u914d\u7f6e\u503c\n  String encryptValue(String value, String key);\n\n  // \u89e3\u5bc6\u914d\u7f6e\u503c\n  String decryptValue(String encryptedValue, String key);\n\n  // \u751f\u6210\u52a0\u5bc6\u5bc6\u94a5\n  String generateEncryptionKey();\n\n  // \u9a8c\u8bc1\u6570\u636e\u5b8c\u6574\u6027\n  bool verifyIntegrity(String data, String signature);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_30","title":"\u8bbf\u95ee\u63a7\u5236","text":"<pre><code>class ConfigurationAccessControl {\n  // \u68c0\u67e5\u8bfb\u6743\u9650\n  bool hasReadPermission(String key, String userId);\n\n  // \u68c0\u67e5\u5199\u6743\u9650\n  bool hasWritePermission(String key, String userId);\n\n  // \u68c0\u67e5\u5220\u9664\u6743\u9650\n  bool hasDeletePermission(String key, String userId);\n\n  // \u83b7\u53d6\u7528\u6237\u6743\u9650\n  List&lt;Permission&gt; getUserPermissions(String userId);\n}\n</code></pre>"},{"location":"service_component/clr_configuration.html#_31","title":"\u76d1\u63a7\u548c\u8bca\u65ad","text":""},{"location":"service_component/clr_configuration.html#_32","title":"\u6027\u80fd\u76d1\u63a7","text":"<ul> <li>API \u54cd\u5e94\u65f6\u95f4\uff1a\u914d\u7f6e API \u54cd\u5e94\u65f6\u95f4\u76d1\u63a7</li> <li>\u7f13\u5b58\u547d\u4e2d\u7387\uff1a\u914d\u7f6e\u7f13\u5b58\u547d\u4e2d\u7387\u7edf\u8ba1</li> <li>\u9519\u8bef\u7387\uff1a\u914d\u7f6e\u64cd\u4f5c\u9519\u8bef\u7387\u76d1\u63a7</li> <li>\u540c\u6b65\u6027\u80fd\uff1a\u914d\u7f6e\u540c\u6b65\u6027\u80fd\u6307\u6807</li> </ul>"},{"location":"service_component/clr_configuration.html#_33","title":"\u4f7f\u7528\u7edf\u8ba1","text":"<ul> <li>\u914d\u7f6e\u8bbf\u95ee\u9891\u7387\uff1a\u7edf\u8ba1\u914d\u7f6e\u9879\u8bbf\u95ee\u9891\u7387</li> <li>\u70ed\u70b9\u914d\u7f6e\uff1a\u8bc6\u522b\u70ed\u70b9\u914d\u7f6e\u9879</li> <li>\u7528\u6237\u884c\u4e3a\uff1a\u5206\u6790\u7528\u6237\u914d\u7f6e\u4f7f\u7528\u6a21\u5f0f</li> <li>\u6027\u80fd\u74f6\u9888\uff1a\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u70b9</li> </ul>"},{"location":"service_component/clr_configuration.html#_34","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/clr_configuration.html#v0285","title":"v0.2.8+5 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e GraphQL \u67e5\u8be2\u652f\u6301</li> <li>\u4f18\u5316\u914d\u7f6e\u540c\u6b65\u6027\u80fd</li> <li>\u652f\u6301\u914d\u7f6e\u6570\u636e\u538b\u7f29</li> <li>\u4fee\u590d\u5e76\u53d1\u8bbf\u95ee\u95ee\u9898</li> </ul>"},{"location":"service_component/clr_configuration.html#v027","title":"v0.2.7","text":"<ul> <li>\u652f\u6301\u914d\u7f6e\u6570\u636e\u52a0\u5bc6</li> <li>\u65b0\u589e\u6279\u91cf\u64cd\u4f5c\u63a5\u53e3</li> <li>\u4f18\u5316\u7f13\u5b58\u673a\u5236</li> <li>\u6539\u8fdb\u9519\u8bef\u5904\u7406</li> </ul>"},{"location":"service_component/clr_configuration.html#_35","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/clr_configuration.html#_36","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u57fa\u7840\u5e93</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_error</code>: \u9519\u8bef\u5904\u7406\u6846\u67b6</li> <li><code>basic_logger</code>: \u65e5\u5fd7\u8bb0\u5f55\u670d\u52a1</li> </ul>"},{"location":"service_component/clr_configuration.html#_37","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>dio</code>: HTTP \u5ba2\u6237\u7aef</li> <li><code>json_annotation</code>: JSON \u5e8f\u5217\u5316</li> <li><code>encrypt</code>: \u6570\u636e\u52a0\u5bc6\u5e93</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b\u652f\u6301</li> </ul>"},{"location":"service_component/clr_configuration.html#_38","title":"\u603b\u7ed3","text":"<p><code>clr_configuration</code> \u4f5c\u4e3a\u914d\u7f6e\u670d\u52a1\u7684\u6838\u5fc3 SDK\uff0c\u4e3a OneApp \u7684\u914d\u7f6e\u7ba1\u7406\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5e95\u5c42\u652f\u6491\u3002\u901a\u8fc7\u6807\u51c6\u5316\u7684 API \u63a5\u53e3\u3001\u5b8c\u5584\u7684\u6570\u636e\u6a21\u578b\u3001\u53ef\u9760\u7684\u540c\u6b65\u673a\u5236\u548c\u5b9e\u65f6\u7684\u53d8\u66f4\u901a\u77e5\uff0c\u8be5 SDK \u786e\u4fdd\u4e86\u914d\u7f6e\u670d\u52a1\u7684\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u7528\u548c\u9ad8\u5b89\u5168\u6027\uff0c\u4e3a\u4e0a\u5c42\u5e94\u7528\u63d0\u4f9b\u4e86\u7a33\u5b9a\u53ef\u9760\u7684\u914d\u7f6e\u7ba1\u7406\u80fd\u529b\u3002</p>"},{"location":"service_component/oneapp_companion.html","title":"OneApp Companion - \u4f34\u4fa3\u5e94\u7528\u6a21\u5757","text":""},{"location":"service_component/oneapp_companion.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_companion</code> \u662f OneApp \u7684\u4f34\u4fa3\u5e94\u7528\u6a21\u5757\uff0c\u63d0\u4f9b\u591a\u8bbe\u5907\u534f\u540c\u529f\u80fd\u3002\u8be5\u6a21\u5757\u652f\u6301\u624b\u673a\u3001\u5e73\u677f\u3001\u667a\u80fd\u624b\u8868\u3001\u8f66\u8f7d\u8bbe\u5907\u7b49\u591a\u79cd\u8bbe\u5907\u95f4\u7684\u6570\u636e\u540c\u6b65\u3001\u8fdc\u7a0b\u63a7\u5236\u548c\u8bbe\u5907\u7ba1\u7406\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u65e0\u7f1d\u7684\u8de8\u8bbe\u5907\u4f53\u9a8c\u3002</p>"},{"location":"service_component/oneapp_companion.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/oneapp_companion.html#1","title":"1. \u591a\u8bbe\u5907\u534f\u540c","text":"<ul> <li>\u8bbe\u5907\u53d1\u73b0\uff1a\u81ea\u52a8\u53d1\u73b0\u9644\u8fd1\u7684\u4f34\u4fa3\u8bbe\u5907</li> <li>\u8bbe\u5907\u914d\u5bf9\uff1a\u5b89\u5168\u7684\u8bbe\u5907\u914d\u5bf9\u548c\u8ba4\u8bc1</li> <li>\u72b6\u6001\u540c\u6b65\uff1a\u8bbe\u5907\u72b6\u6001\u5b9e\u65f6\u540c\u6b65</li> <li>\u4f1a\u8bdd\u5171\u4eab\uff1a\u8de8\u8bbe\u5907\u4f1a\u8bdd\u72b6\u6001\u5171\u4eab</li> </ul>"},{"location":"service_component/oneapp_companion.html#2","title":"2. \u6570\u636e\u540c\u6b65","text":"<ul> <li>\u5b9e\u65f6\u540c\u6b65\uff1a\u5173\u952e\u6570\u636e\u5b9e\u65f6\u540c\u6b65</li> <li>\u589e\u91cf\u540c\u6b65\uff1a\u9ad8\u6548\u7684\u589e\u91cf\u6570\u636e\u540c\u6b65</li> <li>\u51b2\u7a81\u89e3\u51b3\uff1a\u6570\u636e\u51b2\u7a81\u667a\u80fd\u89e3\u51b3</li> <li>\u79bb\u7ebf\u540c\u6b65\uff1a\u79bb\u7ebf\u72b6\u6001\u4e0b\u7684\u6570\u636e\u7f13\u5b58\u548c\u540c\u6b65</li> </ul>"},{"location":"service_component/oneapp_companion.html#3","title":"3. \u8fdc\u7a0b\u63a7\u5236","text":"<ul> <li>\u8f66\u8f86\u63a7\u5236\uff1a\u8fdc\u7a0b\u63a7\u5236\u8f66\u8f86\u529f\u80fd</li> <li>\u5e94\u7528\u63a7\u5236\uff1a\u8fdc\u7a0b\u63a7\u5236\u5e94\u7528\u64cd\u4f5c</li> <li>\u5a92\u4f53\u63a7\u5236\uff1a\u8de8\u8bbe\u5907\u5a92\u4f53\u64ad\u653e\u63a7\u5236</li> <li>\u6743\u9650\u7ba1\u7406\uff1a\u8fdc\u7a0b\u64cd\u4f5c\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"service_component/oneapp_companion.html#4","title":"4. \u8bbe\u5907\u7ba1\u7406","text":"<ul> <li>\u8bbe\u5907\u6ce8\u518c\uff1a\u65b0\u8bbe\u5907\u6ce8\u518c\u548c\u7ed1\u5b9a</li> <li>\u8bbe\u5907\u76d1\u63a7\uff1a\u8bbe\u5907\u72b6\u6001\u76d1\u63a7\u548c\u7ba1\u7406</li> <li>\u8bbe\u5907\u914d\u7f6e\uff1a\u8bbe\u5907\u914d\u7f6e\u540c\u6b65\u548c\u7ba1\u7406</li> <li>\u8bbe\u5907\u5b89\u5168\uff1a\u8bbe\u5907\u5b89\u5168\u7b56\u7565\u548c\u63a7\u5236</li> </ul>"},{"location":"service_component/oneapp_companion.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/oneapp_companion.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u4e3b\u5e94\u7528\u8bbe\u5907                \u2502\n\u2502          (Primary Device)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502        OneApp Companion             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u8bbe\u5907\u7ba1\u7406 \u2502 \u6570\u636e\u540c\u6b65 \u2502 \u8fdc\u7a0b\u63a7\u5236 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u901a\u4fe1\u534f\u8bae \u2502 \u5b89\u5168\u6a21\u5757 \u2502 \u72b6\u6001\u7ba1\u7406 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u901a\u4fe1\u534f\u8bae\u5c42                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Bluetooth\u2502  WiFi    \u2502 Cellular \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u4f34\u4fa3\u8bbe\u5907\u7fa4                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u624b\u673a/\u5e73\u677f\u2502 \u667a\u80fd\u624b\u8868 \u2502 \u8f66\u8f7d\u8bbe\u5907 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/oneapp_companion.html#1_devicemanager","title":"1. \u8bbe\u5907\u7ba1\u7406\u5668 (DeviceManager)","text":"<pre><code>class CompanionDeviceManager {\n  // \u53d1\u73b0\u8bbe\u5907\n  Future&lt;List&lt;CompanionDevice&gt;&gt; discoverDevices();\n\n  // \u914d\u5bf9\u8bbe\u5907\n  Future&lt;bool&gt; pairDevice(String deviceId);\n\n  // \u83b7\u53d6\u5df2\u914d\u5bf9\u8bbe\u5907\n  Future&lt;List&lt;CompanionDevice&gt;&gt; getPairedDevices();\n\n  // \u65ad\u5f00\u8bbe\u5907\u8fde\u63a5\n  Future&lt;bool&gt; disconnectDevice(String deviceId);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#2_datasynchronizer","title":"2. \u6570\u636e\u540c\u6b65\u5668 (DataSynchronizer)","text":"<pre><code>class CompanionDataSynchronizer {\n  // \u540c\u6b65\u6570\u636e\u5230\u8bbe\u5907\n  Future&lt;SyncResult&gt; syncToDevice(String deviceId, SyncData data);\n\n  // \u4ece\u8bbe\u5907\u540c\u6b65\u6570\u636e\n  Future&lt;SyncResult&gt; syncFromDevice(String deviceId);\n\n  // \u6279\u91cf\u540c\u6b65\n  Future&lt;List&lt;SyncResult&gt;&gt; batchSync(List&lt;SyncRequest&gt; requests);\n\n  // \u89e3\u51b3\u540c\u6b65\u51b2\u7a81\n  Future&lt;ConflictResolution&gt; resolveConflicts(List&lt;SyncConflict&gt; conflicts);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#3_remotecontroller","title":"3. \u8fdc\u7a0b\u63a7\u5236\u5668 (RemoteController)","text":"<pre><code>class CompanionRemoteController {\n  // \u53d1\u9001\u8fdc\u7a0b\u6307\u4ee4\n  Future&lt;CommandResult&gt; sendCommand(String deviceId, RemoteCommand command);\n\n  // \u6279\u91cf\u53d1\u9001\u6307\u4ee4\n  Future&lt;List&lt;CommandResult&gt;&gt; sendBatchCommands(String deviceId, List&lt;RemoteCommand&gt; commands);\n\n  // \u76d1\u542c\u8fdc\u7a0b\u6307\u4ee4\n  Stream&lt;RemoteCommand&gt; listenForCommands();\n\n  // \u54cd\u5e94\u8fdc\u7a0b\u6307\u4ee4\n  Future&lt;CommandResult&gt; respondToCommand(RemoteCommand command);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#4_connectionmanager","title":"4. \u8fde\u63a5\u7ba1\u7406\u5668 (ConnectionManager)","text":"<pre><code>class CompanionConnectionManager {\n  // \u5efa\u7acb\u8fde\u63a5\n  Future&lt;Connection&gt; establishConnection(CompanionDevice device);\n\n  // \u7ef4\u6301\u8fde\u63a5\n  Future&lt;bool&gt; maintainConnection(String deviceId);\n\n  // \u76d1\u63a7\u8fde\u63a5\u72b6\u6001\n  Stream&lt;ConnectionStatus&gt; monitorConnection(String deviceId);\n\n  // \u91cd\u8fde\u8bbe\u5907\n  Future&lt;bool&gt; reconnectDevice(String deviceId);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/oneapp_companion.html#_7","title":"\u8bbe\u5907\u6a21\u578b","text":"<pre><code>class CompanionDevice {\n  final String id;\n  final String name;\n  final DeviceType type;\n  final String model;\n  final String version;\n  final DeviceStatus status;\n  final DateTime lastSeen;\n  final Map&lt;String, dynamic&gt; capabilities;\n  final SecurityInfo security;\n  final ConnectionInfo connection;\n}\n\nenum DeviceType {\n  smartphone,    // \u667a\u80fd\u624b\u673a\n  tablet,        // \u5e73\u677f\u7535\u8111\n  smartwatch,    // \u667a\u80fd\u624b\u8868\n  carDisplay,    // \u8f66\u8f7d\u663e\u793a\u5668\n  desktop,       // \u684c\u9762\u5e94\u7528\n  other          // \u5176\u4ed6\u8bbe\u5907\n}\n\nenum DeviceStatus {\n  online,        // \u5728\u7ebf\n  offline,       // \u79bb\u7ebf\n  connecting,    // \u8fde\u63a5\u4e2d\n  syncing,       // \u540c\u6b65\u4e2d\n  error          // \u9519\u8bef\u72b6\u6001\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_8","title":"\u540c\u6b65\u6570\u636e\u6a21\u578b","text":"<pre><code>class SyncData {\n  final String id;\n  final SyncDataType type;\n  final Map&lt;String, dynamic&gt; data;\n  final DateTime timestamp;\n  final String version;\n  final List&lt;String&gt; targetDevices;\n  final SyncPriority priority;\n}\n\nenum SyncDataType {\n  userPreferences,   // \u7528\u6237\u504f\u597d\n  vehicleStatus,     // \u8f66\u8f86\u72b6\u6001\n  mediaPlaylist,     // \u5a92\u4f53\u64ad\u653e\u5217\u8868\n  navigationRoute,   // \u5bfc\u822a\u8def\u7ebf\n  chargingSession,   // \u5145\u7535\u4f1a\u8bdd\n  configuration      // \u914d\u7f6e\u4fe1\u606f\n}\n\nenum SyncPriority {\n  low,      // \u4f4e\u4f18\u5148\u7ea7\n  normal,   // \u666e\u901a\u4f18\u5148\u7ea7\n  high,     // \u9ad8\u4f18\u5148\u7ea7\n  critical  // \u5173\u952e\u4f18\u5148\u7ea7\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_9","title":"\u8fdc\u7a0b\u6307\u4ee4\u6a21\u578b","text":"<pre><code>class RemoteCommand {\n  final String id;\n  final CommandType type;\n  final Map&lt;String, dynamic&gt; parameters;\n  final String sourceDeviceId;\n  final String targetDeviceId;\n  final DateTime timestamp;\n  final bool requiresConfirmation;\n  final Duration timeout;\n}\n\nenum CommandType {\n  vehicleControl,    // \u8f66\u8f86\u63a7\u5236\n  mediaControl,      // \u5a92\u4f53\u63a7\u5236\n  navigationControl, // \u5bfc\u822a\u63a7\u5236\n  appControl,        // \u5e94\u7528\u63a7\u5236\n  systemControl,     // \u7cfb\u7edf\u63a7\u5236\n  dataRequest        // \u6570\u636e\u8bf7\u6c42\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#api","title":"API \u63a5\u53e3","text":""},{"location":"service_component/oneapp_companion.html#_10","title":"\u8bbe\u5907\u7ba1\u7406\u63a5\u53e3","text":"<pre><code>abstract class CompanionDeviceService {\n  // \u53d1\u73b0\u9644\u8fd1\u8bbe\u5907\n  Future&lt;ApiResponse&lt;List&lt;CompanionDevice&gt;&gt;&gt; discoverNearbyDevices();\n\n  // \u914d\u5bf9\u8bbe\u5907\n  Future&lt;ApiResponse&lt;bool&gt;&gt; pairDevice(PairDeviceRequest request);\n\n  // \u83b7\u53d6\u8bbe\u5907\u5217\u8868\n  Future&lt;ApiResponse&lt;List&lt;CompanionDevice&gt;&gt;&gt; getDeviceList();\n\n  // \u66f4\u65b0\u8bbe\u5907\u4fe1\u606f\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updateDeviceInfo(UpdateDeviceRequest request);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_11","title":"\u6570\u636e\u540c\u6b65\u63a5\u53e3","text":"<pre><code>abstract class CompanionSyncService {\n  // \u540c\u6b65\u6570\u636e\n  Future&lt;ApiResponse&lt;SyncResult&gt;&gt; syncData(SyncDataRequest request);\n\n  // \u83b7\u53d6\u540c\u6b65\u72b6\u6001\n  Future&lt;ApiResponse&lt;SyncStatus&gt;&gt; getSyncStatus(String deviceId);\n\n  // \u89e3\u51b3\u540c\u6b65\u51b2\u7a81\n  Future&lt;ApiResponse&lt;bool&gt;&gt; resolveConflict(ConflictResolutionRequest request);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_12","title":"\u8fdc\u7a0b\u63a7\u5236\u63a5\u53e3","text":"<pre><code>abstract class CompanionRemoteService {\n  // \u53d1\u9001\u8fdc\u7a0b\u547d\u4ee4\n  Future&lt;ApiResponse&lt;CommandResult&gt;&gt; sendRemoteCommand(RemoteCommandRequest request);\n\n  // \u83b7\u53d6\u547d\u4ee4\u72b6\u6001\n  Future&lt;ApiResponse&lt;CommandStatus&gt;&gt; getCommandStatus(String commandId);\n\n  // \u53d6\u6d88\u8fdc\u7a0b\u547d\u4ee4\n  Future&lt;ApiResponse&lt;bool&gt;&gt; cancelCommand(String commandId);\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/oneapp_companion.html#_14","title":"\u4f34\u4fa3\u5e94\u7528\u914d\u7f6e","text":"<pre><code>class CompanionConfig {\n  final bool autoDiscovery;\n  final Duration discoveryInterval;\n  final int maxPairedDevices;\n  final bool enableRemoteControl;\n  final List&lt;SyncDataType&gt; enabledSyncTypes;\n  final SecurityLevel securityLevel;\n\n  static const CompanionConfig defaultConfig = CompanionConfig(\n    autoDiscovery: true,\n    discoveryInterval: Duration(minutes: 5),\n    maxPairedDevices: 10,\n    enableRemoteControl: true,\n    enabledSyncTypes: [\n      SyncDataType.userPreferences,\n      SyncDataType.vehicleStatus,\n      SyncDataType.mediaPlaylist,\n    ],\n    securityLevel: SecurityLevel.high,\n  );\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_15","title":"\u540c\u6b65\u914d\u7f6e","text":"<pre><code>class SyncConfig {\n  final bool enableRealTimeSync;\n  final Duration syncInterval;\n  final int maxSyncRetries;\n  final bool enableIncrementalSync;\n  final Map&lt;SyncDataType, SyncSettings&gt; typeSettings;\n\n  static const SyncConfig defaultSyncConfig = SyncConfig(\n    enableRealTimeSync: true,\n    syncInterval: Duration(minutes: 1),\n    maxSyncRetries: 3,\n    enableIncrementalSync: true,\n    typeSettings: {\n      SyncDataType.vehicleStatus: SyncSettings(priority: SyncPriority.high),\n      SyncDataType.userPreferences: SyncSettings(priority: SyncPriority.normal),\n    },\n  );\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/oneapp_companion.html#_17","title":"\u8bbe\u5907\u53d1\u73b0\u548c\u914d\u5bf9","text":"<pre><code>// \u521d\u59cb\u5316\u4f34\u4fa3\u5e94\u7528\u7ba1\u7406\u5668\nfinal companionManager = CompanionDeviceManager.instance;\nawait companionManager.initialize(CompanionConfig.defaultConfig);\n\n// \u53d1\u73b0\u9644\u8fd1\u8bbe\u5907\nfinal nearbyDevices = await companionManager.discoverDevices();\n\nfor (final device in nearbyDevices) {\n  print('\u53d1\u73b0\u8bbe\u5907: ${device.name} (${device.type})');\n\n  // \u914d\u5bf9\u517c\u5bb9\u8bbe\u5907\n  if (device.capabilities.containsKey('oneapp_support')) {\n    final paired = await companionManager.pairDevice(device.id);\n    if (paired) {\n      print('\u8bbe\u5907\u914d\u5bf9\u6210\u529f: ${device.name}');\n    }\n  }\n}\n\n// \u76d1\u542c\u8bbe\u5907\u72b6\u6001\u53d8\u5316\ncompanionManager.onDeviceStatusChanged.listen((device) {\n  print('\u8bbe\u5907\u72b6\u6001\u53d8\u66f4: ${device.name} -&gt; ${device.status}');\n});\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_18","title":"\u6570\u636e\u540c\u6b65","text":"<pre><code>// \u540c\u6b65\u7528\u6237\u504f\u597d\u5230\u6240\u6709\u8bbe\u5907\nfinal userPreferences = await getUserPreferences();\nfinal syncData = SyncData(\n  id: 'user_prefs_${DateTime.now().millisecondsSinceEpoch}',\n  type: SyncDataType.userPreferences,\n  data: userPreferences.toJson(),\n  timestamp: DateTime.now(),\n  priority: SyncPriority.normal,\n);\n\nfinal pairedDevices = await companionManager.getPairedDevices();\nfor (final device in pairedDevices) {\n  if (device.status == DeviceStatus.online) {\n    final result = await CompanionDataSynchronizer.instance.syncToDevice(device.id, syncData);\n    print('\u540c\u6b65\u5230 ${device.name}: ${result.isSuccess}');\n  }\n}\n\n// \u76d1\u542c\u540c\u6b65\u72b6\u6001\nCompanionDataSynchronizer.instance.onSyncProgress.listen((progress) {\n  print('\u540c\u6b65\u8fdb\u5ea6: ${progress.percentage}%');\n});\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_19","title":"\u8fdc\u7a0b\u63a7\u5236","text":"<pre><code>// \u8fdc\u7a0b\u542f\u52a8\u8f66\u8f86\nfinal startEngineCommand = RemoteCommand(\n  id: 'start_engine_${DateTime.now().millisecondsSinceEpoch}',\n  type: CommandType.vehicleControl,\n  parameters: {\n    'action': 'start_engine',\n    'duration': 300, // 5\u5206\u949f\n  },\n  sourceDeviceId: 'smartphone_001',\n  targetDeviceId: 'car_display_001',\n  requiresConfirmation: true,\n  timeout: Duration(seconds: 30),\n);\n\nfinal result = await CompanionRemoteController.instance.sendCommand(\n  'car_display_001',\n  startEngineCommand,\n);\n\nif (result.isSuccess) {\n  print('\u8fdc\u7a0b\u542f\u52a8\u6307\u4ee4\u53d1\u9001\u6210\u529f');\n} else {\n  print('\u8fdc\u7a0b\u542f\u52a8\u5931\u8d25: ${result.error}');\n}\n\n// \u76d1\u542c\u8fdc\u7a0b\u6307\u4ee4\nCompanionRemoteController.instance.listenForCommands().listen((command) {\n  print('\u6536\u5230\u8fdc\u7a0b\u6307\u4ee4: ${command.type}');\n  // \u5904\u7406\u8fdc\u7a0b\u6307\u4ee4\n  handleRemoteCommand(command);\n});\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_20","title":"\u8fde\u63a5\u7ba1\u7406","text":"<pre><code>// \u76d1\u63a7\u8bbe\u5907\u8fde\u63a5\u72b6\u6001\nfinal connectionManager = CompanionConnectionManager.instance;\n\nfor (final device in pairedDevices) {\n  connectionManager.monitorConnection(device.id).listen((status) {\n    switch (status.state) {\n      case ConnectionState.connected:\n        print('${device.name} \u5df2\u8fde\u63a5');\n        break;\n      case ConnectionState.disconnected:\n        print('${device.name} \u5df2\u65ad\u5f00\uff0c\u5c1d\u8bd5\u91cd\u8fde...');\n        connectionManager.reconnectDevice(device.id);\n        break;\n      case ConnectionState.error:\n        print('${device.name} \u8fde\u63a5\u9519\u8bef: ${status.error}');\n        break;\n    }\n  });\n}\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_21","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/oneapp_companion.html#_22","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('CompanionDevice Tests', () {\n  test('should discover nearby devices', () async {\n    // Given\n    final deviceManager = CompanionDeviceManager();\n\n    // When\n    final devices = await deviceManager.discoverDevices();\n\n    // Then\n    expect(devices, isNotEmpty);\n    expect(devices.first.type, isA&lt;DeviceType&gt;());\n  });\n\n  test('should sync data successfully', () async {\n    // Given\n    final synchronizer = CompanionDataSynchronizer();\n    final syncData = SyncData(\n      id: 'test_sync',\n      type: SyncDataType.userPreferences,\n      data: {'theme': 'dark'},\n      timestamp: DateTime.now(),\n      priority: SyncPriority.normal,\n    );\n\n    // When\n    final result = await synchronizer.syncToDevice('test_device', syncData);\n\n    // Then\n    expect(result.isSuccess, true);\n  });\n});\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_23","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Companion Integration Tests', () {\n  testWidgets('device pairing flow', (tester) async {\n    // 1. \u542f\u52a8\u8bbe\u5907\u53d1\u73b0\n    await CompanionDeviceManager.instance.startDiscovery();\n\n    // 2. \u6a21\u62df\u53d1\u73b0\u8bbe\u5907\n    final mockDevice = createMockDevice();\n    await simulateDeviceDiscovered(mockDevice);\n\n    // 3. \u6267\u884c\u914d\u5bf9\n    final paired = await CompanionDeviceManager.instance.pairDevice(mockDevice.id);\n\n    // 4. \u9a8c\u8bc1\u914d\u5bf9\u7ed3\u679c\n    expect(paired, true);\n\n    final pairedDevices = await CompanionDeviceManager.instance.getPairedDevices();\n    expect(pairedDevices, contains(mockDevice));\n  });\n});\n</code></pre>"},{"location":"service_component/oneapp_companion.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/oneapp_companion.html#_25","title":"\u8fde\u63a5\u4f18\u5316","text":"<ul> <li>\u8fde\u63a5\u6c60\uff1a\u8bbe\u5907\u8fde\u63a5\u6c60\u7ba1\u7406</li> <li>\u5fc3\u8df3\u673a\u5236\uff1a\u5b9a\u671f\u5fc3\u8df3\u4fdd\u6301\u8fde\u63a5</li> <li>\u91cd\u8fde\u7b56\u7565\uff1a\u667a\u80fd\u91cd\u8fde\u673a\u5236</li> <li>\u8d1f\u8f7d\u5747\u8861\uff1a\u591a\u8bbe\u5907\u8d1f\u8f7d\u5747\u8861</li> </ul>"},{"location":"service_component/oneapp_companion.html#_26","title":"\u540c\u6b65\u4f18\u5316","text":"<ul> <li>\u589e\u91cf\u540c\u6b65\uff1a\u53ea\u540c\u6b65\u53d8\u5316\u7684\u6570\u636e</li> <li>\u538b\u7f29\u4f20\u8f93\uff1a\u6570\u636e\u538b\u7f29\u51cf\u5c11\u4f20\u8f93\u91cf</li> <li>\u6279\u91cf\u64cd\u4f5c\uff1a\u6279\u91cf\u540c\u6b65\u63d0\u9ad8\u6548\u7387</li> <li>\u4f18\u5148\u7ea7\u961f\u5217\uff1a\u6309\u4f18\u5148\u7ea7\u5904\u7406\u540c\u6b65\u4efb\u52a1</li> </ul>"},{"location":"service_component/oneapp_companion.html#_27","title":"\u5b89\u5168\u8003\u8651","text":""},{"location":"service_component/oneapp_companion.html#_28","title":"\u8bbe\u5907\u5b89\u5168","text":"<ul> <li>\u8bbe\u5907\u8ba4\u8bc1\uff1a\u8bbe\u5907\u8eab\u4efd\u8ba4\u8bc1\u548c\u6388\u6743</li> <li>\u52a0\u5bc6\u901a\u4fe1\uff1a\u7aef\u5230\u7aef\u52a0\u5bc6\u901a\u4fe1</li> <li>\u6743\u9650\u63a7\u5236\uff1a\u7ec6\u7c92\u5ea6\u6743\u9650\u63a7\u5236</li> <li>\u5b89\u5168\u5ba1\u8ba1\uff1a\u64cd\u4f5c\u5b89\u5168\u5ba1\u8ba1\u65e5\u5fd7</li> </ul>"},{"location":"service_component/oneapp_companion.html#_29","title":"\u6570\u636e\u5b89\u5168","text":"<ul> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u654f\u611f\u6570\u636e\u52a0\u5bc6\u5b58\u50a8\u548c\u4f20\u8f93</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u6570\u636e\u8bbf\u95ee\u63a7\u5236</li> <li>\u6570\u636e\u5b8c\u6574\u6027\uff1a\u6570\u636e\u5b8c\u6574\u6027\u9a8c\u8bc1</li> <li>\u9690\u79c1\u4fdd\u62a4\uff1a\u7528\u6237\u9690\u79c1\u6570\u636e\u4fdd\u62a4</li> </ul>"},{"location":"service_component/oneapp_companion.html#_30","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/oneapp_companion.html#v007","title":"v0.0.7 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u667a\u80fd\u624b\u8868\u652f\u6301</li> <li>\u4f18\u5316\u8bbe\u5907\u53d1\u73b0\u6027\u80fd</li> <li>\u652f\u6301\u6279\u91cf\u6570\u636e\u540c\u6b65</li> <li>\u4fee\u590d\u8fde\u63a5\u7a33\u5b9a\u6027\u95ee\u9898</li> </ul>"},{"location":"service_component/oneapp_companion.html#v006","title":"v0.0.6","text":"<ul> <li>\u652f\u6301\u8f66\u8f7d\u8bbe\u5907\u8fde\u63a5</li> <li>\u65b0\u589e\u8fdc\u7a0b\u63a7\u5236\u529f\u80fd</li> <li>\u4f18\u5316\u540c\u6b65\u673a\u5236</li> <li>\u6539\u8fdb\u8bbe\u5907\u7ba1\u7406\u754c\u9762</li> </ul>"},{"location":"service_component/oneapp_companion.html#_31","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/oneapp_companion.html#_32","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_platform</code>: \u5e73\u53f0\u62bd\u8c61\u5c42</li> <li><code>basic_network</code>: \u7f51\u7edc\u901a\u4fe1\u670d\u52a1</li> <li><code>basic_storage</code>: \u672c\u5730\u5b58\u50a8\u670d\u52a1</li> <li><code>basic_security</code>: \u5b89\u5168\u670d\u52a1</li> </ul>"},{"location":"service_component/oneapp_companion.html#_33","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>nearby_connections</code>: \u8bbe\u5907\u53d1\u73b0\u548c\u8fde\u63a5</li> <li><code>encrypt</code>: \u6570\u636e\u52a0\u5bc6</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b</li> <li><code>shared_preferences</code>: \u914d\u7f6e\u5b58\u50a8</li> </ul>"},{"location":"service_component/oneapp_companion.html#_34","title":"\u603b\u7ed3","text":"<p><code>oneapp_companion</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u591a\u8bbe\u5907\u534f\u540c\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u8bbe\u5907\u53d1\u73b0\u3001\u6570\u636e\u540c\u6b65\u3001\u8fdc\u7a0b\u63a7\u5236\u548c\u8fde\u63a5\u7ba1\u7406\u7b49\u529f\u80fd\uff0c\u8be5\u6a21\u5757\u5b9e\u73b0\u4e86\u8de8\u8bbe\u5907\u7684\u65e0\u7f1d\u4f53\u9a8c\uff0c\u8ba9\u7528\u6237\u80fd\u591f\u5728\u4e0d\u540c\u8bbe\u5907\u95f4\u81ea\u7531\u5207\u6362\uff0c\u4eab\u53d7\u4e00\u81f4\u7684\u5e94\u7528\u4f53\u9a8c\u548c\u4fbf\u6377\u7684\u8fdc\u7a0b\u63a7\u5236\u529f\u80fd\u3002</p>"},{"location":"service_component/oneapp_popup.html","title":"OneApp Popup - \u5f39\u7a97\u7ba1\u7406\u6a21\u5757","text":""},{"location":"service_component/oneapp_popup.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_popup</code> \u662f OneApp \u7684\u7edf\u4e00\u5f39\u7a97\u7ba1\u7406\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u5168\u5c40\u5f39\u7a97\u7ba1\u7406\u3001\u4f18\u5148\u7ea7\u63a7\u5236\u3001\u6837\u5f0f\u5b9a\u5236\u548c\u751f\u547d\u5468\u671f\u7ba1\u7406\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u786e\u4fdd\u5e94\u7528\u4e2d\u6240\u6709\u5f39\u7a97\u7684\u4e00\u81f4\u6027\u4f53\u9a8c\uff0c\u907f\u514d\u5f39\u7a97\u51b2\u7a81\uff0c\u5e76\u63d0\u4f9b\u7075\u6d3b\u7684\u5f39\u7a97\u5c55\u793a\u7b56\u7565\u3002</p>"},{"location":"service_component/oneapp_popup.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"service_component/oneapp_popup.html#1","title":"1. \u7edf\u4e00\u5f39\u7a97\u7ba1\u7406","text":"<ul> <li>\u5168\u5c40\u961f\u5217\uff1a\u7edf\u4e00\u7ba1\u7406\u6240\u6709\u5f39\u7a97\u663e\u793a\u961f\u5217</li> <li>\u5f39\u7a97\u6ce8\u518c\uff1a\u6ce8\u518c\u548c\u7ba1\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u5f39\u7a97</li> <li>\u663e\u793a\u63a7\u5236\uff1a\u63a7\u5236\u5f39\u7a97\u7684\u663e\u793a\u548c\u9690\u85cf</li> <li>\u72b6\u6001\u7ba1\u7406\uff1a\u8ddf\u8e2a\u5f39\u7a97\u7684\u663e\u793a\u72b6\u6001</li> </ul>"},{"location":"service_component/oneapp_popup.html#2","title":"2. \u5f39\u7a97\u4f18\u5148\u7ea7\u63a7\u5236","text":"<ul> <li>\u4f18\u5148\u7ea7\u6392\u5e8f\uff1a\u6309\u4f18\u5148\u7ea7\u6392\u5e8f\u5f39\u7a97\u663e\u793a\u987a\u5e8f</li> <li>\u62a2\u5360\u673a\u5236\uff1a\u9ad8\u4f18\u5148\u7ea7\u5f39\u7a97\u62a2\u5360\u663e\u793a</li> <li>\u961f\u5217\u7ba1\u7406\uff1a\u667a\u80fd\u7ba1\u7406\u5f39\u7a97\u7b49\u5f85\u961f\u5217</li> <li>\u51b2\u7a81\u89e3\u51b3\uff1a\u89e3\u51b3\u5f39\u7a97\u663e\u793a\u51b2\u7a81</li> </ul>"},{"location":"service_component/oneapp_popup.html#3","title":"3. \u5f39\u7a97\u6837\u5f0f\u5b9a\u5236","text":"<ul> <li>\u4e3b\u9898\u9002\u914d\uff1a\u81ea\u52a8\u9002\u914d\u5e94\u7528\u4e3b\u9898</li> <li>\u6837\u5f0f\u7ee7\u627f\uff1a\u652f\u6301\u6837\u5f0f\u7ee7\u627f\u548c\u8986\u76d6</li> <li>\u52a8\u753b\u6548\u679c\uff1a\u4e30\u5bcc\u7684\u5f39\u7a97\u52a8\u753b\u6548\u679c</li> <li>\u54cd\u5e94\u5f0f\u8bbe\u8ba1\uff1a\u9002\u914d\u4e0d\u540c\u5c4f\u5e55\u5c3a\u5bf8</li> </ul>"},{"location":"service_component/oneapp_popup.html#4","title":"4. \u5f39\u7a97\u751f\u547d\u5468\u671f","text":"<ul> <li>\u751f\u547d\u5468\u671f\u94a9\u5b50\uff1a\u5b8c\u6574\u7684\u751f\u547d\u5468\u671f\u56de\u8c03</li> <li>\u81ea\u52a8\u9500\u6bc1\uff1a\u5f39\u7a97\u81ea\u52a8\u9500\u6bc1\u673a\u5236</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f</li> <li>\u72b6\u6001\u6062\u590d\uff1a\u5e94\u7528\u91cd\u542f\u540e\u72b6\u6001\u6062\u590d</li> </ul>"},{"location":"service_component/oneapp_popup.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"service_component/oneapp_popup.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u754c\u9762\u5c42                \u2502\n\u2502         (Application UI)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         OneApp Popup                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u5f39\u7a97\u7ba1\u7406 \u2502 \u961f\u5217\u63a7\u5236 \u2502 \u6837\u5f0f\u7cfb\u7edf \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u751f\u547d\u5468\u671f \u2502 \u4e8b\u4ef6\u7cfb\u7edf \u2502 \u52a8\u753b\u5f15\u64ce \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           UI \u6e32\u67d3\u5c42                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Overlay  \u2502 Dialog   \u2502 BottomSheet \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502          Flutter Framework          \u2502\n\u2502         (Widget System)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"service_component/oneapp_popup.html#1_popupmanager","title":"1. \u5f39\u7a97\u7ba1\u7406\u5668 (PopupManager)","text":"<pre><code>class PopupManager {\n  // \u663e\u793a\u5f39\u7a97\n  Future&lt;T?&gt; show&lt;T&gt;(Popup popup);\n\n  // \u9690\u85cf\u5f39\u7a97\n  Future&lt;bool&gt; hide(String popupId);\n\n  // \u9690\u85cf\u6240\u6709\u5f39\u7a97\n  Future&lt;void&gt; hideAll();\n\n  // \u83b7\u53d6\u5f53\u524d\u5f39\u7a97\n  Popup? getCurrentPopup();\n\n  // \u83b7\u53d6\u5f39\u7a97\u961f\u5217\n  List&lt;Popup&gt; getPopupQueue();\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#2_popupqueuecontroller","title":"2. \u5f39\u7a97\u961f\u5217\u63a7\u5236\u5668 (PopupQueueController)","text":"<pre><code>class PopupQueueController {\n  // \u6dfb\u52a0\u5f39\u7a97\u5230\u961f\u5217\n  void enqueue(Popup popup);\n\n  // \u4ece\u961f\u5217\u79fb\u9664\u5f39\u7a97\n  bool dequeue(String popupId);\n\n  // \u6309\u4f18\u5148\u7ea7\u6392\u5e8f\u961f\u5217\n  void sortByPriority();\n\n  // \u5904\u7406\u4e0b\u4e00\u4e2a\u5f39\u7a97\n  Future&lt;void&gt; processNext();\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#3_popupstylemanager","title":"3. \u5f39\u7a97\u6837\u5f0f\u7ba1\u7406\u5668 (PopupStyleManager)","text":"<pre><code>class PopupStyleManager {\n  // \u5e94\u7528\u5f39\u7a97\u4e3b\u9898\n  PopupTheme applyTheme(PopupStyle style, AppTheme theme);\n\n  // \u521b\u5efa\u5f39\u7a97\u6837\u5f0f\n  PopupStyle createStyle(PopupType type);\n\n  // \u81ea\u5b9a\u4e49\u6837\u5f0f\n  PopupStyle customizeStyle(PopupStyle base, StyleOverrides overrides);\n\n  // \u83b7\u53d6\u9ed8\u8ba4\u6837\u5f0f\n  PopupStyle getDefaultStyle(PopupType type);\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#4_popuplifecyclemanager","title":"4. \u5f39\u7a97\u751f\u547d\u5468\u671f\u7ba1\u7406\u5668 (PopupLifecycleManager)","text":"<pre><code>class PopupLifecycleManager {\n  // \u6ce8\u518c\u751f\u547d\u5468\u671f\u76d1\u542c\u5668\n  void registerLifecycleListener(String popupId, PopupLifecycleListener listener);\n\n  // \u89e6\u53d1\u751f\u547d\u5468\u671f\u4e8b\u4ef6\n  void triggerLifecycleEvent(String popupId, PopupLifecycleEvent event);\n\n  // \u6e05\u7406\u5f39\u7a97\u8d44\u6e90\n  void cleanupPopup(String popupId);\n\n  // \u6062\u590d\u5f39\u7a97\u72b6\u6001\n  Future&lt;void&gt; restorePopupState();\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"service_component/oneapp_popup.html#_7","title":"\u5f39\u7a97\u6a21\u578b","text":"<pre><code>class Popup {\n  final String id;\n  final PopupType type;\n  final Widget content;\n  final PopupPriority priority;\n  final PopupStyle? style;\n  final PopupOptions options;\n  final Map&lt;String, dynamic&gt; data;\n  final DateTime createdAt;\n  final Duration? autoHideDelay;\n  final List&lt;PopupAction&gt; actions;\n}\n\nenum PopupType {\n  dialog,        // \u5bf9\u8bdd\u6846\n  bottomSheet,   // \u5e95\u90e8\u5f39\u7a97\n  toast,         // \u5410\u53f8\u6d88\u606f\n  overlay,       // \u8986\u76d6\u5c42\n  modal,         // \u6a21\u6001\u6846\n  banner,        // \u6a2a\u5e45\n  snackbar      // \u5feb\u6377\u6d88\u606f\n}\n\nenum PopupPriority {\n  low,          // \u4f4e\u4f18\u5148\u7ea7\n  normal,       // \u666e\u901a\u4f18\u5148\u7ea7\n  high,         // \u9ad8\u4f18\u5148\u7ea7\n  critical,     // \u5173\u952e\u4f18\u5148\u7ea7\n  emergency     // \u7d27\u6025\u4f18\u5148\u7ea7\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_8","title":"\u5f39\u7a97\u6837\u5f0f\u6a21\u578b","text":"<pre><code>class PopupStyle {\n  final Color? backgroundColor;\n  final BorderRadius? borderRadius;\n  final EdgeInsets? padding;\n  final EdgeInsets? margin;\n  final BoxShadow? shadow;\n  final TextStyle? textStyle;\n  final PopupAnimation? animation;\n  final Alignment? alignment;\n  final Size? size;\n  final bool? barrierDismissible;\n}\n\nclass PopupAnimation {\n  final AnimationType type;\n  final Duration duration;\n  final Curve curve;\n  final Offset? slideDirection;\n  final double? scaleStart;\n}\n\nenum AnimationType {\n  fade,         // \u6de1\u5165\u6de1\u51fa\n  slide,        // \u6ed1\u52a8\n  scale,        // \u7f29\u653e\n  rotate,       // \u65cb\u8f6c\n  bounce,       // \u5f39\u8df3\n  none          // \u65e0\u52a8\u753b\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_9","title":"\u5f39\u7a97\u9009\u9879\u6a21\u578b","text":"<pre><code>class PopupOptions {\n  final bool barrierDismissible;\n  final Color? barrierColor;\n  final String? barrierLabel;\n  final bool useRootNavigator;\n  final RouteSettings? routeSettings;\n  final Offset? anchorPoint;\n  final PopupGravity gravity;\n  final Duration? showDuration;\n  final Duration? hideDuration;\n}\n\nenum PopupGravity {\n  center,       // \u5c45\u4e2d\n  top,          // \u9876\u90e8\n  bottom,       // \u5e95\u90e8\n  left,         // \u5de6\u4fa7\n  right,        // \u53f3\u4fa7\n  topLeft,      // \u5de6\u4e0a\n  topRight,     // \u53f3\u4e0a\n  bottomLeft,   // \u5de6\u4e0b\n  bottomRight   // \u53f3\u4e0b\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#api","title":"API \u63a5\u53e3","text":""},{"location":"service_component/oneapp_popup.html#_10","title":"\u5f39\u7a97\u7ba1\u7406\u63a5\u53e3","text":"<pre><code>abstract class PopupService {\n  // \u663e\u793a\u5f39\u7a97\n  Future&lt;ApiResponse&lt;T?&gt;&gt; showPopup&lt;T&gt;(ShowPopupRequest request);\n\n  // \u9690\u85cf\u5f39\u7a97\n  Future&lt;ApiResponse&lt;bool&gt;&gt; hidePopup(HidePopupRequest request);\n\n  // \u83b7\u53d6\u5f39\u7a97\u72b6\u6001\n  Future&lt;ApiResponse&lt;PopupStatus&gt;&gt; getPopupStatus(String popupId);\n\n  // \u6e05\u7406\u5f39\u7a97\n  Future&lt;ApiResponse&lt;bool&gt;&gt; clearPopups(ClearPopupsRequest request);\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_11","title":"\u5f39\u7a97\u6837\u5f0f\u63a5\u53e3","text":"<pre><code>abstract class PopupStyleService {\n  // \u83b7\u53d6\u5f39\u7a97\u4e3b\u9898\n  Future&lt;ApiResponse&lt;PopupTheme&gt;&gt; getPopupTheme(String themeId);\n\n  // \u66f4\u65b0\u5f39\u7a97\u6837\u5f0f\n  Future&lt;ApiResponse&lt;bool&gt;&gt; updatePopupStyle(UpdateStyleRequest request);\n\n  // \u83b7\u53d6\u6837\u5f0f\u6a21\u677f\n  Future&lt;ApiResponse&lt;List&lt;PopupStyleTemplate&gt;&gt;&gt; getStyleTemplates();\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_12","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"service_component/oneapp_popup.html#_13","title":"\u5f39\u7a97\u914d\u7f6e","text":"<pre><code>class PopupConfig {\n  final int maxConcurrentPopups;\n  final Duration defaultAnimationDuration;\n  final bool enableGlobalQueue;\n  final bool autoHideOnAppBackground;\n  final Map&lt;PopupType, PopupTypeConfig&gt; typeConfigs;\n  final PopupTheme defaultTheme;\n\n  static const PopupConfig defaultConfig = PopupConfig(\n    maxConcurrentPopups: 3,\n    defaultAnimationDuration: Duration(milliseconds: 300),\n    enableGlobalQueue: true,\n    autoHideOnAppBackground: true,\n    typeConfigs: {\n      PopupType.dialog: PopupTypeConfig(\n        maxInstances: 1,\n        defaultPriority: PopupPriority.high,\n      ),\n      PopupType.toast: PopupTypeConfig(\n        maxInstances: 5,\n        defaultPriority: PopupPriority.low,\n      ),\n    },\n    defaultTheme: PopupTheme.defaultTheme,\n  );\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_14","title":"\u4e3b\u9898\u914d\u7f6e","text":"<pre><code>class PopupTheme {\n  final PopupStyle dialogStyle;\n  final PopupStyle toastStyle;\n  final PopupStyle bottomSheetStyle;\n  final PopupStyle overlayStyle;\n  final Map&lt;String, PopupStyle&gt; customStyles;\n\n  static const PopupTheme defaultTheme = PopupTheme(\n    dialogStyle: PopupStyle(\n      backgroundColor: Colors.white,\n      borderRadius: BorderRadius.circular(8.0),\n      padding: EdgeInsets.all(16.0),\n      animation: PopupAnimation(\n        type: AnimationType.scale,\n        duration: Duration(milliseconds: 300),\n      ),\n    ),\n    toastStyle: PopupStyle(\n      backgroundColor: Colors.black87,\n      borderRadius: BorderRadius.circular(24.0),\n      padding: EdgeInsets.symmetric(horizontal: 16.0, vertical: 8.0),\n      animation: PopupAnimation(\n        type: AnimationType.slide,\n        duration: Duration(milliseconds: 200),\n      ),\n    ),\n  );\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_15","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"service_component/oneapp_popup.html#_16","title":"\u57fa\u672c\u5f39\u7a97\u663e\u793a","text":"<pre><code>// \u663e\u793a\u5bf9\u8bdd\u6846\nfinal result = await PopupManager.instance.show&lt;bool&gt;(\n  Popup(\n    id: 'confirm_dialog',\n    type: PopupType.dialog,\n    priority: PopupPriority.high,\n    content: AlertDialog(\n      title: Text('\u786e\u8ba4\u64cd\u4f5c'),\n      content: Text('\u662f\u5426\u786e\u8ba4\u6267\u884c\u6b64\u64cd\u4f5c\uff1f'),\n      actions: [\n        TextButton(\n          onPressed: () =&gt; Navigator.of(context).pop(false),\n          child: Text('\u53d6\u6d88'),\n        ),\n        TextButton(\n          onPressed: () =&gt; Navigator.of(context).pop(true),\n          child: Text('\u786e\u8ba4'),\n        ),\n      ],\n    ),\n  ),\n);\n\nif (result == true) {\n  print('\u7528\u6237\u786e\u8ba4\u64cd\u4f5c');\n}\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_17","title":"\u5410\u53f8\u6d88\u606f","text":"<pre><code>// \u663e\u793a\u6210\u529f\u6d88\u606f\nPopupManager.instance.show(\n  Popup(\n    id: 'success_toast',\n    type: PopupType.toast,\n    priority: PopupPriority.normal,\n    content: Container(\n      padding: EdgeInsets.all(16.0),\n      decoration: BoxDecoration(\n        color: Colors.green,\n        borderRadius: BorderRadius.circular(8.0),\n      ),\n      child: Row(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          Icon(Icons.check, color: Colors.white),\n          SizedBox(width: 8.0),\n          Text('\u64cd\u4f5c\u6210\u529f', style: TextStyle(color: Colors.white)),\n        ],\n      ),\n    ),\n    options: PopupOptions(\n      gravity: PopupGravity.top,\n      barrierDismissible: false,\n    ),\n    autoHideDelay: Duration(seconds: 3),\n  ),\n);\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_18","title":"\u5e95\u90e8\u5f39\u7a97","text":"<pre><code>// \u663e\u793a\u5e95\u90e8\u9009\u62e9\u5f39\u7a97\nfinal selectedOption = await PopupManager.instance.show&lt;String&gt;(\n  Popup(\n    id: 'bottom_sheet_options',\n    type: PopupType.bottomSheet,\n    priority: PopupPriority.normal,\n    content: Column(\n      mainAxisSize: MainAxisSize.min,\n      children: [\n        ListTile(\n          leading: Icon(Icons.camera),\n          title: Text('\u62cd\u7167'),\n          onTap: () =&gt; Navigator.of(context).pop('camera'),\n        ),\n        ListTile(\n          leading: Icon(Icons.photo_library),\n          title: Text('\u4ece\u76f8\u518c\u9009\u62e9'),\n          onTap: () =&gt; Navigator.of(context).pop('gallery'),\n        ),\n        ListTile(\n          leading: Icon(Icons.cancel),\n          title: Text('\u53d6\u6d88'),\n          onTap: () =&gt; Navigator.of(context).pop(null),\n        ),\n      ],\n    ),\n    style: PopupStyle(\n      backgroundColor: Colors.white,\n      borderRadius: BorderRadius.vertical(top: Radius.circular(16.0)),\n    ),\n  ),\n);\n\nprint('\u7528\u6237\u9009\u62e9: $selectedOption');\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_19","title":"\u81ea\u5b9a\u4e49\u5f39\u7a97\u6837\u5f0f","text":"<pre><code>// \u521b\u5efa\u81ea\u5b9a\u4e49\u6837\u5f0f\u5f39\u7a97\nfinal customStyle = PopupStyle(\n  backgroundColor: Colors.blue.shade50,\n  borderRadius: BorderRadius.circular(12.0),\n  padding: EdgeInsets.all(20.0),\n  shadow: BoxShadow(\n    color: Colors.black26,\n    blurRadius: 10.0,\n    offset: Offset(0, 4),\n  ),\n  animation: PopupAnimation(\n    type: AnimationType.bounce,\n    duration: Duration(milliseconds: 500),\n    curve: Curves.elasticOut,\n  ),\n);\n\nPopupManager.instance.show(\n  Popup(\n    id: 'custom_popup',\n    type: PopupType.modal,\n    priority: PopupPriority.high,\n    style: customStyle,\n    content: Container(\n      width: 300,\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          Icon(Icons.info, size: 48, color: Colors.blue),\n          SizedBox(height: 16),\n          Text('\u81ea\u5b9a\u4e49\u5f39\u7a97', style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold)),\n          SizedBox(height: 8),\n          Text('\u8fd9\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6837\u5f0f\u7684\u5f39\u7a97\u793a\u4f8b'),\n          SizedBox(height: 16),\n          ElevatedButton(\n            onPressed: () =&gt; PopupManager.instance.hide('custom_popup'),\n            child: Text('\u5173\u95ed'),\n          ),\n        ],\n      ),\n    ),\n  ),\n);\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_20","title":"\u5f39\u7a97\u961f\u5217\u7ba1\u7406","text":"<pre><code>// \u6279\u91cf\u6dfb\u52a0\u5f39\u7a97\u5230\u961f\u5217\nfinal popups = [\n  Popup(\n    id: 'popup_1',\n    type: PopupType.toast,\n    priority: PopupPriority.low,\n    content: Text('\u6d88\u606f1'),\n  ),\n  Popup(\n    id: 'popup_2',\n    type: PopupType.dialog,\n    priority: PopupPriority.high,\n    content: Text('\u91cd\u8981\u6d88\u606f'),\n  ),\n  Popup(\n    id: 'popup_3',\n    type: PopupType.toast,\n    priority: PopupPriority.normal,\n    content: Text('\u6d88\u606f3'),\n  ),\n];\n\n// \u6309\u4f18\u5148\u7ea7\u6dfb\u52a0\u5230\u961f\u5217\nfor (final popup in popups) {\n  PopupManager.instance.enqueue(popup);\n}\n\n// \u76d1\u542c\u5f39\u7a97\u961f\u5217\u53d8\u5316\nPopupManager.instance.onQueueChanged.listen((queue) {\n  print('\u5f53\u524d\u961f\u5217\u957f\u5ea6: ${queue.length}');\n});\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_21","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"service_component/oneapp_popup.html#_22","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('PopupManager Tests', () {\n  test('should show popup successfully', () async {\n    // Given\n    final popupManager = PopupManager();\n    final popup = Popup(\n      id: 'test_popup',\n      type: PopupType.dialog,\n      content: Text('Test'),\n    );\n\n    // When\n    final result = await popupManager.show(popup);\n\n    // Then\n    expect(popupManager.getCurrentPopup()?.id, 'test_popup');\n  });\n\n  test('should manage popup queue by priority', () {\n    // Given\n    final queueController = PopupQueueController();\n    final lowPriorityPopup = Popup(id: 'low', priority: PopupPriority.low);\n    final highPriorityPopup = Popup(id: 'high', priority: PopupPriority.high);\n\n    // When\n    queueController.enqueue(lowPriorityPopup);\n    queueController.enqueue(highPriorityPopup);\n    queueController.sortByPriority();\n\n    // Then\n    final queue = queueController.getQueue();\n    expect(queue.first.id, 'high');\n    expect(queue.last.id, 'low');\n  });\n});\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_23","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('Popup Integration Tests', () {\n  testWidgets('popup display flow', (tester) async {\n    // 1. \u663e\u793a\u5f39\u7a97\n    await PopupManager.instance.show(testPopup);\n    await tester.pumpAndSettle();\n\n    // 2. \u9a8c\u8bc1\u5f39\u7a97\u663e\u793a\n    expect(find.byKey(Key('test_popup')), findsOneWidget);\n\n    // 3. \u70b9\u51fb\u5173\u95ed\u6309\u94ae\n    await tester.tap(find.byKey(Key('close_button')));\n    await tester.pumpAndSettle();\n\n    // 4. \u9a8c\u8bc1\u5f39\u7a97\u5173\u95ed\n    expect(find.byKey(Key('test_popup')), findsNothing);\n  });\n});\n</code></pre>"},{"location":"service_component/oneapp_popup.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"service_component/oneapp_popup.html#_25","title":"\u6e32\u67d3\u4f18\u5316","text":"<ul> <li>\u61d2\u52a0\u8f7d\uff1a\u5f39\u7a97\u5185\u5bb9\u61d2\u52a0\u8f7d</li> <li>\u590d\u7528\u673a\u5236\uff1a\u5f39\u7a97\u7ec4\u4ef6\u590d\u7528</li> <li>\u52a8\u753b\u4f18\u5316\uff1a\u9ad8\u6548\u7684\u52a8\u753b\u5b9e\u73b0</li> <li>\u5185\u5b58\u7ba1\u7406\uff1a\u53ca\u65f6\u91ca\u653e\u5f39\u7a97\u8d44\u6e90</li> </ul>"},{"location":"service_component/oneapp_popup.html#_26","title":"\u961f\u5217\u4f18\u5316","text":"<ul> <li>\u667a\u80fd\u8c03\u5ea6\uff1a\u667a\u80fd\u5f39\u7a97\u8c03\u5ea6\u7b97\u6cd5</li> <li>\u4f18\u5148\u7ea7\u5408\u5e76\uff1a\u76f8\u540c\u4f18\u5148\u7ea7\u5f39\u7a97\u5408\u5e76</li> <li>\u6279\u91cf\u5904\u7406\uff1a\u6279\u91cf\u5904\u7406\u5f39\u7a97\u961f\u5217</li> <li>\u8d1f\u8f7d\u63a7\u5236\uff1a\u63a7\u5236\u540c\u65f6\u663e\u793a\u7684\u5f39\u7a97\u6570\u91cf</li> </ul>"},{"location":"service_component/oneapp_popup.html#_27","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"service_component/oneapp_popup.html#v0312","title":"v0.3.1+2 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u5f39\u7a97\u4e3b\u9898\u7cfb\u7edf</li> <li>\u4f18\u5316\u52a8\u753b\u6027\u80fd</li> <li>\u652f\u6301\u81ea\u5b9a\u4e49\u5f39\u7a97\u6837\u5f0f</li> <li>\u4fee\u590d\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898</li> </ul>"},{"location":"service_component/oneapp_popup.html#v030","title":"v0.3.0","text":"<ul> <li>\u91cd\u6784\u5f39\u7a97\u7ba1\u7406\u67b6\u6784</li> <li>\u65b0\u589e\u4f18\u5148\u7ea7\u961f\u5217\u7cfb\u7edf</li> <li>\u652f\u6301\u591a\u79cd\u5f39\u7a97\u7c7b\u578b</li> <li>\u6539\u8fdb\u751f\u547d\u5468\u671f\u7ba1\u7406</li> </ul>"},{"location":"service_component/oneapp_popup.html#_28","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"service_component/oneapp_popup.html#_29","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_theme</code>: \u4e3b\u9898\u7ba1\u7406\u7cfb\u7edf</li> <li><code>basic_utils</code>: \u5de5\u5177\u7c7b\u5e93</li> <li><code>basic_logger</code>: \u65e5\u5fd7\u8bb0\u5f55</li> </ul>"},{"location":"service_component/oneapp_popup.html#_30","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>flutter/material</code>: Material \u8bbe\u8ba1\u7ec4\u4ef6</li> <li><code>flutter/cupertino</code>: iOS \u98ce\u683c\u7ec4\u4ef6</li> <li><code>rxdart</code>: \u54cd\u5e94\u5f0f\u7f16\u7a0b\u652f\u6301</li> </ul>"},{"location":"service_component/oneapp_popup.html#_31","title":"\u603b\u7ed3","text":"<p><code>oneapp_popup</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5f39\u7a97\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u3002\u901a\u8fc7\u7edf\u4e00\u7684\u5f39\u7a97\u7ba1\u7406\u3001\u667a\u80fd\u7684\u4f18\u5148\u7ea7\u63a7\u5236\u3001\u7075\u6d3b\u7684\u6837\u5f0f\u5b9a\u5236\u548c\u5b8c\u5584\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u8be5\u6a21\u5757\u786e\u4fdd\u4e86\u5e94\u7528\u4e2d\u6240\u6709\u5f39\u7a97\u7684\u4e00\u81f4\u6027\u4f53\u9a8c\uff0c\u63d0\u9ad8\u4e86\u7528\u6237\u754c\u9762\u7684\u4e13\u4e1a\u6027\u548c\u7528\u6237\u4f53\u9a8c\u7684\u6d41\u7545\u6027\u3002</p>"},{"location":"setting/index.html","title":"OneApp Setting - \u5e94\u7528\u8bbe\u7f6e\u6a21\u5757\u6587\u6863","text":""},{"location":"setting/index.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>app_setting</code> \u662f OneApp \u7684\u5e94\u7528\u8bbe\u7f6e\u7ba1\u7406\u6a21\u5757\uff0c\u63d0\u4f9b\u7528\u6237\u504f\u597d\u8bbe\u7f6e\u3001\u7cfb\u7edf\u914d\u7f6e\u3001\u901a\u77e5\u7ba1\u7406\u3001\u9690\u79c1\u8bbe\u7f6e\u7b49\u529f\u80fd\u3002\u8be5\u6a21\u5757\u91c7\u7528\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u652f\u6301\u52a8\u6001\u914d\u7f6e\u66f4\u65b0\u548c\u591a\u8bed\u8a00\u5207\u6362\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u7684\u5e94\u7528\u4f53\u9a8c\u3002</p>"},{"location":"setting/index.html#_2","title":"\u57fa\u672c\u4fe1\u606f","text":"<ul> <li>\u6a21\u5757\u540d\u79f0: app_setting</li> <li>\u7248\u672c: 0.2.26</li> <li>\u4ed3\u5e93: https://gitlab-rd0.maezia.com/dssomobile/oneapp/dssomobile-oneapp-app-setting</li> <li>Flutter \u7248\u672c: &gt;=2.10.5</li> <li>Dart \u7248\u672c: &gt;=2.16.2 &lt;4.0.0</li> </ul>"},{"location":"setting/index.html#_3","title":"\u76ee\u5f55\u7ed3\u6784","text":"<pre><code>app_setting/\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 app_setting.dart          # \u4e3b\u5bfc\u51fa\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 route_dp.dart             # \u8def\u7531\u914d\u7f6e\n\u2502   \u251c\u2500\u2500 route_export.dart         # \u8def\u7531\u5bfc\u51fa\n\u2502   \u251c\u2500\u2500 generated/                # \u4ee3\u7801\u751f\u6210\u6587\u4ef6\n\u2502   \u251c\u2500\u2500 l10n/                     # \u56fd\u9645\u5316\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 src/                      # \u6e90\u4ee3\u7801\u76ee\u5f55\n\u2502       \u251c\u2500\u2500 pages/                # \u8bbe\u7f6e\u9875\u9762\n\u2502       \u251c\u2500\u2500 widgets/              # \u8bbe\u7f6e\u7ec4\u4ef6\n\u2502       \u251c\u2500\u2500 models/               # \u6570\u636e\u6a21\u578b\n\u2502       \u251c\u2500\u2500 services/             # \u670d\u52a1\u5c42\n\u2502       \u2514\u2500\u2500 constants/            # \u5e38\u91cf\u5b9a\u4e49\n\u251c\u2500\u2500 assets/                       # \u9759\u6001\u8d44\u6e90\n\u251c\u2500\u2500 set_notification_uml.puml     # \u901a\u77e5\u8bbe\u7f6e UML \u56fe\n\u251c\u2500\u2500 set_notification_uml.svg      # \u901a\u77e5\u8bbe\u7f6e UML \u56fe\n\u251c\u2500\u2500 pubspec.yaml                  # \u4f9d\u8d56\u914d\u7f6e\n\u2514\u2500\u2500 README.md                     # \u9879\u76ee\u8bf4\u660e\n</code></pre>"},{"location":"setting/index.html#_4","title":"\u6838\u5fc3\u529f\u80fd\u6a21\u5757","text":""},{"location":"setting/index.html#1","title":"1. \u7528\u6237\u504f\u597d\u8bbe\u7f6e","text":""},{"location":"setting/index.html#_5","title":"\u4e2a\u4eba\u4fe1\u606f\u8bbe\u7f6e","text":"<pre><code>// \u4e2a\u4eba\u4fe1\u606f\u8bbe\u7f6e\u670d\u52a1\nclass ProfileSettingsService {\n  final SettingRepository _settingRepository;\n  final StorageService _storageService;\n\n  ProfileSettingsService(this._settingRepository, this._storageService);\n\n  // \u83b7\u53d6\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u8bbe\u7f6e\n  Future&lt;Result&lt;UserProfileSettings&gt;&gt; getUserProfileSettings() async {\n    try {\n      final settings = await _settingRepository.getUserProfileSettings();\n      return Right(settings);\n    } catch (e) {\n      return Left(SettingFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u7528\u6237\u5934\u50cf\n  Future&lt;Result&lt;void&gt;&gt; updateUserAvatar(String avatarUrl) async {\n    try {\n      await _settingRepository.updateUserAvatar(avatarUrl);\n      await _storageService.setString('user_avatar', avatarUrl);\n      return Right(unit);\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u7528\u6237\u6635\u79f0\n  Future&lt;Result&lt;void&gt;&gt; updateUserNickname(String nickname) async {\n    try {\n      await _settingRepository.updateUserNickname(nickname);\n      await _storageService.setString('user_nickname', nickname);\n      return Right(unit);\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_6","title":"\u5e94\u7528\u504f\u597d\u8bbe\u7f6e","text":"<pre><code>// \u5e94\u7528\u504f\u597d\u8bbe\u7f6e\u6a21\u578b\nclass AppPreferenceSettings {\n  final String language;\n  final String theme;\n  final bool enableDarkMode;\n  final bool enableAutoStart;\n  final bool enableBackgroundRefresh;\n  final double fontSize;\n  final bool enableHapticFeedback;\n  final bool enableSoundEffects;\n\n  const AppPreferenceSettings({\n    required this.language,\n    required this.theme,\n    required this.enableDarkMode,\n    required this.enableAutoStart,\n    required this.enableBackgroundRefresh,\n    required this.fontSize,\n    required this.enableHapticFeedback,\n    required this.enableSoundEffects,\n  });\n\n  factory AppPreferenceSettings.fromJson(Map&lt;String, dynamic&gt; json) {\n    return AppPreferenceSettings(\n      language: json['language'] ?? 'zh-CN',\n      theme: json['theme'] ?? 'system',\n      enableDarkMode: json['enable_dark_mode'] ?? false,\n      enableAutoStart: json['enable_auto_start'] ?? true,\n      enableBackgroundRefresh: json['enable_background_refresh'] ?? true,\n      fontSize: (json['font_size'] ?? 16.0).toDouble(),\n      enableHapticFeedback: json['enable_haptic_feedback'] ?? true,\n      enableSoundEffects: json['enable_sound_effects'] ?? true,\n    );\n  }\n}\n\n// \u5e94\u7528\u504f\u597d\u8bbe\u7f6e\u670d\u52a1\nclass AppPreferenceService {\n  final StorageService _storageService;\n\n  AppPreferenceService(this._storageService);\n\n  // \u83b7\u53d6\u5e94\u7528\u504f\u597d\u8bbe\u7f6e\n  Future&lt;AppPreferenceSettings&gt; getAppPreferences() async {\n    final json = await _storageService.getObject('app_preferences') ?? {};\n    return AppPreferenceSettings.fromJson(json);\n  }\n\n  // \u4fdd\u5b58\u5e94\u7528\u504f\u597d\u8bbe\u7f6e\n  Future&lt;void&gt; saveAppPreferences(AppPreferenceSettings settings) async {\n    await _storageService.setObject('app_preferences', settings.toJson());\n\n    // \u901a\u77e5\u5176\u4ed6\u6a21\u5757\u8bbe\u7f6e\u53d8\u66f4\n    _notifySettingsChanged(settings);\n  }\n\n  // \u66f4\u65b0\u8bed\u8a00\u8bbe\u7f6e\n  Future&lt;void&gt; updateLanguage(String language) async {\n    final settings = await getAppPreferences();\n    final updatedSettings = settings.copyWith(language: language);\n    await saveAppPreferences(updatedSettings);\n  }\n\n  // \u66f4\u65b0\u4e3b\u9898\u8bbe\u7f6e\n  Future&lt;void&gt; updateTheme(String theme, bool enableDarkMode) async {\n    final settings = await getAppPreferences();\n    final updatedSettings = settings.copyWith(\n      theme: theme,\n      enableDarkMode: enableDarkMode,\n    );\n    await saveAppPreferences(updatedSettings);\n  }\n}\n</code></pre>"},{"location":"setting/index.html#2","title":"2. \u901a\u77e5\u8bbe\u7f6e\u7ba1\u7406","text":""},{"location":"setting/index.html#_7","title":"\u901a\u77e5\u504f\u597d\u914d\u7f6e","text":"<pre><code>// \u901a\u77e5\u8bbe\u7f6e\u6a21\u578b\nclass NotificationSettings {\n  final bool enablePushNotification;\n  final bool enableSoundNotification;\n  final bool enableVibrationNotification;\n  final bool enableLEDNotification;\n  final NotificationTime quietHours;\n  final Map&lt;NotificationType, bool&gt; typeSettings;\n\n  const NotificationSettings({\n    required this.enablePushNotification,\n    required this.enableSoundNotification,\n    required this.enableVibrationNotification,\n    required this.enableLEDNotification,\n    required this.quietHours,\n    required this.typeSettings,\n  });\n\n  factory NotificationSettings.defaultSettings() {\n    return NotificationSettings(\n      enablePushNotification: true,\n      enableSoundNotification: true,\n      enableVibrationNotification: true,\n      enableLEDNotification: false,\n      quietHours: NotificationTime.defaultQuietHours(),\n      typeSettings: {\n        NotificationType.system: true,\n        NotificationType.charging: true,\n        NotificationType.maintenance: true,\n        NotificationType.security: true,\n        NotificationType.social: false,\n        NotificationType.marketing: false,\n      },\n    );\n  }\n}\n\n// \u901a\u77e5\u8bbe\u7f6e\u670d\u52a1\nclass NotificationSettingsService {\n  final SettingRepository _settingRepository;\n  final PushNotificationService _pushService;\n\n  NotificationSettingsService(this._settingRepository, this._pushService);\n\n  // \u83b7\u53d6\u901a\u77e5\u8bbe\u7f6e\n  Future&lt;Result&lt;NotificationSettings&gt;&gt; getNotificationSettings() async {\n    try {\n      final settings = await _settingRepository.getNotificationSettings();\n      return Right(settings);\n    } catch (e) {\n      return Left(SettingFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u901a\u77e5\u8bbe\u7f6e\n  Future&lt;Result&lt;void&gt;&gt; updateNotificationSettings(\n    NotificationSettings settings,\n  ) async {\n    try {\n      await _settingRepository.updateNotificationSettings(settings);\n\n      // \u540c\u6b65\u5230\u63a8\u9001\u670d\u52a1\n      await _syncNotificationSettingsToPushService(settings);\n\n      return Right(unit);\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n\n  // \u5207\u6362\u901a\u77e5\u7c7b\u578b\u5f00\u5173\n  Future&lt;Result&lt;void&gt;&gt; toggleNotificationType(\n    NotificationType type,\n    bool enabled,\n  ) async {\n    try {\n      final currentSettings = await getNotificationSettings();\n      return currentSettings.fold(\n        (failure) =&gt; Left(failure),\n        (settings) async {\n          final updatedTypeSettings = Map&lt;NotificationType, bool&gt;.from(\n            settings.typeSettings,\n          );\n          updatedTypeSettings[type] = enabled;\n\n          final updatedSettings = settings.copyWith(\n            typeSettings: updatedTypeSettings,\n          );\n\n          return await updateNotificationSettings(updatedSettings);\n        },\n      );\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"setting/index.html#3","title":"3. \u9690\u79c1\u5b89\u5168\u8bbe\u7f6e","text":""},{"location":"setting/index.html#_8","title":"\u9690\u79c1\u8bbe\u7f6e\u7ba1\u7406","text":"<pre><code>// \u9690\u79c1\u8bbe\u7f6e\u6a21\u578b\nclass PrivacySettings {\n  final bool enableLocationSharing;\n  final bool enableDataAnalytics;\n  final bool enablePersonalizedAds;\n  final bool enableContactSync;\n  final bool enableBiometricAuth;\n  final bool enableAutoLock;\n  final Duration autoLockDuration;\n  final List&lt;String&gt; blockedContacts;\n\n  const PrivacySettings({\n    required this.enableLocationSharing,\n    required this.enableDataAnalytics,\n    required this.enablePersonalizedAds,\n    required this.enableContactSync,\n    required this.enableBiometricAuth,\n    required this.enableAutoLock,\n    required this.autoLockDuration,\n    required this.blockedContacts,\n  });\n\n  factory PrivacySettings.defaultSettings() {\n    return PrivacySettings(\n      enableLocationSharing: true,\n      enableDataAnalytics: false,\n      enablePersonalizedAds: false,\n      enableContactSync: false,\n      enableBiometricAuth: false,\n      enableAutoLock: true,\n      autoLockDuration: Duration(minutes: 5),\n      blockedContacts: [],\n    );\n  }\n}\n\n// \u9690\u79c1\u8bbe\u7f6e\u670d\u52a1\nclass PrivacySettingsService {\n  final SettingRepository _settingRepository;\n  final ConsentService _consentService;\n  final BiometricService _biometricService;\n\n  PrivacySettingsService(\n    this._settingRepository,\n    this._consentService,\n    this._biometricService,\n  );\n\n  // \u83b7\u53d6\u9690\u79c1\u8bbe\u7f6e\n  Future&lt;Result&lt;PrivacySettings&gt;&gt; getPrivacySettings() async {\n    try {\n      final settings = await _settingRepository.getPrivacySettings();\n      return Right(settings);\n    } catch (e) {\n      return Left(SettingFailure.loadFailed(e.toString()));\n    }\n  }\n\n  // \u66f4\u65b0\u9690\u79c1\u8bbe\u7f6e\n  Future&lt;Result&lt;void&gt;&gt; updatePrivacySettings(\n    PrivacySettings settings,\n  ) async {\n    try {\n      // \u68c0\u67e5\u6743\u9650\u53d8\u66f4\n      await _handlePrivacyPermissionChanges(settings);\n\n      await _settingRepository.updatePrivacySettings(settings);\n      return Right(unit);\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n\n  // \u542f\u7528\u751f\u7269\u8bc6\u522b\u8ba4\u8bc1\n  Future&lt;Result&lt;void&gt;&gt; enableBiometricAuth() async {\n    try {\n      // \u68c0\u67e5\u751f\u7269\u8bc6\u522b\u53ef\u7528\u6027\n      final isAvailable = await _biometricService.isAvailable();\n      if (!isAvailable) {\n        return Left(SettingFailure.biometricNotAvailable());\n      }\n\n      // \u9a8c\u8bc1\u751f\u7269\u8bc6\u522b\n      final isAuthenticated = await _biometricService.authenticate(\n        localizedReason: '\u8bf7\u9a8c\u8bc1\u751f\u7269\u8bc6\u522b\u4ee5\u542f\u7528\u6b64\u529f\u80fd',\n      );\n\n      if (!isAuthenticated) {\n        return Left(SettingFailure.biometricAuthFailed());\n      }\n\n      // \u66f4\u65b0\u8bbe\u7f6e\n      final currentSettings = await getPrivacySettings();\n      return currentSettings.fold(\n        (failure) =&gt; Left(failure),\n        (settings) async {\n          final updatedSettings = settings.copyWith(\n            enableBiometricAuth: true,\n          );\n          return await updatePrivacySettings(updatedSettings);\n        },\n      );\n    } catch (e) {\n      return Left(SettingFailure.updateFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"setting/index.html#4","title":"4. \u7cfb\u7edf\u8bbe\u7f6e","text":""},{"location":"setting/index.html#_9","title":"\u7cfb\u7edf\u4fe1\u606f\u4e0e\u8bbe\u7f6e","text":"<pre><code>// \u7cfb\u7edf\u8bbe\u7f6e\u670d\u52a1\nclass SystemSettingsService {\n  final PackageInfo _packageInfo;\n  final StorageService _storageService;\n  final NetworkService _networkService;\n\n  SystemSettingsService(\n    this._packageInfo,\n    this._storageService,\n    this._networkService,\n  );\n\n  // \u83b7\u53d6\u5e94\u7528\u4fe1\u606f\n  AppInfo getAppInfo() {\n    return AppInfo(\n      appName: _packageInfo.appName,\n      packageName: _packageInfo.packageName,\n      version: _packageInfo.version,\n      buildNumber: _packageInfo.buildNumber,\n    );\n  }\n\n  // \u83b7\u53d6\u5b58\u50a8\u4fe1\u606f\n  Future&lt;StorageInfo&gt; getStorageInfo() async {\n    final cacheSize = await _getCacheSize();\n    final userData = await _getUserDataSize();\n    final tempFiles = await _getTempFilesSize();\n\n    return StorageInfo(\n      cacheSize: cacheSize,\n      userDataSize: userData,\n      tempFilesSize: tempFiles,\n      totalUsage: cacheSize + userData + tempFiles,\n    );\n  }\n\n  // \u6e05\u7406\u7f13\u5b58\n  Future&lt;Result&lt;void&gt;&gt; clearCache() async {\n    try {\n      // \u6e05\u7406\u7f51\u7edc\u7f13\u5b58\n      await _networkService.clearCache();\n\n      // \u6e05\u7406\u56fe\u7247\u7f13\u5b58\n      await _clearImageCache();\n\n      // \u6e05\u7406\u4e34\u65f6\u6587\u4ef6\n      await _clearTempFiles();\n\n      return Right(unit);\n    } catch (e) {\n      return Left(SettingFailure.clearCacheFailed(e.toString()));\n    }\n  }\n\n  // \u68c0\u67e5\u66f4\u65b0\n  Future&lt;Result&lt;UpdateInfo?&gt;&gt; checkForUpdates() async {\n    try {\n      final updateInfo = await _networkService.checkAppUpdate(\n        currentVersion: _packageInfo.version,\n      );\n      return Right(updateInfo);\n    } catch (e) {\n      return Left(SettingFailure.updateCheckFailed(e.toString()));\n    }\n  }\n\n  // \u5bfc\u51fa\u7528\u6237\u6570\u636e\n  Future&lt;Result&lt;String&gt;&gt; exportUserData() async {\n    try {\n      final userData = await _collectUserData();\n      final exportPath = await _saveDataToFile(userData);\n      return Right(exportPath);\n    } catch (e) {\n      return Left(SettingFailure.exportFailed(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_10","title":"\u9875\u9762\u7ec4\u4ef6\u8bbe\u8ba1","text":""},{"location":"setting/index.html#_11","title":"\u4e3b\u8bbe\u7f6e\u9875\u9762","text":"<pre><code>// \u4e3b\u8bbe\u7f6e\u9875\u9762\nclass SettingsMainPage extends StatefulWidget {\n  @override\n  _SettingsMainPageState createState() =&gt; _SettingsMainPageState();\n}\n\nclass _SettingsMainPageState extends State&lt;SettingsMainPage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('\u8bbe\u7f6e'),\n      ),\n      body: ListView(\n        children: [\n          _buildUserSection(),\n          _buildAppSection(),\n          _buildPrivacySection(),\n          _buildNotificationSection(),\n          _buildSystemSection(),\n          _buildAboutSection(),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildUserSection() {\n    return SettingsSection(\n      title: '\u8d26\u6237',\n      children: [\n        SettingsTile.navigation(\n          leading: Icon(Icons.person),\n          title: Text('\u4e2a\u4eba\u4fe1\u606f'),\n          subtitle: Text('\u5934\u50cf\u3001\u6635\u79f0\u7b49'),\n          onPressed: (context) =&gt; _navigateToProfile(),\n        ),\n        SettingsTile.navigation(\n          leading: Icon(Icons.security),\n          title: Text('\u5b89\u5168\u8bbe\u7f6e'),\n          subtitle: Text('\u5bc6\u7801\u3001\u751f\u7269\u8bc6\u522b'),\n          onPressed: (context) =&gt; _navigateToSecurity(),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildAppSection() {\n    return SettingsSection(\n      title: '\u5e94\u7528',\n      children: [\n        SettingsTile.navigation(\n          leading: Icon(Icons.language),\n          title: Text('\u8bed\u8a00'),\n          subtitle: Text('\u4e2d\u6587\uff08\u7b80\u4f53\uff09'),\n          onPressed: (context) =&gt; _navigateToLanguage(),\n        ),\n        SettingsTile.navigation(\n          leading: Icon(Icons.palette),\n          title: Text('\u4e3b\u9898'),\n          subtitle: Text('\u8ddf\u968f\u7cfb\u7edf'),\n          onPressed: (context) =&gt; _navigateToTheme(),\n        ),\n        SettingsTile.switchTile(\n          leading: Icon(Icons.dark_mode),\n          title: Text('\u6df1\u8272\u6a21\u5f0f'),\n          initialValue: false,\n          onToggle: (value) =&gt; _toggleDarkMode(value),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_12","title":"\u901a\u77e5\u8bbe\u7f6e\u9875\u9762","text":"<pre><code>// \u901a\u77e5\u8bbe\u7f6e\u9875\u9762\nclass NotificationSettingsPage extends StatefulWidget {\n  @override\n  _NotificationSettingsPageState createState() =&gt; _NotificationSettingsPageState();\n}\n\nclass _NotificationSettingsPageState extends State&lt;NotificationSettingsPage&gt; {\n  late NotificationSettingsBloc _bloc;\n\n  @override\n  void initState() {\n    super.initState();\n    _bloc = context.read&lt;NotificationSettingsBloc&gt;();\n    _bloc.add(LoadNotificationSettings());\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('\u901a\u77e5\u8bbe\u7f6e')),\n      body: BlocBuilder&lt;NotificationSettingsBloc, NotificationSettingsState&gt;(\n        builder: (context, state) {\n          if (state is NotificationSettingsLoaded) {\n            return _buildSettingsList(state.settings);\n          } else if (state is NotificationSettingsError) {\n            return _buildErrorState(state.message);\n          } else {\n            return _buildLoadingState();\n          }\n        },\n      ),\n    );\n  }\n\n  Widget _buildSettingsList(NotificationSettings settings) {\n    return ListView(\n      children: [\n        SettingsSection(\n          title: '\u901a\u77e5\u5f00\u5173',\n          children: [\n            SettingsTile.switchTile(\n              leading: Icon(Icons.notifications),\n              title: Text('\u63a8\u9001\u901a\u77e5'),\n              subtitle: Text('\u63a5\u6536\u5e94\u7528\u63a8\u9001\u6d88\u606f'),\n              initialValue: settings.enablePushNotification,\n              onToggle: (value) =&gt; _togglePushNotification(value),\n            ),\n            SettingsTile.switchTile(\n              leading: Icon(Icons.volume_up),\n              title: Text('\u58f0\u97f3'),\n              initialValue: settings.enableSoundNotification,\n              onToggle: (value) =&gt; _toggleSoundNotification(value),\n            ),\n            SettingsTile.switchTile(\n              leading: Icon(Icons.vibration),\n              title: Text('\u632f\u52a8'),\n              initialValue: settings.enableVibrationNotification,\n              onToggle: (value) =&gt; _toggleVibrationNotification(value),\n            ),\n          ],\n        ),\n        SettingsSection(\n          title: '\u901a\u77e5\u7c7b\u578b',\n          children: [\n            ...settings.typeSettings.entries.map(\n              (entry) =&gt; SettingsTile.switchTile(\n                leading: _getNotificationTypeIcon(entry.key),\n                title: Text(_getNotificationTypeName(entry.key)),\n                initialValue: entry.value,\n                onToggle: (value) =&gt; _toggleNotificationType(entry.key, value),\n              ),\n            ),\n          ],\n        ),\n        SettingsSection(\n          title: '\u514d\u6253\u6270',\n          children: [\n            SettingsTile.navigation(\n              leading: Icon(Icons.schedule),\n              title: Text('\u514d\u6253\u6270\u65f6\u95f4'),\n              subtitle: Text('${settings.quietHours.startTime} - ${settings.quietHours.endTime}'),\n              onPressed: (context) =&gt; _navigateToQuietHours(),\n            ),\n          ],\n        ),\n      ],\n    );\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_13","title":"\u72b6\u6001\u7ba1\u7406","text":""},{"location":"setting/index.html#_14","title":"\u8bbe\u7f6e\u72b6\u6001\u7ba1\u7406","text":"<pre><code>// \u8bbe\u7f6e\u72b6\u6001 BLoC\nclass SettingsBloc extends Bloc&lt;SettingsEvent, SettingsState&gt; {\n  final AppPreferenceService _preferenceService;\n  final NotificationSettingsService _notificationService;\n  final PrivacySettingsService _privacyService;\n\n  SettingsBloc(\n    this._preferenceService,\n    this._notificationService,\n    this._privacyService,\n  ) : super(SettingsInitial()) {\n    on&lt;LoadAllSettings&gt;(_onLoadAllSettings);\n    on&lt;UpdateAppPreference&gt;(_onUpdateAppPreference);\n    on&lt;UpdateNotificationSettings&gt;(_onUpdateNotificationSettings);\n    on&lt;UpdatePrivacySettings&gt;(_onUpdatePrivacySettings);\n  }\n\n  Future&lt;void&gt; _onLoadAllSettings(\n    LoadAllSettings event,\n    Emitter&lt;SettingsState&gt; emit,\n  ) async {\n    emit(SettingsLoading());\n\n    try {\n      final appPreferences = await _preferenceService.getAppPreferences();\n      final notificationSettings = await _notificationService.getNotificationSettings();\n      final privacySettings = await _privacyService.getPrivacySettings();\n\n      final allSettings = AllSettings(\n        appPreferences: appPreferences,\n        notificationSettings: notificationSettings.getOrElse(() =&gt; NotificationSettings.defaultSettings()),\n        privacySettings: privacySettings.getOrElse(() =&gt; PrivacySettings.defaultSettings()),\n      );\n\n      emit(SettingsLoaded(allSettings));\n    } catch (e) {\n      emit(SettingsError('\u52a0\u8f7d\u8bbe\u7f6e\u5931\u8d25: $e'));\n    }\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_15","title":"\u8def\u7531\u914d\u7f6e","text":""},{"location":"setting/index.html#_16","title":"\u8bbe\u7f6e\u6a21\u5757\u8def\u7531","text":"<pre><code>// \u8bbe\u7f6e\u6a21\u5757\u8def\u7531\u914d\u7f6e\nclass SettingRoutes {\n  static const String main = '/settings';\n  static const String profile = '/settings/profile';\n  static const String notification = '/settings/notification';\n  static const String privacy = '/settings/privacy';\n  static const String security = '/settings/security';\n  static const String language = '/settings/language';\n  static const String theme = '/settings/theme';\n  static const String about = '/settings/about';\n\n  static List&lt;ModularRoute&gt; get routes =&gt; [\n    ChildRoute(\n      main,\n      child: (context, args) =&gt; SettingsMainPage(),\n    ),\n    ChildRoute(\n      profile,\n      child: (context, args) =&gt; ProfileSettingsPage(),\n    ),\n    ChildRoute(\n      notification,\n      child: (context, args) =&gt; NotificationSettingsPage(),\n    ),\n    ChildRoute(\n      privacy,\n      child: (context, args) =&gt; PrivacySettingsPage(),\n    ),\n    ChildRoute(\n      security,\n      child: (context, args) =&gt; SecuritySettingsPage(),\n    ),\n    ChildRoute(\n      language,\n      child: (context, args) =&gt; LanguageSettingsPage(),\n    ),\n    ChildRoute(\n      theme,\n      child: (context, args) =&gt; ThemeSettingsPage(),\n    ),\n    ChildRoute(\n      about,\n      child: (context, args) =&gt; AboutPage(),\n    ),\n  ];\n}\n</code></pre>"},{"location":"setting/index.html#_17","title":"\u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"setting/index.html#_18","title":"\u6838\u5fc3\u4f9d\u8d56","text":"<ul> <li>basic_network: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li>basic_storage: \u672c\u5730\u5b58\u50a8</li> <li>basic_modular: \u6a21\u5757\u5316\u6846\u67b6</li> <li>basic_intl: \u56fd\u9645\u5316\u652f\u6301</li> </ul>"},{"location":"setting/index.html#_19","title":"\u670d\u52a1\u4f9d\u8d56","text":"<ul> <li>clr_setting: \u8bbe\u7f6e\u670d\u52a1 SDK</li> <li>clr_media: \u5a92\u4f53\u670d\u52a1</li> <li>app_consent: \u7528\u6237\u540c\u610f\u7ba1\u7406</li> </ul>"},{"location":"setting/index.html#_20","title":"\u7cfb\u7edf\u4f9d\u8d56","text":"<ul> <li>package_info: \u5e94\u7528\u4fe1\u606f\u83b7\u53d6</li> <li>cupertino_icons: iOS \u98ce\u683c\u56fe\u6807</li> </ul>"},{"location":"setting/index.html#_21","title":"\u6570\u636e\u6301\u4e45\u5316","text":""},{"location":"setting/index.html#_22","title":"\u8bbe\u7f6e\u5b58\u50a8\u7b56\u7565","text":"<pre><code>// \u8bbe\u7f6e\u5b58\u50a8\u7ba1\u7406\u5668\nclass SettingsStorageManager {\n  final StorageService _storageService;\n\n  SettingsStorageManager(this._storageService);\n\n  // \u4fdd\u5b58\u8bbe\u7f6e\u5230\u672c\u5730\n  Future&lt;void&gt; saveSettings&lt;T&gt;(String key, T settings) async {\n    await _storageService.setObject(key, settings.toJson());\n  }\n\n  // \u4ece\u672c\u5730\u52a0\u8f7d\u8bbe\u7f6e\n  Future&lt;T?&gt; loadSettings&lt;T&gt;(\n    String key,\n    T Function(Map&lt;String, dynamic&gt;) fromJson,\n  ) async {\n    final json = await _storageService.getObject(key);\n    if (json != null) {\n      return fromJson(json);\n    }\n    return null;\n  }\n\n  // \u540c\u6b65\u8bbe\u7f6e\u5230\u4e91\u7aef\n  Future&lt;void&gt; syncSettingsToCloud() async {\n    // \u5b9e\u73b0\u4e91\u7aef\u540c\u6b65\u903b\u8f91\n  }\n}\n</code></pre>"},{"location":"setting/index.html#_23","title":"\u9519\u8bef\u5904\u7406","text":""},{"location":"setting/index.html#_24","title":"\u8bbe\u7f6e\u7279\u5b9a\u5f02\u5e38","text":"<pre><code>// \u8bbe\u7f6e\u529f\u80fd\u5f02\u5e38\nabstract class SettingFailure {\n  const SettingFailure();\n\n  factory SettingFailure.loadFailed(String message) = LoadFailure;\n  factory SettingFailure.updateFailed(String message) = UpdateFailure;\n  factory SettingFailure.clearCacheFailed(String message) = ClearCacheFailure;\n  factory SettingFailure.biometricNotAvailable() = BiometricNotAvailableFailure;\n  factory SettingFailure.biometricAuthFailed() = BiometricAuthFailure;\n}\n\nclass LoadFailure extends SettingFailure {\n  final String message;\n  const LoadFailure(this.message);\n}\n</code></pre>"},{"location":"setting/index.html#_25","title":"\u603b\u7ed3","text":"<p><code>app_setting</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u5e94\u7528\u8bbe\u7f6e\u7ba1\u7406\u529f\u80fd\uff0c\u6db5\u76d6\u7528\u6237\u504f\u597d\u3001\u901a\u77e5\u7ba1\u7406\u3001\u9690\u79c1\u5b89\u5168\u7b49\u5404\u4e2a\u65b9\u9762\u3002\u6a21\u5757\u91c7\u7528\u6e05\u6670\u7684\u5206\u5c42\u67b6\u6784\u548c\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u652f\u6301\u591a\u8bed\u8a00\u3001\u4e3b\u9898\u5207\u6362\u548c\u4e91\u7aef\u540c\u6b65\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e2a\u6027\u5316\u548c\u5b89\u5168\u7684\u8bbe\u7f6e\u4f53\u9a8c\u3002\u901a\u8fc7\u5b8c\u5584\u7684\u72b6\u6001\u7ba1\u7406\u548c\u9519\u8bef\u5904\u7406\u673a\u5236\uff0c\u786e\u4fdd\u4e86\u8bbe\u7f6e\u529f\u80fd\u7684\u7a33\u5b9a\u6027\u548c\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"touch_point/index.html","title":"Touch Point \u89e6\u70b9\u670d\u52a1\u6a21\u5757\u7fa4","text":""},{"location":"touch_point/index.html#_1","title":"\u6a21\u5757\u7fa4\u6982\u8ff0","text":"<p>Touch Point \u6a21\u5757\u7fa4\u662f OneApp \u7684\u7528\u6237\u89e6\u70b9\u7ba1\u7406\u7cfb\u7edf\uff0c\u8d1f\u8d23\u7ba1\u7406\u7528\u6237\u4e0e\u5e94\u7528\u7684\u5404\u79cd\u4ea4\u4e92\u89e6\u70b9\u3002\u8be5\u6a21\u5757\u7fa4\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u7528\u6237\u4f53\u9a8c\u7ba1\u7406\u3001\u89e6\u70b9\u6570\u636e\u6536\u96c6\u3001\u7528\u6237\u884c\u4e3a\u5206\u6790\u7b49\u529f\u80fd\uff0c\u5e2e\u52a9\u4f18\u5316\u7528\u6237\u65c5\u7a0b\u548c\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</p>"},{"location":"touch_point/index.html#_2","title":"\u5b50\u6a21\u5757\u5217\u8868","text":""},{"location":"touch_point/index.html#_3","title":"\u6838\u5fc3\u6a21\u5757","text":"<ol> <li>oneapp_touch_point - \u89e6\u70b9\u670d\u52a1\u4e3b\u6a21\u5757    - \u7528\u6237\u89e6\u70b9\u6570\u636e\u6536\u96c6\u548c\u7ba1\u7406    - \u89e6\u70b9\u4e8b\u4ef6\u8ddf\u8e2a\u548c\u5206\u6790    - \u7528\u6237\u884c\u4e3a\u8def\u5f84\u8bb0\u5f55</li> </ol>"},{"location":"touch_point/index.html#_4","title":"\u529f\u80fd\u7279\u6027","text":""},{"location":"touch_point/index.html#_5","title":"\u6838\u5fc3\u4e1a\u52a1\u529f\u80fd","text":"<ol> <li> <p>\u89e6\u70b9\u6570\u636e\u6536\u96c6    - \u7528\u6237\u4ea4\u4e92\u4e8b\u4ef6\u6536\u96c6    - \u9875\u9762\u8bbf\u95ee\u8def\u5f84\u8ddf\u8e2a    - \u7528\u6237\u884c\u4e3a\u6570\u636e\u8bb0\u5f55    - \u8bbe\u5907\u548c\u73af\u5883\u4fe1\u606f\u91c7\u96c6</p> </li> <li> <p>\u7528\u6237\u4f53\u9a8c\u5206\u6790    - \u7528\u6237\u65c5\u7a0b\u5206\u6790    - \u8f6c\u5316\u6f0f\u6597\u5206\u6790    - \u7528\u6237\u7559\u5b58\u5206\u6790    - \u884c\u4e3a\u70ed\u529b\u56fe\u751f\u6210</p> </li> <li> <p>\u4e2a\u6027\u5316\u63a8\u8350    - \u57fa\u4e8e\u884c\u4e3a\u7684\u5185\u5bb9\u63a8\u8350    - \u4e2a\u6027\u5316\u754c\u9762\u9002\u914d    - \u667a\u80fd\u6d88\u606f\u63a8\u9001    - \u7528\u6237\u504f\u597d\u5b66\u4e60</p> </li> <li> <p>\u4f53\u9a8c\u4f18\u5316    - A/B\u6d4b\u8bd5\u652f\u6301    - \u7528\u6237\u53cd\u9988\u6536\u96c6    - \u6027\u80fd\u76d1\u63a7\u548c\u4f18\u5316    - \u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b</p> </li> </ol>"},{"location":"touch_point/index.html#_6","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"touch_point/index.html#_7","title":"\u6a21\u5757\u67b6\u6784\u56fe","text":"<pre><code>\u89e6\u70b9\u670d\u52a1\u5e94\u7528\u5c42 (oneapp_touch_point)\n    \u2193\n\u6570\u636e\u6536\u96c6\u5c42 (Event Collection)\n    \u2193\n\u6570\u636e\u5904\u7406\u5c42 (Data Processing)\n    \u2193\n\u5206\u6790\u5f15\u64ce\u5c42 (Analytics Engine)\n    \u2193\n\u5b58\u50a8\u5c42 (Data Storage)\n</code></pre>"},{"location":"touch_point/index.html#_8","title":"\u4e3b\u8981\u4f9d\u8d56","text":"<ul> <li>\u57fa\u7840\u6846\u67b6: basic_modular, basic_intl</li> <li>\u7f51\u7edc\u901a\u4fe1: dio</li> <li>\u6570\u636e\u5904\u7406: encrypt, common_utils</li> <li>UI\u7ec4\u4ef6: basic_webview, photo_view</li> <li>\u6587\u4ef6\u5904\u7406: path_provider, filesize</li> <li>\u5a92\u4f53\u5904\u7406: video_thumbnail</li> <li>\u6743\u9650\u7ba1\u7406: permission_handler</li> </ul>"},{"location":"touch_point/index.html#_9","title":"\u6570\u636e\u6d41\u5411","text":""},{"location":"touch_point/index.html#_10","title":"\u89e6\u70b9\u6570\u636e\u6d41","text":"<pre><code>graph TD\n    A[\u7528\u6237\u4ea4\u4e92] --&gt; B[\u4e8b\u4ef6\u6536\u96c6\u5668]\n    B --&gt; C[\u6570\u636e\u9884\u5904\u7406]\n    C --&gt; D[\u6570\u636e\u9a8c\u8bc1]\n    D --&gt; E[\u6570\u636e\u52a0\u5bc6]\n    E --&gt; F[\u672c\u5730\u7f13\u5b58]\n    F --&gt; G[\u6279\u91cf\u4e0a\u4f20]\n    G --&gt; H[\u670d\u52a1\u5668\u5904\u7406]\n    H --&gt; I[\u6570\u636e\u5206\u6790]\n    I --&gt; J[\u53cd\u9988\u4f18\u5316]</code></pre>"},{"location":"touch_point/index.html#_11","title":"\u7528\u6237\u4f53\u9a8c\u4f18\u5316\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u6536\u96c6\u7528\u6237\u6570\u636e] --&gt; B[\u884c\u4e3a\u5206\u6790]\n    B --&gt; C[\u8bc6\u522b\u75db\u70b9]\n    C --&gt; D[\u5236\u5b9a\u4f18\u5316\u65b9\u6848]\n    D --&gt; E[A/B\u6d4b\u8bd5]\n    E --&gt; F[\u6548\u679c\u8bc4\u4f30]\n    F --&gt; G[\u65b9\u6848\u8fed\u4ee3]\n    G --&gt; H[\u5168\u91cf\u53d1\u5e03]</code></pre>"},{"location":"touch_point/index.html#_12","title":"\u8be6\u7ec6\u6a21\u5757\u6587\u6863","text":"<ul> <li>OneApp Touch Point - \u89e6\u70b9\u670d\u52a1\u4e3b\u6a21\u5757</li> </ul>"},{"location":"touch_point/index.html#_13","title":"\u5f00\u53d1\u6307\u5357","text":""},{"location":"touch_point/index.html#_14","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Flutter &gt;=2.10.5</li> <li>Dart &gt;=3.0.0 &lt;4.0.0</li> <li>Android SDK &gt;=21</li> <li>iOS &gt;=11.0</li> </ul>"},{"location":"touch_point/index.html#_15","title":"\u5feb\u901f\u5f00\u59cb","text":"<pre><code>// \u521d\u59cb\u5316\u89e6\u70b9\u670d\u52a1\nawait TouchPointService.initialize();\n\n// \u8bb0\u5f55\u7528\u6237\u884c\u4e3a\u4e8b\u4ef6\nTouchPointService.trackEvent(\n  eventName: 'page_view',\n  properties: {\n    'page_name': 'home',\n    'timestamp': DateTime.now().millisecondsSinceEpoch,\n  },\n);\n\n// \u8bb0\u5f55\u7528\u6237\u64cd\u4f5c\nTouchPointService.trackAction(\n  actionType: 'button_click',\n  actionTarget: 'login_button',\n  context: {'page': 'login'},\n);\n</code></pre>"},{"location":"touch_point/index.html#_16","title":"\u9690\u79c1\u548c\u5408\u89c4","text":""},{"location":"touch_point/index.html#_17","title":"\u6570\u636e\u4fdd\u62a4","text":"<ul> <li>\u7528\u6237\u6570\u636e\u52a0\u5bc6\u5b58\u50a8\u548c\u4f20\u8f93</li> <li>\u654f\u611f\u4fe1\u606f\u8131\u654f\u5904\u7406</li> <li>\u7528\u6237\u540c\u610f\u7ba1\u7406</li> <li>\u6570\u636e\u6700\u5c0f\u5316\u539f\u5219</li> </ul>"},{"location":"touch_point/index.html#_18","title":"\u5408\u89c4\u8981\u6c42","text":"<ul> <li>GDPR\u5408\u89c4\u652f\u6301</li> <li>\u7528\u6237\u6570\u636e\u5220\u9664\u6743</li> <li>\u6570\u636e\u5bfc\u51fa\u529f\u80fd</li> <li>\u9690\u79c1\u653f\u7b56\u900f\u660e\u5316</li> </ul>"},{"location":"touch_point/index.html#_19","title":"\u603b\u7ed3","text":"<p>Touch Point \u6a21\u5757\u7fa4\u4e3a OneApp \u63d0\u4f9b\u4e86\u5168\u9762\u7684\u7528\u6237\u89e6\u70b9\u7ba1\u7406\u80fd\u529b\uff0c\u901a\u8fc7\u79d1\u5b66\u7684\u6570\u636e\u6536\u96c6\u548c\u5206\u6790\u65b9\u6cd5\uff0c\u5e2e\u52a9\u4ea7\u54c1\u56e2\u961f\u6df1\u5165\u4e86\u89e3\u7528\u6237\u884c\u4e3a\uff0c\u6301\u7eed\u4f18\u5316\u7528\u6237\u4f53\u9a8c\uff0c\u63d0\u5347\u4ea7\u54c1\u4ef7\u503c\u3002</p>"},{"location":"touch_point/oneapp_touch_point.html","title":"OneApp Touch Point - \u89e6\u70b9\u670d\u52a1\u4e3b\u6a21\u5757","text":""},{"location":"touch_point/oneapp_touch_point.html#_1","title":"\u6a21\u5757\u6982\u8ff0","text":"<p><code>oneapp_touch_point</code> \u662f OneApp \u7684\u89e6\u70b9\u670d\u52a1\u4e3b\u6a21\u5757\uff0c\u8d1f\u8d23\u7528\u6237\u89e6\u70b9\u6570\u636e\u7684\u6536\u96c6\u3001\u7ba1\u7406\u548c\u5206\u6790\u3002\u8be5\u6a21\u5757\u901a\u8fc7\u8ddf\u8e2a\u7528\u6237\u5728\u5e94\u7528\u4e2d\u7684\u5404\u79cd\u4ea4\u4e92\u884c\u4e3a\uff0c\u6784\u5efa\u5b8c\u6574\u7684\u7528\u6237\u884c\u4e3a\u8def\u5f84\uff0c\u4e3a\u7528\u6237\u4f53\u9a8c\u4f18\u5316\u3001\u4e2a\u6027\u5316\u63a8\u8350\u548c\u4e1a\u52a1\u51b3\u7b56\u63d0\u4f9b\u6570\u636e\u652f\u6491\u3002</p>"},{"location":"touch_point/oneapp_touch_point.html#_2","title":"\u6838\u5fc3\u529f\u80fd","text":""},{"location":"touch_point/oneapp_touch_point.html#1","title":"1. \u7528\u6237\u89e6\u70b9\u6570\u636e\u6536\u96c6","text":"<ul> <li>\u884c\u4e3a\u4e8b\u4ef6\u8ddf\u8e2a\uff1a\u8bb0\u5f55\u7528\u6237\u7684\u70b9\u51fb\u3001\u6ed1\u52a8\u3001\u505c\u7559\u7b49\u884c\u4e3a</li> <li>\u9875\u9762\u8bbf\u95ee\u8ddf\u8e2a\uff1a\u8ddf\u8e2a\u7528\u6237\u7684\u9875\u9762\u8bbf\u95ee\u8def\u5f84\u548c\u65f6\u957f</li> <li>\u529f\u80fd\u4f7f\u7528\u7edf\u8ba1\uff1a\u7edf\u8ba1\u5404\u529f\u80fd\u6a21\u5757\u7684\u4f7f\u7528\u9891\u7387</li> <li>\u5f02\u5e38\u884c\u4e3a\u76d1\u63a7\uff1a\u76d1\u63a7\u548c\u8bb0\u5f55\u5f02\u5e38\u7684\u7528\u6237\u884c\u4e3a</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#2","title":"2. \u89e6\u70b9\u4e8b\u4ef6\u8ddf\u8e2a\u548c\u5206\u6790","text":"<ul> <li>\u4e8b\u4ef6\u5206\u7c7b\u7ba1\u7406\uff1a\u5bf9\u89e6\u70b9\u4e8b\u4ef6\u8fdb\u884c\u5206\u7c7b\u548c\u6807\u7b7e\u7ba1\u7406</li> <li>\u5b9e\u65f6\u4e8b\u4ef6\u5904\u7406\uff1a\u5b9e\u65f6\u5904\u7406\u548c\u54cd\u5e94\u89e6\u70b9\u4e8b\u4ef6</li> <li>\u4e8b\u4ef6\u5173\u8054\u5206\u6790\uff1a\u5206\u6790\u4e8b\u4ef6\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb</li> <li>\u8d8b\u52bf\u5206\u6790\uff1a\u5206\u6790\u7528\u6237\u884c\u4e3a\u7684\u8d8b\u52bf\u53d8\u5316</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#3","title":"3. \u7528\u6237\u884c\u4e3a\u8def\u5f84\u8bb0\u5f55","text":"<ul> <li>\u7528\u6237\u65c5\u7a0b\u6620\u5c04\uff1a\u6784\u5efa\u5b8c\u6574\u7684\u7528\u6237\u65c5\u7a0b\u5730\u56fe</li> <li>\u8f6c\u5316\u6f0f\u6597\u5206\u6790\uff1a\u5206\u6790\u7528\u6237\u5728\u5173\u952e\u6d41\u7a0b\u4e2d\u7684\u8f6c\u5316\u60c5\u51b5</li> <li>\u8def\u5f84\u4f18\u5316\u5efa\u8bae\uff1a\u57fa\u4e8e\u6570\u636e\u5206\u6790\u63d0\u4f9b\u8def\u5f84\u4f18\u5316\u5efa\u8bae</li> <li>\u5f02\u5e38\u8def\u5f84\u8bc6\u522b\uff1a\u8bc6\u522b\u548c\u5206\u6790\u5f02\u5e38\u7684\u7528\u6237\u884c\u4e3a\u8def\u5f84</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_3","title":"\u6280\u672f\u67b6\u6784","text":""},{"location":"touch_point/oneapp_touch_point.html#_4","title":"\u67b6\u6784\u8bbe\u8ba1","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            \u5e94\u7528\u754c\u9762\u5c42                \u2502\n\u2502         (Application UI)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502        OneApp Touch Point           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u6570\u636e\u6536\u96c6 \u2502 \u4e8b\u4ef6\u5904\u7406 \u2502 \u884c\u4e3a\u5206\u6790 \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 \u8def\u5f84\u8ddf\u8e2a \u2502 \u6570\u636e\u5b58\u50a8 \u2502 \u62a5\u544a\u751f\u6210 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u6570\u636e\u5904\u7406\u5c42                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 \u6570\u636e\u6e05\u6d17 \u2502 \u6570\u636e\u805a\u5408 \u2502 \u6570\u636e\u5206\u6790 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           \u6570\u636e\u5b58\u50a8\u5c42                \u2502\n\u2502    (Local DB + Remote Analytics)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_5","title":"\u6838\u5fc3\u7ec4\u4ef6","text":""},{"location":"touch_point/oneapp_touch_point.html#1_touchpointcollector","title":"1. \u89e6\u70b9\u6570\u636e\u6536\u96c6\u5668 (TouchPointCollector)","text":"<pre><code>class TouchPointCollector {\n  // \u8bb0\u5f55\u89e6\u70b9\u4e8b\u4ef6\n  Future&lt;void&gt; trackEvent(TouchPointEvent event);\n\n  // \u8bb0\u5f55\u9875\u9762\u8bbf\u95ee\n  Future&lt;void&gt; trackPageView(PageViewEvent event);\n\n  // \u8bb0\u5f55\u7528\u6237\u884c\u4e3a\n  Future&lt;void&gt; trackUserAction(UserActionEvent event);\n\n  // \u6279\u91cf\u4e0a\u4f20\u6570\u636e\n  Future&lt;bool&gt; uploadBatchData();\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#2_eventanalyzer","title":"2. \u4e8b\u4ef6\u5206\u6790\u5668 (EventAnalyzer)","text":"<pre><code>class TouchPointEventAnalyzer {\n  // \u5206\u6790\u7528\u6237\u884c\u4e3a\u6a21\u5f0f\n  Future&lt;UserBehaviorPattern&gt; analyzeUserBehavior(String userId, TimeRange timeRange);\n\n  // \u751f\u6210\u7528\u6237\u65c5\u7a0b\n  Future&lt;UserJourney&gt; generateUserJourney(String userId, String sessionId);\n\n  // \u8ba1\u7b97\u8f6c\u5316\u7387\n  Future&lt;ConversionRate&gt; calculateConversionRate(ConversionFunnel funnel);\n\n  // \u8bc6\u522b\u5f02\u5e38\u884c\u4e3a\n  Future&lt;List&lt;AnomalousEvent&gt;&gt; detectAnomalousEvents(AnalysisConfig config);\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#3_pathtracker","title":"3. \u8def\u5f84\u8ddf\u8e2a\u5668 (PathTracker)","text":"<pre><code>class UserPathTracker {\n  // \u5f00\u59cb\u8def\u5f84\u8ddf\u8e2a\n  Future&lt;String&gt; startPathTracking(String userId);\n\n  // \u8bb0\u5f55\u8def\u5f84\u8282\u70b9\n  Future&lt;void&gt; recordPathNode(String sessionId, PathNode node);\n\n  // \u7ed3\u675f\u8def\u5f84\u8ddf\u8e2a\n  Future&lt;UserPath&gt; endPathTracking(String sessionId);\n\n  // \u83b7\u53d6\u7528\u6237\u8def\u5f84\u5386\u53f2\n  Future&lt;List&lt;UserPath&gt;&gt; getUserPathHistory(String userId, int limit);\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#4_touchpointdatamanager","title":"4. \u6570\u636e\u7ba1\u7406\u5668 (TouchPointDataManager)","text":"<pre><code>class TouchPointDataManager {\n  // \u5b58\u50a8\u89e6\u70b9\u6570\u636e\n  Future&lt;bool&gt; storeTouchPointData(TouchPointData data);\n\n  // \u67e5\u8be2\u89e6\u70b9\u6570\u636e\n  Future&lt;List&lt;TouchPointData&gt;&gt; queryTouchPointData(DataQuery query);\n\n  // \u6e05\u7406\u8fc7\u671f\u6570\u636e\n  Future&lt;int&gt; cleanupExpiredData(Duration retentionPeriod);\n\n  // \u5bfc\u51fa\u6570\u636e\n  Future&lt;String&gt; exportData(ExportConfig config);\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_6","title":"\u6570\u636e\u6a21\u578b","text":""},{"location":"touch_point/oneapp_touch_point.html#_7","title":"\u89e6\u70b9\u4e8b\u4ef6\u6a21\u578b","text":"<pre><code>class TouchPointEvent {\n  final String id;\n  final String userId;\n  final String sessionId;\n  final EventType type;\n  final String category;\n  final String action;\n  final String? target;\n  final Map&lt;String, dynamic&gt; properties;\n  final DateTime timestamp;\n  final String pageUrl;\n  final String? referrer;\n  final DeviceInfo deviceInfo;\n  final LocationInfo? locationInfo;\n}\n\nenum EventType {\n  click,        // \u70b9\u51fb\u4e8b\u4ef6\n  view,         // \u67e5\u770b\u4e8b\u4ef6\n  scroll,       // \u6eda\u52a8\u4e8b\u4ef6\n  input,        // \u8f93\u5165\u4e8b\u4ef6\n  search,       // \u641c\u7d22\u4e8b\u4ef6\n  purchase,     // \u8d2d\u4e70\u4e8b\u4ef6\n  share,        // \u5206\u4eab\u4e8b\u4ef6\n  download,     // \u4e0b\u8f7d\u4e8b\u4ef6\n  upload,       // \u4e0a\u4f20\u4e8b\u4ef6\n  custom        // \u81ea\u5b9a\u4e49\u4e8b\u4ef6\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_8","title":"\u7528\u6237\u8def\u5f84\u6a21\u578b","text":"<pre><code>class UserPath {\n  final String id;\n  final String userId;\n  final String sessionId;\n  final DateTime startTime;\n  final DateTime endTime;\n  final List&lt;PathNode&gt; nodes;\n  final Duration totalDuration;\n  final String? goalAchieved;\n  final Map&lt;String, dynamic&gt; metadata;\n}\n\nclass PathNode {\n  final String id;\n  final String pageUrl;\n  final String pageName;\n  final DateTime entryTime;\n  final DateTime? exitTime;\n  final Duration? duration;\n  final List&lt;TouchPointEvent&gt; events;\n  final String? exitMethod;\n  final Map&lt;String, dynamic&gt; pageData;\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_9","title":"\u7528\u6237\u884c\u4e3a\u5206\u6790\u6a21\u578b","text":"<pre><code>class UserBehaviorPattern {\n  final String userId;\n  final TimeRange analysisPeriod;\n  final List&lt;String&gt; frequentPages;\n  final List&lt;String&gt; preferredFeatures;\n  final Map&lt;String, int&gt; actionCounts;\n  final List&lt;BehaviorInsight&gt; insights;\n  final double engagementScore;\n  final UserSegment segment;\n}\n\nclass ConversionFunnel {\n  final String name;\n  final List&lt;FunnelStep&gt; steps;\n  final Map&lt;String, ConversionMetric&gt; metrics;\n  final DateTime analysisTime;\n}\n\nclass ConversionMetric {\n  final int totalUsers;\n  final int convertedUsers;\n  final double conversionRate;\n  final Duration averageTime;\n  final List&lt;String&gt; dropOffReasons;\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#api","title":"API \u63a5\u53e3","text":""},{"location":"touch_point/oneapp_touch_point.html#_10","title":"\u6570\u636e\u6536\u96c6\u63a5\u53e3","text":"<pre><code>abstract class TouchPointTrackingService {\n  // \u8ddf\u8e2a\u4e8b\u4ef6\n  Future&lt;ApiResponse&lt;bool&gt;&gt; trackEvent(TrackEventRequest request);\n\n  // \u6279\u91cf\u8ddf\u8e2a\u4e8b\u4ef6\n  Future&lt;ApiResponse&lt;BatchResult&gt;&gt; trackBatchEvents(BatchTrackRequest request);\n\n  // \u8ddf\u8e2a\u9875\u9762\u8bbf\u95ee\n  Future&lt;ApiResponse&lt;bool&gt;&gt; trackPageView(PageViewRequest request);\n\n  // \u8ddf\u8e2a\u7528\u6237\u4f1a\u8bdd\n  Future&lt;ApiResponse&lt;String&gt;&gt; trackUserSession(SessionRequest request);\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_11","title":"\u6570\u636e\u5206\u6790\u63a5\u53e3","text":"<pre><code>abstract class TouchPointAnalyticsService {\n  // \u83b7\u53d6\u7528\u6237\u884c\u4e3a\u5206\u6790\n  Future&lt;ApiResponse&lt;UserBehaviorPattern&gt;&gt; getUserBehaviorAnalysis(BehaviorAnalysisRequest request);\n\n  // \u83b7\u53d6\u8f6c\u5316\u6f0f\u6597\u5206\u6790\n  Future&lt;ApiResponse&lt;ConversionFunnelResult&gt;&gt; getConversionAnalysis(ConversionAnalysisRequest request);\n\n  // \u83b7\u53d6\u7528\u6237\u65c5\u7a0b\u5206\u6790\n  Future&lt;ApiResponse&lt;UserJourneyResult&gt;&gt; getUserJourneyAnalysis(JourneyAnalysisRequest request);\n\n  // \u83b7\u53d6\u5b9e\u65f6\u5206\u6790\u6570\u636e\n  Future&lt;ApiResponse&lt;RealtimeAnalytics&gt;&gt; getRealtimeAnalytics();\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_12","title":"\u6570\u636e\u7ba1\u7406\u63a5\u53e3","text":"<pre><code>abstract class TouchPointDataService {\n  // \u67e5\u8be2\u89e6\u70b9\u6570\u636e\n  Future&lt;ApiResponse&lt;List&lt;TouchPointData&gt;&gt;&gt; queryTouchPointData(DataQueryRequest request);\n\n  // \u5bfc\u51fa\u89e6\u70b9\u6570\u636e\n  Future&lt;ApiResponse&lt;String&gt;&gt; exportTouchPointData(ExportRequest request);\n\n  // \u5220\u9664\u7528\u6237\u6570\u636e\n  Future&lt;ApiResponse&lt;bool&gt;&gt; deleteUserData(DeleteUserDataRequest request);\n\n  // \u83b7\u53d6\u6570\u636e\u7edf\u8ba1\n  Future&lt;ApiResponse&lt;DataStatistics&gt;&gt; getDataStatistics(StatisticsRequest request);\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_13","title":"\u914d\u7f6e\u7ba1\u7406","text":""},{"location":"touch_point/oneapp_touch_point.html#_14","title":"\u89e6\u70b9\u8ddf\u8e2a\u914d\u7f6e","text":"<pre><code>class TouchPointConfig {\n  final bool enableTracking;\n  final bool enableRealTimeAnalysis;\n  final int batchUploadSize;\n  final Duration uploadInterval;\n  final List&lt;EventType&gt; trackedEventTypes;\n  final Duration dataRetentionPeriod;\n  final bool enableLocationTracking;\n  final PrivacyLevel privacyLevel;\n\n  static const TouchPointConfig defaultConfig = TouchPointConfig(\n    enableTracking: true,\n    enableRealTimeAnalysis: true,\n    batchUploadSize: 100,\n    uploadInterval: Duration(minutes: 5),\n    trackedEventTypes: [\n      EventType.click,\n      EventType.view,\n      EventType.search,\n      EventType.purchase,\n    ],\n    dataRetentionPeriod: Duration(days: 90),\n    enableLocationTracking: false,\n    privacyLevel: PrivacyLevel.standard,\n  );\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_15","title":"\u5206\u6790\u914d\u7f6e","text":"<pre><code>class AnalyticsConfig {\n  final bool enableBehaviorAnalysis;\n  final bool enablePathAnalysis;\n  final bool enableConversionTracking;\n  final Duration analysisInterval;\n  final int maxPathLength;\n  final List&lt;String&gt; conversionGoals;\n  final Map&lt;String, double&gt; eventWeights;\n\n  static const AnalyticsConfig defaultAnalyticsConfig = AnalyticsConfig(\n    enableBehaviorAnalysis: true,\n    enablePathAnalysis: true,\n    enableConversionTracking: true,\n    analysisInterval: Duration(hours: 1),\n    maxPathLength: 50,\n    conversionGoals: ['purchase', 'registration', 'subscription'],\n    eventWeights: {\n      'click': 1.0,\n      'view': 0.5,\n      'search': 1.5,\n      'purchase': 5.0,\n    },\n  );\n}\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_16","title":"\u4f7f\u7528\u793a\u4f8b","text":""},{"location":"touch_point/oneapp_touch_point.html#_17","title":"\u57fa\u672c\u4e8b\u4ef6\u8ddf\u8e2a","text":"<pre><code>// \u521d\u59cb\u5316\u89e6\u70b9\u670d\u52a1\nfinal touchPointService = TouchPointCollector.instance;\nawait touchPointService.initialize(TouchPointConfig.defaultConfig);\n\n// \u8ddf\u8e2a\u9875\u9762\u8bbf\u95ee\nawait touchPointService.trackPageView(\n  PageViewEvent(\n    userId: 'user123',\n    sessionId: 'session456',\n    pageUrl: '/home',\n    pageName: '\u9996\u9875',\n    timestamp: DateTime.now(),\n    properties: {\n      'source': 'direct',\n      'previous_page': '/login',\n    },\n  ),\n);\n\n// \u8ddf\u8e2a\u7528\u6237\u884c\u4e3a\nawait touchPointService.trackEvent(\n  TouchPointEvent(\n    userId: 'user123',\n    sessionId: 'session456',\n    type: EventType.click,\n    category: 'navigation',\n    action: 'menu_click',\n    target: 'vehicle_menu',\n    properties: {\n      'menu_position': 'top',\n      'menu_index': 2,\n    },\n    timestamp: DateTime.now(),\n    pageUrl: '/home',\n  ),\n);\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_18","title":"\u7528\u6237\u8def\u5f84\u8ddf\u8e2a","text":"<pre><code>// \u5f00\u59cb\u7528\u6237\u8def\u5f84\u8ddf\u8e2a\nfinal pathTracker = UserPathTracker.instance;\nfinal sessionId = await pathTracker.startPathTracking('user123');\n\n// \u8bb0\u5f55\u8def\u5f84\u8282\u70b9\nawait pathTracker.recordPathNode(\n  sessionId,\n  PathNode(\n    id: 'node1',\n    pageUrl: '/vehicle/list',\n    pageName: '\u8f66\u8f86\u5217\u8868',\n    entryTime: DateTime.now(),\n    pageData: {\n      'filter': 'electric',\n      'sort': 'price',\n    },\n  ),\n);\n\n// \u8bb0\u5f55\u9875\u9762\u5185\u7684\u4e8b\u4ef6\nawait pathTracker.recordPathNode(\n  sessionId,\n  PathNode(\n    id: 'node2',\n    pageUrl: '/vehicle/detail/123',\n    pageName: '\u8f66\u8f86\u8be6\u60c5',\n    entryTime: DateTime.now(),\n    events: [\n      TouchPointEvent(\n        type: EventType.view,\n        action: 'image_view',\n        target: 'vehicle_gallery',\n      ),\n    ],\n  ),\n);\n\n// \u7ed3\u675f\u8def\u5f84\u8ddf\u8e2a\nfinal userPath = await pathTracker.endPathTracking(sessionId);\nprint('\u7528\u6237\u8def\u5f84\u603b\u65f6\u957f: ${userPath.totalDuration}');\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_19","title":"\u7528\u6237\u884c\u4e3a\u5206\u6790","text":"<pre><code>// \u5206\u6790\u7528\u6237\u884c\u4e3a\u6a21\u5f0f\nfinal analyzer = TouchPointEventAnalyzer.instance;\nfinal behaviorPattern = await analyzer.analyzeUserBehavior(\n  'user123',\n  TimeRange.lastMonth,\n);\n\nprint('\u7528\u6237\u53c2\u4e0e\u5ea6\u8bc4\u5206: ${behaviorPattern.engagementScore}');\nprint('\u5e38\u8bbf\u95ee\u9875\u9762: ${behaviorPattern.frequentPages}');\nprint('\u504f\u597d\u529f\u80fd: ${behaviorPattern.preferredFeatures}');\n\n// \u751f\u6210\u7528\u6237\u65c5\u7a0b\nfinal userJourney = await analyzer.generateUserJourney('user123', 'session456');\nprint('\u65c5\u7a0b\u6b65\u9aa4\u6570: ${userJourney.steps.length}');\n\n// \u8ba1\u7b97\u8f6c\u5316\u7387\nfinal conversionFunnel = ConversionFunnel(\n  name: '\u8d2d\u8f66\u8f6c\u5316\u6f0f\u6597',\n  steps: [\n    FunnelStep(name: '\u6d4f\u89c8\u8f66\u8f86', event: 'vehicle_view'),\n    FunnelStep(name: '\u67e5\u770b\u8be6\u60c5', event: 'vehicle_detail'),\n    FunnelStep(name: '\u9884\u7ea6\u8bd5\u9a7e', event: 'test_drive_booking'),\n    FunnelStep(name: '\u4e0b\u5355\u8d2d\u4e70', event: 'purchase'),\n  ],\n);\n\nfinal conversionRate = await analyzer.calculateConversionRate(conversionFunnel);\nprint('\u603b\u4f53\u8f6c\u5316\u7387: ${conversionRate.overallConversionRate}%');\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_20","title":"\u6570\u636e\u5bfc\u51fa\u548c\u7ba1\u7406","text":"<pre><code>// \u67e5\u8be2\u89e6\u70b9\u6570\u636e\nfinal dataManager = TouchPointDataManager.instance;\nfinal touchPointData = await dataManager.queryTouchPointData(\n  DataQuery(\n    userId: 'user123',\n    timeRange: TimeRange.lastWeek,\n    eventTypes: [EventType.click, EventType.view],\n  ),\n);\n\nprint('\u67e5\u8be2\u5230 ${touchPointData.length} \u6761\u6570\u636e');\n\n// \u5bfc\u51fa\u6570\u636e\nfinal exportPath = await dataManager.exportData(\n  ExportConfig(\n    format: ExportFormat.csv,\n    timeRange: TimeRange.lastMonth,\n    includePersonalData: false,\n  ),\n);\n\nprint('\u6570\u636e\u5df2\u5bfc\u51fa\u5230: $exportPath');\n\n// \u6e05\u7406\u8fc7\u671f\u6570\u636e\nfinal cleanedCount = await dataManager.cleanupExpiredData(\n  Duration(days: 90),\n);\n\nprint('\u6e05\u7406\u4e86 $cleanedCount \u6761\u8fc7\u671f\u6570\u636e');\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_21","title":"\u6d4b\u8bd5\u7b56\u7565","text":""},{"location":"touch_point/oneapp_touch_point.html#_22","title":"\u5355\u5143\u6d4b\u8bd5","text":"<pre><code>group('TouchPointCollector Tests', () {\n  test('should track event successfully', () async {\n    // Given\n    final collector = TouchPointCollector();\n    final event = TouchPointEvent(\n      userId: 'test_user',\n      type: EventType.click,\n      action: 'button_click',\n    );\n\n    // When\n    await collector.trackEvent(event);\n\n    // Then\n    final storedEvents = await collector.getStoredEvents();\n    expect(storedEvents, contains(event));\n  });\n\n  test('should analyze user behavior correctly', () async {\n    // Given\n    final analyzer = TouchPointEventAnalyzer();\n    final userId = 'test_user';\n\n    // When\n    final pattern = await analyzer.analyzeUserBehavior(userId, TimeRange.lastWeek);\n\n    // Then\n    expect(pattern.userId, userId);\n    expect(pattern.engagementScore, greaterThan(0));\n  });\n});\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_23","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<pre><code>group('TouchPoint Integration Tests', () {\n  testWidgets('complete tracking flow', (tester) async {\n    // 1. \u521d\u59cb\u5316\u89e6\u70b9\u670d\u52a1\n    await TouchPointCollector.instance.initialize(TouchPointConfig.defaultConfig);\n\n    // 2. \u6a21\u62df\u7528\u6237\u64cd\u4f5c\n    await tester.tap(find.byKey(Key('vehicle_button')));\n    await tester.pumpAndSettle();\n\n    // 3. \u9a8c\u8bc1\u4e8b\u4ef6\u88ab\u8ddf\u8e2a\n    final trackedEvents = await TouchPointCollector.instance.getStoredEvents();\n    expect(trackedEvents, isNotEmpty);\n\n    // 4. \u9a8c\u8bc1\u7528\u6237\u8def\u5f84\u8bb0\u5f55\n    final userPaths = await UserPathTracker.instance.getUserPathHistory('test_user', 10);\n    expect(userPaths, isNotEmpty);\n  });\n});\n</code></pre>"},{"location":"touch_point/oneapp_touch_point.html#_24","title":"\u6027\u80fd\u4f18\u5316","text":""},{"location":"touch_point/oneapp_touch_point.html#_25","title":"\u6570\u636e\u6536\u96c6\u4f18\u5316","text":"<ul> <li>\u6279\u91cf\u4e0a\u4f20\uff1a\u6279\u91cf\u4e0a\u4f20\u89e6\u70b9\u6570\u636e\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42</li> <li>\u6570\u636e\u538b\u7f29\uff1a\u538b\u7f29\u6570\u636e\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u548c\u4f20\u8f93\u91cf</li> <li>\u5f02\u6b65\u5904\u7406\uff1a\u5f02\u6b65\u5904\u7406\u6570\u636e\u6536\u96c6\u548c\u4e0a\u4f20</li> <li>\u672c\u5730\u7f13\u5b58\uff1a\u672c\u5730\u7f13\u5b58\u6570\u636e\u9632\u6b62\u6570\u636e\u4e22\u5931</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_26","title":"\u5206\u6790\u6027\u80fd\u4f18\u5316","text":"<ul> <li>\u589e\u91cf\u5206\u6790\uff1a\u53ea\u5206\u6790\u65b0\u589e\u7684\u6570\u636e</li> <li>\u5e76\u884c\u5904\u7406\uff1a\u5e76\u884c\u5904\u7406\u591a\u4e2a\u5206\u6790\u4efb\u52a1</li> <li>\u7ed3\u679c\u7f13\u5b58\uff1a\u7f13\u5b58\u5206\u6790\u7ed3\u679c\u907f\u514d\u91cd\u590d\u8ba1\u7b97</li> <li>\u6570\u636e\u9884\u805a\u5408\uff1a\u9884\u805a\u5408\u5e38\u7528\u7684\u5206\u6790\u6307\u6807</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_27","title":"\u9690\u79c1\u548c\u5408\u89c4","text":""},{"location":"touch_point/oneapp_touch_point.html#_28","title":"\u6570\u636e\u9690\u79c1\u4fdd\u62a4","text":"<ul> <li>\u6570\u636e\u533f\u540d\u5316\uff1a\u654f\u611f\u6570\u636e\u533f\u540d\u5316\u5904\u7406</li> <li>\u7528\u6237\u540c\u610f\u7ba1\u7406\uff1a\u7528\u6237\u6570\u636e\u6536\u96c6\u540c\u610f\u7ba1\u7406</li> <li>\u6570\u636e\u52a0\u5bc6\uff1a\u654f\u611f\u6570\u636e\u52a0\u5bc6\u5b58\u50a8\u548c\u4f20\u8f93</li> <li>\u8bbf\u95ee\u63a7\u5236\uff1a\u4e25\u683c\u7684\u6570\u636e\u8bbf\u95ee\u6743\u9650\u63a7\u5236</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_29","title":"\u5408\u89c4\u8981\u6c42","text":"<ul> <li>GDPR\u5408\u89c4\uff1a\u652f\u6301GDPR\u6570\u636e\u4fdd\u62a4\u8981\u6c42</li> <li>\u6570\u636e\u5220\u9664\u6743\uff1a\u652f\u6301\u7528\u6237\u6570\u636e\u5220\u9664\u8bf7\u6c42</li> <li>\u6570\u636e\u5bfc\u51fa\u6743\uff1a\u652f\u6301\u7528\u6237\u6570\u636e\u5bfc\u51fa\u8bf7\u6c42</li> <li>\u900f\u660e\u5ea6\u62a5\u544a\uff1a\u63d0\u4f9b\u6570\u636e\u4f7f\u7528\u900f\u660e\u5ea6\u62a5\u544a</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_30","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"touch_point/oneapp_touch_point.html#v0328","title":"v0.3.2+8 (\u5f53\u524d\u7248\u672c)","text":"<ul> <li>\u65b0\u589e\u5b9e\u65f6\u884c\u4e3a\u5206\u6790\u529f\u80fd</li> <li>\u4f18\u5316\u6570\u636e\u6536\u96c6\u6027\u80fd</li> <li>\u652f\u6301\u7528\u6237\u8def\u5f84\u53ef\u89c6\u5316</li> <li>\u4fee\u590d\u6570\u636e\u540c\u6b65\u95ee\u9898</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#v031","title":"v0.3.1","text":"<ul> <li>\u652f\u6301\u8f6c\u5316\u6f0f\u6597\u5206\u6790</li> <li>\u65b0\u589e\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b</li> <li>\u4f18\u5316\u6570\u636e\u5b58\u50a8\u7ed3\u6784</li> <li>\u6539\u8fdb\u9690\u79c1\u4fdd\u62a4\u673a\u5236</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_31","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"touch_point/oneapp_touch_point.html#_32","title":"\u5185\u90e8\u4f9d\u8d56","text":"<ul> <li><code>basic_storage</code>: \u672c\u5730\u6570\u636e\u5b58\u50a8</li> <li><code>basic_network</code>: \u7f51\u7edc\u8bf7\u6c42\u670d\u52a1</li> <li><code>basic_logger</code>: \u65e5\u5fd7\u8bb0\u5f55\u670d\u52a1</li> <li><code>basic_utils</code>: \u5de5\u5177\u7c7b\u5e93</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_33","title":"\u5916\u90e8\u4f9d\u8d56","text":"<ul> <li><code>sqflite</code>: \u672c\u5730\u6570\u636e\u5e93</li> <li><code>dio</code>: HTTP\u5ba2\u6237\u7aef</li> <li><code>uuid</code>: \u552f\u4e00\u6807\u8bc6\u7b26\u751f\u6210</li> <li><code>path_provider</code>: \u6587\u4ef6\u8def\u5f84\u7ba1\u7406</li> </ul>"},{"location":"touch_point/oneapp_touch_point.html#_34","title":"\u603b\u7ed3","text":"<p><code>oneapp_touch_point</code> \u6a21\u5757\u4e3a OneApp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684\u7528\u6237\u89e6\u70b9\u7ba1\u7406\u548c\u5206\u6790\u80fd\u529b\u3002\u901a\u8fc7\u5168\u9762\u7684\u6570\u636e\u6536\u96c6\u3001\u667a\u80fd\u7684\u884c\u4e3a\u5206\u6790\u548c\u8be6\u7ec6\u7684\u8def\u5f84\u8ddf\u8e2a\uff0c\u8be5\u6a21\u5757\u5e2e\u52a9\u4ea7\u54c1\u56e2\u961f\u6df1\u5165\u4e86\u89e3\u7528\u6237\u884c\u4e3a\uff0c\u4f18\u5316\u7528\u6237\u4f53\u9a8c\uff0c\u63d0\u5347\u4ea7\u54c1\u4ef7\u503c\u3002\u540c\u65f6\uff0c\u6a21\u5757\u4e25\u683c\u9075\u5faa\u9690\u79c1\u4fdd\u62a4\u539f\u5219\uff0c\u786e\u4fdd\u7528\u6237\u6570\u636e\u7684\u5b89\u5168\u548c\u5408\u89c4\u4f7f\u7528\u3002</p>"}]}