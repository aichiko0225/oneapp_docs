<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>UI Basic &#x57fa;&#x7840;UI&#x7ec4;&#x4ef6;&#x6a21;&#x5757;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="ui-basic-基础ui组件模块">UI Basic 基础UI组件模块</h1>
<h2 id="模块概述">模块概述</h2>
<p><code>ui_basic</code> 是 OneApp 基础UI模块群中的核心组件库，提供了应用开发中常用的基础UI组件和交互元素。该模块封装了通用的界面组件、布局容器、表单元素等，为整个应用提供统一的设计语言和用户体验。</p>
<h3 id="基本信息">基本信息</h3>
<ul>
<li><strong>模块名称</strong>: ui_basic</li>
<li><strong>版本</strong>: 0.2.45</li>
<li><strong>描述</strong>: 基础UI组件库</li>
<li><strong>Flutter 版本</strong>: &gt;=1.17.0</li>
<li><strong>Dart 版本</strong>: &gt;=2.17.0 &lt;4.0.0</li>
</ul>
<h2 id="功能特性">功能特性</h2>
<h3 id="核心功能">核心功能</h3>
<ol>
<li>
<p><strong>基础组件库</strong></p>
<ul>
<li>按钮组件（Button、IconButton、FloatingActionButton）</li>
<li>输入组件（TextField、TextFormField、Checkbox、Radio）</li>
<li>展示组件（Card、ListTile、Chip、Badge）</li>
<li>导航组件（AppBar、TabBar、BottomNavigationBar）</li>
</ul>
</li>
<li>
<p><strong>布局容器</strong></p>
<ul>
<li>响应式布局容器</li>
<li>网格布局组件</li>
<li>弹性布局组件</li>
<li>自定义布局容器</li>
</ul>
</li>
<li>
<p><strong>交互组件</strong></p>
<ul>
<li>上拉下拉刷新</li>
<li>轮播图组件</li>
<li>对话框和弹窗</li>
<li>加载指示器</li>
</ul>
</li>
<li>
<p><strong>富文本支持</strong></p>
<ul>
<li>HTML富文本渲染</li>
<li>文本样式定制</li>
<li>链接和图片支持</li>
<li>自定义标签解析</li>
</ul>
</li>
</ol>
<h2 id="技术架构">技术架构</h2>
<h3 id="目录结构">目录结构</h3>
<pre><code>lib/
├── ui_basic.dart               # 模块入口文件
├── src/                        # 源代码目录
│   ├── components/             # 基础组件
│   ├── containers/             # 布局容器
│   ├── interactions/           # 交互组件
│   ├── themes/                 # 主题配置
│   ├── utils/                  # 工具类
│   └── constants/              # 常量定义
├── widgets/                    # 组件导出
└── themes/                     # 主题文件
</code></pre>
<h3 id="依赖关系">依赖关系</h3>
<h4 id="框架依赖">框架依赖</h4>
<ul>
<li><code>basic_network: ^0.2.3+4</code> - 网络通信基础</li>
<li><code>provider: ^6.0.5</code> - 状态管理</li>
<li><code>rxdart: ^0.27.7</code> - 响应式编程</li>
</ul>
<h4 id="ui相关依赖">UI相关依赖</h4>
<ul>
<li><code>flutter_html: ^3.0.0-beta.2</code> - HTML富文本渲染</li>
<li><code>badges: ^3.1.1</code> - 角标组件</li>
<li><code>pull_to_refresh: ^2.0.0</code> - 上拉下拉刷新</li>
<li><code>fluttertoast: ^8.2.5</code> - 提示组件</li>
</ul>
<h4 id="工具依赖">工具依赖</h4>
<ul>
<li><code>dartz: ^0.10.1</code> - 函数式编程</li>
<li><code>kt_dart: ^1.1.0</code> - Kotlin风格扩展</li>
<li><code>collection: ^1.16.0</code> - 集合工具</li>
</ul>
<h2 id="核心组件分析">核心组件分析</h2>
<h3 id="1-模块入口-ui_basicdart">1. 模块入口 (<code>ui_basic.dart</code>)</h3>
<p><strong>功能职责</strong>:</p>
<ul>
<li>统一导出所有UI组件</li>
<li>组件主题配置</li>
<li>全局样式设置</li>
</ul>
<h3 id="2-基础组件-srccomponents">2. 基础组件 (<code>src/components/</code>)</h3>
<h4 id="按钮组件">按钮组件</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> text;
  <span class="hljs-keyword">final</span> VoidCallback? onPressed;
  <span class="hljs-keyword">final</span> ButtonType type;
  <span class="hljs-keyword">final</span> ButtonSize size;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> isLoading;
  <span class="hljs-keyword">final</span> Widget? icon;

  <span class="hljs-keyword">const</span> BasicButton({
    Key? key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.text,
    <span class="hljs-keyword">this</span>.onPressed,
    <span class="hljs-keyword">this</span>.type = ButtonType.primary,
    <span class="hljs-keyword">this</span>.size = ButtonSize.medium,
    <span class="hljs-keyword">this</span>.isLoading = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">this</span>.icon,
  }) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> ElevatedButton(
      onPressed: isLoading ? <span class="hljs-keyword">null</span> : onPressed,
      style: _getButtonStyle(context),
      child: isLoading 
          ? _buildLoadingIndicator()
          : _buildButtonContent(),
    );
  }

  ButtonStyle _getButtonStyle(BuildContext context) {
    <span class="hljs-keyword">switch</span> (type) {
      <span class="hljs-keyword">case</span> ButtonType.primary:
        <span class="hljs-keyword">return</span> ElevatedButton.styleFrom(
          backgroundColor: Theme.of(context).primaryColor,
          foregroundColor: Colors.white,
        );
      <span class="hljs-keyword">case</span> ButtonType.secondary:
        <span class="hljs-keyword">return</span> ElevatedButton.styleFrom(
          backgroundColor: Colors.grey[<span class="hljs-number">200</span>],
          foregroundColor: Colors.black87,
        );
      <span class="hljs-keyword">case</span> ButtonType.outline:
        <span class="hljs-keyword">return</span> OutlinedButton.styleFrom(
          side: BorderSide(color: Theme.of(context).primaryColor),
        );
    }
  }
}

<span class="hljs-keyword">enum</span> ButtonType { primary, secondary, outline }
<span class="hljs-keyword">enum</span> ButtonSize { small, medium, large }
</code></pre>
<h4 id="输入组件">输入组件</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicTextField</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> labelText;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> hintText;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> helperText;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> errorText;
  <span class="hljs-keyword">final</span> TextEditingController? controller;
  <span class="hljs-keyword">final</span> ValueChanged&lt;<span class="hljs-built_in">String</span>&gt;? onChanged;
  <span class="hljs-keyword">final</span> FormFieldValidator&lt;<span class="hljs-built_in">String</span>&gt;? validator;
  <span class="hljs-keyword">final</span> TextInputType keyboardType;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> obscureText;
  <span class="hljs-keyword">final</span> Widget? prefixIcon;
  <span class="hljs-keyword">final</span> Widget? suffixIcon;

  <span class="hljs-keyword">const</span> BasicTextField({
    Key? key,
    <span class="hljs-keyword">this</span>.labelText,
    <span class="hljs-keyword">this</span>.hintText,
    <span class="hljs-keyword">this</span>.helperText,
    <span class="hljs-keyword">this</span>.errorText,
    <span class="hljs-keyword">this</span>.controller,
    <span class="hljs-keyword">this</span>.onChanged,
    <span class="hljs-keyword">this</span>.validator,
    <span class="hljs-keyword">this</span>.keyboardType = TextInputType.text,
    <span class="hljs-keyword">this</span>.obscureText = <span class="hljs-keyword">false</span>,
    <span class="hljs-keyword">this</span>.prefixIcon,
    <span class="hljs-keyword">this</span>.suffixIcon,
  }) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> TextFormField(
      controller: controller,
      onChanged: onChanged,
      validator: validator,
      keyboardType: keyboardType,
      obscureText: obscureText,
      decoration: InputDecoration(
        labelText: labelText,
        hintText: hintText,
        helperText: helperText,
        errorText: errorText,
        prefixIcon: prefixIcon,
        suffixIcon: suffixIcon,
        border: OutlineInputBorder(
          borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>),
        ),
        contentPadding: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(
          horizontal: <span class="hljs-number">16</span>,
          vertical: <span class="hljs-number">12</span>,
        ),
      ),
    );
  }
}
</code></pre>
<h3 id="3-布局容器-srccontainers">3. 布局容器 (<code>src/containers/</code>)</h3>
<h4 id="响应式容器">响应式容器</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResponsiveContainer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> Widget child;
  <span class="hljs-keyword">final</span> EdgeInsets? padding;
  <span class="hljs-keyword">final</span> EdgeInsets? margin;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double?</span> maxWidth;
  <span class="hljs-keyword">final</span> BoxDecoration? decoration;

  <span class="hljs-keyword">const</span> ResponsiveContainer({
    Key? key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.child,
    <span class="hljs-keyword">this</span>.padding,
    <span class="hljs-keyword">this</span>.margin,
    <span class="hljs-keyword">this</span>.maxWidth,
    <span class="hljs-keyword">this</span>.decoration,
  }) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">final</span> screenWidth = MediaQuery.of(context).size.width;
    <span class="hljs-keyword">final</span> effectiveMaxWidth = maxWidth ?? _getMaxWidth(screenWidth);

    <span class="hljs-keyword">return</span> Container(
      width: <span class="hljs-built_in">double</span>.infinity,
      margin: margin,
      decoration: decoration,
      child: Center(
        child: ConstrainedBox(
          constraints: BoxConstraints(maxWidth: effectiveMaxWidth),
          child: Padding(
            padding: padding ?? _getDefaultPadding(screenWidth),
            child: child,
          ),
        ),
      ),
    );
  }

  <span class="hljs-built_in">double</span> _getMaxWidth(<span class="hljs-built_in">double</span> screenWidth) {
    <span class="hljs-keyword">if</span> (screenWidth &gt; <span class="hljs-number">1200</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1200</span>;
    <span class="hljs-keyword">if</span> (screenWidth &gt; <span class="hljs-number">768</span>) <span class="hljs-keyword">return</span> screenWidth * <span class="hljs-number">0.9</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">double</span>.infinity;
  }

  EdgeInsets _getDefaultPadding(<span class="hljs-built_in">double</span> screenWidth) {
    <span class="hljs-keyword">if</span> (screenWidth &gt; <span class="hljs-number">768</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">24</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">16</span>);
  }
}
</code></pre>
<h3 id="4-交互组件-srcinteractions">4. 交互组件 (<code>src/interactions/</code>)</h3>
<h4 id="上拉下拉刷新组件">上拉下拉刷新组件</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicRefreshView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">final</span> Future&lt;<span class="hljs-keyword">void</span>&gt; <span class="hljs-built_in">Function</span>() onRefresh;
  <span class="hljs-keyword">final</span> Future&lt;<span class="hljs-keyword">void</span>&gt; <span class="hljs-built_in">Function</span>()? onLoading;
  <span class="hljs-keyword">final</span> Widget child;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> enablePullUp;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> enablePullDown;

  <span class="hljs-keyword">const</span> BasicRefreshView({
    Key? key,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.onRefresh,
    <span class="hljs-keyword">this</span>.onLoading,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.child,
    <span class="hljs-keyword">this</span>.enablePullUp = <span class="hljs-keyword">true</span>,
    <span class="hljs-keyword">this</span>.enablePullDown = <span class="hljs-keyword">true</span>,
  }) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  State&lt;BasicRefreshView&gt; createState() =&gt; _BasicRefreshViewState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BasicRefreshViewState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">BasicRefreshView</span>&gt; </span>{
  <span class="hljs-keyword">final</span> RefreshController _refreshController = RefreshController();

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> SmartRefresher(
      controller: _refreshController,
      enablePullDown: widget.enablePullDown,
      enablePullUp: widget.enablePullUp,
      onRefresh: _onRefresh,
      onLoading: _onLoading,
      header: <span class="hljs-keyword">const</span> WaterDropMaterialHeader(),
      footer: <span class="hljs-keyword">const</span> ClassicFooter(),
      child: widget.child,
    );
  }

  <span class="hljs-keyword">void</span> _onRefresh() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> widget.onRefresh();
      _refreshController.refreshCompleted();
    } <span class="hljs-keyword">catch</span> (e) {
      _refreshController.refreshFailed();
    }
  }

  <span class="hljs-keyword">void</span> _onLoading() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (widget.onLoading == <span class="hljs-keyword">null</span>) {
      _refreshController.loadNoData();
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> widget.onLoading!();
      _refreshController.loadComplete();
    } <span class="hljs-keyword">catch</span> (e) {
      _refreshController.loadFailed();
    }
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _refreshController.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h4 id="加载指示器组件">加载指示器组件</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicLoadingIndicator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String?</span> message;
  <span class="hljs-keyword">final</span> LoadingType type;
  <span class="hljs-keyword">final</span> Color? color;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> size;

  <span class="hljs-keyword">const</span> BasicLoadingIndicator({
    Key? key,
    <span class="hljs-keyword">this</span>.message,
    <span class="hljs-keyword">this</span>.type = LoadingType.circular,
    <span class="hljs-keyword">this</span>.color,
    <span class="hljs-keyword">this</span>.size = <span class="hljs-number">40.0</span>,
  }) : <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        _buildIndicator(context),
        <span class="hljs-keyword">if</span> (message != <span class="hljs-keyword">null</span>) ...[
          <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
          Text(
            message!,
            style: Theme.of(context).textTheme.bodyMedium,
            textAlign: TextAlign.center,
          ),
        ],
      ],
    );
  }

  Widget _buildIndicator(BuildContext context) {
    <span class="hljs-keyword">final</span> effectiveColor = color ?? Theme.of(context).primaryColor;

    <span class="hljs-keyword">switch</span> (type) {
      <span class="hljs-keyword">case</span> LoadingType.circular:
        <span class="hljs-keyword">return</span> SizedBox(
          width: size,
          height: size,
          child: CircularProgressIndicator(color: effectiveColor),
        );
      <span class="hljs-keyword">case</span> LoadingType.linear:
        <span class="hljs-keyword">return</span> SizedBox(
          width: size * <span class="hljs-number">2</span>,
          child: LinearProgressIndicator(color: effectiveColor),
        );
      <span class="hljs-keyword">case</span> LoadingType.dots:
        <span class="hljs-keyword">return</span> _buildDotsIndicator(effectiveColor);
    }
  }

  Widget _buildDotsIndicator(Color color) {
    <span class="hljs-keyword">return</span> Row(
      mainAxisSize: MainAxisSize.min,
      children: <span class="hljs-built_in">List</span>.generate(<span class="hljs-number">3</span>, (index) {
        <span class="hljs-keyword">return</span> Container(
          margin: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="hljs-number">2</span>),
          width: <span class="hljs-number">8</span>,
          height: <span class="hljs-number">8</span>,
          decoration: BoxDecoration(
            color: color,
            shape: BoxShape.circle,
          ),
        );
      }),
    );
  }
}

<span class="hljs-keyword">enum</span> LoadingType { circular, linear, dots }
</code></pre>
<h3 id="5-主题配置-srcthemes">5. 主题配置 (<code>src/themes/</code>)</h3>
<h4 id="基础主题配置">基础主题配置</h4>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicTheme</span> </span>{
  <span class="hljs-keyword">static</span> ThemeData <span class="hljs-keyword">get</span> lightTheme {
    <span class="hljs-keyword">return</span> ThemeData(
      useMaterial3: <span class="hljs-keyword">true</span>,
      colorScheme: ColorScheme.fromSeed(
        seedColor: <span class="hljs-keyword">const</span> Color(<span class="hljs-number">0xFF1976D2</span>),
        brightness: Brightness.light,
      ),
      appBarTheme: <span class="hljs-keyword">const</span> AppBarTheme(
        centerTitle: <span class="hljs-keyword">true</span>,
        elevation: <span class="hljs-number">0</span>,
        scrolledUnderElevation: <span class="hljs-number">1</span>,
      ),
      cardTheme: CardTheme(
        elevation: <span class="hljs-number">2</span>,
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(<span class="hljs-number">12</span>),
        ),
      ),
      elevatedButtonTheme: ElevatedButtonThemeData(
        style: ElevatedButton.styleFrom(
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>),
          ),
          padding: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(
            horizontal: <span class="hljs-number">24</span>,
            vertical: <span class="hljs-number">12</span>,
          ),
        ),
      ),
      inputDecorationTheme: InputDecorationTheme(
        border: OutlineInputBorder(
          borderRadius: BorderRadius.circular(<span class="hljs-number">8</span>),
        ),
        contentPadding: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(
          horizontal: <span class="hljs-number">16</span>,
          vertical: <span class="hljs-number">12</span>,
        ),
      ),
    );
  }

  <span class="hljs-keyword">static</span> ThemeData <span class="hljs-keyword">get</span> darkTheme {
    <span class="hljs-keyword">return</span> ThemeData(
      useMaterial3: <span class="hljs-keyword">true</span>,
      colorScheme: ColorScheme.fromSeed(
        seedColor: <span class="hljs-keyword">const</span> Color(<span class="hljs-number">0xFF1976D2</span>),
        brightness: Brightness.dark,
      ),
      <span class="hljs-comment">// ... 暗色主题配置</span>
    );
  }
}
</code></pre>
<h2 id="组件使用示例">组件使用示例</h2>
<h3 id="基础使用示例">基础使用示例</h3>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicComponentsExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _BasicComponentsExampleState createState() =&gt; _BasicComponentsExampleState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_BasicComponentsExampleState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">BasicComponentsExample</span>&gt; </span>{
  <span class="hljs-keyword">final</span> TextEditingController _textController = TextEditingController();
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">false</span>;

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(<span class="hljs-string">&#x27;Basic Components&#x27;</span>)),
      body: ResponsiveContainer(
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.stretch,
          children: [
            <span class="hljs-comment">// 输入框示例</span>
            BasicTextField(
              labelText: <span class="hljs-string">&#x27;用户名&#x27;</span>,
              hintText: <span class="hljs-string">&#x27;请输入用户名&#x27;</span>,
              controller: _textController,
              prefixIcon: Icon(Icons.person),
              validator: (value) {
                <span class="hljs-keyword">if</span> (value == <span class="hljs-keyword">null</span> || value.isEmpty) {
                  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;请输入用户名&#x27;</span>;
                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
              },
            ),
            
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            
            <span class="hljs-comment">// 按钮示例</span>
            BasicButton(
              text: <span class="hljs-string">&#x27;登录&#x27;</span>,
              type: ButtonType.primary,
              isLoading: _isLoading,
              onPressed: () =&gt; _handleLogin(),
            ),
            
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            
            <span class="hljs-comment">// 卡片示例</span>
            Card(
              child: Padding(
                padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">16</span>),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      <span class="hljs-string">&#x27;通知&#x27;</span>,
                      style: Theme.of(context).textTheme.titleMedium,
                    ),
                    <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">8</span>),
                    Text(<span class="hljs-string">&#x27;这是一条重要通知内容&#x27;</span>),
                  ],
                ),
              ),
            ),
            
            <span class="hljs-keyword">const</span> SizedBox(height: <span class="hljs-number">16</span>),
            
            <span class="hljs-comment">// 加载指示器示例</span>
            <span class="hljs-keyword">if</span> (_isLoading)
              <span class="hljs-keyword">const</span> BasicLoadingIndicator(
                message: <span class="hljs-string">&#x27;正在登录...&#x27;</span>,
                type: LoadingType.circular,
              ),
          ],
        ),
      ),
    );
  }

  <span class="hljs-keyword">void</span> _handleLogin() <span class="hljs-keyword">async</span> {
    setState(() {
      _isLoading = <span class="hljs-keyword">true</span>;
    });

    <span class="hljs-comment">// 模拟登录请求</span>
    <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>));

    setState(() {
      _isLoading = <span class="hljs-keyword">false</span>;
    });

    <span class="hljs-comment">// 显示结果</span>
    ScaffoldMessenger.of(context).showSnackBar(
      <span class="hljs-keyword">const</span> SnackBar(content: Text(<span class="hljs-string">&#x27;登录成功&#x27;</span>)),
    );
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> dispose() {
    _textController.dispose();
    <span class="hljs-keyword">super</span>.dispose();
  }
}
</code></pre>
<h3 id="高级组件示例">高级组件示例</h3>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdvancedComponentsExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(<span class="hljs-string">&#x27;Advanced Components&#x27;</span>)),
      body: BasicRefreshView(
        onRefresh: () <span class="hljs-keyword">async</span> {
          <span class="hljs-comment">// 刷新数据</span>
          <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>));
        },
        onLoading: () <span class="hljs-keyword">async</span> {
          <span class="hljs-comment">// 加载更多数据</span>
          <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-keyword">const</span> <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">1</span>));
        },
        child: ListView.builder(
          itemCount: <span class="hljs-number">20</span>,
          itemBuilder: (context, index) {
            <span class="hljs-keyword">return</span> ListTile(
              leading: CircleAvatar(
                child: Text(<span class="hljs-string">&#x27;<span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>&#x27;</span>),
              ),
              title: Text(<span class="hljs-string">&#x27;项目 <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>&#x27;</span>),
              subtitle: Text(<span class="hljs-string">&#x27;这是项目 <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span> 的描述&#x27;</span>),
              trailing: Badge(
                label: Text(<span class="hljs-string">&#x27;<span class="hljs-subst">${index % <span class="hljs-number">5</span> + <span class="hljs-number">1</span>}</span>&#x27;</span>),
                child: <span class="hljs-keyword">const</span> Icon(Icons.notifications),
              ),
              onTap: () {
                <span class="hljs-comment">// 处理点击事件</span>
              },
            );
          },
        ),
      ),
    );
  }
}
</code></pre>
<h2 id="自定义主题">自定义主题</h2>
<h3 id="主题定制示例">主题定制示例</h3>
<pre><code class="language-dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomThemeExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">&#x27;Custom Theme Example&#x27;</span>,
      theme: _buildCustomTheme(),
      home: MyHomePage(),
    );
  }

  ThemeData _buildCustomTheme() {
    <span class="hljs-keyword">const</span> primaryColor = Color(<span class="hljs-number">0xFF6C5CE7</span>);
    <span class="hljs-keyword">const</span> secondaryColor = Color(<span class="hljs-number">0xFFA29BFE</span>);

    <span class="hljs-keyword">return</span> ThemeData(
      useMaterial3: <span class="hljs-keyword">true</span>,
      colorScheme: ColorScheme.fromSeed(
        seedColor: primaryColor,
        secondary: secondaryColor,
      ),
      appBarTheme: <span class="hljs-keyword">const</span> AppBarTheme(
        backgroundColor: primaryColor,
        foregroundColor: Colors.white,
        elevation: <span class="hljs-number">0</span>,
      ),
      elevatedButtonTheme: ElevatedButtonThemeData(
        style: ElevatedButton.styleFrom(
          backgroundColor: primaryColor,
          foregroundColor: Colors.white,
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(<span class="hljs-number">20</span>),
          ),
        ),
      ),
      cardTheme: CardTheme(
        elevation: <span class="hljs-number">4</span>,
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(<span class="hljs-number">16</span>),
        ),
      ),
    );
  }
}
</code></pre>
<h2 id="性能优化">性能优化</h2>
<h3 id="组件优化策略">组件优化策略</h3>
<ul>
<li><strong>Widget缓存</strong>: 缓存不变的Widget实例</li>
<li><strong>局部更新</strong>: 使用Consumer精确控制更新范围</li>
<li><strong>延迟构建</strong>: 使用Builder延迟构建复杂组件</li>
<li><strong>内存管理</strong>: 及时释放资源和控制器</li>
</ul>
<h3 id="渲染优化">渲染优化</h3>
<ul>
<li><strong>RepaintBoundary</strong>: 隔离重绘区域</li>
<li><strong>ListView.builder</strong>: 使用懒加载列表</li>
<li><strong>Image优化</strong>: 合理使用缓存和压缩</li>
<li><strong>动画优化</strong>: 使用硬件加速动画</li>
</ul>
<h2 id="测试策略">测试策略</h2>
<h3 id="widget测试">Widget测试</h3>
<ul>
<li><strong>组件渲染测试</strong>: 验证组件正确渲染</li>
<li><strong>交互测试</strong>: 测试用户交互响应</li>
<li><strong>主题测试</strong>: 验证主题正确应用</li>
<li><strong>响应式测试</strong>: 测试不同屏幕尺寸适配</li>
</ul>
<h3 id="单元测试">单元测试</h3>
<ul>
<li><strong>工具类测试</strong>: 测试工具方法功能</li>
<li><strong>状态管理测试</strong>: 测试状态变化逻辑</li>
<li><strong>数据模型测试</strong>: 测试数据序列化</li>
</ul>
<h2 id="最佳实践">最佳实践</h2>
<h3 id="组件设计原则">组件设计原则</h3>
<ol>
<li><strong>单一职责</strong>: 每个组件功能单一明确</li>
<li><strong>可复用性</strong>: 设计通用的可复用组件</li>
<li><strong>可配置性</strong>: 提供丰富的配置选项</li>
<li><strong>一致性</strong>: 保持设计风格一致</li>
</ol>
<h3 id="使用建议">使用建议</h3>
<ol>
<li><strong>主题使用</strong>: 优先使用主题颜色和样式</li>
<li><strong>响应式设计</strong>: 考虑不同屏幕尺寸适配</li>
<li><strong>无障碍访问</strong>: 添加语义标签和辅助功能</li>
<li><strong>性能考虑</strong>: 避免不必要的重建和重绘</li>
</ol>
<h2 id="总结">总结</h2>
<p><code>ui_basic</code> 模块作为 OneApp 的基础UI组件库，提供了丰富的界面组件和交互元素。通过统一的设计语言、灵活的主题系统和完善的组件生态，为整个应用提供了一致的用户体验。模块具有良好的可扩展性和可维护性，能够满足各种界面开发需求。</p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>